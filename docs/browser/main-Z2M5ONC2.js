import{b as V0,c as z0,f as yM,g as H0}from"./chunk-IYYA7ARH.js";import{a as K,b as ve,e as Yn,g as B0,h as vM,j as B}from"./chunk-WLMSNEJV.js";var cy=Yn(ly=>{"use strict";Object.defineProperty(ly,"__esModule",{value:!0});var ay=class extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}};ly.default=ay});var uy=Yn(Ec=>{"use strict";var NS=Ec&&Ec.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ec,"__esModule",{value:!0});var m$=NS((H0(),vM(yM))),_$=NS(cy()),dy=class{constructor(n){this.shouldThrowOnError=!1,this.method=n.method,this.url=n.url,this.headers=n.headers,this.schema=n.schema,this.body=n.body,this.shouldThrowOnError=n.shouldThrowOnError,this.signal=n.signal,this.isMaybeSingle=n.isMaybeSingle,n.fetch?this.fetch=n.fetch:typeof fetch>"u"?this.fetch=m$.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(n,t){return this.headers=Object.assign({},this.headers),this.headers[n]=t,this}then(n,t){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");let i=this.fetch,r=i(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(o=>B(this,null,function*(){var s,a,l;let d=null,u=null,f=null,g=o.status,p=o.statusText;if(o.ok){if(this.method!=="HEAD"){let S=yield o.text();S===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=S:u=JSON.parse(S))}let k=(s=this.headers.Prefer)===null||s===void 0?void 0:s.match(/count=(exact|planned|estimated)/),x=(a=o.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");k&&x&&x.length>1&&(f=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(d={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,f=null,g=406,p="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{let k=yield o.text();try{d=JSON.parse(k),Array.isArray(d)&&o.status===404&&(u=[],d=null,g=200,p="OK")}catch{o.status===404&&k===""?(g=204,p="No Content"):d={message:k}}if(d&&this.isMaybeSingle&&(!((l=d?.details)===null||l===void 0)&&l.includes("0 rows"))&&(d=null,g=200,p="OK"),d&&this.shouldThrowOnError)throw new _$.default(d)}return{error:d,data:u,count:f,status:g,statusText:p}}));return this.shouldThrowOnError||(r=r.catch(o=>{var s,a,l;return{error:{message:`${(s=o?.name)!==null&&s!==void 0?s:"FetchError"}: ${o?.message}`,details:`${(a=o?.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=o?.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),r.then(n,t)}returns(){return this}overrideTypes(){return this}};Ec.default=dy});var fy=Yn(Cc=>{"use strict";var v$=Cc&&Cc.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Cc,"__esModule",{value:!0});var y$=v$(uy()),hy=class extends y$.default{select(n){let t=!1,i=(n??"*").split("").map(r=>/\s/.test(r)&&!t?"":(r==='"'&&(t=!t),r)).join("");return this.url.searchParams.set("select",i),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(n,{ascending:t=!0,nullsFirst:i,foreignTable:r,referencedTable:o=r}={}){let s=o?`${o}.order`:"order",a=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${a?`${a},`:""}${n}.${t?"asc":"desc"}${i===void 0?"":i?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:t,referencedTable:i=t}={}){let r=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(r,`${n}`),this}range(n,t,{foreignTable:i,referencedTable:r=i}={}){let o=typeof r>"u"?"offset":`${r}.offset`,s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(o,`${n}`),this.url.searchParams.set(s,`${t-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:n=!1,verbose:t=!1,settings:i=!1,buffers:r=!1,wal:o=!1,format:s="text"}={}){var a;let l=[n?"analyze":null,t?"verbose":null,i?"settings":null,r?"buffers":null,o?"wal":null].filter(Boolean).join("|"),d=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${s}; for="${d}"; options=${l};`,s==="json"?this:this}rollback(){var n;return((n=this.headers.Prefer)!==null&&n!==void 0?n:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Cc.default=hy});var Cf=Yn(Sc=>{"use strict";var b$=Sc&&Sc.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Sc,"__esModule",{value:!0});var x$=b$(fy()),gy=class extends x$.default{eq(n,t){return this.url.searchParams.append(n,`eq.${t}`),this}neq(n,t){return this.url.searchParams.append(n,`neq.${t}`),this}gt(n,t){return this.url.searchParams.append(n,`gt.${t}`),this}gte(n,t){return this.url.searchParams.append(n,`gte.${t}`),this}lt(n,t){return this.url.searchParams.append(n,`lt.${t}`),this}lte(n,t){return this.url.searchParams.append(n,`lte.${t}`),this}like(n,t){return this.url.searchParams.append(n,`like.${t}`),this}likeAllOf(n,t){return this.url.searchParams.append(n,`like(all).{${t.join(",")}}`),this}likeAnyOf(n,t){return this.url.searchParams.append(n,`like(any).{${t.join(",")}}`),this}ilike(n,t){return this.url.searchParams.append(n,`ilike.${t}`),this}ilikeAllOf(n,t){return this.url.searchParams.append(n,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(n,t){return this.url.searchParams.append(n,`ilike(any).{${t.join(",")}}`),this}is(n,t){return this.url.searchParams.append(n,`is.${t}`),this}in(n,t){let i=Array.from(new Set(t)).map(r=>typeof r=="string"&&new RegExp("[,()]").test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(n,`in.(${i})`),this}contains(n,t){return typeof t=="string"?this.url.searchParams.append(n,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(n,`cs.{${t.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(t)}`),this}containedBy(n,t){return typeof t=="string"?this.url.searchParams.append(n,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(n,`cd.{${t.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(t)}`),this}rangeGt(n,t){return this.url.searchParams.append(n,`sr.${t}`),this}rangeGte(n,t){return this.url.searchParams.append(n,`nxl.${t}`),this}rangeLt(n,t){return this.url.searchParams.append(n,`sl.${t}`),this}rangeLte(n,t){return this.url.searchParams.append(n,`nxr.${t}`),this}rangeAdjacent(n,t){return this.url.searchParams.append(n,`adj.${t}`),this}overlaps(n,t){return typeof t=="string"?this.url.searchParams.append(n,`ov.${t}`):this.url.searchParams.append(n,`ov.{${t.join(",")}}`),this}textSearch(n,t,{config:i,type:r}={}){let o="";r==="plain"?o="pl":r==="phrase"?o="ph":r==="websearch"&&(o="w");let s=i===void 0?"":`(${i})`;return this.url.searchParams.append(n,`${o}fts${s}.${t}`),this}match(n){return Object.entries(n).forEach(([t,i])=>{this.url.searchParams.append(t,`eq.${i}`)}),this}not(n,t,i){return this.url.searchParams.append(n,`not.${t}.${i}`),this}or(n,{foreignTable:t,referencedTable:i=t}={}){let r=i?`${i}.or`:"or";return this.url.searchParams.append(r,`(${n})`),this}filter(n,t,i){return this.url.searchParams.append(n,`${t}.${i}`),this}};Sc.default=gy});var my=Yn(Dc=>{"use strict";var w$=Dc&&Dc.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Dc,"__esModule",{value:!0});var Tc=w$(Cf()),py=class{constructor(n,{headers:t={},schema:i,fetch:r}){this.url=n,this.headers=t,this.schema=i,this.fetch=r}select(n,{head:t=!1,count:i}={}){let r=t?"HEAD":"GET",o=!1,s=(n??"*").split("").map(a=>/\s/.test(a)&&!o?"":(a==='"'&&(o=!o),a)).join("");return this.url.searchParams.set("select",s),i&&(this.headers.Prefer=`count=${i}`),new Tc.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(n,{count:t,defaultToNull:i=!0}={}){let r="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),t&&o.push(`count=${t}`),i||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(n)){let s=n.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(s.length>0){let a=[...new Set(s)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Tc.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}upsert(n,{onConflict:t,ignoreDuplicates:i=!1,count:r,defaultToNull:o=!0}={}){let s="POST",a=[`resolution=${i?"ignore":"merge"}-duplicates`];if(t!==void 0&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&a.push(this.headers.Prefer),r&&a.push(`count=${r}`),o||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(n)){let l=n.reduce((d,u)=>d.concat(Object.keys(u)),[]);if(l.length>0){let d=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",d.join(","))}}return new Tc.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}update(n,{count:t}={}){let i="PATCH",r=[];return this.headers.Prefer&&r.push(this.headers.Prefer),t&&r.push(`count=${t}`),this.headers.Prefer=r.join(","),new Tc.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}delete({count:n}={}){let t="DELETE",i=[];return n&&i.push(`count=${n}`),this.headers.Prefer&&i.unshift(this.headers.Prefer),this.headers.Prefer=i.join(","),new Tc.default({method:t,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Dc.default=py});var PS=Yn(Sf=>{"use strict";Object.defineProperty(Sf,"__esModule",{value:!0});Sf.version=void 0;Sf.version="0.0.0-automated"});var RS=Yn(Tf=>{"use strict";Object.defineProperty(Tf,"__esModule",{value:!0});Tf.DEFAULT_HEADERS=void 0;var k$=PS();Tf.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${k$.version}`}});var LS=Yn(Ic=>{"use strict";var OS=Ic&&Ic.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ic,"__esModule",{value:!0});var E$=OS(my()),C$=OS(Cf()),S$=RS(),_y=class e{constructor(n,{headers:t={},schema:i,fetch:r}={}){this.url=n,this.headers=Object.assign(Object.assign({},S$.DEFAULT_HEADERS),t),this.schemaName=i,this.fetch=r}from(n){let t=new URL(`${this.url}/${n}`);return new E$.default(t,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(n){return new e(this.url,{headers:this.headers,schema:n,fetch:this.fetch})}rpc(n,t={},{head:i=!1,get:r=!1,count:o}={}){let s,a=new URL(`${this.url}/rpc/${n}`),l;i||r?(s=i?"HEAD":"GET",Object.entries(t).filter(([u,f])=>f!==void 0).map(([u,f])=>[u,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([u,f])=>{a.searchParams.append(u,f)})):(s="POST",l=t);let d=Object.assign({},this.headers);return o&&(d.Prefer=`count=${o}`),new C$.default({method:s,url:a,headers:d,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};Ic.default=_y});var HS=Yn(zt=>{"use strict";var pa=zt&&zt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(zt,"__esModule",{value:!0});zt.PostgrestError=zt.PostgrestBuilder=zt.PostgrestTransformBuilder=zt.PostgrestFilterBuilder=zt.PostgrestQueryBuilder=zt.PostgrestClient=void 0;var FS=pa(LS());zt.PostgrestClient=FS.default;var $S=pa(my());zt.PostgrestQueryBuilder=$S.default;var jS=pa(Cf());zt.PostgrestFilterBuilder=jS.default;var BS=pa(fy());zt.PostgrestTransformBuilder=BS.default;var VS=pa(uy());zt.PostgrestBuilder=VS.default;var zS=pa(cy());zt.PostgrestError=zS.default;zt.default={PostgrestClient:FS.default,PostgrestQueryBuilder:$S.default,PostgrestFilterBuilder:jS.default,PostgrestTransformBuilder:BS.default,PostgrestBuilder:VS.default,PostgrestError:zS.default}});var qS=Yn((sX,GS)=>{"use strict";GS.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}});var GT=Yn((Jf,WT)=>{"use strict";(function(e,n){typeof Jf=="object"&&typeof WT<"u"?n(Jf):typeof define=="function"&&define.amd?define(["exports"],n):(e=typeof globalThis<"u"?globalThis:e||self,n(e.leaflet={}))})(Jf,function(e){"use strict";var n="1.9.4";function t(c){var h,m,b,E;for(m=1,b=arguments.length;m<b;m++){E=arguments[m];for(h in E)c[h]=E[h]}return c}var i=Object.create||function(){function c(){}return function(h){return c.prototype=h,new c}}();function r(c,h){var m=Array.prototype.slice;if(c.bind)return c.bind.apply(c,m.call(arguments,1));var b=m.call(arguments,2);return function(){return c.apply(h,b.length?b.concat(m.call(arguments)):arguments)}}var o=0;function s(c){return"_leaflet_id"in c||(c._leaflet_id=++o),c._leaflet_id}function a(c,h,m){var b,E,T,$;return $=function(){b=!1,E&&(T.apply(m,E),E=!1)},T=function(){b?E=arguments:(c.apply(m,arguments),setTimeout($,h),b=!0)},T}function l(c,h,m){var b=h[1],E=h[0],T=b-E;return c===b&&m?c:((c-E)%T+T)%T+E}function d(){return!1}function u(c,h){if(h===!1)return c;var m=Math.pow(10,h===void 0?6:h);return Math.round(c*m)/m}function f(c){return c.trim?c.trim():c.replace(/^\s+|\s+$/g,"")}function g(c){return f(c).split(/\s+/)}function p(c,h){Object.prototype.hasOwnProperty.call(c,"options")||(c.options=c.options?i(c.options):{});for(var m in h)c.options[m]=h[m];return c.options}function v(c,h,m){var b=[];for(var E in c)b.push(encodeURIComponent(m?E.toUpperCase():E)+"="+encodeURIComponent(c[E]));return(!h||h.indexOf("?")===-1?"?":"&")+b.join("&")}var k=/\{ *([\w_ -]+) *\}/g;function x(c,h){return c.replace(k,function(m,b){var E=h[b];if(E===void 0)throw new Error("No value provided for variable "+m);return typeof E=="function"&&(E=E(h)),E})}var S=Array.isArray||function(c){return Object.prototype.toString.call(c)==="[object Array]"};function _(c,h){for(var m=0;m<c.length;m++)if(c[m]===h)return m;return-1}var w="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function y(c){return window["webkit"+c]||window["moz"+c]||window["ms"+c]}var C=0;function D(c){var h=+new Date,m=Math.max(0,16-(h-C));return C=h+m,window.setTimeout(c,m)}var I=window.requestAnimationFrame||y("RequestAnimationFrame")||D,M=window.cancelAnimationFrame||y("CancelAnimationFrame")||y("CancelRequestAnimationFrame")||function(c){window.clearTimeout(c)};function P(c,h,m){if(m&&I===D)c.call(h);else return I.call(window,r(c,h))}function R(c){c&&M.call(window,c)}var F={__proto__:null,extend:t,create:i,bind:r,get lastId(){return o},stamp:s,throttle:a,wrapNum:l,falseFn:d,formatNum:u,trim:f,splitWords:g,setOptions:p,getParamString:v,template:x,isArray:S,indexOf:_,emptyImageUrl:w,requestFn:I,cancelFn:M,requestAnimFrame:P,cancelAnimFrame:R};function j(){}j.extend=function(c){var h=function(){p(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},m=h.__super__=this.prototype,b=i(m);b.constructor=h,h.prototype=b;for(var E in this)Object.prototype.hasOwnProperty.call(this,E)&&E!=="prototype"&&E!=="__super__"&&(h[E]=this[E]);return c.statics&&t(h,c.statics),c.includes&&(H(c.includes),t.apply(null,[b].concat(c.includes))),t(b,c),delete b.statics,delete b.includes,b.options&&(b.options=m.options?i(m.options):{},t(b.options,c.options)),b._initHooks=[],b.callInitHooks=function(){if(!this._initHooksCalled){m.callInitHooks&&m.callInitHooks.call(this),this._initHooksCalled=!0;for(var T=0,$=b._initHooks.length;T<$;T++)b._initHooks[T].call(this)}},h},j.include=function(c){var h=this.prototype.options;return t(this.prototype,c),c.options&&(this.prototype.options=h,this.mergeOptions(c.options)),this},j.mergeOptions=function(c){return t(this.prototype.options,c),this},j.addInitHook=function(c){var h=Array.prototype.slice.call(arguments,1),m=typeof c=="function"?c:function(){this[c].apply(this,h)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(m),this};function H(c){if(!(typeof L>"u"||!L||!L.Mixin)){c=S(c)?c:[c];for(var h=0;h<c.length;h++)c[h]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var G={on:function(c,h,m){if(typeof c=="object")for(var b in c)this._on(b,c[b],h);else{c=g(c);for(var E=0,T=c.length;E<T;E++)this._on(c[E],h,m)}return this},off:function(c,h,m){if(!arguments.length)delete this._events;else if(typeof c=="object")for(var b in c)this._off(b,c[b],h);else{c=g(c);for(var E=arguments.length===1,T=0,$=c.length;T<$;T++)E?this._off(c[T]):this._off(c[T],h,m)}return this},_on:function(c,h,m,b){if(typeof h!="function"){console.warn("wrong listener type: "+typeof h);return}if(this._listens(c,h,m)===!1){m===this&&(m=void 0);var E={fn:h,ctx:m};b&&(E.once=!0),this._events=this._events||{},this._events[c]=this._events[c]||[],this._events[c].push(E)}},_off:function(c,h,m){var b,E,T;if(this._events&&(b=this._events[c],!!b)){if(arguments.length===1){if(this._firingCount)for(E=0,T=b.length;E<T;E++)b[E].fn=d;delete this._events[c];return}if(typeof h!="function"){console.warn("wrong listener type: "+typeof h);return}var $=this._listens(c,h,m);if($!==!1){var z=b[$];this._firingCount&&(z.fn=d,this._events[c]=b=b.slice()),b.splice($,1)}}},fire:function(c,h,m){if(!this.listens(c,m))return this;var b=t({},h,{type:c,target:this,sourceTarget:h&&h.sourceTarget||this});if(this._events){var E=this._events[c];if(E){this._firingCount=this._firingCount+1||1;for(var T=0,$=E.length;T<$;T++){var z=E[T],U=z.fn;z.once&&this.off(c,U,z.ctx),U.call(z.ctx||this,b)}this._firingCount--}}return m&&this._propagateEvent(b),this},listens:function(c,h,m,b){typeof c!="string"&&console.warn('"string" type argument expected');var E=h;typeof h!="function"&&(b=!!h,E=void 0,m=void 0);var T=this._events&&this._events[c];if(T&&T.length&&this._listens(c,E,m)!==!1)return!0;if(b){for(var $ in this._eventParents)if(this._eventParents[$].listens(c,h,m,b))return!0}return!1},_listens:function(c,h,m){if(!this._events)return!1;var b=this._events[c]||[];if(!h)return!!b.length;m===this&&(m=void 0);for(var E=0,T=b.length;E<T;E++)if(b[E].fn===h&&b[E].ctx===m)return E;return!1},once:function(c,h,m){if(typeof c=="object")for(var b in c)this._on(b,c[b],h,!0);else{c=g(c);for(var E=0,T=c.length;E<T;E++)this._on(c[E],h,m,!0)}return this},addEventParent:function(c){return this._eventParents=this._eventParents||{},this._eventParents[s(c)]=c,this},removeEventParent:function(c){return this._eventParents&&delete this._eventParents[s(c)],this},_propagateEvent:function(c){for(var h in this._eventParents)this._eventParents[h].fire(c.type,t({layer:c.target,propagatedFrom:c.target},c),!0)}};G.addEventListener=G.on,G.removeEventListener=G.clearAllEventListeners=G.off,G.addOneTimeEventListener=G.once,G.fireEvent=G.fire,G.hasEventListeners=G.listens;var q=j.extend(G);function V(c,h,m){this.x=m?Math.round(c):c,this.y=m?Math.round(h):h}var ue=Math.trunc||function(c){return c>0?Math.floor(c):Math.ceil(c)};V.prototype={clone:function(){return new V(this.x,this.y)},add:function(c){return this.clone()._add(J(c))},_add:function(c){return this.x+=c.x,this.y+=c.y,this},subtract:function(c){return this.clone()._subtract(J(c))},_subtract:function(c){return this.x-=c.x,this.y-=c.y,this},divideBy:function(c){return this.clone()._divideBy(c)},_divideBy:function(c){return this.x/=c,this.y/=c,this},multiplyBy:function(c){return this.clone()._multiplyBy(c)},_multiplyBy:function(c){return this.x*=c,this.y*=c,this},scaleBy:function(c){return new V(this.x*c.x,this.y*c.y)},unscaleBy:function(c){return new V(this.x/c.x,this.y/c.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ue(this.x),this.y=ue(this.y),this},distanceTo:function(c){c=J(c);var h=c.x-this.x,m=c.y-this.y;return Math.sqrt(h*h+m*m)},equals:function(c){return c=J(c),c.x===this.x&&c.y===this.y},contains:function(c){return c=J(c),Math.abs(c.x)<=Math.abs(this.x)&&Math.abs(c.y)<=Math.abs(this.y)},toString:function(){return"Point("+u(this.x)+", "+u(this.y)+")"}};function J(c,h,m){return c instanceof V?c:S(c)?new V(c[0],c[1]):c==null?c:typeof c=="object"&&"x"in c&&"y"in c?new V(c.x,c.y):new V(c,h,m)}function he(c,h){if(c)for(var m=h?[c,h]:c,b=0,E=m.length;b<E;b++)this.extend(m[b])}he.prototype={extend:function(c){var h,m;if(!c)return this;if(c instanceof V||typeof c[0]=="number"||"x"in c)h=m=J(c);else if(c=Je(c),h=c.min,m=c.max,!h||!m)return this;return!this.min&&!this.max?(this.min=h.clone(),this.max=m.clone()):(this.min.x=Math.min(h.x,this.min.x),this.max.x=Math.max(m.x,this.max.x),this.min.y=Math.min(h.y,this.min.y),this.max.y=Math.max(m.y,this.max.y)),this},getCenter:function(c){return J((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,c)},getBottomLeft:function(){return J(this.min.x,this.max.y)},getTopRight:function(){return J(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(c){var h,m;return typeof c[0]=="number"||c instanceof V?c=J(c):c=Je(c),c instanceof he?(h=c.min,m=c.max):h=m=c,h.x>=this.min.x&&m.x<=this.max.x&&h.y>=this.min.y&&m.y<=this.max.y},intersects:function(c){c=Je(c);var h=this.min,m=this.max,b=c.min,E=c.max,T=E.x>=h.x&&b.x<=m.x,$=E.y>=h.y&&b.y<=m.y;return T&&$},overlaps:function(c){c=Je(c);var h=this.min,m=this.max,b=c.min,E=c.max,T=E.x>h.x&&b.x<m.x,$=E.y>h.y&&b.y<m.y;return T&&$},isValid:function(){return!!(this.min&&this.max)},pad:function(c){var h=this.min,m=this.max,b=Math.abs(h.x-m.x)*c,E=Math.abs(h.y-m.y)*c;return Je(J(h.x-b,h.y-E),J(m.x+b,m.y+E))},equals:function(c){return c?(c=Je(c),this.min.equals(c.getTopLeft())&&this.max.equals(c.getBottomRight())):!1}};function Je(c,h){return!c||c instanceof he?c:new he(c,h)}function qe(c,h){if(c)for(var m=h?[c,h]:c,b=0,E=m.length;b<E;b++)this.extend(m[b])}qe.prototype={extend:function(c){var h=this._southWest,m=this._northEast,b,E;if(c instanceof Te)b=c,E=c;else if(c instanceof qe){if(b=c._southWest,E=c._northEast,!b||!E)return this}else return c?this.extend(me(c)||fe(c)):this;return!h&&!m?(this._southWest=new Te(b.lat,b.lng),this._northEast=new Te(E.lat,E.lng)):(h.lat=Math.min(b.lat,h.lat),h.lng=Math.min(b.lng,h.lng),m.lat=Math.max(E.lat,m.lat),m.lng=Math.max(E.lng,m.lng)),this},pad:function(c){var h=this._southWest,m=this._northEast,b=Math.abs(h.lat-m.lat)*c,E=Math.abs(h.lng-m.lng)*c;return new qe(new Te(h.lat-b,h.lng-E),new Te(m.lat+b,m.lng+E))},getCenter:function(){return new Te((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Te(this.getNorth(),this.getWest())},getSouthEast:function(){return new Te(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(c){typeof c[0]=="number"||c instanceof Te||"lat"in c?c=me(c):c=fe(c);var h=this._southWest,m=this._northEast,b,E;return c instanceof qe?(b=c.getSouthWest(),E=c.getNorthEast()):b=E=c,b.lat>=h.lat&&E.lat<=m.lat&&b.lng>=h.lng&&E.lng<=m.lng},intersects:function(c){c=fe(c);var h=this._southWest,m=this._northEast,b=c.getSouthWest(),E=c.getNorthEast(),T=E.lat>=h.lat&&b.lat<=m.lat,$=E.lng>=h.lng&&b.lng<=m.lng;return T&&$},overlaps:function(c){c=fe(c);var h=this._southWest,m=this._northEast,b=c.getSouthWest(),E=c.getNorthEast(),T=E.lat>h.lat&&b.lat<m.lat,$=E.lng>h.lng&&b.lng<m.lng;return T&&$},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(c,h){return c?(c=fe(c),this._southWest.equals(c.getSouthWest(),h)&&this._northEast.equals(c.getNorthEast(),h)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function fe(c,h){return c instanceof qe?c:new qe(c,h)}function Te(c,h,m){if(isNaN(c)||isNaN(h))throw new Error("Invalid LatLng object: ("+c+", "+h+")");this.lat=+c,this.lng=+h,m!==void 0&&(this.alt=+m)}Te.prototype={equals:function(c,h){if(!c)return!1;c=me(c);var m=Math.max(Math.abs(this.lat-c.lat),Math.abs(this.lng-c.lng));return m<=(h===void 0?1e-9:h)},toString:function(c){return"LatLng("+u(this.lat,c)+", "+u(this.lng,c)+")"},distanceTo:function(c){return $t.distance(this,me(c))},wrap:function(){return $t.wrapLatLng(this)},toBounds:function(c){var h=180*c/40075017,m=h/Math.cos(Math.PI/180*this.lat);return fe([this.lat-h,this.lng-m],[this.lat+h,this.lng+m])},clone:function(){return new Te(this.lat,this.lng,this.alt)}};function me(c,h,m){return c instanceof Te?c:S(c)&&typeof c[0]!="object"?c.length===3?new Te(c[0],c[1],c[2]):c.length===2?new Te(c[0],c[1]):null:c==null?c:typeof c=="object"&&"lat"in c?new Te(c.lat,"lng"in c?c.lng:c.lon,c.alt):h===void 0?null:new Te(c,h,m)}var Ue={latLngToPoint:function(c,h){var m=this.projection.project(c),b=this.scale(h);return this.transformation._transform(m,b)},pointToLatLng:function(c,h){var m=this.scale(h),b=this.transformation.untransform(c,m);return this.projection.unproject(b)},project:function(c){return this.projection.project(c)},unproject:function(c){return this.projection.unproject(c)},scale:function(c){return 256*Math.pow(2,c)},zoom:function(c){return Math.log(c/256)/Math.LN2},getProjectedBounds:function(c){if(this.infinite)return null;var h=this.projection.bounds,m=this.scale(c),b=this.transformation.transform(h.min,m),E=this.transformation.transform(h.max,m);return new he(b,E)},infinite:!1,wrapLatLng:function(c){var h=this.wrapLng?l(c.lng,this.wrapLng,!0):c.lng,m=this.wrapLat?l(c.lat,this.wrapLat,!0):c.lat,b=c.alt;return new Te(m,h,b)},wrapLatLngBounds:function(c){var h=c.getCenter(),m=this.wrapLatLng(h),b=h.lat-m.lat,E=h.lng-m.lng;if(b===0&&E===0)return c;var T=c.getSouthWest(),$=c.getNorthEast(),z=new Te(T.lat-b,T.lng-E),U=new Te($.lat-b,$.lng-E);return new qe(z,U)}},$t=t({},Ue,{wrapLng:[-180,180],R:6371e3,distance:function(c,h){var m=Math.PI/180,b=c.lat*m,E=h.lat*m,T=Math.sin((h.lat-c.lat)*m/2),$=Math.sin((h.lng-c.lng)*m/2),z=T*T+Math.cos(b)*Math.cos(E)*$*$,U=2*Math.atan2(Math.sqrt(z),Math.sqrt(1-z));return this.R*U}}),vr=6378137,zi={R:vr,MAX_LATITUDE:85.0511287798,project:function(c){var h=Math.PI/180,m=this.MAX_LATITUDE,b=Math.max(Math.min(m,c.lat),-m),E=Math.sin(b*h);return new V(this.R*c.lng*h,this.R*Math.log((1+E)/(1-E))/2)},unproject:function(c){var h=180/Math.PI;return new Te((2*Math.atan(Math.exp(c.y/this.R))-Math.PI/2)*h,c.x*h/this.R)},bounds:function(){var c=vr*Math.PI;return new he([-c,-c],[c,c])}()};function os(c,h,m,b){if(S(c)){this._a=c[0],this._b=c[1],this._c=c[2],this._d=c[3];return}this._a=c,this._b=h,this._c=m,this._d=b}os.prototype={transform:function(c,h){return this._transform(c.clone(),h)},_transform:function(c,h){return h=h||1,c.x=h*(this._a*c.x+this._b),c.y=h*(this._c*c.y+this._d),c},untransform:function(c,h){return h=h||1,new V((c.x/h-this._b)/this._a,(c.y/h-this._d)/this._c)}};function Xr(c,h,m,b){return new os(c,h,m,b)}var Ma=t({},$t,{code:"EPSG:3857",projection:zi,transformation:function(){var c=.5/(Math.PI*zi.R);return Xr(c,.5,-c,.5)}()}),gi=t({},Ma,{code:"EPSG:900913"});function Qr(c){return document.createElementNS("http://www.w3.org/2000/svg",c)}function Dn(c,h){var m="",b,E,T,$,z,U;for(b=0,T=c.length;b<T;b++){for(z=c[b],E=0,$=z.length;E<$;E++)U=z[E],m+=(E?"L":"M")+U.x+" "+U.y;m+=h?de.svg?"z":"x":""}return m||"M0 0"}var It=document.documentElement.style,ss="ActiveXObject"in window,Ig=ss&&!document.addEventListener,Pb="msLaunchUri"in navigator&&!("documentMode"in document),Mg=pi("webkit"),Rb=pi("android"),Ob=pi("android 2")||pi("android 3"),KD=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),JD=Rb&&pi("Google")&&KD<537&&!("AudioNode"in window),Ag=!!window.opera,Lb=!Pb&&pi("chrome"),Fb=pi("gecko")&&!Mg&&!Ag&&!ss,XD=!Lb&&pi("safari"),$b=pi("phantom"),jb="OTransition"in It,QD=navigator.platform.indexOf("Win")===0,Bb=ss&&"transition"in It,Ng="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Ob,Vb="MozPerspective"in It,eI=!window.L_DISABLE_3D&&(Bb||Ng||Vb)&&!jb&&!$b,Aa=typeof orientation<"u"||pi("mobile"),tI=Aa&&Mg,nI=Aa&&Ng,zb=!window.PointerEvent&&window.MSPointerEvent,Hb=!!(window.PointerEvent||zb),Ub="ontouchstart"in window||!!window.TouchEvent,iI=!window.L_NO_TOUCH&&(Ub||Hb),rI=Aa&&Ag,oI=Aa&&Fb,sI=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,aI=function(){var c=!1;try{var h=Object.defineProperty({},"passive",{get:function(){c=!0}});window.addEventListener("testPassiveEventSupport",d,h),window.removeEventListener("testPassiveEventSupport",d,h)}catch{}return c}(),lI=function(){return!!document.createElement("canvas").getContext}(),Pg=!!(document.createElementNS&&Qr("svg").createSVGRect),cI=!!Pg&&function(){var c=document.createElement("div");return c.innerHTML="<svg/>",(c.firstChild&&c.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),dI=!Pg&&function(){try{var c=document.createElement("div");c.innerHTML='<v:shape adj="1"/>';var h=c.firstChild;return h.style.behavior="url(#default#VML)",h&&typeof h.adj=="object"}catch{return!1}}(),uI=navigator.platform.indexOf("Mac")===0,hI=navigator.platform.indexOf("Linux")===0;function pi(c){return navigator.userAgent.toLowerCase().indexOf(c)>=0}var de={ie:ss,ielt9:Ig,edge:Pb,webkit:Mg,android:Rb,android23:Ob,androidStock:JD,opera:Ag,chrome:Lb,gecko:Fb,safari:XD,phantom:$b,opera12:jb,win:QD,ie3d:Bb,webkit3d:Ng,gecko3d:Vb,any3d:eI,mobile:Aa,mobileWebkit:tI,mobileWebkit3d:nI,msPointer:zb,pointer:Hb,touch:iI,touchNative:Ub,mobileOpera:rI,mobileGecko:oI,retina:sI,passiveEvents:aI,canvas:lI,svg:Pg,vml:dI,inlineSvg:cI,mac:uI,linux:hI},Wb=de.msPointer?"MSPointerDown":"pointerdown",Gb=de.msPointer?"MSPointerMove":"pointermove",qb=de.msPointer?"MSPointerUp":"pointerup",Zb=de.msPointer?"MSPointerCancel":"pointercancel",Rg={touchstart:Wb,touchmove:Gb,touchend:qb,touchcancel:Zb},Yb={touchstart:vI,touchmove:td,touchend:td,touchcancel:td},as={},Kb=!1;function fI(c,h,m){return h==="touchstart"&&_I(),Yb[h]?(m=Yb[h].bind(this,m),c.addEventListener(Rg[h],m,!1),m):(console.warn("wrong event specified:",h),d)}function gI(c,h,m){if(!Rg[h]){console.warn("wrong event specified:",h);return}c.removeEventListener(Rg[h],m,!1)}function pI(c){as[c.pointerId]=c}function mI(c){as[c.pointerId]&&(as[c.pointerId]=c)}function Jb(c){delete as[c.pointerId]}function _I(){Kb||(document.addEventListener(Wb,pI,!0),document.addEventListener(Gb,mI,!0),document.addEventListener(qb,Jb,!0),document.addEventListener(Zb,Jb,!0),Kb=!0)}function td(c,h){if(h.pointerType!==(h.MSPOINTER_TYPE_MOUSE||"mouse")){h.touches=[];for(var m in as)h.touches.push(as[m]);h.changedTouches=[h],c(h)}}function vI(c,h){h.MSPOINTER_TYPE_TOUCH&&h.pointerType===h.MSPOINTER_TYPE_TOUCH&&jt(h),td(c,h)}function yI(c){var h={},m,b;for(b in c)m=c[b],h[b]=m&&m.bind?m.bind(c):m;return c=h,h.type="dblclick",h.detail=2,h.isTrusted=!1,h._simulated=!0,h}var bI=200;function xI(c,h){c.addEventListener("dblclick",h);var m=0,b;function E(T){if(T.detail!==1){b=T.detail;return}if(!(T.pointerType==="mouse"||T.sourceCapabilities&&!T.sourceCapabilities.firesTouchEvents)){var $=n0(T);if(!($.some(function(U){return U instanceof HTMLLabelElement&&U.attributes.for})&&!$.some(function(U){return U instanceof HTMLInputElement||U instanceof HTMLSelectElement}))){var z=Date.now();z-m<=bI?(b++,b===2&&h(yI(T))):b=1,m=z}}}return c.addEventListener("click",E),{dblclick:h,simDblclick:E}}function wI(c,h){c.removeEventListener("dblclick",h.dblclick),c.removeEventListener("click",h.simDblclick)}var Og=rd(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Na=rd(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Xb=Na==="webkitTransition"||Na==="OTransition"?Na+"End":"transitionend";function Qb(c){return typeof c=="string"?document.getElementById(c):c}function Pa(c,h){var m=c.style[h]||c.currentStyle&&c.currentStyle[h];if((!m||m==="auto")&&document.defaultView){var b=document.defaultView.getComputedStyle(c,null);m=b?b[h]:null}return m==="auto"?null:m}function Ze(c,h,m){var b=document.createElement(c);return b.className=h||"",m&&m.appendChild(b),b}function at(c){var h=c.parentNode;h&&h.removeChild(c)}function nd(c){for(;c.firstChild;)c.removeChild(c.firstChild)}function ls(c){var h=c.parentNode;h&&h.lastChild!==c&&h.appendChild(c)}function cs(c){var h=c.parentNode;h&&h.firstChild!==c&&h.insertBefore(c,h.firstChild)}function Lg(c,h){if(c.classList!==void 0)return c.classList.contains(h);var m=id(c);return m.length>0&&new RegExp("(^|\\s)"+h+"(\\s|$)").test(m)}function Ie(c,h){if(c.classList!==void 0)for(var m=g(h),b=0,E=m.length;b<E;b++)c.classList.add(m[b]);else if(!Lg(c,h)){var T=id(c);Fg(c,(T?T+" ":"")+h)}}function dt(c,h){c.classList!==void 0?c.classList.remove(h):Fg(c,f((" "+id(c)+" ").replace(" "+h+" "," ")))}function Fg(c,h){c.className.baseVal===void 0?c.className=h:c.className.baseVal=h}function id(c){return c.correspondingElement&&(c=c.correspondingElement),c.className.baseVal===void 0?c.className:c.className.baseVal}function In(c,h){"opacity"in c.style?c.style.opacity=h:"filter"in c.style&&kI(c,h)}function kI(c,h){var m=!1,b="DXImageTransform.Microsoft.Alpha";try{m=c.filters.item(b)}catch{if(h===1)return}h=Math.round(h*100),m?(m.Enabled=h!==100,m.Opacity=h):c.style.filter+=" progid:"+b+"(opacity="+h+")"}function rd(c){for(var h=document.documentElement.style,m=0;m<c.length;m++)if(c[m]in h)return c[m];return!1}function eo(c,h,m){var b=h||new V(0,0);c.style[Og]=(de.ie3d?"translate("+b.x+"px,"+b.y+"px)":"translate3d("+b.x+"px,"+b.y+"px,0)")+(m?" scale("+m+")":"")}function pt(c,h){c._leaflet_pos=h,de.any3d?eo(c,h):(c.style.left=h.x+"px",c.style.top=h.y+"px")}function to(c){return c._leaflet_pos||new V(0,0)}var Ra,Oa,$g;if("onselectstart"in document)Ra=function(){Ee(window,"selectstart",jt)},Oa=function(){it(window,"selectstart",jt)};else{var La=rd(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Ra=function(){if(La){var c=document.documentElement.style;$g=c[La],c[La]="none"}},Oa=function(){La&&(document.documentElement.style[La]=$g,$g=void 0)}}function jg(){Ee(window,"dragstart",jt)}function Bg(){it(window,"dragstart",jt)}var od,Vg;function zg(c){for(;c.tabIndex===-1;)c=c.parentNode;c.style&&(sd(),od=c,Vg=c.style.outlineStyle,c.style.outlineStyle="none",Ee(window,"keydown",sd))}function sd(){od&&(od.style.outlineStyle=Vg,od=void 0,Vg=void 0,it(window,"keydown",sd))}function e0(c){do c=c.parentNode;while((!c.offsetWidth||!c.offsetHeight)&&c!==document.body);return c}function Hg(c){var h=c.getBoundingClientRect();return{x:h.width/c.offsetWidth||1,y:h.height/c.offsetHeight||1,boundingClientRect:h}}var EI={__proto__:null,TRANSFORM:Og,TRANSITION:Na,TRANSITION_END:Xb,get:Qb,getStyle:Pa,create:Ze,remove:at,empty:nd,toFront:ls,toBack:cs,hasClass:Lg,addClass:Ie,removeClass:dt,setClass:Fg,getClass:id,setOpacity:In,testProp:rd,setTransform:eo,setPosition:pt,getPosition:to,get disableTextSelection(){return Ra},get enableTextSelection(){return Oa},disableImageDrag:jg,enableImageDrag:Bg,preventOutline:zg,restoreOutline:sd,getSizedParentNode:e0,getScale:Hg};function Ee(c,h,m,b){if(h&&typeof h=="object")for(var E in h)Wg(c,E,h[E],m);else{h=g(h);for(var T=0,$=h.length;T<$;T++)Wg(c,h[T],m,b)}return this}var mi="_leaflet_events";function it(c,h,m,b){if(arguments.length===1)t0(c),delete c[mi];else if(h&&typeof h=="object")for(var E in h)Gg(c,E,h[E],m);else if(h=g(h),arguments.length===2)t0(c,function(z){return _(h,z)!==-1});else for(var T=0,$=h.length;T<$;T++)Gg(c,h[T],m,b);return this}function t0(c,h){for(var m in c[mi]){var b=m.split(/\d/)[0];(!h||h(b))&&Gg(c,b,null,null,m)}}var Ug={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Wg(c,h,m,b){var E=h+s(m)+(b?"_"+s(b):"");if(c[mi]&&c[mi][E])return this;var T=function(z){return m.call(b||c,z||window.event)},$=T;!de.touchNative&&de.pointer&&h.indexOf("touch")===0?T=fI(c,h,T):de.touch&&h==="dblclick"?T=xI(c,T):"addEventListener"in c?h==="touchstart"||h==="touchmove"||h==="wheel"||h==="mousewheel"?c.addEventListener(Ug[h]||h,T,de.passiveEvents?{passive:!1}:!1):h==="mouseenter"||h==="mouseleave"?(T=function(z){z=z||window.event,Zg(c,z)&&$(z)},c.addEventListener(Ug[h],T,!1)):c.addEventListener(h,$,!1):c.attachEvent("on"+h,T),c[mi]=c[mi]||{},c[mi][E]=T}function Gg(c,h,m,b,E){E=E||h+s(m)+(b?"_"+s(b):"");var T=c[mi]&&c[mi][E];if(!T)return this;!de.touchNative&&de.pointer&&h.indexOf("touch")===0?gI(c,h,T):de.touch&&h==="dblclick"?wI(c,T):"removeEventListener"in c?c.removeEventListener(Ug[h]||h,T,!1):c.detachEvent("on"+h,T),c[mi][E]=null}function no(c){return c.stopPropagation?c.stopPropagation():c.originalEvent?c.originalEvent._stopped=!0:c.cancelBubble=!0,this}function qg(c){return Wg(c,"wheel",no),this}function Fa(c){return Ee(c,"mousedown touchstart dblclick contextmenu",no),c._leaflet_disable_click=!0,this}function jt(c){return c.preventDefault?c.preventDefault():c.returnValue=!1,this}function io(c){return jt(c),no(c),this}function n0(c){if(c.composedPath)return c.composedPath();for(var h=[],m=c.target;m;)h.push(m),m=m.parentNode;return h}function i0(c,h){if(!h)return new V(c.clientX,c.clientY);var m=Hg(h),b=m.boundingClientRect;return new V((c.clientX-b.left)/m.x-h.clientLeft,(c.clientY-b.top)/m.y-h.clientTop)}var CI=de.linux&&de.chrome?window.devicePixelRatio:de.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function r0(c){return de.edge?c.wheelDeltaY/2:c.deltaY&&c.deltaMode===0?-c.deltaY/CI:c.deltaY&&c.deltaMode===1?-c.deltaY*20:c.deltaY&&c.deltaMode===2?-c.deltaY*60:c.deltaX||c.deltaZ?0:c.wheelDelta?(c.wheelDeltaY||c.wheelDelta)/2:c.detail&&Math.abs(c.detail)<32765?-c.detail*20:c.detail?c.detail/-32765*60:0}function Zg(c,h){var m=h.relatedTarget;if(!m)return!0;try{for(;m&&m!==c;)m=m.parentNode}catch{return!1}return m!==c}var SI={__proto__:null,on:Ee,off:it,stopPropagation:no,disableScrollPropagation:qg,disableClickPropagation:Fa,preventDefault:jt,stop:io,getPropagationPath:n0,getMousePosition:i0,getWheelDelta:r0,isExternalTarget:Zg,addListener:Ee,removeListener:it},o0=q.extend({run:function(c,h,m,b){this.stop(),this._el=c,this._inProgress=!0,this._duration=m||.25,this._easeOutPower=1/Math.max(b||.5,.2),this._startPos=to(c),this._offset=h.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=P(this._animate,this),this._step()},_step:function(c){var h=+new Date-this._startTime,m=this._duration*1e3;h<m?this._runFrame(this._easeOut(h/m),c):(this._runFrame(1),this._complete())},_runFrame:function(c,h){var m=this._startPos.add(this._offset.multiplyBy(c));h&&m._round(),pt(this._el,m),this.fire("step")},_complete:function(){R(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(c){return 1-Math.pow(1-c,this._easeOutPower)}}),Be=q.extend({options:{crs:Ma,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(c,h){h=p(this,h),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(c),this._initLayout(),this._onResize=r(this._onResize,this),this._initEvents(),h.maxBounds&&this.setMaxBounds(h.maxBounds),h.zoom!==void 0&&(this._zoom=this._limitZoom(h.zoom)),h.center&&h.zoom!==void 0&&this.setView(me(h.center),h.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Na&&de.any3d&&!de.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Ee(this._proxy,Xb,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(c,h,m){if(h=h===void 0?this._zoom:this._limitZoom(h),c=this._limitCenter(me(c),h,this.options.maxBounds),m=m||{},this._stop(),this._loaded&&!m.reset&&m!==!0){m.animate!==void 0&&(m.zoom=t({animate:m.animate},m.zoom),m.pan=t({animate:m.animate,duration:m.duration},m.pan));var b=this._zoom!==h?this._tryAnimatedZoom&&this._tryAnimatedZoom(c,h,m.zoom):this._tryAnimatedPan(c,m.pan);if(b)return clearTimeout(this._sizeTimer),this}return this._resetView(c,h,m.pan&&m.pan.noMoveStart),this},setZoom:function(c,h){return this._loaded?this.setView(this.getCenter(),c,{zoom:h}):(this._zoom=c,this)},zoomIn:function(c,h){return c=c||(de.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+c,h)},zoomOut:function(c,h){return c=c||(de.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-c,h)},setZoomAround:function(c,h,m){var b=this.getZoomScale(h),E=this.getSize().divideBy(2),T=c instanceof V?c:this.latLngToContainerPoint(c),$=T.subtract(E).multiplyBy(1-1/b),z=this.containerPointToLatLng(E.add($));return this.setView(z,h,{zoom:m})},_getBoundsCenterZoom:function(c,h){h=h||{},c=c.getBounds?c.getBounds():fe(c);var m=J(h.paddingTopLeft||h.padding||[0,0]),b=J(h.paddingBottomRight||h.padding||[0,0]),E=this.getBoundsZoom(c,!1,m.add(b));if(E=typeof h.maxZoom=="number"?Math.min(h.maxZoom,E):E,E===1/0)return{center:c.getCenter(),zoom:E};var T=b.subtract(m).divideBy(2),$=this.project(c.getSouthWest(),E),z=this.project(c.getNorthEast(),E),U=this.unproject($.add(z).divideBy(2).add(T),E);return{center:U,zoom:E}},fitBounds:function(c,h){if(c=fe(c),!c.isValid())throw new Error("Bounds are not valid.");var m=this._getBoundsCenterZoom(c,h);return this.setView(m.center,m.zoom,h)},fitWorld:function(c){return this.fitBounds([[-90,-180],[90,180]],c)},panTo:function(c,h){return this.setView(c,this._zoom,{pan:h})},panBy:function(c,h){if(c=J(c).round(),h=h||{},!c.x&&!c.y)return this.fire("moveend");if(h.animate!==!0&&!this.getSize().contains(c))return this._resetView(this.unproject(this.project(this.getCenter()).add(c)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new o0,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),h.noMoveStart||this.fire("movestart"),h.animate!==!1){Ie(this._mapPane,"leaflet-pan-anim");var m=this._getMapPanePos().subtract(c).round();this._panAnim.run(this._mapPane,m,h.duration||.25,h.easeLinearity)}else this._rawPanBy(c),this.fire("move").fire("moveend");return this},flyTo:function(c,h,m){if(m=m||{},m.animate===!1||!de.any3d)return this.setView(c,h,m);this._stop();var b=this.project(this.getCenter()),E=this.project(c),T=this.getSize(),$=this._zoom;c=me(c),h=h===void 0?$:h;var z=Math.max(T.x,T.y),U=z*this.getZoomScale($,h),Z=E.distanceTo(b)||1,ne=1.42,ge=ne*ne;function Pe(mt){var vd=mt?-1:1,gM=mt?U:z,pM=U*U-z*z+vd*ge*ge*Z*Z,mM=2*gM*ge*Z,op=pM/mM,j0=Math.sqrt(op*op+1)-op,_M=j0<1e-9?-18:Math.log(j0);return _M}function Zt(mt){return(Math.exp(mt)-Math.exp(-mt))/2}function Pt(mt){return(Math.exp(mt)+Math.exp(-mt))/2}function An(mt){return Zt(mt)/Pt(mt)}var cn=Pe(0);function ps(mt){return z*(Pt(cn)/Pt(cn+ne*mt))}function dM(mt){return z*(Pt(cn)*An(cn+ne*mt)-Zt(cn))/ge}function uM(mt){return 1-Math.pow(1-mt,1.5)}var hM=Date.now(),F0=(Pe(1)-cn)/ne,fM=m.duration?1e3*m.duration:1e3*F0*.8;function $0(){var mt=(Date.now()-hM)/fM,vd=uM(mt)*F0;mt<=1?(this._flyToFrame=P($0,this),this._move(this.unproject(b.add(E.subtract(b).multiplyBy(dM(vd)/Z)),$),this.getScaleZoom(z/ps(vd),$),{flyTo:!0})):this._move(c,h)._moveEnd(!0)}return this._moveStart(!0,m.noMoveStart),$0.call(this),this},flyToBounds:function(c,h){var m=this._getBoundsCenterZoom(c,h);return this.flyTo(m.center,m.zoom,h)},setMaxBounds:function(c){return c=fe(c),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),c.isValid()?(this.options.maxBounds=c,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(c){var h=this.options.minZoom;return this.options.minZoom=c,this._loaded&&h!==c&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(c):this},setMaxZoom:function(c){var h=this.options.maxZoom;return this.options.maxZoom=c,this._loaded&&h!==c&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(c):this},panInsideBounds:function(c,h){this._enforcingBounds=!0;var m=this.getCenter(),b=this._limitCenter(m,this._zoom,fe(c));return m.equals(b)||this.panTo(b,h),this._enforcingBounds=!1,this},panInside:function(c,h){h=h||{};var m=J(h.paddingTopLeft||h.padding||[0,0]),b=J(h.paddingBottomRight||h.padding||[0,0]),E=this.project(this.getCenter()),T=this.project(c),$=this.getPixelBounds(),z=Je([$.min.add(m),$.max.subtract(b)]),U=z.getSize();if(!z.contains(T)){this._enforcingBounds=!0;var Z=T.subtract(z.getCenter()),ne=z.extend(T).getSize().subtract(U);E.x+=Z.x<0?-ne.x:ne.x,E.y+=Z.y<0?-ne.y:ne.y,this.panTo(this.unproject(E),h),this._enforcingBounds=!1}return this},invalidateSize:function(c){if(!this._loaded)return this;c=t({animate:!1,pan:!0},c===!0?{animate:!0}:c);var h=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var m=this.getSize(),b=h.divideBy(2).round(),E=m.divideBy(2).round(),T=b.subtract(E);return!T.x&&!T.y?this:(c.animate&&c.pan?this.panBy(T):(c.pan&&this._rawPanBy(T),this.fire("move"),c.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(r(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:h,newSize:m}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(c){if(c=this._locateOptions=t({timeout:1e4,watch:!1},c),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var h=r(this._handleGeolocationResponse,this),m=r(this._handleGeolocationError,this);return c.watch?this._locationWatchId=navigator.geolocation.watchPosition(h,m,c):navigator.geolocation.getCurrentPosition(h,m,c),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(c){if(this._container._leaflet_id){var h=c.code,m=c.message||(h===1?"permission denied":h===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:h,message:"Geolocation error: "+m+"."})}},_handleGeolocationResponse:function(c){if(this._container._leaflet_id){var h=c.coords.latitude,m=c.coords.longitude,b=new Te(h,m),E=b.toBounds(c.coords.accuracy*2),T=this._locateOptions;if(T.setView){var $=this.getBoundsZoom(E);this.setView(b,T.maxZoom?Math.min($,T.maxZoom):$)}var z={latlng:b,bounds:E,timestamp:c.timestamp};for(var U in c.coords)typeof c.coords[U]=="number"&&(z[U]=c.coords[U]);this.fire("locationfound",z)}},addHandler:function(c,h){if(!h)return this;var m=this[c]=new h(this);return this._handlers.push(m),this.options[c]&&m.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),at(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(R(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var c;for(c in this._layers)this._layers[c].remove();for(c in this._panes)at(this._panes[c]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(c,h){var m="leaflet-pane"+(c?" leaflet-"+c.replace("Pane","")+"-pane":""),b=Ze("div",m,h||this._mapPane);return c&&(this._panes[c]=b),b},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var c=this.getPixelBounds(),h=this.unproject(c.getBottomLeft()),m=this.unproject(c.getTopRight());return new qe(h,m)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(c,h,m){c=fe(c),m=J(m||[0,0]);var b=this.getZoom()||0,E=this.getMinZoom(),T=this.getMaxZoom(),$=c.getNorthWest(),z=c.getSouthEast(),U=this.getSize().subtract(m),Z=Je(this.project(z,b),this.project($,b)).getSize(),ne=de.any3d?this.options.zoomSnap:1,ge=U.x/Z.x,Pe=U.y/Z.y,Zt=h?Math.max(ge,Pe):Math.min(ge,Pe);return b=this.getScaleZoom(Zt,b),ne&&(b=Math.round(b/(ne/100))*(ne/100),b=h?Math.ceil(b/ne)*ne:Math.floor(b/ne)*ne),Math.max(E,Math.min(T,b))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new V(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(c,h){var m=this._getTopLeftPoint(c,h);return new he(m,m.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(c){return this.options.crs.getProjectedBounds(c===void 0?this.getZoom():c)},getPane:function(c){return typeof c=="string"?this._panes[c]:c},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(c,h){var m=this.options.crs;return h=h===void 0?this._zoom:h,m.scale(c)/m.scale(h)},getScaleZoom:function(c,h){var m=this.options.crs;h=h===void 0?this._zoom:h;var b=m.zoom(c*m.scale(h));return isNaN(b)?1/0:b},project:function(c,h){return h=h===void 0?this._zoom:h,this.options.crs.latLngToPoint(me(c),h)},unproject:function(c,h){return h=h===void 0?this._zoom:h,this.options.crs.pointToLatLng(J(c),h)},layerPointToLatLng:function(c){var h=J(c).add(this.getPixelOrigin());return this.unproject(h)},latLngToLayerPoint:function(c){var h=this.project(me(c))._round();return h._subtract(this.getPixelOrigin())},wrapLatLng:function(c){return this.options.crs.wrapLatLng(me(c))},wrapLatLngBounds:function(c){return this.options.crs.wrapLatLngBounds(fe(c))},distance:function(c,h){return this.options.crs.distance(me(c),me(h))},containerPointToLayerPoint:function(c){return J(c).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(c){return J(c).add(this._getMapPanePos())},containerPointToLatLng:function(c){var h=this.containerPointToLayerPoint(J(c));return this.layerPointToLatLng(h)},latLngToContainerPoint:function(c){return this.layerPointToContainerPoint(this.latLngToLayerPoint(me(c)))},mouseEventToContainerPoint:function(c){return i0(c,this._container)},mouseEventToLayerPoint:function(c){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(c))},mouseEventToLatLng:function(c){return this.layerPointToLatLng(this.mouseEventToLayerPoint(c))},_initContainer:function(c){var h=this._container=Qb(c);if(h){if(h._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Ee(h,"scroll",this._onScroll,this),this._containerId=s(h)},_initLayout:function(){var c=this._container;this._fadeAnimated=this.options.fadeAnimation&&de.any3d,Ie(c,"leaflet-container"+(de.touch?" leaflet-touch":"")+(de.retina?" leaflet-retina":"")+(de.ielt9?" leaflet-oldie":"")+(de.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var h=Pa(c,"position");h!=="absolute"&&h!=="relative"&&h!=="fixed"&&h!=="sticky"&&(c.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var c=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),pt(this._mapPane,new V(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Ie(c.markerPane,"leaflet-zoom-hide"),Ie(c.shadowPane,"leaflet-zoom-hide"))},_resetView:function(c,h,m){pt(this._mapPane,new V(0,0));var b=!this._loaded;this._loaded=!0,h=this._limitZoom(h),this.fire("viewprereset");var E=this._zoom!==h;this._moveStart(E,m)._move(c,h)._moveEnd(E),this.fire("viewreset"),b&&this.fire("load")},_moveStart:function(c,h){return c&&this.fire("zoomstart"),h||this.fire("movestart"),this},_move:function(c,h,m,b){h===void 0&&(h=this._zoom);var E=this._zoom!==h;return this._zoom=h,this._lastCenter=c,this._pixelOrigin=this._getNewPixelOrigin(c),b?m&&m.pinch&&this.fire("zoom",m):((E||m&&m.pinch)&&this.fire("zoom",m),this.fire("move",m)),this},_moveEnd:function(c){return c&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return R(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(c){pt(this._mapPane,this._getMapPanePos().subtract(c))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(c){this._targets={},this._targets[s(this._container)]=this;var h=c?it:Ee;h(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&h(window,"resize",this._onResize,this),de.any3d&&this.options.transform3DLimit&&(c?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){R(this._resizeRequest),this._resizeRequest=P(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var c=this._getMapPanePos();Math.max(Math.abs(c.x),Math.abs(c.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(c,h){for(var m=[],b,E=h==="mouseout"||h==="mouseover",T=c.target||c.srcElement,$=!1;T;){if(b=this._targets[s(T)],b&&(h==="click"||h==="preclick")&&this._draggableMoved(b)){$=!0;break}if(b&&b.listens(h,!0)&&(E&&!Zg(T,c)||(m.push(b),E))||T===this._container)break;T=T.parentNode}return!m.length&&!$&&!E&&this.listens(h,!0)&&(m=[this]),m},_isClickDisabled:function(c){for(;c&&c!==this._container;){if(c._leaflet_disable_click)return!0;c=c.parentNode}},_handleDOMEvent:function(c){var h=c.target||c.srcElement;if(!(!this._loaded||h._leaflet_disable_events||c.type==="click"&&this._isClickDisabled(h))){var m=c.type;m==="mousedown"&&zg(h),this._fireDOMEvent(c,m)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(c,h,m){if(c.type==="click"){var b=t({},c);b.type="preclick",this._fireDOMEvent(b,b.type,m)}var E=this._findEventTargets(c,h);if(m){for(var T=[],$=0;$<m.length;$++)m[$].listens(h,!0)&&T.push(m[$]);E=T.concat(E)}if(E.length){h==="contextmenu"&&jt(c);var z=E[0],U={originalEvent:c};if(c.type!=="keypress"&&c.type!=="keydown"&&c.type!=="keyup"){var Z=z.getLatLng&&(!z._radius||z._radius<=10);U.containerPoint=Z?this.latLngToContainerPoint(z.getLatLng()):this.mouseEventToContainerPoint(c),U.layerPoint=this.containerPointToLayerPoint(U.containerPoint),U.latlng=Z?z.getLatLng():this.layerPointToLatLng(U.layerPoint)}for($=0;$<E.length;$++)if(E[$].fire(h,U,!0),U.originalEvent._stopped||E[$].options.bubblingMouseEvents===!1&&_(this._mouseEvents,h)!==-1)return}},_draggableMoved:function(c){return c=c.dragging&&c.dragging.enabled()?c:this,c.dragging&&c.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var c=0,h=this._handlers.length;c<h;c++)this._handlers[c].disable()},whenReady:function(c,h){return this._loaded?c.call(h||this,{target:this}):this.on("load",c,h),this},_getMapPanePos:function(){return to(this._mapPane)||new V(0,0)},_moved:function(){var c=this._getMapPanePos();return c&&!c.equals([0,0])},_getTopLeftPoint:function(c,h){var m=c&&h!==void 0?this._getNewPixelOrigin(c,h):this.getPixelOrigin();return m.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(c,h){var m=this.getSize()._divideBy(2);return this.project(c,h)._subtract(m)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(c,h,m){var b=this._getNewPixelOrigin(m,h);return this.project(c,h)._subtract(b)},_latLngBoundsToNewLayerBounds:function(c,h,m){var b=this._getNewPixelOrigin(m,h);return Je([this.project(c.getSouthWest(),h)._subtract(b),this.project(c.getNorthWest(),h)._subtract(b),this.project(c.getSouthEast(),h)._subtract(b),this.project(c.getNorthEast(),h)._subtract(b)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(c){return this.latLngToLayerPoint(c).subtract(this._getCenterLayerPoint())},_limitCenter:function(c,h,m){if(!m)return c;var b=this.project(c,h),E=this.getSize().divideBy(2),T=new he(b.subtract(E),b.add(E)),$=this._getBoundsOffset(T,m,h);return Math.abs($.x)<=1&&Math.abs($.y)<=1?c:this.unproject(b.add($),h)},_limitOffset:function(c,h){if(!h)return c;var m=this.getPixelBounds(),b=new he(m.min.add(c),m.max.add(c));return c.add(this._getBoundsOffset(b,h))},_getBoundsOffset:function(c,h,m){var b=Je(this.project(h.getNorthEast(),m),this.project(h.getSouthWest(),m)),E=b.min.subtract(c.min),T=b.max.subtract(c.max),$=this._rebound(E.x,-T.x),z=this._rebound(E.y,-T.y);return new V($,z)},_rebound:function(c,h){return c+h>0?Math.round(c-h)/2:Math.max(0,Math.ceil(c))-Math.max(0,Math.floor(h))},_limitZoom:function(c){var h=this.getMinZoom(),m=this.getMaxZoom(),b=de.any3d?this.options.zoomSnap:1;return b&&(c=Math.round(c/b)*b),Math.max(h,Math.min(m,c))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){dt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(c,h){var m=this._getCenterOffset(c)._trunc();return(h&&h.animate)!==!0&&!this.getSize().contains(m)?!1:(this.panBy(m,h),!0)},_createAnimProxy:function(){var c=this._proxy=Ze("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(c),this.on("zoomanim",function(h){var m=Og,b=this._proxy.style[m];eo(this._proxy,this.project(h.center,h.zoom),this.getZoomScale(h.zoom,1)),b===this._proxy.style[m]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){at(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var c=this.getCenter(),h=this.getZoom();eo(this._proxy,this.project(c,h),this.getZoomScale(h,1))},_catchTransitionEnd:function(c){this._animatingZoom&&c.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(c,h,m){if(this._animatingZoom)return!0;if(m=m||{},!this._zoomAnimated||m.animate===!1||this._nothingToAnimate()||Math.abs(h-this._zoom)>this.options.zoomAnimationThreshold)return!1;var b=this.getZoomScale(h),E=this._getCenterOffset(c)._divideBy(1-1/b);return m.animate!==!0&&!this.getSize().contains(E)?!1:(P(function(){this._moveStart(!0,m.noMoveStart||!1)._animateZoom(c,h,!0)},this),!0)},_animateZoom:function(c,h,m,b){this._mapPane&&(m&&(this._animatingZoom=!0,this._animateToCenter=c,this._animateToZoom=h,Ie(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:c,zoom:h,noUpdate:b}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(r(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&dt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function TI(c,h){return new Be(c,h)}var qn=j.extend({options:{position:"topright"},initialize:function(c){p(this,c)},getPosition:function(){return this.options.position},setPosition:function(c){var h=this._map;return h&&h.removeControl(this),this.options.position=c,h&&h.addControl(this),this},getContainer:function(){return this._container},addTo:function(c){this.remove(),this._map=c;var h=this._container=this.onAdd(c),m=this.getPosition(),b=c._controlCorners[m];return Ie(h,"leaflet-control"),m.indexOf("bottom")!==-1?b.insertBefore(h,b.firstChild):b.appendChild(h),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(at(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(c){this._map&&c&&c.screenX>0&&c.screenY>0&&this._map.getContainer().focus()}}),$a=function(c){return new qn(c)};Be.include({addControl:function(c){return c.addTo(this),this},removeControl:function(c){return c.remove(),this},_initControlPos:function(){var c=this._controlCorners={},h="leaflet-",m=this._controlContainer=Ze("div",h+"control-container",this._container);function b(E,T){var $=h+E+" "+h+T;c[E+T]=Ze("div",$,m)}b("top","left"),b("top","right"),b("bottom","left"),b("bottom","right")},_clearControlPos:function(){for(var c in this._controlCorners)at(this._controlCorners[c]);at(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var s0=qn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(c,h,m,b){return m<b?-1:b<m?1:0}},initialize:function(c,h,m){p(this,m),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var b in c)this._addLayer(c[b],b);for(b in h)this._addLayer(h[b],b,!0)},onAdd:function(c){this._initLayout(),this._update(),this._map=c,c.on("zoomend",this._checkDisabledLayers,this);for(var h=0;h<this._layers.length;h++)this._layers[h].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(c){return qn.prototype.addTo.call(this,c),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var c=0;c<this._layers.length;c++)this._layers[c].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(c,h){return this._addLayer(c,h),this._map?this._update():this},addOverlay:function(c,h){return this._addLayer(c,h,!0),this._map?this._update():this},removeLayer:function(c){c.off("add remove",this._onLayerChange,this);var h=this._getLayer(s(c));return h&&this._layers.splice(this._layers.indexOf(h),1),this._map?this._update():this},expand:function(){Ie(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var c=this._map.getSize().y-(this._container.offsetTop+50);return c<this._section.clientHeight?(Ie(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=c+"px"):dt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return dt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var c="leaflet-control-layers",h=this._container=Ze("div",c),m=this.options.collapsed;h.setAttribute("aria-haspopup",!0),Fa(h),qg(h);var b=this._section=Ze("section",c+"-list");m&&(this._map.on("click",this.collapse,this),Ee(h,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var E=this._layersLink=Ze("a",c+"-toggle",h);E.href="#",E.title="Layers",E.setAttribute("role","button"),Ee(E,{keydown:function(T){T.keyCode===13&&this._expandSafely()},click:function(T){jt(T),this._expandSafely()}},this),m||this.expand(),this._baseLayersList=Ze("div",c+"-base",b),this._separator=Ze("div",c+"-separator",b),this._overlaysList=Ze("div",c+"-overlays",b),h.appendChild(b)},_getLayer:function(c){for(var h=0;h<this._layers.length;h++)if(this._layers[h]&&s(this._layers[h].layer)===c)return this._layers[h]},_addLayer:function(c,h,m){this._map&&c.on("add remove",this._onLayerChange,this),this._layers.push({layer:c,name:h,overlay:m}),this.options.sortLayers&&this._layers.sort(r(function(b,E){return this.options.sortFunction(b.layer,E.layer,b.name,E.name)},this)),this.options.autoZIndex&&c.setZIndex&&(this._lastZIndex++,c.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;nd(this._baseLayersList),nd(this._overlaysList),this._layerControlInputs=[];var c,h,m,b,E=0;for(m=0;m<this._layers.length;m++)b=this._layers[m],this._addItem(b),h=h||b.overlay,c=c||!b.overlay,E+=b.overlay?0:1;return this.options.hideSingleBase&&(c=c&&E>1,this._baseLayersList.style.display=c?"":"none"),this._separator.style.display=h&&c?"":"none",this},_onLayerChange:function(c){this._handlingClick||this._update();var h=this._getLayer(s(c.target)),m=h.overlay?c.type==="add"?"overlayadd":"overlayremove":c.type==="add"?"baselayerchange":null;m&&this._map.fire(m,h)},_createRadioElement:function(c,h){var m='<input type="radio" class="leaflet-control-layers-selector" name="'+c+'"'+(h?' checked="checked"':"")+"/>",b=document.createElement("div");return b.innerHTML=m,b.firstChild},_addItem:function(c){var h=document.createElement("label"),m=this._map.hasLayer(c.layer),b;c.overlay?(b=document.createElement("input"),b.type="checkbox",b.className="leaflet-control-layers-selector",b.defaultChecked=m):b=this._createRadioElement("leaflet-base-layers_"+s(this),m),this._layerControlInputs.push(b),b.layerId=s(c.layer),Ee(b,"click",this._onInputClick,this);var E=document.createElement("span");E.innerHTML=" "+c.name;var T=document.createElement("span");h.appendChild(T),T.appendChild(b),T.appendChild(E);var $=c.overlay?this._overlaysList:this._baseLayersList;return $.appendChild(h),this._checkDisabledLayers(),h},_onInputClick:function(){if(!this._preventClick){var c=this._layerControlInputs,h,m,b=[],E=[];this._handlingClick=!0;for(var T=c.length-1;T>=0;T--)h=c[T],m=this._getLayer(h.layerId).layer,h.checked?b.push(m):h.checked||E.push(m);for(T=0;T<E.length;T++)this._map.hasLayer(E[T])&&this._map.removeLayer(E[T]);for(T=0;T<b.length;T++)this._map.hasLayer(b[T])||this._map.addLayer(b[T]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var c=this._layerControlInputs,h,m,b=this._map.getZoom(),E=c.length-1;E>=0;E--)h=c[E],m=this._getLayer(h.layerId).layer,h.disabled=m.options.minZoom!==void 0&&b<m.options.minZoom||m.options.maxZoom!==void 0&&b>m.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var c=this._section;this._preventClick=!0,Ee(c,"click",jt),this.expand();var h=this;setTimeout(function(){it(c,"click",jt),h._preventClick=!1})}}),DI=function(c,h,m){return new s0(c,h,m)},Yg=qn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(c){var h="leaflet-control-zoom",m=Ze("div",h+" leaflet-bar"),b=this.options;return this._zoomInButton=this._createButton(b.zoomInText,b.zoomInTitle,h+"-in",m,this._zoomIn),this._zoomOutButton=this._createButton(b.zoomOutText,b.zoomOutTitle,h+"-out",m,this._zoomOut),this._updateDisabled(),c.on("zoomend zoomlevelschange",this._updateDisabled,this),m},onRemove:function(c){c.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(c){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(c.shiftKey?3:1))},_zoomOut:function(c){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(c.shiftKey?3:1))},_createButton:function(c,h,m,b,E){var T=Ze("a",m,b);return T.innerHTML=c,T.href="#",T.title=h,T.setAttribute("role","button"),T.setAttribute("aria-label",h),Fa(T),Ee(T,"click",io),Ee(T,"click",E,this),Ee(T,"click",this._refocusOnMap,this),T},_updateDisabled:function(){var c=this._map,h="leaflet-disabled";dt(this._zoomInButton,h),dt(this._zoomOutButton,h),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||c._zoom===c.getMinZoom())&&(Ie(this._zoomOutButton,h),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||c._zoom===c.getMaxZoom())&&(Ie(this._zoomInButton,h),this._zoomInButton.setAttribute("aria-disabled","true"))}});Be.mergeOptions({zoomControl:!0}),Be.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Yg,this.addControl(this.zoomControl))});var II=function(c){return new Yg(c)},a0=qn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(c){var h="leaflet-control-scale",m=Ze("div",h),b=this.options;return this._addScales(b,h+"-line",m),c.on(b.updateWhenIdle?"moveend":"move",this._update,this),c.whenReady(this._update,this),m},onRemove:function(c){c.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(c,h,m){c.metric&&(this._mScale=Ze("div",h,m)),c.imperial&&(this._iScale=Ze("div",h,m))},_update:function(){var c=this._map,h=c.getSize().y/2,m=c.distance(c.containerPointToLatLng([0,h]),c.containerPointToLatLng([this.options.maxWidth,h]));this._updateScales(m)},_updateScales:function(c){this.options.metric&&c&&this._updateMetric(c),this.options.imperial&&c&&this._updateImperial(c)},_updateMetric:function(c){var h=this._getRoundNum(c),m=h<1e3?h+" m":h/1e3+" km";this._updateScale(this._mScale,m,h/c)},_updateImperial:function(c){var h=c*3.2808399,m,b,E;h>5280?(m=h/5280,b=this._getRoundNum(m),this._updateScale(this._iScale,b+" mi",b/m)):(E=this._getRoundNum(h),this._updateScale(this._iScale,E+" ft",E/h))},_updateScale:function(c,h,m){c.style.width=Math.round(this.options.maxWidth*m)+"px",c.innerHTML=h},_getRoundNum:function(c){var h=Math.pow(10,(Math.floor(c)+"").length-1),m=c/h;return m=m>=10?10:m>=5?5:m>=3?3:m>=2?2:1,h*m}}),MI=function(c){return new a0(c)},AI='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Kg=qn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(de.inlineSvg?AI+" ":"")+"Leaflet</a>"},initialize:function(c){p(this,c),this._attributions={}},onAdd:function(c){c.attributionControl=this,this._container=Ze("div","leaflet-control-attribution"),Fa(this._container);for(var h in c._layers)c._layers[h].getAttribution&&this.addAttribution(c._layers[h].getAttribution());return this._update(),c.on("layeradd",this._addAttribution,this),this._container},onRemove:function(c){c.off("layeradd",this._addAttribution,this)},_addAttribution:function(c){c.layer.getAttribution&&(this.addAttribution(c.layer.getAttribution()),c.layer.once("remove",function(){this.removeAttribution(c.layer.getAttribution())},this))},setPrefix:function(c){return this.options.prefix=c,this._update(),this},addAttribution:function(c){return c?(this._attributions[c]||(this._attributions[c]=0),this._attributions[c]++,this._update(),this):this},removeAttribution:function(c){return c?(this._attributions[c]&&(this._attributions[c]--,this._update()),this):this},_update:function(){if(this._map){var c=[];for(var h in this._attributions)this._attributions[h]&&c.push(h);var m=[];this.options.prefix&&m.push(this.options.prefix),c.length&&m.push(c.join(", ")),this._container.innerHTML=m.join(' <span aria-hidden="true">|</span> ')}}});Be.mergeOptions({attributionControl:!0}),Be.addInitHook(function(){this.options.attributionControl&&new Kg().addTo(this)});var NI=function(c){return new Kg(c)};qn.Layers=s0,qn.Zoom=Yg,qn.Scale=a0,qn.Attribution=Kg,$a.layers=DI,$a.zoom=II,$a.scale=MI,$a.attribution=NI;var _i=j.extend({initialize:function(c){this._map=c},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});_i.addTo=function(c,h){return c.addHandler(h,this),this};var PI={Events:G},l0=de.touch?"touchstart mousedown":"mousedown",yr=q.extend({options:{clickTolerance:3},initialize:function(c,h,m,b){p(this,b),this._element=c,this._dragStartTarget=h||c,this._preventOutline=m},enable:function(){this._enabled||(Ee(this._dragStartTarget,l0,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(yr._dragging===this&&this.finishDrag(!0),it(this._dragStartTarget,l0,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(c){if(this._enabled&&(this._moved=!1,!Lg(this._element,"leaflet-zoom-anim"))){if(c.touches&&c.touches.length!==1){yr._dragging===this&&this.finishDrag();return}if(!(yr._dragging||c.shiftKey||c.which!==1&&c.button!==1&&!c.touches)&&(yr._dragging=this,this._preventOutline&&zg(this._element),jg(),Ra(),!this._moving)){this.fire("down");var h=c.touches?c.touches[0]:c,m=e0(this._element);this._startPoint=new V(h.clientX,h.clientY),this._startPos=to(this._element),this._parentScale=Hg(m);var b=c.type==="mousedown";Ee(document,b?"mousemove":"touchmove",this._onMove,this),Ee(document,b?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(c){if(this._enabled){if(c.touches&&c.touches.length>1){this._moved=!0;return}var h=c.touches&&c.touches.length===1?c.touches[0]:c,m=new V(h.clientX,h.clientY)._subtract(this._startPoint);!m.x&&!m.y||Math.abs(m.x)+Math.abs(m.y)<this.options.clickTolerance||(m.x/=this._parentScale.x,m.y/=this._parentScale.y,jt(c),this._moved||(this.fire("dragstart"),this._moved=!0,Ie(document.body,"leaflet-dragging"),this._lastTarget=c.target||c.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Ie(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(m),this._moving=!0,this._lastEvent=c,this._updatePosition())}},_updatePosition:function(){var c={originalEvent:this._lastEvent};this.fire("predrag",c),pt(this._element,this._newPos),this.fire("drag",c)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(c){dt(document.body,"leaflet-dragging"),this._lastTarget&&(dt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),it(document,"mousemove touchmove",this._onMove,this),it(document,"mouseup touchend touchcancel",this._onUp,this),Bg(),Oa();var h=this._moved&&this._moving;this._moving=!1,yr._dragging=!1,h&&this.fire("dragend",{noInertia:c,distance:this._newPos.distanceTo(this._startPos)})}});function c0(c,h,m){var b,E=[1,4,2,8],T,$,z,U,Z,ne,ge,Pe;for(T=0,ne=c.length;T<ne;T++)c[T]._code=ro(c[T],h);for(z=0;z<4;z++){for(ge=E[z],b=[],T=0,ne=c.length,$=ne-1;T<ne;$=T++)U=c[T],Z=c[$],U._code&ge?Z._code&ge||(Pe=ad(Z,U,ge,h,m),Pe._code=ro(Pe,h),b.push(Pe)):(Z._code&ge&&(Pe=ad(Z,U,ge,h,m),Pe._code=ro(Pe,h),b.push(Pe)),b.push(U));c=b}return c}function d0(c,h){var m,b,E,T,$,z,U,Z,ne;if(!c||c.length===0)throw new Error("latlngs not passed");Mn(c)||(console.warn("latlngs are not flat! Only the first ring will be used"),c=c[0]);var ge=me([0,0]),Pe=fe(c),Zt=Pe.getNorthWest().distanceTo(Pe.getSouthWest())*Pe.getNorthEast().distanceTo(Pe.getNorthWest());Zt<1700&&(ge=Jg(c));var Pt=c.length,An=[];for(m=0;m<Pt;m++){var cn=me(c[m]);An.push(h.project(me([cn.lat-ge.lat,cn.lng-ge.lng])))}for(z=U=Z=0,m=0,b=Pt-1;m<Pt;b=m++)E=An[m],T=An[b],$=E.y*T.x-T.y*E.x,U+=(E.x+T.x)*$,Z+=(E.y+T.y)*$,z+=$*3;z===0?ne=An[0]:ne=[U/z,Z/z];var ps=h.unproject(J(ne));return me([ps.lat+ge.lat,ps.lng+ge.lng])}function Jg(c){for(var h=0,m=0,b=0,E=0;E<c.length;E++){var T=me(c[E]);h+=T.lat,m+=T.lng,b++}return me([h/b,m/b])}var RI={__proto__:null,clipPolygon:c0,polygonCenter:d0,centroid:Jg};function u0(c,h){if(!h||!c.length)return c.slice();var m=h*h;return c=FI(c,m),c=LI(c,m),c}function h0(c,h,m){return Math.sqrt(ja(c,h,m,!0))}function OI(c,h,m){return ja(c,h,m)}function LI(c,h){var m=c.length,b=typeof Uint8Array<"u"?Uint8Array:Array,E=new b(m);E[0]=E[m-1]=1,Xg(c,E,h,0,m-1);var T,$=[];for(T=0;T<m;T++)E[T]&&$.push(c[T]);return $}function Xg(c,h,m,b,E){var T=0,$,z,U;for(z=b+1;z<=E-1;z++)U=ja(c[z],c[b],c[E],!0),U>T&&($=z,T=U);T>m&&(h[$]=1,Xg(c,h,m,b,$),Xg(c,h,m,$,E))}function FI(c,h){for(var m=[c[0]],b=1,E=0,T=c.length;b<T;b++)$I(c[b],c[E])>h&&(m.push(c[b]),E=b);return E<T-1&&m.push(c[T-1]),m}var f0;function g0(c,h,m,b,E){var T=b?f0:ro(c,m),$=ro(h,m),z,U,Z;for(f0=$;;){if(!(T|$))return[c,h];if(T&$)return!1;z=T||$,U=ad(c,h,z,m,E),Z=ro(U,m),z===T?(c=U,T=Z):(h=U,$=Z)}}function ad(c,h,m,b,E){var T=h.x-c.x,$=h.y-c.y,z=b.min,U=b.max,Z,ne;return m&8?(Z=c.x+T*(U.y-c.y)/$,ne=U.y):m&4?(Z=c.x+T*(z.y-c.y)/$,ne=z.y):m&2?(Z=U.x,ne=c.y+$*(U.x-c.x)/T):m&1&&(Z=z.x,ne=c.y+$*(z.x-c.x)/T),new V(Z,ne,E)}function ro(c,h){var m=0;return c.x<h.min.x?m|=1:c.x>h.max.x&&(m|=2),c.y<h.min.y?m|=4:c.y>h.max.y&&(m|=8),m}function $I(c,h){var m=h.x-c.x,b=h.y-c.y;return m*m+b*b}function ja(c,h,m,b){var E=h.x,T=h.y,$=m.x-E,z=m.y-T,U=$*$+z*z,Z;return U>0&&(Z=((c.x-E)*$+(c.y-T)*z)/U,Z>1?(E=m.x,T=m.y):Z>0&&(E+=$*Z,T+=z*Z)),$=c.x-E,z=c.y-T,b?$*$+z*z:new V(E,T)}function Mn(c){return!S(c[0])||typeof c[0][0]!="object"&&typeof c[0][0]<"u"}function p0(c){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Mn(c)}function m0(c,h){var m,b,E,T,$,z,U,Z;if(!c||c.length===0)throw new Error("latlngs not passed");Mn(c)||(console.warn("latlngs are not flat! Only the first ring will be used"),c=c[0]);var ne=me([0,0]),ge=fe(c),Pe=ge.getNorthWest().distanceTo(ge.getSouthWest())*ge.getNorthEast().distanceTo(ge.getNorthWest());Pe<1700&&(ne=Jg(c));var Zt=c.length,Pt=[];for(m=0;m<Zt;m++){var An=me(c[m]);Pt.push(h.project(me([An.lat-ne.lat,An.lng-ne.lng])))}for(m=0,b=0;m<Zt-1;m++)b+=Pt[m].distanceTo(Pt[m+1])/2;if(b===0)Z=Pt[0];else for(m=0,T=0;m<Zt-1;m++)if($=Pt[m],z=Pt[m+1],E=$.distanceTo(z),T+=E,T>b){U=(T-b)/E,Z=[z.x-U*(z.x-$.x),z.y-U*(z.y-$.y)];break}var cn=h.unproject(J(Z));return me([cn.lat+ne.lat,cn.lng+ne.lng])}var jI={__proto__:null,simplify:u0,pointToSegmentDistance:h0,closestPointOnSegment:OI,clipSegment:g0,_getEdgeIntersection:ad,_getBitCode:ro,_sqClosestPointOnSegment:ja,isFlat:Mn,_flat:p0,polylineCenter:m0},Qg={project:function(c){return new V(c.lng,c.lat)},unproject:function(c){return new Te(c.y,c.x)},bounds:new he([-180,-90],[180,90])},ep={R:6378137,R_MINOR:6356752314245179e-9,bounds:new he([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(c){var h=Math.PI/180,m=this.R,b=c.lat*h,E=this.R_MINOR/m,T=Math.sqrt(1-E*E),$=T*Math.sin(b),z=Math.tan(Math.PI/4-b/2)/Math.pow((1-$)/(1+$),T/2);return b=-m*Math.log(Math.max(z,1e-10)),new V(c.lng*h*m,b)},unproject:function(c){for(var h=180/Math.PI,m=this.R,b=this.R_MINOR/m,E=Math.sqrt(1-b*b),T=Math.exp(-c.y/m),$=Math.PI/2-2*Math.atan(T),z=0,U=.1,Z;z<15&&Math.abs(U)>1e-7;z++)Z=E*Math.sin($),Z=Math.pow((1-Z)/(1+Z),E/2),U=Math.PI/2-2*Math.atan(T*Z)-$,$+=U;return new Te($*h,c.x*h/m)}},BI={__proto__:null,LonLat:Qg,Mercator:ep,SphericalMercator:zi},VI=t({},$t,{code:"EPSG:3395",projection:ep,transformation:function(){var c=.5/(Math.PI*ep.R);return Xr(c,.5,-c,.5)}()}),_0=t({},$t,{code:"EPSG:4326",projection:Qg,transformation:Xr(1/180,1,-1/180,.5)}),zI=t({},Ue,{projection:Qg,transformation:Xr(1,0,-1,0),scale:function(c){return Math.pow(2,c)},zoom:function(c){return Math.log(c)/Math.LN2},distance:function(c,h){var m=h.lng-c.lng,b=h.lat-c.lat;return Math.sqrt(m*m+b*b)},infinite:!0});Ue.Earth=$t,Ue.EPSG3395=VI,Ue.EPSG3857=Ma,Ue.EPSG900913=gi,Ue.EPSG4326=_0,Ue.Simple=zI;var Zn=q.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(c){return c.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(c){return c&&c.removeLayer(this),this},getPane:function(c){return this._map.getPane(c?this.options[c]||c:this.options.pane)},addInteractiveTarget:function(c){return this._map._targets[s(c)]=this,this},removeInteractiveTarget:function(c){return delete this._map._targets[s(c)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(c){var h=c.target;if(h.hasLayer(this)){if(this._map=h,this._zoomAnimated=h._zoomAnimated,this.getEvents){var m=this.getEvents();h.on(m,this),this.once("remove",function(){h.off(m,this)},this)}this.onAdd(h),this.fire("add"),h.fire("layeradd",{layer:this})}}});Be.include({addLayer:function(c){if(!c._layerAdd)throw new Error("The provided object is not a Layer.");var h=s(c);return this._layers[h]?this:(this._layers[h]=c,c._mapToAdd=this,c.beforeAdd&&c.beforeAdd(this),this.whenReady(c._layerAdd,c),this)},removeLayer:function(c){var h=s(c);return this._layers[h]?(this._loaded&&c.onRemove(this),delete this._layers[h],this._loaded&&(this.fire("layerremove",{layer:c}),c.fire("remove")),c._map=c._mapToAdd=null,this):this},hasLayer:function(c){return s(c)in this._layers},eachLayer:function(c,h){for(var m in this._layers)c.call(h,this._layers[m]);return this},_addLayers:function(c){c=c?S(c)?c:[c]:[];for(var h=0,m=c.length;h<m;h++)this.addLayer(c[h])},_addZoomLimit:function(c){(!isNaN(c.options.maxZoom)||!isNaN(c.options.minZoom))&&(this._zoomBoundLayers[s(c)]=c,this._updateZoomLevels())},_removeZoomLimit:function(c){var h=s(c);this._zoomBoundLayers[h]&&(delete this._zoomBoundLayers[h],this._updateZoomLevels())},_updateZoomLevels:function(){var c=1/0,h=-1/0,m=this._getZoomSpan();for(var b in this._zoomBoundLayers){var E=this._zoomBoundLayers[b].options;c=E.minZoom===void 0?c:Math.min(c,E.minZoom),h=E.maxZoom===void 0?h:Math.max(h,E.maxZoom)}this._layersMaxZoom=h===-1/0?void 0:h,this._layersMinZoom=c===1/0?void 0:c,m!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ds=Zn.extend({initialize:function(c,h){p(this,h),this._layers={};var m,b;if(c)for(m=0,b=c.length;m<b;m++)this.addLayer(c[m])},addLayer:function(c){var h=this.getLayerId(c);return this._layers[h]=c,this._map&&this._map.addLayer(c),this},removeLayer:function(c){var h=c in this._layers?c:this.getLayerId(c);return this._map&&this._layers[h]&&this._map.removeLayer(this._layers[h]),delete this._layers[h],this},hasLayer:function(c){var h=typeof c=="number"?c:this.getLayerId(c);return h in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(c){var h=Array.prototype.slice.call(arguments,1),m,b;for(m in this._layers)b=this._layers[m],b[c]&&b[c].apply(b,h);return this},onAdd:function(c){this.eachLayer(c.addLayer,c)},onRemove:function(c){this.eachLayer(c.removeLayer,c)},eachLayer:function(c,h){for(var m in this._layers)c.call(h,this._layers[m]);return this},getLayer:function(c){return this._layers[c]},getLayers:function(){var c=[];return this.eachLayer(c.push,c),c},setZIndex:function(c){return this.invoke("setZIndex",c)},getLayerId:function(c){return s(c)}}),HI=function(c,h){return new ds(c,h)},Hi=ds.extend({addLayer:function(c){return this.hasLayer(c)?this:(c.addEventParent(this),ds.prototype.addLayer.call(this,c),this.fire("layeradd",{layer:c}))},removeLayer:function(c){return this.hasLayer(c)?(c in this._layers&&(c=this._layers[c]),c.removeEventParent(this),ds.prototype.removeLayer.call(this,c),this.fire("layerremove",{layer:c})):this},setStyle:function(c){return this.invoke("setStyle",c)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var c=new qe;for(var h in this._layers){var m=this._layers[h];c.extend(m.getBounds?m.getBounds():m.getLatLng())}return c}}),UI=function(c,h){return new Hi(c,h)},us=j.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(c){p(this,c)},createIcon:function(c){return this._createIcon("icon",c)},createShadow:function(c){return this._createIcon("shadow",c)},_createIcon:function(c,h){var m=this._getIconUrl(c);if(!m){if(c==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var b=this._createImg(m,h&&h.tagName==="IMG"?h:null);return this._setIconStyles(b,c),(this.options.crossOrigin||this.options.crossOrigin==="")&&(b.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),b},_setIconStyles:function(c,h){var m=this.options,b=m[h+"Size"];typeof b=="number"&&(b=[b,b]);var E=J(b),T=J(h==="shadow"&&m.shadowAnchor||m.iconAnchor||E&&E.divideBy(2,!0));c.className="leaflet-marker-"+h+" "+(m.className||""),T&&(c.style.marginLeft=-T.x+"px",c.style.marginTop=-T.y+"px"),E&&(c.style.width=E.x+"px",c.style.height=E.y+"px")},_createImg:function(c,h){return h=h||document.createElement("img"),h.src=c,h},_getIconUrl:function(c){return de.retina&&this.options[c+"RetinaUrl"]||this.options[c+"Url"]}});function WI(c){return new us(c)}var Ba=us.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(c){return typeof Ba.imagePath!="string"&&(Ba.imagePath=this._detectIconPath()),(this.options.imagePath||Ba.imagePath)+us.prototype._getIconUrl.call(this,c)},_stripUrl:function(c){var h=function(m,b,E){var T=b.exec(m);return T&&T[E]};return c=h(c,/^url\((['"])?(.+)\1\)$/,2),c&&h(c,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var c=Ze("div","leaflet-default-icon-path",document.body),h=Pa(c,"background-image")||Pa(c,"backgroundImage");if(document.body.removeChild(c),h=this._stripUrl(h),h)return h;var m=document.querySelector('link[href$="leaflet.css"]');return m?m.href.substring(0,m.href.length-11-1):""}}),v0=_i.extend({initialize:function(c){this._marker=c},addHooks:function(){var c=this._marker._icon;this._draggable||(this._draggable=new yr(c,c,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Ie(c,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&dt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(c){var h=this._marker,m=h._map,b=this._marker.options.autoPanSpeed,E=this._marker.options.autoPanPadding,T=to(h._icon),$=m.getPixelBounds(),z=m.getPixelOrigin(),U=Je($.min._subtract(z).add(E),$.max._subtract(z).subtract(E));if(!U.contains(T)){var Z=J((Math.max(U.max.x,T.x)-U.max.x)/($.max.x-U.max.x)-(Math.min(U.min.x,T.x)-U.min.x)/($.min.x-U.min.x),(Math.max(U.max.y,T.y)-U.max.y)/($.max.y-U.max.y)-(Math.min(U.min.y,T.y)-U.min.y)/($.min.y-U.min.y)).multiplyBy(b);m.panBy(Z,{animate:!1}),this._draggable._newPos._add(Z),this._draggable._startPos._add(Z),pt(h._icon,this._draggable._newPos),this._onDrag(c),this._panRequest=P(this._adjustPan.bind(this,c))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(c){this._marker.options.autoPan&&(R(this._panRequest),this._panRequest=P(this._adjustPan.bind(this,c)))},_onDrag:function(c){var h=this._marker,m=h._shadow,b=to(h._icon),E=h._map.layerPointToLatLng(b);m&&pt(m,b),h._latlng=E,c.latlng=E,c.oldLatLng=this._oldLatLng,h.fire("move",c).fire("drag",c)},_onDragEnd:function(c){R(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",c)}}),ld=Zn.extend({options:{icon:new Ba,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(c,h){p(this,h),this._latlng=me(c)},onAdd:function(c){this._zoomAnimated=this._zoomAnimated&&c.options.markerZoomAnimation,this._zoomAnimated&&c.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(c){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&c.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(c){var h=this._latlng;return this._latlng=me(c),this.update(),this.fire("move",{oldLatLng:h,latlng:this._latlng})},setZIndexOffset:function(c){return this.options.zIndexOffset=c,this.update()},getIcon:function(){return this.options.icon},setIcon:function(c){return this.options.icon=c,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var c=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(c)}return this},_initIcon:function(){var c=this.options,h="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),m=c.icon.createIcon(this._icon),b=!1;m!==this._icon&&(this._icon&&this._removeIcon(),b=!0,c.title&&(m.title=c.title),m.tagName==="IMG"&&(m.alt=c.alt||"")),Ie(m,h),c.keyboard&&(m.tabIndex="0",m.setAttribute("role","button")),this._icon=m,c.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ee(m,"focus",this._panOnFocus,this);var E=c.icon.createShadow(this._shadow),T=!1;E!==this._shadow&&(this._removeShadow(),T=!0),E&&(Ie(E,h),E.alt=""),this._shadow=E,c.opacity<1&&this._updateOpacity(),b&&this.getPane().appendChild(this._icon),this._initInteraction(),E&&T&&this.getPane(c.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&it(this._icon,"focus",this._panOnFocus,this),at(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&at(this._shadow),this._shadow=null},_setPos:function(c){this._icon&&pt(this._icon,c),this._shadow&&pt(this._shadow,c),this._zIndex=c.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(c){this._icon&&(this._icon.style.zIndex=this._zIndex+c)},_animateZoom:function(c){var h=this._map._latLngToNewLayerPoint(this._latlng,c.zoom,c.center).round();this._setPos(h)},_initInteraction:function(){if(this.options.interactive&&(Ie(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),v0)){var c=this.options.draggable;this.dragging&&(c=this.dragging.enabled(),this.dragging.disable()),this.dragging=new v0(this),c&&this.dragging.enable()}},setOpacity:function(c){return this.options.opacity=c,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var c=this.options.opacity;this._icon&&In(this._icon,c),this._shadow&&In(this._shadow,c)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var c=this._map;if(c){var h=this.options.icon.options,m=h.iconSize?J(h.iconSize):J(0,0),b=h.iconAnchor?J(h.iconAnchor):J(0,0);c.panInside(this._latlng,{paddingTopLeft:b,paddingBottomRight:m.subtract(b)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function GI(c,h){return new ld(c,h)}var br=Zn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(c){this._renderer=c.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(c){return p(this,c),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&c&&Object.prototype.hasOwnProperty.call(c,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),cd=br.extend({options:{fill:!0,radius:10},initialize:function(c,h){p(this,h),this._latlng=me(c),this._radius=this.options.radius},setLatLng:function(c){var h=this._latlng;return this._latlng=me(c),this.redraw(),this.fire("move",{oldLatLng:h,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(c){return this.options.radius=this._radius=c,this.redraw()},getRadius:function(){return this._radius},setStyle:function(c){var h=c&&c.radius||this._radius;return br.prototype.setStyle.call(this,c),this.setRadius(h),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var c=this._radius,h=this._radiusY||c,m=this._clickTolerance(),b=[c+m,h+m];this._pxBounds=new he(this._point.subtract(b),this._point.add(b))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(c){return c.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function qI(c,h){return new cd(c,h)}var tp=cd.extend({initialize:function(c,h,m){if(typeof h=="number"&&(h=t({},m,{radius:h})),p(this,h),this._latlng=me(c),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(c){return this._mRadius=c,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var c=[this._radius,this._radiusY||this._radius];return new qe(this._map.layerPointToLatLng(this._point.subtract(c)),this._map.layerPointToLatLng(this._point.add(c)))},setStyle:br.prototype.setStyle,_project:function(){var c=this._latlng.lng,h=this._latlng.lat,m=this._map,b=m.options.crs;if(b.distance===$t.distance){var E=Math.PI/180,T=this._mRadius/$t.R/E,$=m.project([h+T,c]),z=m.project([h-T,c]),U=$.add(z).divideBy(2),Z=m.unproject(U).lat,ne=Math.acos((Math.cos(T*E)-Math.sin(h*E)*Math.sin(Z*E))/(Math.cos(h*E)*Math.cos(Z*E)))/E;(isNaN(ne)||ne===0)&&(ne=T/Math.cos(Math.PI/180*h)),this._point=U.subtract(m.getPixelOrigin()),this._radius=isNaN(ne)?0:U.x-m.project([Z,c-ne]).x,this._radiusY=U.y-$.y}else{var ge=b.unproject(b.project(this._latlng).subtract([this._mRadius,0]));this._point=m.latLngToLayerPoint(this._latlng),this._radius=this._point.x-m.latLngToLayerPoint(ge).x}this._updateBounds()}});function ZI(c,h,m){return new tp(c,h,m)}var Ui=br.extend({options:{smoothFactor:1,noClip:!1},initialize:function(c,h){p(this,h),this._setLatLngs(c)},getLatLngs:function(){return this._latlngs},setLatLngs:function(c){return this._setLatLngs(c),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(c){for(var h=1/0,m=null,b=ja,E,T,$=0,z=this._parts.length;$<z;$++)for(var U=this._parts[$],Z=1,ne=U.length;Z<ne;Z++){E=U[Z-1],T=U[Z];var ge=b(c,E,T,!0);ge<h&&(h=ge,m=b(c,E,T))}return m&&(m.distance=Math.sqrt(h)),m},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return m0(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(c,h){return h=h||this._defaultShape(),c=me(c),h.push(c),this._bounds.extend(c),this.redraw()},_setLatLngs:function(c){this._bounds=new qe,this._latlngs=this._convertLatLngs(c)},_defaultShape:function(){return Mn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(c){for(var h=[],m=Mn(c),b=0,E=c.length;b<E;b++)m?(h[b]=me(c[b]),this._bounds.extend(h[b])):h[b]=this._convertLatLngs(c[b]);return h},_project:function(){var c=new he;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,c),this._bounds.isValid()&&c.isValid()&&(this._rawPxBounds=c,this._updateBounds())},_updateBounds:function(){var c=this._clickTolerance(),h=new V(c,c);this._rawPxBounds&&(this._pxBounds=new he([this._rawPxBounds.min.subtract(h),this._rawPxBounds.max.add(h)]))},_projectLatlngs:function(c,h,m){var b=c[0]instanceof Te,E=c.length,T,$;if(b){for($=[],T=0;T<E;T++)$[T]=this._map.latLngToLayerPoint(c[T]),m.extend($[T]);h.push($)}else for(T=0;T<E;T++)this._projectLatlngs(c[T],h,m)},_clipPoints:function(){var c=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(c))){if(this.options.noClip){this._parts=this._rings;return}var h=this._parts,m,b,E,T,$,z,U;for(m=0,E=0,T=this._rings.length;m<T;m++)for(U=this._rings[m],b=0,$=U.length;b<$-1;b++)z=g0(U[b],U[b+1],c,b,!0),z&&(h[E]=h[E]||[],h[E].push(z[0]),(z[1]!==U[b+1]||b===$-2)&&(h[E].push(z[1]),E++))}},_simplifyPoints:function(){for(var c=this._parts,h=this.options.smoothFactor,m=0,b=c.length;m<b;m++)c[m]=u0(c[m],h)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(c,h){var m,b,E,T,$,z,U=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(c))return!1;for(m=0,T=this._parts.length;m<T;m++)for(z=this._parts[m],b=0,$=z.length,E=$-1;b<$;E=b++)if(!(!h&&b===0)&&h0(c,z[E],z[b])<=U)return!0;return!1}});function YI(c,h){return new Ui(c,h)}Ui._flat=p0;var hs=Ui.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return d0(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(c){var h=Ui.prototype._convertLatLngs.call(this,c),m=h.length;return m>=2&&h[0]instanceof Te&&h[0].equals(h[m-1])&&h.pop(),h},_setLatLngs:function(c){Ui.prototype._setLatLngs.call(this,c),Mn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Mn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var c=this._renderer._bounds,h=this.options.weight,m=new V(h,h);if(c=new he(c.min.subtract(m),c.max.add(m)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(c))){if(this.options.noClip){this._parts=this._rings;return}for(var b=0,E=this._rings.length,T;b<E;b++)T=c0(this._rings[b],c,!0),T.length&&this._parts.push(T)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(c){var h=!1,m,b,E,T,$,z,U,Z;if(!this._pxBounds||!this._pxBounds.contains(c))return!1;for(T=0,U=this._parts.length;T<U;T++)for(m=this._parts[T],$=0,Z=m.length,z=Z-1;$<Z;z=$++)b=m[$],E=m[z],b.y>c.y!=E.y>c.y&&c.x<(E.x-b.x)*(c.y-b.y)/(E.y-b.y)+b.x&&(h=!h);return h||Ui.prototype._containsPoint.call(this,c,!0)}});function KI(c,h){return new hs(c,h)}var Wi=Hi.extend({initialize:function(c,h){p(this,h),this._layers={},c&&this.addData(c)},addData:function(c){var h=S(c)?c:c.features,m,b,E;if(h){for(m=0,b=h.length;m<b;m++)E=h[m],(E.geometries||E.geometry||E.features||E.coordinates)&&this.addData(E);return this}var T=this.options;if(T.filter&&!T.filter(c))return this;var $=dd(c,T);return $?($.feature=fd(c),$.defaultOptions=$.options,this.resetStyle($),T.onEachFeature&&T.onEachFeature(c,$),this.addLayer($)):this},resetStyle:function(c){return c===void 0?this.eachLayer(this.resetStyle,this):(c.options=t({},c.defaultOptions),this._setLayerStyle(c,this.options.style),this)},setStyle:function(c){return this.eachLayer(function(h){this._setLayerStyle(h,c)},this)},_setLayerStyle:function(c,h){c.setStyle&&(typeof h=="function"&&(h=h(c.feature)),c.setStyle(h))}});function dd(c,h){var m=c.type==="Feature"?c.geometry:c,b=m?m.coordinates:null,E=[],T=h&&h.pointToLayer,$=h&&h.coordsToLatLng||np,z,U,Z,ne;if(!b&&!m)return null;switch(m.type){case"Point":return z=$(b),y0(T,c,z,h);case"MultiPoint":for(Z=0,ne=b.length;Z<ne;Z++)z=$(b[Z]),E.push(y0(T,c,z,h));return new Hi(E);case"LineString":case"MultiLineString":return U=ud(b,m.type==="LineString"?0:1,$),new Ui(U,h);case"Polygon":case"MultiPolygon":return U=ud(b,m.type==="Polygon"?1:2,$),new hs(U,h);case"GeometryCollection":for(Z=0,ne=m.geometries.length;Z<ne;Z++){var ge=dd({geometry:m.geometries[Z],type:"Feature",properties:c.properties},h);ge&&E.push(ge)}return new Hi(E);case"FeatureCollection":for(Z=0,ne=m.features.length;Z<ne;Z++){var Pe=dd(m.features[Z],h);Pe&&E.push(Pe)}return new Hi(E);default:throw new Error("Invalid GeoJSON object.")}}function y0(c,h,m,b){return c?c(h,m):new ld(m,b&&b.markersInheritOptions&&b)}function np(c){return new Te(c[1],c[0],c[2])}function ud(c,h,m){for(var b=[],E=0,T=c.length,$;E<T;E++)$=h?ud(c[E],h-1,m):(m||np)(c[E]),b.push($);return b}function ip(c,h){return c=me(c),c.alt!==void 0?[u(c.lng,h),u(c.lat,h),u(c.alt,h)]:[u(c.lng,h),u(c.lat,h)]}function hd(c,h,m,b){for(var E=[],T=0,$=c.length;T<$;T++)E.push(h?hd(c[T],Mn(c[T])?0:h-1,m,b):ip(c[T],b));return!h&&m&&E.length>0&&E.push(E[0].slice()),E}function fs(c,h){return c.feature?t({},c.feature,{geometry:h}):fd(h)}function fd(c){return c.type==="Feature"||c.type==="FeatureCollection"?c:{type:"Feature",properties:{},geometry:c}}var rp={toGeoJSON:function(c){return fs(this,{type:"Point",coordinates:ip(this.getLatLng(),c)})}};ld.include(rp),tp.include(rp),cd.include(rp),Ui.include({toGeoJSON:function(c){var h=!Mn(this._latlngs),m=hd(this._latlngs,h?1:0,!1,c);return fs(this,{type:(h?"Multi":"")+"LineString",coordinates:m})}}),hs.include({toGeoJSON:function(c){var h=!Mn(this._latlngs),m=h&&!Mn(this._latlngs[0]),b=hd(this._latlngs,m?2:h?1:0,!0,c);return h||(b=[b]),fs(this,{type:(m?"Multi":"")+"Polygon",coordinates:b})}}),ds.include({toMultiPoint:function(c){var h=[];return this.eachLayer(function(m){h.push(m.toGeoJSON(c).geometry.coordinates)}),fs(this,{type:"MultiPoint",coordinates:h})},toGeoJSON:function(c){var h=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(h==="MultiPoint")return this.toMultiPoint(c);var m=h==="GeometryCollection",b=[];return this.eachLayer(function(E){if(E.toGeoJSON){var T=E.toGeoJSON(c);if(m)b.push(T.geometry);else{var $=fd(T);$.type==="FeatureCollection"?b.push.apply(b,$.features):b.push($)}}}),m?fs(this,{geometries:b,type:"GeometryCollection"}):{type:"FeatureCollection",features:b}}});function b0(c,h){return new Wi(c,h)}var JI=b0,gd=Zn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(c,h,m){this._url=c,this._bounds=fe(h),p(this,m)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Ie(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){at(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(c){return this.options.opacity=c,this._image&&this._updateOpacity(),this},setStyle:function(c){return c.opacity&&this.setOpacity(c.opacity),this},bringToFront:function(){return this._map&&ls(this._image),this},bringToBack:function(){return this._map&&cs(this._image),this},setUrl:function(c){return this._url=c,this._image&&(this._image.src=c),this},setBounds:function(c){return this._bounds=fe(c),this._map&&this._reset(),this},getEvents:function(){var c={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(c.zoomanim=this._animateZoom),c},setZIndex:function(c){return this.options.zIndex=c,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var c=this._url.tagName==="IMG",h=this._image=c?this._url:Ze("img");if(Ie(h,"leaflet-image-layer"),this._zoomAnimated&&Ie(h,"leaflet-zoom-animated"),this.options.className&&Ie(h,this.options.className),h.onselectstart=d,h.onmousemove=d,h.onload=r(this.fire,this,"load"),h.onerror=r(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(h.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),c){this._url=h.src;return}h.src=this._url,h.alt=this.options.alt},_animateZoom:function(c){var h=this._map.getZoomScale(c.zoom),m=this._map._latLngBoundsToNewLayerBounds(this._bounds,c.zoom,c.center).min;eo(this._image,m,h)},_reset:function(){var c=this._image,h=new he(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),m=h.getSize();pt(c,h.min),c.style.width=m.x+"px",c.style.height=m.y+"px"},_updateOpacity:function(){In(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var c=this.options.errorOverlayUrl;c&&this._url!==c&&(this._url=c,this._image.src=c)},getCenter:function(){return this._bounds.getCenter()}}),XI=function(c,h,m){return new gd(c,h,m)},x0=gd.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var c=this._url.tagName==="VIDEO",h=this._image=c?this._url:Ze("video");if(Ie(h,"leaflet-image-layer"),this._zoomAnimated&&Ie(h,"leaflet-zoom-animated"),this.options.className&&Ie(h,this.options.className),h.onselectstart=d,h.onmousemove=d,h.onloadeddata=r(this.fire,this,"load"),c){for(var m=h.getElementsByTagName("source"),b=[],E=0;E<m.length;E++)b.push(m[E].src);this._url=m.length>0?b:[h.src];return}S(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(h.style,"objectFit")&&(h.style.objectFit="fill"),h.autoplay=!!this.options.autoplay,h.loop=!!this.options.loop,h.muted=!!this.options.muted,h.playsInline=!!this.options.playsInline;for(var T=0;T<this._url.length;T++){var $=Ze("source");$.src=this._url[T],h.appendChild($)}}});function QI(c,h,m){return new x0(c,h,m)}var w0=gd.extend({_initImage:function(){var c=this._image=this._url;Ie(c,"leaflet-image-layer"),this._zoomAnimated&&Ie(c,"leaflet-zoom-animated"),this.options.className&&Ie(c,this.options.className),c.onselectstart=d,c.onmousemove=d}});function eM(c,h,m){return new w0(c,h,m)}var vi=Zn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(c,h){c&&(c instanceof Te||S(c))?(this._latlng=me(c),p(this,h)):(p(this,c),this._source=h),this.options.content&&(this._content=this.options.content)},openOn:function(c){return c=arguments.length?c:this._source._map,c.hasLayer(this)||c.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(c){return this._map?this.close():(arguments.length?this._source=c:c=this._source,this._prepareOpen(),this.openOn(c._map)),this},onAdd:function(c){this._zoomAnimated=c._zoomAnimated,this._container||this._initLayout(),c._fadeAnimated&&In(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),c._fadeAnimated&&In(this._container,1),this.bringToFront(),this.options.interactive&&(Ie(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(c){c._fadeAnimated?(In(this._container,0),this._removeTimeout=setTimeout(r(at,void 0,this._container),200)):at(this._container),this.options.interactive&&(dt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(c){return this._latlng=me(c),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(c){return this._content=c,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var c={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(c.zoomanim=this._animateZoom),c},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&ls(this._container),this},bringToBack:function(){return this._map&&cs(this._container),this},_prepareOpen:function(c){var h=this._source;if(!h._map)return!1;if(h instanceof Hi){h=null;var m=this._source._layers;for(var b in m)if(m[b]._map){h=m[b];break}if(!h)return!1;this._source=h}if(!c)if(h.getCenter)c=h.getCenter();else if(h.getLatLng)c=h.getLatLng();else if(h.getBounds)c=h.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(c),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var c=this._contentNode,h=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof h=="string")c.innerHTML=h;else{for(;c.hasChildNodes();)c.removeChild(c.firstChild);c.appendChild(h)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var c=this._map.latLngToLayerPoint(this._latlng),h=J(this.options.offset),m=this._getAnchor();this._zoomAnimated?pt(this._container,c.add(m)):h=h.add(c).add(m);var b=this._containerBottom=-h.y,E=this._containerLeft=-Math.round(this._containerWidth/2)+h.x;this._container.style.bottom=b+"px",this._container.style.left=E+"px"}},_getAnchor:function(){return[0,0]}});Be.include({_initOverlay:function(c,h,m,b){var E=h;return E instanceof c||(E=new c(b).setContent(h)),m&&E.setLatLng(m),E}}),Zn.include({_initOverlay:function(c,h,m,b){var E=m;return E instanceof c?(p(E,b),E._source=this):(E=h&&!b?h:new c(b,this),E.setContent(m)),E}});var pd=vi.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(c){return c=arguments.length?c:this._source._map,!c.hasLayer(this)&&c._popup&&c._popup.options.autoClose&&c.removeLayer(c._popup),c._popup=this,vi.prototype.openOn.call(this,c)},onAdd:function(c){vi.prototype.onAdd.call(this,c),c.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof br||this._source.on("preclick",no))},onRemove:function(c){vi.prototype.onRemove.call(this,c),c.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof br||this._source.off("preclick",no))},getEvents:function(){var c=vi.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(c.preclick=this.close),this.options.keepInView&&(c.moveend=this._adjustPan),c},_initLayout:function(){var c="leaflet-popup",h=this._container=Ze("div",c+" "+(this.options.className||"")+" leaflet-zoom-animated"),m=this._wrapper=Ze("div",c+"-content-wrapper",h);if(this._contentNode=Ze("div",c+"-content",m),Fa(h),qg(this._contentNode),Ee(h,"contextmenu",no),this._tipContainer=Ze("div",c+"-tip-container",h),this._tip=Ze("div",c+"-tip",this._tipContainer),this.options.closeButton){var b=this._closeButton=Ze("a",c+"-close-button",h);b.setAttribute("role","button"),b.setAttribute("aria-label","Close popup"),b.href="#close",b.innerHTML='<span aria-hidden="true">&#215;</span>',Ee(b,"click",function(E){jt(E),this.close()},this)}},_updateLayout:function(){var c=this._contentNode,h=c.style;h.width="",h.whiteSpace="nowrap";var m=c.offsetWidth;m=Math.min(m,this.options.maxWidth),m=Math.max(m,this.options.minWidth),h.width=m+1+"px",h.whiteSpace="",h.height="";var b=c.offsetHeight,E=this.options.maxHeight,T="leaflet-popup-scrolled";E&&b>E?(h.height=E+"px",Ie(c,T)):dt(c,T),this._containerWidth=this._container.offsetWidth},_animateZoom:function(c){var h=this._map._latLngToNewLayerPoint(this._latlng,c.zoom,c.center),m=this._getAnchor();pt(this._container,h.add(m))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var c=this._map,h=parseInt(Pa(this._container,"marginBottom"),10)||0,m=this._container.offsetHeight+h,b=this._containerWidth,E=new V(this._containerLeft,-m-this._containerBottom);E._add(to(this._container));var T=c.layerPointToContainerPoint(E),$=J(this.options.autoPanPadding),z=J(this.options.autoPanPaddingTopLeft||$),U=J(this.options.autoPanPaddingBottomRight||$),Z=c.getSize(),ne=0,ge=0;T.x+b+U.x>Z.x&&(ne=T.x+b-Z.x+U.x),T.x-ne-z.x<0&&(ne=T.x-z.x),T.y+m+U.y>Z.y&&(ge=T.y+m-Z.y+U.y),T.y-ge-z.y<0&&(ge=T.y-z.y),(ne||ge)&&(this.options.keepInView&&(this._autopanning=!0),c.fire("autopanstart").panBy([ne,ge]))}},_getAnchor:function(){return J(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),tM=function(c,h){return new pd(c,h)};Be.mergeOptions({closePopupOnClick:!0}),Be.include({openPopup:function(c,h,m){return this._initOverlay(pd,c,h,m).openOn(this),this},closePopup:function(c){return c=arguments.length?c:this._popup,c&&c.close(),this}}),Zn.include({bindPopup:function(c,h){return this._popup=this._initOverlay(pd,this._popup,c,h),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(c){return this._popup&&(this instanceof Hi||(this._popup._source=this),this._popup._prepareOpen(c||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(c){return this._popup&&this._popup.setContent(c),this},getPopup:function(){return this._popup},_openPopup:function(c){if(!(!this._popup||!this._map)){io(c);var h=c.layer||c.target;if(this._popup._source===h&&!(h instanceof br)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(c.latlng);return}this._popup._source=h,this.openPopup(c.latlng)}},_movePopup:function(c){this._popup.setLatLng(c.latlng)},_onKeyPress:function(c){c.originalEvent.keyCode===13&&this._openPopup(c)}});var md=vi.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(c){vi.prototype.onAdd.call(this,c),this.setOpacity(this.options.opacity),c.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(c){vi.prototype.onRemove.call(this,c),c.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var c=vi.prototype.getEvents.call(this);return this.options.permanent||(c.preclick=this.close),c},_initLayout:function(){var c="leaflet-tooltip",h=c+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Ze("div",h),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+s(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(c){var h,m,b=this._map,E=this._container,T=b.latLngToContainerPoint(b.getCenter()),$=b.layerPointToContainerPoint(c),z=this.options.direction,U=E.offsetWidth,Z=E.offsetHeight,ne=J(this.options.offset),ge=this._getAnchor();z==="top"?(h=U/2,m=Z):z==="bottom"?(h=U/2,m=0):z==="center"?(h=U/2,m=Z/2):z==="right"?(h=0,m=Z/2):z==="left"?(h=U,m=Z/2):$.x<T.x?(z="right",h=0,m=Z/2):(z="left",h=U+(ne.x+ge.x)*2,m=Z/2),c=c.subtract(J(h,m,!0)).add(ne).add(ge),dt(E,"leaflet-tooltip-right"),dt(E,"leaflet-tooltip-left"),dt(E,"leaflet-tooltip-top"),dt(E,"leaflet-tooltip-bottom"),Ie(E,"leaflet-tooltip-"+z),pt(E,c)},_updatePosition:function(){var c=this._map.latLngToLayerPoint(this._latlng);this._setPosition(c)},setOpacity:function(c){this.options.opacity=c,this._container&&In(this._container,c)},_animateZoom:function(c){var h=this._map._latLngToNewLayerPoint(this._latlng,c.zoom,c.center);this._setPosition(h)},_getAnchor:function(){return J(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),nM=function(c,h){return new md(c,h)};Be.include({openTooltip:function(c,h,m){return this._initOverlay(md,c,h,m).openOn(this),this},closeTooltip:function(c){return c.close(),this}}),Zn.include({bindTooltip:function(c,h){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(md,this._tooltip,c,h),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(c){if(!(!c&&this._tooltipHandlersAdded)){var h=c?"off":"on",m={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?m.add=this._openTooltip:(m.mouseover=this._openTooltip,m.mouseout=this.closeTooltip,m.click=this._openTooltip,this._map?this._addFocusListeners():m.add=this._addFocusListeners),this._tooltip.options.sticky&&(m.mousemove=this._moveTooltip),this[h](m),this._tooltipHandlersAdded=!c}},openTooltip:function(c){return this._tooltip&&(this instanceof Hi||(this._tooltip._source=this),this._tooltip._prepareOpen(c)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(c){return this._tooltip&&this._tooltip.setContent(c),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(c){var h=typeof c.getElement=="function"&&c.getElement();h&&(Ee(h,"focus",function(){this._tooltip._source=c,this.openTooltip()},this),Ee(h,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(c){var h=typeof c.getElement=="function"&&c.getElement();h&&h.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(c){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var h=this;this._map.once("moveend",function(){h._openOnceFlag=!1,h._openTooltip(c)});return}this._tooltip._source=c.layer||c.target,this.openTooltip(this._tooltip.options.sticky?c.latlng:void 0)}},_moveTooltip:function(c){var h=c.latlng,m,b;this._tooltip.options.sticky&&c.originalEvent&&(m=this._map.mouseEventToContainerPoint(c.originalEvent),b=this._map.containerPointToLayerPoint(m),h=this._map.layerPointToLatLng(b)),this._tooltip.setLatLng(h)}});var k0=us.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(c){var h=c&&c.tagName==="DIV"?c:document.createElement("div"),m=this.options;if(m.html instanceof Element?(nd(h),h.appendChild(m.html)):h.innerHTML=m.html!==!1?m.html:"",m.bgPos){var b=J(m.bgPos);h.style.backgroundPosition=-b.x+"px "+-b.y+"px"}return this._setIconStyles(h,"icon"),h},createShadow:function(){return null}});function iM(c){return new k0(c)}us.Default=Ba;var Va=Zn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:de.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(c){p(this,c)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(c){c._addZoomLimit(this)},onRemove:function(c){this._removeAllTiles(),at(this._container),c._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(ls(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(cs(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(c){return this.options.opacity=c,this._updateOpacity(),this},setZIndex:function(c){return this.options.zIndex=c,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var c=this._clampZoom(this._map.getZoom());c!==this._tileZoom&&(this._tileZoom=c,this._updateLevels()),this._update()}return this},getEvents:function(){var c={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=a(this._onMoveEnd,this.options.updateInterval,this)),c.move=this._onMove),this._zoomAnimated&&(c.zoomanim=this._animateZoom),c},createTile:function(){return document.createElement("div")},getTileSize:function(){var c=this.options.tileSize;return c instanceof V?c:new V(c,c)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(c){for(var h=this.getPane().children,m=-c(-1/0,1/0),b=0,E=h.length,T;b<E;b++)T=h[b].style.zIndex,h[b]!==this._container&&T&&(m=c(m,+T));isFinite(m)&&(this.options.zIndex=m+c(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!de.ielt9){In(this._container,this.options.opacity);var c=+new Date,h=!1,m=!1;for(var b in this._tiles){var E=this._tiles[b];if(!(!E.current||!E.loaded)){var T=Math.min(1,(c-E.loaded)/200);In(E.el,T),T<1?h=!0:(E.active?m=!0:this._onOpaqueTile(E),E.active=!0)}}m&&!this._noPrune&&this._pruneTiles(),h&&(R(this._fadeFrame),this._fadeFrame=P(this._updateOpacity,this))}},_onOpaqueTile:d,_initContainer:function(){this._container||(this._container=Ze("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var c=this._tileZoom,h=this.options.maxZoom;if(c!==void 0){for(var m in this._levels)m=Number(m),this._levels[m].el.children.length||m===c?(this._levels[m].el.style.zIndex=h-Math.abs(c-m),this._onUpdateLevel(m)):(at(this._levels[m].el),this._removeTilesAtZoom(m),this._onRemoveLevel(m),delete this._levels[m]);var b=this._levels[c],E=this._map;return b||(b=this._levels[c]={},b.el=Ze("div","leaflet-tile-container leaflet-zoom-animated",this._container),b.el.style.zIndex=h,b.origin=E.project(E.unproject(E.getPixelOrigin()),c).round(),b.zoom=c,this._setZoomTransform(b,E.getCenter(),E.getZoom()),d(b.el.offsetWidth),this._onCreateLevel(b)),this._level=b,b}},_onUpdateLevel:d,_onRemoveLevel:d,_onCreateLevel:d,_pruneTiles:function(){if(this._map){var c,h,m=this._map.getZoom();if(m>this.options.maxZoom||m<this.options.minZoom){this._removeAllTiles();return}for(c in this._tiles)h=this._tiles[c],h.retain=h.current;for(c in this._tiles)if(h=this._tiles[c],h.current&&!h.active){var b=h.coords;this._retainParent(b.x,b.y,b.z,b.z-5)||this._retainChildren(b.x,b.y,b.z,b.z+2)}for(c in this._tiles)this._tiles[c].retain||this._removeTile(c)}},_removeTilesAtZoom:function(c){for(var h in this._tiles)this._tiles[h].coords.z===c&&this._removeTile(h)},_removeAllTiles:function(){for(var c in this._tiles)this._removeTile(c)},_invalidateAll:function(){for(var c in this._levels)at(this._levels[c].el),this._onRemoveLevel(Number(c)),delete this._levels[c];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(c,h,m,b){var E=Math.floor(c/2),T=Math.floor(h/2),$=m-1,z=new V(+E,+T);z.z=+$;var U=this._tileCoordsToKey(z),Z=this._tiles[U];return Z&&Z.active?(Z.retain=!0,!0):(Z&&Z.loaded&&(Z.retain=!0),$>b?this._retainParent(E,T,$,b):!1)},_retainChildren:function(c,h,m,b){for(var E=2*c;E<2*c+2;E++)for(var T=2*h;T<2*h+2;T++){var $=new V(E,T);$.z=m+1;var z=this._tileCoordsToKey($),U=this._tiles[z];if(U&&U.active){U.retain=!0;continue}else U&&U.loaded&&(U.retain=!0);m+1<b&&this._retainChildren(E,T,m+1,b)}},_resetView:function(c){var h=c&&(c.pinch||c.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),h,h)},_animateZoom:function(c){this._setView(c.center,c.zoom,!0,c.noUpdate)},_clampZoom:function(c){var h=this.options;return h.minNativeZoom!==void 0&&c<h.minNativeZoom?h.minNativeZoom:h.maxNativeZoom!==void 0&&h.maxNativeZoom<c?h.maxNativeZoom:c},_setView:function(c,h,m,b){var E=Math.round(h);this.options.maxZoom!==void 0&&E>this.options.maxZoom||this.options.minZoom!==void 0&&E<this.options.minZoom?E=void 0:E=this._clampZoom(E);var T=this.options.updateWhenZooming&&E!==this._tileZoom;(!b||T)&&(this._tileZoom=E,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),E!==void 0&&this._update(c),m||this._pruneTiles(),this._noPrune=!!m),this._setZoomTransforms(c,h)},_setZoomTransforms:function(c,h){for(var m in this._levels)this._setZoomTransform(this._levels[m],c,h)},_setZoomTransform:function(c,h,m){var b=this._map.getZoomScale(m,c.zoom),E=c.origin.multiplyBy(b).subtract(this._map._getNewPixelOrigin(h,m)).round();de.any3d?eo(c.el,E,b):pt(c.el,E)},_resetGrid:function(){var c=this._map,h=c.options.crs,m=this._tileSize=this.getTileSize(),b=this._tileZoom,E=this._map.getPixelWorldBounds(this._tileZoom);E&&(this._globalTileRange=this._pxBoundsToTileRange(E)),this._wrapX=h.wrapLng&&!this.options.noWrap&&[Math.floor(c.project([0,h.wrapLng[0]],b).x/m.x),Math.ceil(c.project([0,h.wrapLng[1]],b).x/m.y)],this._wrapY=h.wrapLat&&!this.options.noWrap&&[Math.floor(c.project([h.wrapLat[0],0],b).y/m.x),Math.ceil(c.project([h.wrapLat[1],0],b).y/m.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(c){var h=this._map,m=h._animatingZoom?Math.max(h._animateToZoom,h.getZoom()):h.getZoom(),b=h.getZoomScale(m,this._tileZoom),E=h.project(c,this._tileZoom).floor(),T=h.getSize().divideBy(b*2);return new he(E.subtract(T),E.add(T))},_update:function(c){var h=this._map;if(h){var m=this._clampZoom(h.getZoom());if(c===void 0&&(c=h.getCenter()),this._tileZoom!==void 0){var b=this._getTiledPixelBounds(c),E=this._pxBoundsToTileRange(b),T=E.getCenter(),$=[],z=this.options.keepBuffer,U=new he(E.getBottomLeft().subtract([z,-z]),E.getTopRight().add([z,-z]));if(!(isFinite(E.min.x)&&isFinite(E.min.y)&&isFinite(E.max.x)&&isFinite(E.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Z in this._tiles){var ne=this._tiles[Z].coords;(ne.z!==this._tileZoom||!U.contains(new V(ne.x,ne.y)))&&(this._tiles[Z].current=!1)}if(Math.abs(m-this._tileZoom)>1){this._setView(c,m);return}for(var ge=E.min.y;ge<=E.max.y;ge++)for(var Pe=E.min.x;Pe<=E.max.x;Pe++){var Zt=new V(Pe,ge);if(Zt.z=this._tileZoom,!!this._isValidTile(Zt)){var Pt=this._tiles[this._tileCoordsToKey(Zt)];Pt?Pt.current=!0:$.push(Zt)}}if($.sort(function(cn,ps){return cn.distanceTo(T)-ps.distanceTo(T)}),$.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var An=document.createDocumentFragment();for(Pe=0;Pe<$.length;Pe++)this._addTile($[Pe],An);this._level.el.appendChild(An)}}}},_isValidTile:function(c){var h=this._map.options.crs;if(!h.infinite){var m=this._globalTileRange;if(!h.wrapLng&&(c.x<m.min.x||c.x>m.max.x)||!h.wrapLat&&(c.y<m.min.y||c.y>m.max.y))return!1}if(!this.options.bounds)return!0;var b=this._tileCoordsToBounds(c);return fe(this.options.bounds).overlaps(b)},_keyToBounds:function(c){return this._tileCoordsToBounds(this._keyToTileCoords(c))},_tileCoordsToNwSe:function(c){var h=this._map,m=this.getTileSize(),b=c.scaleBy(m),E=b.add(m),T=h.unproject(b,c.z),$=h.unproject(E,c.z);return[T,$]},_tileCoordsToBounds:function(c){var h=this._tileCoordsToNwSe(c),m=new qe(h[0],h[1]);return this.options.noWrap||(m=this._map.wrapLatLngBounds(m)),m},_tileCoordsToKey:function(c){return c.x+":"+c.y+":"+c.z},_keyToTileCoords:function(c){var h=c.split(":"),m=new V(+h[0],+h[1]);return m.z=+h[2],m},_removeTile:function(c){var h=this._tiles[c];h&&(at(h.el),delete this._tiles[c],this.fire("tileunload",{tile:h.el,coords:this._keyToTileCoords(c)}))},_initTile:function(c){Ie(c,"leaflet-tile");var h=this.getTileSize();c.style.width=h.x+"px",c.style.height=h.y+"px",c.onselectstart=d,c.onmousemove=d,de.ielt9&&this.options.opacity<1&&In(c,this.options.opacity)},_addTile:function(c,h){var m=this._getTilePos(c),b=this._tileCoordsToKey(c),E=this.createTile(this._wrapCoords(c),r(this._tileReady,this,c));this._initTile(E),this.createTile.length<2&&P(r(this._tileReady,this,c,null,E)),pt(E,m),this._tiles[b]={el:E,coords:c,current:!0},h.appendChild(E),this.fire("tileloadstart",{tile:E,coords:c})},_tileReady:function(c,h,m){h&&this.fire("tileerror",{error:h,tile:m,coords:c});var b=this._tileCoordsToKey(c);m=this._tiles[b],m&&(m.loaded=+new Date,this._map._fadeAnimated?(In(m.el,0),R(this._fadeFrame),this._fadeFrame=P(this._updateOpacity,this)):(m.active=!0,this._pruneTiles()),h||(Ie(m.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:m.el,coords:c})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),de.ielt9||!this._map._fadeAnimated?P(this._pruneTiles,this):setTimeout(r(this._pruneTiles,this),250)))},_getTilePos:function(c){return c.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(c){var h=new V(this._wrapX?l(c.x,this._wrapX):c.x,this._wrapY?l(c.y,this._wrapY):c.y);return h.z=c.z,h},_pxBoundsToTileRange:function(c){var h=this.getTileSize();return new he(c.min.unscaleBy(h).floor(),c.max.unscaleBy(h).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var c in this._tiles)if(!this._tiles[c].loaded)return!1;return!0}});function rM(c){return new Va(c)}var gs=Va.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(c,h){this._url=c,h=p(this,h),h.detectRetina&&de.retina&&h.maxZoom>0?(h.tileSize=Math.floor(h.tileSize/2),h.zoomReverse?(h.zoomOffset--,h.minZoom=Math.min(h.maxZoom,h.minZoom+1)):(h.zoomOffset++,h.maxZoom=Math.max(h.minZoom,h.maxZoom-1)),h.minZoom=Math.max(0,h.minZoom)):h.zoomReverse?h.minZoom=Math.min(h.maxZoom,h.minZoom):h.maxZoom=Math.max(h.minZoom,h.maxZoom),typeof h.subdomains=="string"&&(h.subdomains=h.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(c,h){return this._url===c&&h===void 0&&(h=!0),this._url=c,h||this.redraw(),this},createTile:function(c,h){var m=document.createElement("img");return Ee(m,"load",r(this._tileOnLoad,this,h,m)),Ee(m,"error",r(this._tileOnError,this,h,m)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(m.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(m.referrerPolicy=this.options.referrerPolicy),m.alt="",m.src=this.getTileUrl(c),m},getTileUrl:function(c){var h={r:de.retina?"@2x":"",s:this._getSubdomain(c),x:c.x,y:c.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var m=this._globalTileRange.max.y-c.y;this.options.tms&&(h.y=m),h["-y"]=m}return x(this._url,t(h,this.options))},_tileOnLoad:function(c,h){de.ielt9?setTimeout(r(c,this,null,h),0):c(null,h)},_tileOnError:function(c,h,m){var b=this.options.errorTileUrl;b&&h.getAttribute("src")!==b&&(h.src=b),c(m,h)},_onTileRemove:function(c){c.tile.onload=null},_getZoomForUrl:function(){var c=this._tileZoom,h=this.options.maxZoom,m=this.options.zoomReverse,b=this.options.zoomOffset;return m&&(c=h-c),c+b},_getSubdomain:function(c){var h=Math.abs(c.x+c.y)%this.options.subdomains.length;return this.options.subdomains[h]},_abortLoading:function(){var c,h;for(c in this._tiles)if(this._tiles[c].coords.z!==this._tileZoom&&(h=this._tiles[c].el,h.onload=d,h.onerror=d,!h.complete)){h.src=w;var m=this._tiles[c].coords;at(h),delete this._tiles[c],this.fire("tileabort",{tile:h,coords:m})}},_removeTile:function(c){var h=this._tiles[c];if(h)return h.el.setAttribute("src",w),Va.prototype._removeTile.call(this,c)},_tileReady:function(c,h,m){if(!(!this._map||m&&m.getAttribute("src")===w))return Va.prototype._tileReady.call(this,c,h,m)}});function E0(c,h){return new gs(c,h)}var C0=gs.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(c,h){this._url=c;var m=t({},this.defaultWmsParams);for(var b in h)b in this.options||(m[b]=h[b]);h=p(this,h);var E=h.detectRetina&&de.retina?2:1,T=this.getTileSize();m.width=T.x*E,m.height=T.y*E,this.wmsParams=m},onAdd:function(c){this._crs=this.options.crs||c.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var h=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[h]=this._crs.code,gs.prototype.onAdd.call(this,c)},getTileUrl:function(c){var h=this._tileCoordsToNwSe(c),m=this._crs,b=Je(m.project(h[0]),m.project(h[1])),E=b.min,T=b.max,$=(this._wmsVersion>=1.3&&this._crs===_0?[E.y,E.x,T.y,T.x]:[E.x,E.y,T.x,T.y]).join(","),z=gs.prototype.getTileUrl.call(this,c);return z+v(this.wmsParams,z,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+$},setParams:function(c,h){return t(this.wmsParams,c),h||this.redraw(),this}});function oM(c,h){return new C0(c,h)}gs.WMS=C0,E0.wms=oM;var Gi=Zn.extend({options:{padding:.1},initialize:function(c){p(this,c),s(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Ie(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var c={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(c.zoomanim=this._onAnimZoom),c},_onAnimZoom:function(c){this._updateTransform(c.center,c.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(c,h){var m=this._map.getZoomScale(h,this._zoom),b=this._map.getSize().multiplyBy(.5+this.options.padding),E=this._map.project(this._center,h),T=b.multiplyBy(-m).add(E).subtract(this._map._getNewPixelOrigin(c,h));de.any3d?eo(this._container,T,m):pt(this._container,T)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var c in this._layers)this._layers[c]._reset()},_onZoomEnd:function(){for(var c in this._layers)this._layers[c]._project()},_updatePaths:function(){for(var c in this._layers)this._layers[c]._update()},_update:function(){var c=this.options.padding,h=this._map.getSize(),m=this._map.containerPointToLayerPoint(h.multiplyBy(-c)).round();this._bounds=new he(m,m.add(h.multiplyBy(1+c*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),S0=Gi.extend({options:{tolerance:0},getEvents:function(){var c=Gi.prototype.getEvents.call(this);return c.viewprereset=this._onViewPreReset,c},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Gi.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var c=this._container=document.createElement("canvas");Ee(c,"mousemove",this._onMouseMove,this),Ee(c,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Ee(c,"mouseout",this._handleMouseOut,this),c._leaflet_disable_events=!0,this._ctx=c.getContext("2d")},_destroyContainer:function(){R(this._redrawRequest),delete this._ctx,at(this._container),it(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var c;this._redrawBounds=null;for(var h in this._layers)c=this._layers[h],c._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Gi.prototype._update.call(this);var c=this._bounds,h=this._container,m=c.getSize(),b=de.retina?2:1;pt(h,c.min),h.width=b*m.x,h.height=b*m.y,h.style.width=m.x+"px",h.style.height=m.y+"px",de.retina&&this._ctx.scale(2,2),this._ctx.translate(-c.min.x,-c.min.y),this.fire("update")}},_reset:function(){Gi.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(c){this._updateDashArray(c),this._layers[s(c)]=c;var h=c._order={layer:c,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=h),this._drawLast=h,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(c){this._requestRedraw(c)},_removePath:function(c){var h=c._order,m=h.next,b=h.prev;m?m.prev=b:this._drawLast=b,b?b.next=m:this._drawFirst=m,delete c._order,delete this._layers[s(c)],this._requestRedraw(c)},_updatePath:function(c){this._extendRedrawBounds(c),c._project(),c._update(),this._requestRedraw(c)},_updateStyle:function(c){this._updateDashArray(c),this._requestRedraw(c)},_updateDashArray:function(c){if(typeof c.options.dashArray=="string"){var h=c.options.dashArray.split(/[, ]+/),m=[],b,E;for(E=0;E<h.length;E++){if(b=Number(h[E]),isNaN(b))return;m.push(b)}c.options._dashArray=m}else c.options._dashArray=c.options.dashArray},_requestRedraw:function(c){this._map&&(this._extendRedrawBounds(c),this._redrawRequest=this._redrawRequest||P(this._redraw,this))},_extendRedrawBounds:function(c){if(c._pxBounds){var h=(c.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new he,this._redrawBounds.extend(c._pxBounds.min.subtract([h,h])),this._redrawBounds.extend(c._pxBounds.max.add([h,h]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var c=this._redrawBounds;if(c){var h=c.getSize();this._ctx.clearRect(c.min.x,c.min.y,h.x,h.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var c,h=this._redrawBounds;if(this._ctx.save(),h){var m=h.getSize();this._ctx.beginPath(),this._ctx.rect(h.min.x,h.min.y,m.x,m.y),this._ctx.clip()}this._drawing=!0;for(var b=this._drawFirst;b;b=b.next)c=b.layer,(!h||c._pxBounds&&c._pxBounds.intersects(h))&&c._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(c,h){if(this._drawing){var m,b,E,T,$=c._parts,z=$.length,U=this._ctx;if(z){for(U.beginPath(),m=0;m<z;m++){for(b=0,E=$[m].length;b<E;b++)T=$[m][b],U[b?"lineTo":"moveTo"](T.x,T.y);h&&U.closePath()}this._fillStroke(U,c)}}},_updateCircle:function(c){if(!(!this._drawing||c._empty())){var h=c._point,m=this._ctx,b=Math.max(Math.round(c._radius),1),E=(Math.max(Math.round(c._radiusY),1)||b)/b;E!==1&&(m.save(),m.scale(1,E)),m.beginPath(),m.arc(h.x,h.y/E,b,0,Math.PI*2,!1),E!==1&&m.restore(),this._fillStroke(m,c)}},_fillStroke:function(c,h){var m=h.options;m.fill&&(c.globalAlpha=m.fillOpacity,c.fillStyle=m.fillColor||m.color,c.fill(m.fillRule||"evenodd")),m.stroke&&m.weight!==0&&(c.setLineDash&&c.setLineDash(h.options&&h.options._dashArray||[]),c.globalAlpha=m.opacity,c.lineWidth=m.weight,c.strokeStyle=m.color,c.lineCap=m.lineCap,c.lineJoin=m.lineJoin,c.stroke())},_onClick:function(c){for(var h=this._map.mouseEventToLayerPoint(c),m,b,E=this._drawFirst;E;E=E.next)m=E.layer,m.options.interactive&&m._containsPoint(h)&&(!(c.type==="click"||c.type==="preclick")||!this._map._draggableMoved(m))&&(b=m);this._fireEvent(b?[b]:!1,c)},_onMouseMove:function(c){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var h=this._map.mouseEventToLayerPoint(c);this._handleMouseHover(c,h)}},_handleMouseOut:function(c){var h=this._hoveredLayer;h&&(dt(this._container,"leaflet-interactive"),this._fireEvent([h],c,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(c,h){if(!this._mouseHoverThrottled){for(var m,b,E=this._drawFirst;E;E=E.next)m=E.layer,m.options.interactive&&m._containsPoint(h)&&(b=m);b!==this._hoveredLayer&&(this._handleMouseOut(c),b&&(Ie(this._container,"leaflet-interactive"),this._fireEvent([b],c,"mouseover"),this._hoveredLayer=b)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,c),this._mouseHoverThrottled=!0,setTimeout(r(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(c,h,m){this._map._fireDOMEvent(h,m||h.type,c)},_bringToFront:function(c){var h=c._order;if(h){var m=h.next,b=h.prev;if(m)m.prev=b;else return;b?b.next=m:m&&(this._drawFirst=m),h.prev=this._drawLast,this._drawLast.next=h,h.next=null,this._drawLast=h,this._requestRedraw(c)}},_bringToBack:function(c){var h=c._order;if(h){var m=h.next,b=h.prev;if(b)b.next=m;else return;m?m.prev=b:b&&(this._drawLast=b),h.prev=null,h.next=this._drawFirst,this._drawFirst.prev=h,this._drawFirst=h,this._requestRedraw(c)}}});function T0(c){return de.canvas?new S0(c):null}var za=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(c){return document.createElement("<lvml:"+c+' class="lvml">')}}catch{}return function(c){return document.createElement("<"+c+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),sM={_initContainer:function(){this._container=Ze("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Gi.prototype._update.call(this),this.fire("update"))},_initPath:function(c){var h=c._container=za("shape");Ie(h,"leaflet-vml-shape "+(this.options.className||"")),h.coordsize="1 1",c._path=za("path"),h.appendChild(c._path),this._updateStyle(c),this._layers[s(c)]=c},_addPath:function(c){var h=c._container;this._container.appendChild(h),c.options.interactive&&c.addInteractiveTarget(h)},_removePath:function(c){var h=c._container;at(h),c.removeInteractiveTarget(h),delete this._layers[s(c)]},_updateStyle:function(c){var h=c._stroke,m=c._fill,b=c.options,E=c._container;E.stroked=!!b.stroke,E.filled=!!b.fill,b.stroke?(h||(h=c._stroke=za("stroke")),E.appendChild(h),h.weight=b.weight+"px",h.color=b.color,h.opacity=b.opacity,b.dashArray?h.dashStyle=S(b.dashArray)?b.dashArray.join(" "):b.dashArray.replace(/( *, *)/g," "):h.dashStyle="",h.endcap=b.lineCap.replace("butt","flat"),h.joinstyle=b.lineJoin):h&&(E.removeChild(h),c._stroke=null),b.fill?(m||(m=c._fill=za("fill")),E.appendChild(m),m.color=b.fillColor||b.color,m.opacity=b.fillOpacity):m&&(E.removeChild(m),c._fill=null)},_updateCircle:function(c){var h=c._point.round(),m=Math.round(c._radius),b=Math.round(c._radiusY||m);this._setPath(c,c._empty()?"M0 0":"AL "+h.x+","+h.y+" "+m+","+b+" 0,"+65535*360)},_setPath:function(c,h){c._path.v=h},_bringToFront:function(c){ls(c._container)},_bringToBack:function(c){cs(c._container)}},_d=de.vml?za:Qr,Ha=Gi.extend({_initContainer:function(){this._container=_d("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=_d("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){at(this._container),it(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Gi.prototype._update.call(this);var c=this._bounds,h=c.getSize(),m=this._container;(!this._svgSize||!this._svgSize.equals(h))&&(this._svgSize=h,m.setAttribute("width",h.x),m.setAttribute("height",h.y)),pt(m,c.min),m.setAttribute("viewBox",[c.min.x,c.min.y,h.x,h.y].join(" ")),this.fire("update")}},_initPath:function(c){var h=c._path=_d("path");c.options.className&&Ie(h,c.options.className),c.options.interactive&&Ie(h,"leaflet-interactive"),this._updateStyle(c),this._layers[s(c)]=c},_addPath:function(c){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(c._path),c.addInteractiveTarget(c._path)},_removePath:function(c){at(c._path),c.removeInteractiveTarget(c._path),delete this._layers[s(c)]},_updatePath:function(c){c._project(),c._update()},_updateStyle:function(c){var h=c._path,m=c.options;h&&(m.stroke?(h.setAttribute("stroke",m.color),h.setAttribute("stroke-opacity",m.opacity),h.setAttribute("stroke-width",m.weight),h.setAttribute("stroke-linecap",m.lineCap),h.setAttribute("stroke-linejoin",m.lineJoin),m.dashArray?h.setAttribute("stroke-dasharray",m.dashArray):h.removeAttribute("stroke-dasharray"),m.dashOffset?h.setAttribute("stroke-dashoffset",m.dashOffset):h.removeAttribute("stroke-dashoffset")):h.setAttribute("stroke","none"),m.fill?(h.setAttribute("fill",m.fillColor||m.color),h.setAttribute("fill-opacity",m.fillOpacity),h.setAttribute("fill-rule",m.fillRule||"evenodd")):h.setAttribute("fill","none"))},_updatePoly:function(c,h){this._setPath(c,Dn(c._parts,h))},_updateCircle:function(c){var h=c._point,m=Math.max(Math.round(c._radius),1),b=Math.max(Math.round(c._radiusY),1)||m,E="a"+m+","+b+" 0 1,0 ",T=c._empty()?"M0 0":"M"+(h.x-m)+","+h.y+E+m*2+",0 "+E+-m*2+",0 ";this._setPath(c,T)},_setPath:function(c,h){c._path.setAttribute("d",h)},_bringToFront:function(c){ls(c._path)},_bringToBack:function(c){cs(c._path)}});de.vml&&Ha.include(sM);function D0(c){return de.svg||de.vml?new Ha(c):null}Be.include({getRenderer:function(c){var h=c.options.renderer||this._getPaneRenderer(c.options.pane)||this.options.renderer||this._renderer;return h||(h=this._renderer=this._createRenderer()),this.hasLayer(h)||this.addLayer(h),h},_getPaneRenderer:function(c){if(c==="overlayPane"||c===void 0)return!1;var h=this._paneRenderers[c];return h===void 0&&(h=this._createRenderer({pane:c}),this._paneRenderers[c]=h),h},_createRenderer:function(c){return this.options.preferCanvas&&T0(c)||D0(c)}});var I0=hs.extend({initialize:function(c,h){hs.prototype.initialize.call(this,this._boundsToLatLngs(c),h)},setBounds:function(c){return this.setLatLngs(this._boundsToLatLngs(c))},_boundsToLatLngs:function(c){return c=fe(c),[c.getSouthWest(),c.getNorthWest(),c.getNorthEast(),c.getSouthEast()]}});function aM(c,h){return new I0(c,h)}Ha.create=_d,Ha.pointsToPath=Dn,Wi.geometryToLayer=dd,Wi.coordsToLatLng=np,Wi.coordsToLatLngs=ud,Wi.latLngToCoords=ip,Wi.latLngsToCoords=hd,Wi.getFeature=fs,Wi.asFeature=fd,Be.mergeOptions({boxZoom:!0});var M0=_i.extend({initialize:function(c){this._map=c,this._container=c._container,this._pane=c._panes.overlayPane,this._resetStateTimeout=0,c.on("unload",this._destroy,this)},addHooks:function(){Ee(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){it(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){at(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(c){if(!c.shiftKey||c.which!==1&&c.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Ra(),jg(),this._startPoint=this._map.mouseEventToContainerPoint(c),Ee(document,{contextmenu:io,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(c){this._moved||(this._moved=!0,this._box=Ze("div","leaflet-zoom-box",this._container),Ie(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(c);var h=new he(this._point,this._startPoint),m=h.getSize();pt(this._box,h.min),this._box.style.width=m.x+"px",this._box.style.height=m.y+"px"},_finish:function(){this._moved&&(at(this._box),dt(this._container,"leaflet-crosshair")),Oa(),Bg(),it(document,{contextmenu:io,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(c){if(!(c.which!==1&&c.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(r(this._resetState,this),0);var h=new qe(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(h).fire("boxzoomend",{boxZoomBounds:h})}},_onKeyDown:function(c){c.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Be.addInitHook("addHandler","boxZoom",M0),Be.mergeOptions({doubleClickZoom:!0});var A0=_i.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(c){var h=this._map,m=h.getZoom(),b=h.options.zoomDelta,E=c.originalEvent.shiftKey?m-b:m+b;h.options.doubleClickZoom==="center"?h.setZoom(E):h.setZoomAround(c.containerPoint,E)}});Be.addInitHook("addHandler","doubleClickZoom",A0),Be.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var N0=_i.extend({addHooks:function(){if(!this._draggable){var c=this._map;this._draggable=new yr(c._mapPane,c._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),c.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),c.on("zoomend",this._onZoomEnd,this),c.whenReady(this._onZoomEnd,this))}Ie(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){dt(this._map._container,"leaflet-grab"),dt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var c=this._map;if(c._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var h=fe(this._map.options.maxBounds);this._offsetLimit=Je(this._map.latLngToContainerPoint(h.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(h.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;c.fire("movestart").fire("dragstart"),c.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(c){if(this._map.options.inertia){var h=this._lastTime=+new Date,m=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(m),this._times.push(h),this._prunePositions(h)}this._map.fire("move",c).fire("drag",c)},_prunePositions:function(c){for(;this._positions.length>1&&c-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var c=this._map.getSize().divideBy(2),h=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=h.subtract(c).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(c,h){return c-(c-h)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var c=this._draggable._newPos.subtract(this._draggable._startPos),h=this._offsetLimit;c.x<h.min.x&&(c.x=this._viscousLimit(c.x,h.min.x)),c.y<h.min.y&&(c.y=this._viscousLimit(c.y,h.min.y)),c.x>h.max.x&&(c.x=this._viscousLimit(c.x,h.max.x)),c.y>h.max.y&&(c.y=this._viscousLimit(c.y,h.max.y)),this._draggable._newPos=this._draggable._startPos.add(c)}},_onPreDragWrap:function(){var c=this._worldWidth,h=Math.round(c/2),m=this._initialWorldOffset,b=this._draggable._newPos.x,E=(b-h+m)%c+h-m,T=(b+h+m)%c-h-m,$=Math.abs(E+m)<Math.abs(T+m)?E:T;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=$},_onDragEnd:function(c){var h=this._map,m=h.options,b=!m.inertia||c.noInertia||this._times.length<2;if(h.fire("dragend",c),b)h.fire("moveend");else{this._prunePositions(+new Date);var E=this._lastPos.subtract(this._positions[0]),T=(this._lastTime-this._times[0])/1e3,$=m.easeLinearity,z=E.multiplyBy($/T),U=z.distanceTo([0,0]),Z=Math.min(m.inertiaMaxSpeed,U),ne=z.multiplyBy(Z/U),ge=Z/(m.inertiaDeceleration*$),Pe=ne.multiplyBy(-ge/2).round();!Pe.x&&!Pe.y?h.fire("moveend"):(Pe=h._limitOffset(Pe,h.options.maxBounds),P(function(){h.panBy(Pe,{duration:ge,easeLinearity:$,noMoveStart:!0,animate:!0})}))}}});Be.addInitHook("addHandler","dragging",N0),Be.mergeOptions({keyboard:!0,keyboardPanDelta:80});var P0=_i.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(c){this._map=c,this._setPanDelta(c.options.keyboardPanDelta),this._setZoomDelta(c.options.zoomDelta)},addHooks:function(){var c=this._map._container;c.tabIndex<=0&&(c.tabIndex="0"),Ee(c,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),it(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var c=document.body,h=document.documentElement,m=c.scrollTop||h.scrollTop,b=c.scrollLeft||h.scrollLeft;this._map._container.focus(),window.scrollTo(b,m)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(c){var h=this._panKeys={},m=this.keyCodes,b,E;for(b=0,E=m.left.length;b<E;b++)h[m.left[b]]=[-1*c,0];for(b=0,E=m.right.length;b<E;b++)h[m.right[b]]=[c,0];for(b=0,E=m.down.length;b<E;b++)h[m.down[b]]=[0,c];for(b=0,E=m.up.length;b<E;b++)h[m.up[b]]=[0,-1*c]},_setZoomDelta:function(c){var h=this._zoomKeys={},m=this.keyCodes,b,E;for(b=0,E=m.zoomIn.length;b<E;b++)h[m.zoomIn[b]]=c;for(b=0,E=m.zoomOut.length;b<E;b++)h[m.zoomOut[b]]=-c},_addHooks:function(){Ee(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){it(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(c){if(!(c.altKey||c.ctrlKey||c.metaKey)){var h=c.keyCode,m=this._map,b;if(h in this._panKeys){if(!m._panAnim||!m._panAnim._inProgress)if(b=this._panKeys[h],c.shiftKey&&(b=J(b).multiplyBy(3)),m.options.maxBounds&&(b=m._limitOffset(J(b),m.options.maxBounds)),m.options.worldCopyJump){var E=m.wrapLatLng(m.unproject(m.project(m.getCenter()).add(b)));m.panTo(E)}else m.panBy(b)}else if(h in this._zoomKeys)m.setZoom(m.getZoom()+(c.shiftKey?3:1)*this._zoomKeys[h]);else if(h===27&&m._popup&&m._popup.options.closeOnEscapeKey)m.closePopup();else return;io(c)}}});Be.addInitHook("addHandler","keyboard",P0),Be.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var R0=_i.extend({addHooks:function(){Ee(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){it(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(c){var h=r0(c),m=this._map.options.wheelDebounceTime;this._delta+=h,this._lastMousePos=this._map.mouseEventToContainerPoint(c),this._startTime||(this._startTime=+new Date);var b=Math.max(m-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(r(this._performZoom,this),b),io(c)},_performZoom:function(){var c=this._map,h=c.getZoom(),m=this._map.options.zoomSnap||0;c._stop();var b=this._delta/(this._map.options.wheelPxPerZoomLevel*4),E=4*Math.log(2/(1+Math.exp(-Math.abs(b))))/Math.LN2,T=m?Math.ceil(E/m)*m:E,$=c._limitZoom(h+(this._delta>0?T:-T))-h;this._delta=0,this._startTime=null,$&&(c.options.scrollWheelZoom==="center"?c.setZoom(h+$):c.setZoomAround(this._lastMousePos,h+$))}});Be.addInitHook("addHandler","scrollWheelZoom",R0);var lM=600;Be.mergeOptions({tapHold:de.touchNative&&de.safari&&de.mobile,tapTolerance:15});var O0=_i.extend({addHooks:function(){Ee(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){it(this._map._container,"touchstart",this._onDown,this)},_onDown:function(c){if(clearTimeout(this._holdTimeout),c.touches.length===1){var h=c.touches[0];this._startPos=this._newPos=new V(h.clientX,h.clientY),this._holdTimeout=setTimeout(r(function(){this._cancel(),this._isTapValid()&&(Ee(document,"touchend",jt),Ee(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",h))},this),lM),Ee(document,"touchend touchcancel contextmenu",this._cancel,this),Ee(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function c(){it(document,"touchend",jt),it(document,"touchend touchcancel",c)},_cancel:function(){clearTimeout(this._holdTimeout),it(document,"touchend touchcancel contextmenu",this._cancel,this),it(document,"touchmove",this._onMove,this)},_onMove:function(c){var h=c.touches[0];this._newPos=new V(h.clientX,h.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(c,h){var m=new MouseEvent(c,{bubbles:!0,cancelable:!0,view:window,screenX:h.screenX,screenY:h.screenY,clientX:h.clientX,clientY:h.clientY});m._simulated=!0,h.target.dispatchEvent(m)}});Be.addInitHook("addHandler","tapHold",O0),Be.mergeOptions({touchZoom:de.touch,bounceAtZoomLimits:!0});var L0=_i.extend({addHooks:function(){Ie(this._map._container,"leaflet-touch-zoom"),Ee(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){dt(this._map._container,"leaflet-touch-zoom"),it(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(c){var h=this._map;if(!(!c.touches||c.touches.length!==2||h._animatingZoom||this._zooming)){var m=h.mouseEventToContainerPoint(c.touches[0]),b=h.mouseEventToContainerPoint(c.touches[1]);this._centerPoint=h.getSize()._divideBy(2),this._startLatLng=h.containerPointToLatLng(this._centerPoint),h.options.touchZoom!=="center"&&(this._pinchStartLatLng=h.containerPointToLatLng(m.add(b)._divideBy(2))),this._startDist=m.distanceTo(b),this._startZoom=h.getZoom(),this._moved=!1,this._zooming=!0,h._stop(),Ee(document,"touchmove",this._onTouchMove,this),Ee(document,"touchend touchcancel",this._onTouchEnd,this),jt(c)}},_onTouchMove:function(c){if(!(!c.touches||c.touches.length!==2||!this._zooming)){var h=this._map,m=h.mouseEventToContainerPoint(c.touches[0]),b=h.mouseEventToContainerPoint(c.touches[1]),E=m.distanceTo(b)/this._startDist;if(this._zoom=h.getScaleZoom(E,this._startZoom),!h.options.bounceAtZoomLimits&&(this._zoom<h.getMinZoom()&&E<1||this._zoom>h.getMaxZoom()&&E>1)&&(this._zoom=h._limitZoom(this._zoom)),h.options.touchZoom==="center"){if(this._center=this._startLatLng,E===1)return}else{var T=m._add(b)._divideBy(2)._subtract(this._centerPoint);if(E===1&&T.x===0&&T.y===0)return;this._center=h.unproject(h.project(this._pinchStartLatLng,this._zoom).subtract(T),this._zoom)}this._moved||(h._moveStart(!0,!1),this._moved=!0),R(this._animRequest);var $=r(h._move,h,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=P($,this,!0),jt(c)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,R(this._animRequest),it(document,"touchmove",this._onTouchMove,this),it(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Be.addInitHook("addHandler","touchZoom",L0),Be.BoxZoom=M0,Be.DoubleClickZoom=A0,Be.Drag=N0,Be.Keyboard=P0,Be.ScrollWheelZoom=R0,Be.TapHold=O0,Be.TouchZoom=L0,e.Bounds=he,e.Browser=de,e.CRS=Ue,e.Canvas=S0,e.Circle=tp,e.CircleMarker=cd,e.Class=j,e.Control=qn,e.DivIcon=k0,e.DivOverlay=vi,e.DomEvent=SI,e.DomUtil=EI,e.Draggable=yr,e.Evented=q,e.FeatureGroup=Hi,e.GeoJSON=Wi,e.GridLayer=Va,e.Handler=_i,e.Icon=us,e.ImageOverlay=gd,e.LatLng=Te,e.LatLngBounds=qe,e.Layer=Zn,e.LayerGroup=ds,e.LineUtil=jI,e.Map=Be,e.Marker=ld,e.Mixin=PI,e.Path=br,e.Point=V,e.PolyUtil=RI,e.Polygon=hs,e.Polyline=Ui,e.Popup=pd,e.PosAnimation=o0,e.Projection=BI,e.Rectangle=I0,e.Renderer=Gi,e.SVG=Ha,e.SVGOverlay=w0,e.TileLayer=gs,e.Tooltip=md,e.Transformation=os,e.Util=F,e.VideoOverlay=x0,e.bind=r,e.bounds=Je,e.canvas=T0,e.circle=ZI,e.circleMarker=qI,e.control=$a,e.divIcon=iM,e.extend=t,e.featureGroup=UI,e.geoJSON=b0,e.geoJson=JI,e.gridLayer=rM,e.icon=WI,e.imageOverlay=XI,e.latLng=me,e.latLngBounds=fe,e.layerGroup=HI,e.map=TI,e.marker=GI,e.point=J,e.polygon=KI,e.polyline=YI,e.popup=tM,e.rectangle=aM,e.setOptions=p,e.stamp=s,e.svg=D0,e.svgOverlay=eM,e.tileLayer=E0,e.tooltip=nM,e.transformation=Xr,e.version=n,e.videoOverlay=QI;var cM=window.L;e.noConflict=function(){return window.L=cM,this},window.L=e})});var sp;function ap(){return sp}function qi(e){let n=sp;return sp=e,n}var bM=Symbol("NotFound"),yd=class extends Error{name="\u0275NotFound";constructor(n){super(n)}};function ms(e){return e===bM||e?.name==="\u0275NotFound"}function Ed(e,n){return Object.is(e,n)}var Mt=null,bd=!1,lp=1,xM=null,Ut=Symbol("SIGNAL");function De(e){let n=Mt;return Mt=e,n}function Cd(){return Mt}var oo={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function _s(e){if(bd)throw new Error("");if(Mt===null)return;Mt.consumerOnSignalRead(e);let n=Mt.nextProducerIndex++;if(Id(Mt),n<Mt.producerNode.length&&Mt.producerNode[n]!==e&&Wa(Mt)){let t=Mt.producerNode[n];Dd(t,Mt.producerIndexOfThis[n])}Mt.producerNode[n]!==e&&(Mt.producerNode[n]=e,Mt.producerIndexOfThis[n]=Wa(Mt)?W0(e,Mt,n):0),Mt.producerLastReadVersion[n]=e.version}function U0(){lp++}function Sd(e){if(!(Wa(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===lp)){if(!e.producerMustRecompute(e)&&!Ga(e)){kd(e);return}e.producerRecomputeValue(e),kd(e)}}function cp(e){if(e.liveConsumerNode===void 0)return;let n=bd;bd=!0;try{for(let t of e.liveConsumerNode)t.dirty||wM(t)}finally{bd=n}}function dp(){return Mt?.consumerAllowSignalWrites!==!1}function wM(e){e.dirty=!0,cp(e),e.consumerMarkedDirty?.(e)}function kd(e){e.dirty=!1,e.lastCleanEpoch=lp}function so(e){return e&&(e.nextProducerIndex=0),De(e)}function vs(e,n){if(De(n),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(Wa(e))for(let t=e.nextProducerIndex;t<e.producerNode.length;t++)Dd(e.producerNode[t],e.producerIndexOfThis[t]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function Ga(e){Id(e);for(let n=0;n<e.producerNode.length;n++){let t=e.producerNode[n],i=e.producerLastReadVersion[n];if(i!==t.version||(Sd(t),i!==t.version))return!0}return!1}function Td(e){if(Id(e),Wa(e))for(let n=0;n<e.producerNode.length;n++)Dd(e.producerNode[n],e.producerIndexOfThis[n]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function W0(e,n,t){if(G0(e),e.liveConsumerNode.length===0&&q0(e))for(let i=0;i<e.producerNode.length;i++)e.producerIndexOfThis[i]=W0(e.producerNode[i],e,i);return e.liveConsumerIndexOfThis.push(t),e.liveConsumerNode.push(n)-1}function Dd(e,n){if(G0(e),e.liveConsumerNode.length===1&&q0(e))for(let i=0;i<e.producerNode.length;i++)Dd(e.producerNode[i],e.producerIndexOfThis[i]);let t=e.liveConsumerNode.length-1;if(e.liveConsumerNode[n]=e.liveConsumerNode[t],e.liveConsumerIndexOfThis[n]=e.liveConsumerIndexOfThis[t],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,n<e.liveConsumerNode.length){let i=e.liveConsumerIndexOfThis[n],r=e.liveConsumerNode[n];Id(r),r.producerIndexOfThis[i]=n}}function Wa(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Id(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function G0(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function q0(e){return e.producerNode!==void 0}function Md(e){xM?.(e)}function Ad(e,n){let t=Object.create(kM);t.computation=e,n!==void 0&&(t.equal=n);let i=()=>{if(Sd(t),_s(t),t.value===Ua)throw t.error;return t.value};return i[Ut]=t,Md(t),i}var xd=Symbol("UNSET"),wd=Symbol("COMPUTING"),Ua=Symbol("ERRORED"),kM=ve(K({},oo),{value:xd,dirty:!0,error:null,equal:Ed,kind:"computed",producerMustRecompute(e){return e.value===xd||e.value===wd},producerRecomputeValue(e){if(e.value===wd)throw new Error("");let n=e.value;e.value=wd;let t=so(e),i,r=!1;try{i=e.computation(),De(null),r=n!==xd&&n!==Ua&&i!==Ua&&e.equal(n,i)}catch(o){i=Ua,e.error=o}finally{vs(e,t)}if(r){e.value=n;return}e.value=i,e.version++}});function EM(){throw new Error}var Z0=EM;function Y0(e){Z0(e)}function up(e){Z0=e}var CM=null;function hp(e,n){let t=Object.create(Nd);t.value=e,n!==void 0&&(t.equal=n);let i=()=>K0(t);return i[Ut]=t,Md(t),[i,s=>ys(t,s),s=>fp(t,s)]}function K0(e){return _s(e),e.value}function ys(e,n){dp()||Y0(e),e.equal(e.value,n)||(e.value=n,SM(e))}function fp(e,n){dp()||Y0(e),ys(e,n(e.value))}var Nd=ve(K({},oo),{equal:Ed,value:void 0,kind:"signal"});function SM(e){e.version++,U0(),cp(e),CM?.(e)}function xe(e){return typeof e=="function"}function bs(e){let t=e(i=>{Error.call(i),i.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Pd=bs(e=>function(t){e(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function qa(e,n){if(e){let t=e.indexOf(n);0<=t&&e.splice(t,1)}}var _t=class e{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:i}=this;if(xe(i))try{i()}catch(o){n=o instanceof Pd?o.errors:[o]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let o of r)try{J0(o)}catch(s){n=n??[],s instanceof Pd?n=[...n,...s.errors]:n.push(s)}}if(n)throw new Pd(n)}}add(n){var t;if(n&&n!==this)if(this.closed)J0(n);else{if(n instanceof e){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(n)}}_hasParent(n){let{_parentage:t}=this;return t===n||Array.isArray(t)&&t.includes(n)}_addParent(n){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(n),t):t?[t,n]:n}_removeParent(n){let{_parentage:t}=this;t===n?this._parentage=null:Array.isArray(t)&&qa(t,n)}remove(n){let{_finalizers:t}=this;t&&qa(t,n),n instanceof e&&n._removeParent(this)}};_t.EMPTY=(()=>{let e=new _t;return e.closed=!0,e})();var gp=_t.EMPTY;function Rd(e){return e instanceof _t||e&&"closed"in e&&xe(e.remove)&&xe(e.add)&&xe(e.unsubscribe)}function J0(e){xe(e)?e():e.unsubscribe()}var Kn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var xs={setTimeout(e,n,...t){let{delegate:i}=xs;return i?.setTimeout?i.setTimeout(e,n,...t):setTimeout(e,n,...t)},clearTimeout(e){let{delegate:n}=xs;return(n?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Od(e){xs.setTimeout(()=>{let{onUnhandledError:n}=Kn;if(n)n(e);else throw e})}function Za(){}var X0=pp("C",void 0,void 0);function Q0(e){return pp("E",void 0,e)}function ex(e){return pp("N",e,void 0)}function pp(e,n,t){return{kind:e,value:n,error:t}}var ao=null;function ws(e){if(Kn.useDeprecatedSynchronousErrorHandling){let n=!ao;if(n&&(ao={errorThrown:!1,error:null}),e(),n){let{errorThrown:t,error:i}=ao;if(ao=null,t)throw i}}else e()}function tx(e){Kn.useDeprecatedSynchronousErrorHandling&&ao&&(ao.errorThrown=!0,ao.error=e)}var lo=class extends _t{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,Rd(n)&&n.add(this)):this.destination=IM}static create(n,t,i){return new ks(n,t,i)}next(n){this.isStopped?_p(ex(n),this):this._next(n)}error(n){this.isStopped?_p(Q0(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?_p(X0,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},TM=Function.prototype.bind;function mp(e,n){return TM.call(e,n)}var vp=class{constructor(n){this.partialObserver=n}next(n){let{partialObserver:t}=this;if(t.next)try{t.next(n)}catch(i){Ld(i)}}error(n){let{partialObserver:t}=this;if(t.error)try{t.error(n)}catch(i){Ld(i)}else Ld(n)}complete(){let{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(t){Ld(t)}}},ks=class extends lo{constructor(n,t,i){super();let r;if(xe(n)||!n)r={next:n??void 0,error:t??void 0,complete:i??void 0};else{let o;this&&Kn.useDeprecatedNextContext?(o=Object.create(n),o.unsubscribe=()=>this.unsubscribe(),r={next:n.next&&mp(n.next,o),error:n.error&&mp(n.error,o),complete:n.complete&&mp(n.complete,o)}):r=n}this.destination=new vp(r)}};function Ld(e){Kn.useDeprecatedSynchronousErrorHandling?tx(e):Od(e)}function DM(e){throw e}function _p(e,n){let{onStoppedNotification:t}=Kn;t&&xs.setTimeout(()=>t(e,n))}var IM={closed:!0,next:Za,error:DM,complete:Za};var Es=typeof Symbol=="function"&&Symbol.observable||"@@observable";function _n(e){return e}function yp(...e){return bp(e)}function bp(e){return e.length===0?_n:e.length===1?e[0]:function(t){return e.reduce((i,r)=>r(i),t)}}var Re=(()=>{class e{constructor(t){t&&(this._subscribe=t)}lift(t){let i=new e;return i.source=this,i.operator=t,i}subscribe(t,i,r){let o=AM(t)?t:new ks(t,i,r);return ws(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return i=nx(i),new i((r,o)=>{let s=new ks({next:a=>{try{t(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(t){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(t)}[Es](){return this}pipe(...t){return bp(t)(this)}toPromise(t){return t=nx(t),new t((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return e.create=n=>new e(n),e})();function nx(e){var n;return(n=e??Kn.Promise)!==null&&n!==void 0?n:Promise}function MM(e){return e&&xe(e.next)&&xe(e.error)&&xe(e.complete)}function AM(e){return e&&e instanceof lo||MM(e)&&Rd(e)}function xp(e){return xe(e?.lift)}function Ve(e){return n=>{if(xp(n))return n.lift(function(t){try{return e(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function Oe(e,n,t,i,r){return new wp(e,n,t,i,r)}var wp=class extends lo{constructor(n,t,i,r,o,s){super(n),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(l){n.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){n.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){n.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((n=this.onFinalize)===null||n===void 0||n.call(this))}}};function Cs(){return Ve((e,n)=>{let t=null;e._refCount++;let i=Oe(n,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){t=null;return}let r=e._connection,o=t;t=null,r&&(!o||r===o)&&r.unsubscribe(),n.unsubscribe()});e.subscribe(i),i.closed||(t=e.connect())})}var Ss=class extends Re{constructor(n,t){super(),this.source=n,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,xp(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){let n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new _t;let t=this.getSubject();n.add(this.source.subscribe(Oe(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),n.closed&&(this._connection=null,n=_t.EMPTY)}return n}refCount(){return Cs()(this)}};var ix=bs(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ut=(()=>{class e extends Re{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let i=new Fd(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new ix}next(t){ws(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(t)}})}error(t){ws(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){ws(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:i,isStopped:r,observers:o}=this;return i||r?gp:(this.currentObservers=null,o.push(t),new _t(()=>{this.currentObservers=null,qa(o,t)}))}_checkFinalizedStatuses(t){let{hasError:i,thrownError:r,isStopped:o}=this;i?t.error(r):o&&t.complete()}asObservable(){let t=new Re;return t.source=this,t}}return e.create=(n,t)=>new Fd(n,t),e})(),Fd=class extends ut{constructor(n,t){super(),this.destination=n,this.source=t}next(n){var t,i;(i=(t=this.destination)===null||t===void 0?void 0:t.next)===null||i===void 0||i.call(t,n)}error(n){var t,i;(i=(t=this.destination)===null||t===void 0?void 0:t.error)===null||i===void 0||i.call(t,n)}complete(){var n,t;(t=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||t===void 0||t.call(n)}_subscribe(n){var t,i;return(i=(t=this.source)===null||t===void 0?void 0:t.subscribe(n))!==null&&i!==void 0?i:gp}};var At=class extends ut{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){let t=super._subscribe(n);return!t.closed&&n.next(this._value),t}getValue(){let{hasError:n,thrownError:t,_value:i}=this;if(n)throw t;return this._throwIfClosed(),i}next(n){super.next(this._value=n)}};var dn=new Re(e=>e.complete());function rx(e){return e&&xe(e.schedule)}function ox(e){return e[e.length-1]}function $d(e){return xe(ox(e))?e.pop():void 0}function xr(e){return rx(ox(e))?e.pop():void 0}function ax(e,n,t,i){function r(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(u){try{d(i.next(u))}catch(f){s(f)}}function l(u){try{d(i.throw(u))}catch(f){s(f)}}function d(u){u.done?o(u.value):r(u.value).then(a,l)}d((i=i.apply(e,n||[])).next())})}function sx(e){var n=typeof Symbol=="function"&&Symbol.iterator,t=n&&e[n],i=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function co(e){return this instanceof co?(this.v=e,this):new co(e)}function lx(e,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t.apply(e,n||[]),r,o=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),r[Symbol.asyncIterator]=function(){return this},r;function s(p){return function(v){return Promise.resolve(v).then(p,f)}}function a(p,v){i[p]&&(r[p]=function(k){return new Promise(function(x,S){o.push([p,k,x,S])>1||l(p,k)})},v&&(r[p]=v(r[p])))}function l(p,v){try{d(i[p](v))}catch(k){g(o[0][3],k)}}function d(p){p.value instanceof co?Promise.resolve(p.value.v).then(u,f):g(o[0][2],p)}function u(p){l("next",p)}function f(p){l("throw",p)}function g(p,v){p(v),o.shift(),o.length&&l(o[0][0],o[0][1])}}function cx(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=e[Symbol.asyncIterator],t;return n?n.call(e):(e=typeof sx=="function"?sx(e):e[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(o){t[o]=e[o]&&function(s){return new Promise(function(a,l){s=e[o](s),r(a,l,s.done,s.value)})}}function r(o,s,a,l){Promise.resolve(l).then(function(d){o({value:d,done:a})},s)}}var jd=e=>e&&typeof e.length=="number"&&typeof e!="function";function Bd(e){return xe(e?.then)}function Vd(e){return xe(e[Es])}function zd(e){return Symbol.asyncIterator&&xe(e?.[Symbol.asyncIterator])}function Hd(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function NM(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Ud=NM();function Wd(e){return xe(e?.[Ud])}function Gd(e){return lx(this,arguments,function*(){let t=e.getReader();try{for(;;){let{value:i,done:r}=yield co(t.read());if(r)return yield co(void 0);yield yield co(i)}}finally{t.releaseLock()}})}function qd(e){return xe(e?.getReader)}function vt(e){if(e instanceof Re)return e;if(e!=null){if(Vd(e))return PM(e);if(jd(e))return RM(e);if(Bd(e))return OM(e);if(zd(e))return dx(e);if(Wd(e))return LM(e);if(qd(e))return FM(e)}throw Hd(e)}function PM(e){return new Re(n=>{let t=e[Es]();if(xe(t.subscribe))return t.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function RM(e){return new Re(n=>{for(let t=0;t<e.length&&!n.closed;t++)n.next(e[t]);n.complete()})}function OM(e){return new Re(n=>{e.then(t=>{n.closed||(n.next(t),n.complete())},t=>n.error(t)).then(null,Od)})}function LM(e){return new Re(n=>{for(let t of e)if(n.next(t),n.closed)return;n.complete()})}function dx(e){return new Re(n=>{$M(e,n).catch(t=>n.error(t))})}function FM(e){return dx(Gd(e))}function $M(e,n){var t,i,r,o;return ax(this,void 0,void 0,function*(){try{for(t=cx(e);i=yield t.next(),!i.done;){let s=i.value;if(n.next(s),n.closed)return}}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=t.return)&&(yield o.call(t))}finally{if(r)throw r.error}}n.complete()})}function un(e,n,t,i=0,r=!1){let o=n.schedule(function(){t(),r?e.add(this.schedule(null,i)):this.unsubscribe()},i);if(e.add(o),!r)return o}function Zd(e,n=0){return Ve((t,i)=>{t.subscribe(Oe(i,r=>un(i,e,()=>i.next(r),n),()=>un(i,e,()=>i.complete(),n),r=>un(i,e,()=>i.error(r),n)))})}function Yd(e,n=0){return Ve((t,i)=>{i.add(e.schedule(()=>t.subscribe(i),n))})}function ux(e,n){return vt(e).pipe(Yd(n),Zd(n))}function hx(e,n){return vt(e).pipe(Yd(n),Zd(n))}function fx(e,n){return new Re(t=>{let i=0;return n.schedule(function(){i===e.length?t.complete():(t.next(e[i++]),t.closed||this.schedule())})})}function gx(e,n){return new Re(t=>{let i;return un(t,n,()=>{i=e[Ud](),un(t,n,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){t.error(s);return}o?t.complete():t.next(r)},0,!0)}),()=>xe(i?.return)&&i.return()})}function Kd(e,n){if(!e)throw new Error("Iterable cannot be null");return new Re(t=>{un(t,n,()=>{let i=e[Symbol.asyncIterator]();un(t,n,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function px(e,n){return Kd(Gd(e),n)}function mx(e,n){if(e!=null){if(Vd(e))return ux(e,n);if(jd(e))return fx(e,n);if(Bd(e))return hx(e,n);if(zd(e))return Kd(e,n);if(Wd(e))return gx(e,n);if(qd(e))return px(e,n)}throw Hd(e)}function Xe(e,n){return n?mx(e,n):vt(e)}function pe(...e){let n=xr(e);return Xe(e,n)}function Ts(e,n){let t=xe(e)?e:()=>e,i=r=>r.error(t());return new Re(n?r=>n.schedule(i,0,r):i)}function kp(e){return!!e&&(e instanceof Re||xe(e.lift)&&xe(e.subscribe))}var Zi=bs(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function _e(e,n){return Ve((t,i)=>{let r=0;t.subscribe(Oe(i,o=>{i.next(e.call(n,o,r++))}))})}var{isArray:jM}=Array;function BM(e,n){return jM(n)?e(...n):e(n)}function Jd(e){return _e(n=>BM(e,n))}var{isArray:VM}=Array,{getPrototypeOf:zM,prototype:HM,keys:UM}=Object;function Xd(e){if(e.length===1){let n=e[0];if(VM(n))return{args:n,keys:null};if(WM(n)){let t=UM(n);return{args:t.map(i=>n[i]),keys:t}}}return{args:e,keys:null}}function WM(e){return e&&typeof e=="object"&&zM(e)===HM}function Qd(e,n){return e.reduce((t,i,r)=>(t[i]=n[r],t),{})}function eu(...e){let n=xr(e),t=$d(e),{args:i,keys:r}=Xd(e);if(i.length===0)return Xe([],n);let o=new Re(GM(i,n,r?s=>Qd(r,s):_n));return t?o.pipe(Jd(t)):o}function GM(e,n,t=_n){return i=>{_x(n,()=>{let{length:r}=e,o=new Array(r),s=r,a=r;for(let l=0;l<r;l++)_x(n,()=>{let d=Xe(e[l],n),u=!1;d.subscribe(Oe(i,f=>{o[l]=f,u||(u=!0,a--),a||i.next(t(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}function _x(e,n,t){e?un(t,e,n):n()}function vx(e,n,t,i,r,o,s,a){let l=[],d=0,u=0,f=!1,g=()=>{f&&!l.length&&!d&&n.complete()},p=k=>d<i?v(k):l.push(k),v=k=>{o&&n.next(k),d++;let x=!1;vt(t(k,u++)).subscribe(Oe(n,S=>{r?.(S),o?p(S):n.next(S)},()=>{x=!0},void 0,()=>{if(x)try{for(d--;l.length&&d<i;){let S=l.shift();s?un(n,s,()=>v(S)):v(S)}g()}catch(S){n.error(S)}}))};return e.subscribe(Oe(n,p,()=>{f=!0,g()})),()=>{a?.()}}function yt(e,n,t=1/0){return xe(n)?yt((i,r)=>_e((o,s)=>n(i,o,r,s))(vt(e(i,r))),t):(typeof n=="number"&&(t=n),Ve((i,r)=>vx(i,r,e,t)))}function Ds(e=1/0){return yt(_n,e)}function yx(){return Ds(1)}function Is(...e){return yx()(Xe(e,xr(e)))}function Ya(e){return new Re(n=>{vt(e()).subscribe(n)})}function Ep(...e){let n=$d(e),{args:t,keys:i}=Xd(e),r=new Re(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),l=s,d=s;for(let u=0;u<s;u++){let f=!1;vt(t[u]).subscribe(Oe(o,g=>{f||(f=!0,d--),a[u]=g},()=>l--,void 0,()=>{(!l||!f)&&(d||o.next(i?Qd(i,a):a),o.complete())}))}});return n?r.pipe(Jd(n)):r}function Yt(e,n){return Ve((t,i)=>{let r=0;t.subscribe(Oe(i,o=>e.call(n,o,r++)&&i.next(o)))})}function Yi(e){return Ve((n,t)=>{let i=null,r=!1,o;i=n.subscribe(Oe(t,void 0,void 0,s=>{o=vt(e(s,Yi(e)(n))),i?(i.unsubscribe(),i=null,o.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(t))})}function bx(e,n,t,i,r){return(o,s)=>{let a=t,l=n,d=0;o.subscribe(Oe(s,u=>{let f=d++;l=a?e(l,u,f):(a=!0,u),i&&s.next(l)},r&&(()=>{a&&s.next(l),s.complete()})))}}function Ki(e,n){return xe(n)?yt(e,n,1):yt(e,1)}function wr(e){return Ve((n,t)=>{let i=!1;n.subscribe(Oe(t,r=>{i=!0,t.next(r)},()=>{i||t.next(e),t.complete()}))})}function Jn(e){return e<=0?()=>dn:Ve((n,t)=>{let i=0;n.subscribe(Oe(t,r=>{++i<=e&&(t.next(r),e<=i&&t.complete())}))})}function tu(e=qM){return Ve((n,t)=>{let i=!1;n.subscribe(Oe(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(e())))})}function qM(){return new Zi}function kr(e){return Ve((n,t)=>{try{n.subscribe(t)}finally{t.add(e)}})}function Ji(e,n){let t=arguments.length>=2;return i=>i.pipe(e?Yt((r,o)=>e(r,o,i)):_n,Jn(1),t?wr(n):tu(()=>new Zi))}function Ms(e){return e<=0?()=>dn:Ve((n,t)=>{let i=[];n.subscribe(Oe(t,r=>{i.push(r),e<i.length&&i.shift()},()=>{for(let r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function Cp(e,n){let t=arguments.length>=2;return i=>i.pipe(e?Yt((r,o)=>e(r,o,i)):_n,Ms(1),t?wr(n):tu(()=>new Zi))}function Sp(e,n){return Ve(bx(e,n,arguments.length>=2,!0))}function Tp(...e){let n=xr(e);return Ve((t,i)=>{(n?Is(e,t,n):Is(e,t)).subscribe(i)})}function Wt(e,n){return Ve((t,i)=>{let r=null,o=0,s=!1,a=()=>s&&!r&&i.complete();t.subscribe(Oe(i,l=>{r?.unsubscribe();let d=0,u=o++;vt(e(l,u)).subscribe(r=Oe(i,f=>i.next(n?n(l,f,u,d++):f),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function nu(e){return Ve((n,t)=>{vt(e).subscribe(Oe(t,()=>t.complete(),Za)),!t.closed&&n.subscribe(t)})}function Rt(e,n,t){let i=xe(e)||n||t?{next:e,error:n,complete:t}:e;return i?Ve((r,o)=>{var s;(s=i.subscribe)===null||s===void 0||s.call(i);let a=!0;r.subscribe(Oe(o,l=>{var d;(d=i.next)===null||d===void 0||d.call(i,l),o.next(l)},()=>{var l;a=!1,(l=i.complete)===null||l===void 0||l.call(i),o.complete()},l=>{var d;a=!1,(d=i.error)===null||d===void 0||d.call(i,l),o.error(l)},()=>{var l,d;a&&((l=i.unsubscribe)===null||l===void 0||l.call(i)),(d=i.finalize)===null||d===void 0||d.call(i)}))}):_n}function xx(e){let n=De(null);try{return e()}finally{De(n)}}var au="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",te=class extends Error{code;constructor(n,t){super(lu(n,t)),this.code=n}};function ZM(e){return`NG0${Math.abs(e)}`}function lu(e,n){return`${ZM(e)}${n?": "+n:""}`}var Qa=globalThis;function st(e){for(let n in e)if(e[n]===st)return n;throw Error("")}function Cx(e,n){for(let t in n)n.hasOwnProperty(t)&&!e.hasOwnProperty(t)&&(e[t]=n[t])}function hn(e){if(typeof e=="string")return e;if(Array.isArray(e))return`[${e.map(hn).join(", ")}]`;if(e==null)return""+e;let n=e.overriddenName||e.name;if(n)return`${n}`;let t=e.toString();if(t==null)return""+t;let i=t.indexOf(`
`);return i>=0?t.slice(0,i):t}function cu(e,n){return e?n?`${e} ${n}`:e:n||""}var YM=st({__forward_ref__:st});function fn(e){return e.__forward_ref__=fn,e.toString=function(){return hn(this())},e}function Bt(e){return Bp(e)?e():e}function Bp(e){return typeof e=="function"&&e.hasOwnProperty(YM)&&e.__forward_ref__===fn}function Sx(e,n,t,i){throw new Error(`ASSERTION ERROR: ${e}`+(i==null?"":` [Expected=> ${t} ${i} ${n} <=Actual]`))}function Q(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Nn(e){return{providers:e.providers||[],imports:e.imports||[]}}function el(e){return KM(e,du)}function Vp(e){return el(e)!==null}function KM(e,n){return e.hasOwnProperty(n)&&e[n]||null}function JM(e){let n=e?.[du]??null;return n||null}function Ip(e){return e&&e.hasOwnProperty(ru)?e[ru]:null}var du=st({\u0275prov:st}),ru=st({\u0275inj:st}),oe=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(n,t){this._desc=n,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=Q({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function zp(e){return e&&!!e.\u0275providers}var Hp=st({\u0275cmp:st}),Up=st({\u0275dir:st}),Wp=st({\u0275pipe:st}),Gp=st({\u0275mod:st}),Ja=st({\u0275fac:st}),po=st({__NG_ELEMENT_ID__:st}),wx=st({__NG_ENV_ID__:st});function mo(e){return typeof e=="string"?e:e==null?"":String(e)}function Tx(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():mo(e)}function qp(e,n){throw new te(-200,e)}function uu(e,n){throw new te(-201,!1)}var Mp;function Dx(){return Mp}function Kt(e){let n=Mp;return Mp=e,n}function Zp(e,n,t){let i=el(e);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(t&8)return null;if(n!==void 0)return n;uu(e,"Injector")}var XM={},uo=XM,Ap="__NG_DI_FLAG__",Np=class{injector;constructor(n){this.injector=n}retrieve(n,t){let i=ho(t)||0;try{return this.injector.get(n,i&8?null:uo,i)}catch(r){if(ms(r))return r;throw r}}},ou="ngTempTokenPath",QM="ngTokenPath",eA=/\n/gm,tA="\u0275",kx="__source";function nA(e,n=0){let t=ap();if(t===void 0)throw new te(-203,!1);if(t===null)return Zp(e,void 0,n);{let i=iA(n),r=t.retrieve(e,i);if(ms(r)){if(i.optional)return null;throw r}return r}}function se(e,n=0){return(Dx()||nA)(Bt(e),n)}function Y(e,n){return se(e,ho(n))}function ho(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function iA(e){return{optional:!!(e&8),host:!!(e&1),self:!!(e&2),skipSelf:!!(e&4)}}function Pp(e){let n=[];for(let t=0;t<e.length;t++){let i=Bt(e[t]);if(Array.isArray(i)){if(i.length===0)throw new te(900,!1);let r,o=0;for(let s=0;s<i.length;s++){let a=i[s],l=rA(a);typeof l=="number"?l===-1?r=a.token:o|=l:r=a}n.push(se(r,o))}else n.push(se(i))}return n}function Yp(e,n){return e[Ap]=n,e.prototype[Ap]=n,e}function rA(e){return e[Ap]}function oA(e,n,t,i){let r=e[ou];throw n[kx]&&r.unshift(n[kx]),e.message=sA(`
`+e.message,r,t,i),e[QM]=r,e[ou]=null,e}function sA(e,n,t,i=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==tA?e.slice(2):e;let r=hn(n);if(Array.isArray(n))r=n.map(hn).join(" -> ");else if(typeof n=="object"){let o=[];for(let s in n)if(n.hasOwnProperty(s)){let a=n[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):hn(a)))}r=`{${o.join(", ")}}`}return`${t}${i?"("+i+")":""}[${r}]: ${e.replace(eA,`
  `)}`}function Er(e,n){let t=e.hasOwnProperty(Ja);return t?e[Ja]:null}function Ix(e,n,t){if(e.length!==n.length)return!1;for(let i=0;i<e.length;i++){let r=e[i],o=n[i];if(t&&(r=t(r),o=t(o)),o!==r)return!1}return!0}function Mx(e){return e.flat(Number.POSITIVE_INFINITY)}function hu(e,n){e.forEach(t=>Array.isArray(t)?hu(t,n):n(t))}function Kp(e,n,t){n>=e.length?e.push(t):e.splice(n,0,t)}function tl(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function Ax(e,n,t,i){let r=e.length;if(r==n)e.push(t,i);else if(r===1)e.push(i,e[0]),e[0]=t;else{for(r--,e.push(e[r-1],e[r]);r>n;){let o=r-2;e[r]=e[o],r--}e[n]=t,e[n+1]=i}}function fu(e,n,t){let i=Ns(e,n);return i>=0?e[i|1]=t:(i=~i,Ax(e,i,n,t)),i}function gu(e,n){let t=Ns(e,n);if(t>=0)return e[t|1]}function Ns(e,n){return aA(e,n,1)}function aA(e,n,t){let i=0,r=e.length>>t;for(;r!==i;){let o=i+(r-i>>1),s=e[o<<t];if(n===s)return o<<t;s>n?r=o:i=o+1}return~(r<<t)}var Tr={},Jt=[],Dr=new oe(""),Jp=new oe("",-1),Xp=new oe(""),Xa=class{get(n,t=uo){if(t===uo)throw new yd(`NullInjectorError: No provider for ${hn(n)}!`);return t}};function Qp(e){return e[Gp]||null}function Ir(e){return e[Hp]||null}function em(e){return e[Up]||null}function Nx(e){return e[Wp]||null}function _o(e){return{\u0275providers:e}}function Px(...e){return{\u0275providers:tm(!0,e),\u0275fromNgModule:!0}}function tm(e,...n){let t=[],i=new Set,r,o=s=>{t.push(s)};return hu(n,s=>{let a=s;su(a,o,[],i)&&(r||=[],r.push(a))}),r!==void 0&&Rx(r,o),t}function Rx(e,n){for(let t=0;t<e.length;t++){let{ngModule:i,providers:r}=e[t];nm(r,o=>{n(o,i)})}}function su(e,n,t,i){if(e=Bt(e),!e)return!1;let r=null,o=Ip(e),s=!o&&Ir(e);if(!o&&!s){let l=e.ngModule;if(o=Ip(l),o)r=l;else return!1}else{if(s&&!s.standalone)return!1;r=e}let a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let d of l)su(d,n,t,i)}}else if(o){if(o.imports!=null&&!a){i.add(r);let d;try{hu(o.imports,u=>{su(u,n,t,i)&&(d||=[],d.push(u))})}finally{}d!==void 0&&Rx(d,n)}if(!a){let d=Er(r)||(()=>new r);n({provide:r,useFactory:d,deps:Jt},r),n({provide:Xp,useValue:r,multi:!0},r),n({provide:Dr,useValue:()=>se(r),multi:!0},r)}let l=o.providers;if(l!=null&&!a){let d=e;nm(l,u=>{n(u,d)})}}else return!1;return r!==e&&e.providers!==void 0}function nm(e,n){for(let t of e)zp(t)&&(t=t.\u0275providers),Array.isArray(t)?nm(t,n):n(t)}var lA=st({provide:String,useValue:st});function Ox(e){return e!==null&&typeof e=="object"&&lA in e}function cA(e){return!!(e&&e.useExisting)}function dA(e){return!!(e&&e.useFactory)}function fo(e){return typeof e=="function"}function Lx(e){return!!e.useClass}var nl=new oe(""),iu={},Ex={},Dp;function il(){return Dp===void 0&&(Dp=new Xa),Dp}var bt=class{},go=class extends bt{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(n,t,i,r){super(),this.parent=t,this.source=i,this.scopes=r,Op(n,s=>this.processProvider(s)),this.records.set(Jp,As(void 0,this)),r.has("environment")&&this.records.set(bt,As(void 0,this));let o=this.records.get(nl);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Xp,Jt,{self:!0}))}retrieve(n,t){let i=ho(t)||0;try{return this.get(n,uo,i)}catch(r){if(ms(r))return r;throw r}}destroy(){Ka(this),this._destroyed=!0;let n=De(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of t)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),De(n)}}onDestroy(n){return Ka(this),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){Ka(this);let t=qi(this),i=Kt(void 0),r;try{return n()}finally{qi(t),Kt(i)}}get(n,t=uo,i){if(Ka(this),n.hasOwnProperty(wx))return n[wx](this);let r=ho(i),o,s=qi(this),a=Kt(void 0);try{if(!(r&4)){let d=this.records.get(n);if(d===void 0){let u=pA(n)&&el(n);u&&this.injectableDefInScope(u)?d=As(Rp(n),iu):d=null,this.records.set(n,d)}if(d!=null)return this.hydrate(n,d)}let l=r&2?il():this.parent;return t=r&8&&t===uo?null:t,l.get(n,t)}catch(l){if(ms(l)){if((l[ou]=l[ou]||[]).unshift(hn(n)),s)throw l;return oA(l,n,"R3InjectorError",this.source)}else throw l}finally{Kt(a),qi(s)}}resolveInjectorInitializers(){let n=De(null),t=qi(this),i=Kt(void 0),r;try{let o=this.get(Dr,Jt,{self:!0});for(let s of o)s()}finally{qi(t),Kt(i),De(n)}}toString(){let n=[],t=this.records;for(let i of t.keys())n.push(hn(i));return`R3Injector[${n.join(", ")}]`}processProvider(n){n=Bt(n);let t=fo(n)?n:Bt(n&&n.provide),i=hA(n);if(!fo(n)&&n.multi===!0){let r=this.records.get(t);r||(r=As(void 0,iu,!0),r.factory=()=>Pp(r.multi),this.records.set(t,r)),t=n,r.multi.push(n)}this.records.set(t,i)}hydrate(n,t){let i=De(null);try{return t.value===Ex?qp(hn(n)):t.value===iu&&(t.value=Ex,t.value=t.factory()),typeof t.value=="object"&&t.value&&gA(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{De(i)}}injectableDefInScope(n){if(!n.providedIn)return!1;let t=Bt(n.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(n){let t=this._onDestroyHooks.indexOf(n);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Rp(e){let n=el(e),t=n!==null?n.factory:Er(e);if(t!==null)return t;if(e instanceof oe)throw new te(204,!1);if(e instanceof Function)return uA(e);throw new te(204,!1)}function uA(e){if(e.length>0)throw new te(204,!1);let t=JM(e);return t!==null?()=>t.factory(e):()=>new e}function hA(e){if(Ox(e))return As(void 0,e.useValue);{let n=im(e);return As(n,iu)}}function im(e,n,t){let i;if(fo(e)){let r=Bt(e);return Er(r)||Rp(r)}else if(Ox(e))i=()=>Bt(e.useValue);else if(dA(e))i=()=>e.useFactory(...Pp(e.deps||[]));else if(cA(e))i=()=>se(Bt(e.useExisting));else{let r=Bt(e&&(e.useClass||e.provide));if(fA(e))i=()=>new r(...Pp(e.deps));else return Er(r)||Rp(r)}return i}function Ka(e){if(e.destroyed)throw new te(205,!1)}function As(e,n,t=!1){return{factory:e,value:n,multi:t?[]:void 0}}function fA(e){return!!e.deps}function gA(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function pA(e){return typeof e=="function"||typeof e=="object"&&e.ngMetadataName==="InjectionToken"}function Op(e,n){for(let t of e)Array.isArray(t)?Op(t,n):t&&zp(t)?Op(t.\u0275providers,n):n(t)}function Xt(e,n){let t;e instanceof go?(Ka(e),t=e):t=new Np(e);let i,r=qi(t),o=Kt(void 0);try{return n()}finally{qi(r),Kt(o)}}function Fx(){return Dx()!==void 0||ap()!=null}var Qn=0,Ce=1,ye=2,Ot=3,Pn=4,Rn=5,rl=6,Ps=7,Gt=8,vo=9,bi=10,lt=11,Rs=12,rm=13,yo=14,On=15,Mr=16,bo=17,xi=18,ol=19,om=20,Xi=21,pu=22,sl=23,vn=24,mu=25,Qt=26,$x=1;var Ar=7,al=8,xo=9,en=10;function wi(e){return Array.isArray(e)&&typeof e[$x]=="object"}function ei(e){return Array.isArray(e)&&e[$x]===!0}function _u(e){return(e.flags&4)!==0}function Nr(e){return e.componentOffset>-1}function ll(e){return(e.flags&1)===1}function ki(e){return!!e.template}function Os(e){return(e[ye]&512)!==0}function wo(e){return(e[ye]&256)===256}var jx="svg",Bx="math";function Ln(e){for(;Array.isArray(e);)e=e[Qn];return e}function sm(e,n){return Ln(n[e])}function ti(e,n){return Ln(n[e.index])}function vu(e,n){return e.data[n]}function am(e,n){return e[n]}function lm(e,n,t,i){t>=e.data.length&&(e.data[t]=null,e.blueprint[t]=null),n[t]=i}function Fn(e,n){let t=n[e];return wi(t)?t:t[Qn]}function Vx(e){return(e[ye]&4)===4}function yu(e){return(e[ye]&128)===128}function zx(e){return ei(e[Ot])}function ko(e,n){return n==null?null:e[n]}function cm(e){e[bo]=0}function dm(e){e[ye]&1024||(e[ye]|=1024,yu(e)&&dl(e))}function Hx(e,n){for(;e>0;)n=n[yo],e--;return n}function cl(e){return!!(e[ye]&9216||e[vn]?.dirty)}function bu(e){e[bi].changeDetectionScheduler?.notify(8),e[ye]&64&&(e[ye]|=1024),cl(e)&&dl(e)}function dl(e){e[bi].changeDetectionScheduler?.notify(0);let n=Cr(e);for(;n!==null&&!(n[ye]&8192||(n[ye]|=8192,!yu(n)));)n=Cr(n)}function um(e,n){if(wo(e))throw new te(911,!1);e[Xi]===null&&(e[Xi]=[]),e[Xi].push(n)}function Ux(e,n){if(e[Xi]===null)return;let t=e[Xi].indexOf(n);t!==-1&&e[Xi].splice(t,1)}function Cr(e){let n=e[Ot];return ei(n)?n[Ot]:n}function hm(e){return e[Ps]??=[]}function fm(e){return e.cleanup??=[]}function Wx(e,n,t,i){let r=hm(n);r.push(t),e.firstCreatePass&&fm(e).push(i,r.length-1)}var Me={lFrame:aw(null),bindingsEnabled:!0,skipHydrationRootTNode:null},ul=function(e){return e[e.Off=0]="Off",e[e.Exhaustive=1]="Exhaustive",e[e.OnlyDirtyViews=2]="OnlyDirtyViews",e}(ul||{}),mA=0,Lp=!1;function Gx(){return Me.lFrame.elementDepthCount}function qx(){Me.lFrame.elementDepthCount++}function Zx(){Me.lFrame.elementDepthCount--}function xu(){return Me.bindingsEnabled}function Yx(){return Me.skipHydrationRootTNode!==null}function Kx(e){return Me.skipHydrationRootTNode===e}function Jx(){Me.skipHydrationRootTNode=null}function Le(){return Me.lFrame.lView}function ht(){return Me.lFrame.tView}function le(e){return Me.lFrame.contextLView=e,e[Gt]}function ce(e){return Me.lFrame.contextLView=null,e}function Vt(){let e=gm();for(;e!==null&&e.type===64;)e=e.parent;return e}function gm(){return Me.lFrame.currentTNode}function Xx(){let e=Me.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}function Pr(e,n){let t=Me.lFrame;t.currentTNode=e,t.isParent=n}function wu(){return Me.lFrame.isParent}function pm(){Me.lFrame.isParent=!1}function Qx(){return Me.lFrame.contextLView}function mm(e){Sx("Must never be called in production mode"),mA=e}function _m(){return Lp}function vm(e){let n=Lp;return Lp=e,n}function ym(){let e=Me.lFrame,n=e.bindingRootIndex;return n===-1&&(n=e.bindingRootIndex=e.tView.bindingStartIndex),n}function ew(){return Me.lFrame.bindingIndex}function tw(e){return Me.lFrame.bindingIndex=e}function hl(){return Me.lFrame.bindingIndex++}function ku(e){let n=Me.lFrame,t=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,t}function nw(){return Me.lFrame.inI18n}function iw(e,n){let t=Me.lFrame;t.bindingIndex=t.bindingRootIndex=e,Eu(n)}function rw(){return Me.lFrame.currentDirectiveIndex}function Eu(e){Me.lFrame.currentDirectiveIndex=e}function ow(e){let n=Me.lFrame.currentDirectiveIndex;return n===-1?null:e[n]}function bm(){return Me.lFrame.currentQueryIndex}function Cu(e){Me.lFrame.currentQueryIndex=e}function _A(e){let n=e[Ce];return n.type===2?n.declTNode:n.type===1?e[Rn]:null}function xm(e,n,t){if(t&4){let r=n,o=e;for(;r=r.parent,r===null&&!(t&1);)if(r=_A(o),r===null||(o=o[yo],r.type&10))break;if(r===null)return!1;n=r,e=o}let i=Me.lFrame=sw();return i.currentTNode=n,i.lView=e,!0}function Su(e){let n=sw(),t=e[Ce];Me.lFrame=n,n.currentTNode=t.firstChild,n.lView=e,n.tView=t,n.contextLView=e,n.bindingIndex=t.bindingStartIndex,n.inI18n=!1}function sw(){let e=Me.lFrame,n=e===null?null:e.child;return n===null?aw(e):n}function aw(e){let n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=n),n}function lw(){let e=Me.lFrame;return Me.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var wm=lw;function Tu(){let e=lw();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function cw(e){return(Me.lFrame.contextLView=Hx(e,Me.lFrame.contextLView))[Gt]}function Qi(){return Me.lFrame.selectedIndex}function Rr(e){Me.lFrame.selectedIndex=e}function Du(){let e=Me.lFrame;return vu(e.tView,e.selectedIndex)}function dw(){return Me.lFrame.currentNamespace}var uw=!0;function fl(){return uw}function gl(e){uw=e}function Fp(e,n=null,t=null,i){let r=km(e,n,t,i);return r.resolveInjectorInitializers(),r}function km(e,n=null,t=null,i,r=new Set){let o=[t||Jt,Px(e)];return i=i||(typeof e=="object"?void 0:hn(e)),new go(o,n||il(),i||null,r)}var Xn=class e{static THROW_IF_NOT_FOUND=uo;static NULL=new Xa;static create(n,t){if(Array.isArray(n))return Fp({name:""},t,n,"");{let i=n.name??"";return Fp({name:i},n.parent,n.providers,i)}}static \u0275prov=Q({token:e,providedIn:"any",factory:()=>se(Jp)});static __NG_ELEMENT_ID__=-1},Nt=new oe(""),Eo=(()=>{class e{static __NG_ELEMENT_ID__=vA;static __NG_ENV_ID__=t=>t}return e})(),$p=class extends Eo{_lView;constructor(n){super(),this._lView=n}get destroyed(){return wo(this._lView)}onDestroy(n){let t=this._lView;return um(t,n),()=>Ux(t,n)}};function vA(){return new $p(Le())}var yi=class{_console=console;handleError(n){this._console.error("ERROR",n)}},tn=new oe("",{providedIn:"root",factory:()=>{let e=Y(bt),n;return t=>{n??=e.get(yi),n.handleError(t)}}}),hw={provide:Dr,useValue:()=>void Y(yi),multi:!0};function Em(e){return typeof e=="function"&&e[Ut]!==void 0}function er(e,n){let[t,i,r]=hp(e,n?.equal),o=t,s=o[Ut];return o.set=i,o.update=r,o.asReadonly=fw.bind(o),o}function fw(){let e=this[Ut];if(e.readonlyFn===void 0){let n=()=>this();n[Ut]=e,e.readonlyFn=n}return e.readonlyFn}function Cm(e){return Em(e)&&typeof e.set=="function"}var Sr=class{},pl=new oe("",{providedIn:"root",factory:()=>!1});var Sm=new oe(""),Tm=new oe("");var tr=(()=>{class e{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new At(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new Re(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=Q({token:e,providedIn:"root",factory:()=>new e})}return e})(),ml=(()=>{class e{internalPendingTasks=Y(tr);scheduler=Y(Sr);errorHandler=Y(tn);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){let i=this.add();t().catch(this.errorHandler).finally(i)}static \u0275prov=Q({token:e,providedIn:"root",factory:()=>new e})}return e})();function _l(...e){}var Dm=(()=>{class e{static \u0275prov=Q({token:e,providedIn:"root",factory:()=>new jp})}return e})(),jp=class{dirtyEffectCount=0;queues=new Map;add(n){this.enqueue(n),this.schedule(n)}schedule(n){n.dirty&&this.dirtyEffectCount++}remove(n){let t=n.zone,i=this.queues.get(t);i.has(n)&&(i.delete(n),n.dirty&&this.dirtyEffectCount--)}enqueue(n){let t=n.zone;this.queues.has(t)||this.queues.set(t,new Set);let i=this.queues.get(t);i.has(n)||i.add(n)}flush(){for(;this.dirtyEffectCount>0;){let n=!1;for(let[t,i]of this.queues)t===null?n||=this.flushQueue(i):n||=t.run(()=>this.flushQueue(i));n||(this.dirtyEffectCount=0)}}flushQueue(n){let t=!1;for(let i of n)i.dirty&&(this.dirtyEffectCount--,t=!0,i.run());return t}};function Vs(e){return{toString:e}.toString()}var Iu="__parameters__";function DA(e){return function(...t){if(e){let i=e(...t);for(let r in i)this[r]=i[r]}}}function zw(e,n,t){return Vs(()=>{let i=DA(n);function r(...o){if(this instanceof r)return i.apply(this,o),this;let s=new r(...o);return a.annotation=s,a;function a(l,d,u){let f=l.hasOwnProperty(Iu)?l[Iu]:Object.defineProperty(l,Iu,{value:[]})[Iu];for(;f.length<=u;)f.push(null);return(f[u]=f[u]||[]).push(s),l}}return r.prototype.ngMetadataName=e,r.annotationCls=r,r})}var u_=Yp(zw("Optional"),8);var h_=Yp(zw("SkipSelf"),4);function IA(e){return typeof e=="function"}var Lu=class{previousValue;currentValue;firstChange;constructor(n,t,i){this.previousValue=n,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}};function Hw(e,n,t,i){n!==null?n.applyValueToInputSignal(n,i):e[t]=i}var Ci=(()=>{let e=()=>Uw;return e.ngInherit=!0,e})();function Uw(e){return e.type.prototype.ngOnChanges&&(e.setInput=AA),MA}function MA(){let e=Gw(this),n=e?.current;if(n){let t=e.previous;if(t===Tr)e.previous=n;else for(let i in n)t[i]=n[i];e.current=null,this.ngOnChanges(n)}}function AA(e,n,t,i,r){let o=this.declaredInputs[i],s=Gw(e)||NA(e,{previous:Tr,current:null}),a=s.current||(s.current={}),l=s.previous,d=l[o];a[o]=new Lu(d&&d.currentValue,t,l===Tr),Hw(e,n,r,t)}var Ww="__ngSimpleChanges__";function Gw(e){return e[Ww]||null}function NA(e,n){return e[Ww]=n}var gw=[];var et=function(e,n=null,t){for(let i=0;i<gw.length;i++){let r=gw[i];r(e,n,t)}};function PA(e,n,t){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=n.type.prototype;if(i){let s=Uw(n);(t.preOrderHooks??=[]).push(e,s),(t.preOrderCheckHooks??=[]).push(e,s)}r&&(t.preOrderHooks??=[]).push(0-e,r),o&&((t.preOrderHooks??=[]).push(e,o),(t.preOrderCheckHooks??=[]).push(e,o))}function f_(e,n){for(let t=n.directiveStart,i=n.directiveEnd;t<i;t++){let o=e.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:d,ngOnDestroy:u}=o;s&&(e.contentHooks??=[]).push(-t,s),a&&((e.contentHooks??=[]).push(t,a),(e.contentCheckHooks??=[]).push(t,a)),l&&(e.viewHooks??=[]).push(-t,l),d&&((e.viewHooks??=[]).push(t,d),(e.viewCheckHooks??=[]).push(t,d)),u!=null&&(e.destroyHooks??=[]).push(t,u)}}function Nu(e,n,t){qw(e,n,3,t)}function Pu(e,n,t,i){(e[ye]&3)===t&&qw(e,n,t,i)}function Im(e,n){let t=e[ye];(t&3)===n&&(t&=16383,t+=1,e[ye]=t)}function qw(e,n,t,i){let r=i!==void 0?e[bo]&65535:0,o=i??-1,s=n.length-1,a=0;for(let l=r;l<s;l++)if(typeof n[l+1]=="number"){if(a=n[l],i!=null&&a>=i)break}else n[l]<0&&(e[bo]+=65536),(a<o||o==-1)&&(RA(e,t,n,l),e[bo]=(e[bo]&4294901760)+l+2),l++}function pw(e,n){et(4,e,n);let t=De(null);try{n.call(e)}finally{De(t),et(5,e,n)}}function RA(e,n,t,i){let r=t[i]<0,o=t[i+1],s=r?-t[i]:t[i],a=e[s];r?e[ye]>>14<e[bo]>>16&&(e[ye]&3)===n&&(e[ye]+=16384,pw(a,o)):pw(a,o)}var Fs=-1,So=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(n,t,i){this.factory=n,this.canSeeViewProviders=t,this.injectImpl=i}};function OA(e){return(e.flags&8)!==0}function LA(e){return(e.flags&16)!==0}function FA(e,n,t){let i=0;for(;i<t.length;){let r=t[i];if(typeof r=="number"){if(r!==0)break;i++;let o=t[i++],s=t[i++],a=t[i++];e.setAttribute(n,s,a,o)}else{let o=r,s=t[++i];$A(o)?e.setProperty(n,o,s):e.setAttribute(n,o,s),i++}}return i}function Zw(e){return e===3||e===4||e===6}function $A(e){return e.charCodeAt(0)===64}function $s(e,n){if(!(n===null||n.length===0))if(e===null||e.length===0)e=n.slice();else{let t=-1;for(let i=0;i<n.length;i++){let r=n[i];typeof r=="number"?t=r:t===0||(t===-1||t===2?mw(e,t,r,null,n[++i]):mw(e,t,r,null,null))}}return e}function mw(e,n,t,i,r){let o=0,s=e.length;if(n===-1)s=-1;else for(;o<e.length;){let a=e[o++];if(typeof a=="number"){if(a===n){s=-1;break}else if(a>n){s=o-1;break}}}for(;o<e.length;){let a=e[o];if(typeof a=="number")break;if(a===t){r!==null&&(e[o+1]=r);return}o++,r!==null&&o++}s!==-1&&(e.splice(s,0,n),o=s+1),e.splice(o++,0,t),r!==null&&e.splice(o++,0,r)}function Yw(e){return e!==Fs}function Fu(e){return e&32767}function jA(e){return e>>16}function $u(e,n){let t=jA(e),i=n;for(;t>0;)i=i[yo],t--;return i}var jm=!0;function ju(e){let n=jm;return jm=e,n}var BA=256,Kw=BA-1,Jw=5,VA=0,Ei={};function zA(e,n,t){let i;typeof t=="string"?i=t.charCodeAt(0)||0:t.hasOwnProperty(po)&&(i=t[po]),i==null&&(i=t[po]=VA++);let r=i&Kw,o=1<<r;n.data[e+(r>>Jw)]|=o}function Bu(e,n){let t=Xw(e,n);if(t!==-1)return t;let i=n[Ce];i.firstCreatePass&&(e.injectorIndex=n.length,Mm(i.data,e),Mm(n,null),Mm(i.blueprint,null));let r=g_(e,n),o=e.injectorIndex;if(Yw(r)){let s=Fu(r),a=$u(r,n),l=a[Ce].data;for(let d=0;d<8;d++)n[o+d]=a[s+d]|l[s+d]}return n[o+8]=r,o}function Mm(e,n){e.push(0,0,0,0,0,0,0,0,n)}function Xw(e,n){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||n[e.injectorIndex+8]===null?-1:e.injectorIndex}function g_(e,n){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let t=0,i=null,r=n;for(;r!==null;){if(i=ik(r),i===null)return Fs;if(t++,r=r[yo],i.injectorIndex!==-1)return i.injectorIndex|t<<16}return Fs}function Bm(e,n,t){zA(e,n,t)}function HA(e,n){if(n==="class")return e.classes;if(n==="style")return e.styles;let t=e.attrs;if(t){let i=t.length,r=0;for(;r<i;){let o=t[r];if(Zw(o))break;if(o===0)r=r+2;else if(typeof o=="number")for(r++;r<i&&typeof t[r]=="string";)r++;else{if(o===n)return t[r+1];r=r+2}}}return null}function Qw(e,n,t){if(t&8||e!==void 0)return e;uu(n,"NodeInjector")}function ek(e,n,t,i){if(t&8&&i===void 0&&(i=null),(t&3)===0){let r=e[vo],o=Kt(void 0);try{return r?r.get(n,i,t&8):Zp(n,i,t&8)}finally{Kt(o)}}return Qw(i,n,t)}function tk(e,n,t,i=0,r){if(e!==null){if(n[ye]&2048&&!(i&2)){let s=qA(e,n,t,i,Ei);if(s!==Ei)return s}let o=nk(e,n,t,i,Ei);if(o!==Ei)return o}return ek(n,t,i,r)}function nk(e,n,t,i,r){let o=WA(t);if(typeof o=="function"){if(!xm(n,e,i))return i&1?Qw(r,t,i):ek(n,t,i,r);try{let s;if(s=o(i),s==null&&!(i&8))uu(t);else return s}finally{wm()}}else if(typeof o=="number"){let s=null,a=Xw(e,n),l=Fs,d=i&1?n[On][Rn]:null;for((a===-1||i&4)&&(l=a===-1?g_(e,n):n[a+8],l===Fs||!vw(i,!1)?a=-1:(s=n[Ce],a=Fu(l),n=$u(l,n)));a!==-1;){let u=n[Ce];if(_w(o,a,u.data)){let f=UA(a,n,t,s,i,d);if(f!==Ei)return f}l=n[a+8],l!==Fs&&vw(i,n[Ce].data[a+8]===d)&&_w(o,a,n)?(s=u,a=Fu(l),n=$u(l,n)):a=-1}}return r}function UA(e,n,t,i,r,o){let s=n[Ce],a=s.data[e+8],l=i==null?Nr(a)&&jm:i!=s&&(a.type&3)!==0,d=r&1&&o===a,u=Ru(a,s,t,l,d);return u!==null?bl(n,s,u,a):Ei}function Ru(e,n,t,i,r){let o=e.providerIndexes,s=n.data,a=o&1048575,l=e.directiveStart,d=e.directiveEnd,u=o>>20,f=i?a:a+u,g=r?a+u:d;for(let p=f;p<g;p++){let v=s[p];if(p<l&&t===v||p>=l&&v.type===t)return p}if(r){let p=s[l];if(p&&ki(p)&&p.type===t)return l}return null}function bl(e,n,t,i){let r=e[t],o=n.data;if(r instanceof So){let s=r;s.resolving&&qp(Tx(o[t]));let a=ju(s.canSeeViewProviders);s.resolving=!0;let l=o[t].type||o[t],d,u=s.injectImpl?Kt(s.injectImpl):null,f=xm(e,i,0);try{r=e[t]=s.factory(void 0,o,e,i),n.firstCreatePass&&t>=i.directiveStart&&PA(t,o[t],n)}finally{u!==null&&Kt(u),ju(a),s.resolving=!1,wm()}}return r}function WA(e){if(typeof e=="string")return e.charCodeAt(0)||0;let n=e.hasOwnProperty(po)?e[po]:void 0;return typeof n=="number"?n>=0?n&Kw:GA:n}function _w(e,n,t){let i=1<<e;return!!(t[n+(e>>Jw)]&i)}function vw(e,n){return!(e&2)&&!(e&1&&n)}var Co=class{_tNode;_lView;constructor(n,t){this._tNode=n,this._lView=t}get(n,t,i){return tk(this._tNode,this._lView,n,ho(i),t)}};function GA(){return new Co(Vt(),Le())}function $n(e){return Vs(()=>{let n=e.prototype.constructor,t=n[Ja]||Vm(n),i=Object.prototype,r=Object.getPrototypeOf(e.prototype).constructor;for(;r&&r!==i;){let o=r[Ja]||Vm(r);if(o&&o!==t)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function Vm(e){return Bp(e)?()=>{let n=Vm(Bt(e));return n&&n()}:Er(e)}function qA(e,n,t,i,r){let o=e,s=n;for(;o!==null&&s!==null&&s[ye]&2048&&!Os(s);){let a=nk(o,s,t,i|2,Ei);if(a!==Ei)return a;let l=o.parent;if(!l){let d=s[om];if(d){let u=d.get(t,Ei,i);if(u!==Ei)return u}l=ik(s),s=s[yo]}o=l}return r}function ik(e){let n=e[Ce],t=n.type;return t===2?n.declTNode:t===1?e[Rn]:null}function El(e){return HA(Vt(),e)}function ZA(){return zs(Vt(),Le())}function zs(e,n){return new nn(ti(e,n))}var nn=(()=>{class e{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=ZA}return e})();function YA(e){return e instanceof nn?e.nativeElement:e}function KA(){return this._results[Symbol.iterator]()}var Vu=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new ut}constructor(n=!1){this._emitDistinctChangesOnly=n}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,t){return this._results.reduce(n,t)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,t){this.dirty=!1;let i=Mx(n);(this._changesDetected=!Ix(this._results,i,t))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(n){this._onDirty=n}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=KA};function rk(e){return(e.flags&128)===128}var p_=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(p_||{}),ok=new Map,JA=0;function XA(){return JA++}function QA(e){ok.set(e[ol],e)}function zm(e){ok.delete(e[ol])}var yw="__ngContext__";function Hs(e,n){wi(n)?(e[yw]=n[ol],QA(n)):e[yw]=n}function sk(e){return lk(e[Rs])}function ak(e){return lk(e[Pn])}function lk(e){for(;e!==null&&!ei(e);)e=e[Pn];return e}var Hm;function m_(e){Hm=e}function ck(){if(Hm!==void 0)return Hm;if(typeof document<"u")return document;throw new te(210,!1)}var Qu=new oe("",{providedIn:"root",factory:()=>e1}),e1="ng",eh=new oe(""),Us=new oe("",{providedIn:"platform",factory:()=>"unknown"});var th=new oe("",{providedIn:"root",factory:()=>ck().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var t1="h",n1="b";var dk=!1,uk=new oe("",{providedIn:"root",factory:()=>dk});var i1=(e,n,t,i)=>{};function r1(e,n,t,i){i1(e,n,t,i)}var o1=()=>null;function hk(e,n,t=!1){return o1(e,n,t)}function fk(e,n){let t=e.contentQueries;if(t!==null){let i=De(null);try{for(let r=0;r<t.length;r+=2){let o=t[r],s=t[r+1];if(s!==-1){let a=e.data[s];Cu(o),a.contentQueries(2,n[s],s)}}}finally{De(i)}}}function Um(e,n,t){Cu(0);let i=De(null);try{n(e,t)}finally{De(i)}}function __(e,n,t){if(_u(n)){let i=De(null);try{let r=n.directiveStart,o=n.directiveEnd;for(let s=r;s<o;s++){let a=e.data[s];if(a.contentQueries){let l=t[s];a.contentQueries(1,l,s)}}}finally{De(i)}}}var nr=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(nr||{});var Mu;function s1(){if(Mu===void 0&&(Mu=null,Qa.trustedTypes))try{Mu=Qa.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Mu}function bw(e){return s1()?.createScriptURL(e)||e}var zu=class{changingThisBreaksApplicationSecurity;constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${au})`}};function Cl(e){return e instanceof zu?e.changingThisBreaksApplicationSecurity:e}function v_(e,n){let t=gk(e);if(t!=null&&t!==n){if(t==="ResourceURL"&&n==="URL")return!0;throw new Error(`Required a safe ${n}, got a ${t} (see ${au})`)}return t===n}function gk(e){return e instanceof zu&&e.getTypeName()||null}var a1=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function pk(e){return e=String(e),e.match(a1)?e:"unsafe:"+e}var nh=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(nh||{});function mk(e){let n=vk();return n?n.sanitize(nh.URL,e)||"":v_(e,"URL")?Cl(e):pk(mo(e))}function _k(e){let n=vk();if(n)return bw(n.sanitize(nh.RESOURCE_URL,e)||"");if(v_(e,"ResourceURL"))return bw(Cl(e));throw new te(904,!1)}function l1(e,n){return n==="src"&&(e==="embed"||e==="frame"||e==="iframe"||e==="media"||e==="script")||n==="href"&&(e==="base"||e==="link")?_k:mk}function y_(e,n,t){return l1(n,t)(e)}function vk(){let e=Le();return e&&e[bi].sanitizer}var c1=/^>|^->|<!--|-->|--!>|<!-$/g,d1=/(<|>)/g,u1="\u200B$1\u200B";function h1(e){return e.replace(c1,n=>n.replace(d1,u1))}function yk(e){return e instanceof Function?e():e}function f1(e,n,t){let i=e.length;for(;;){let r=e.indexOf(n,t);if(r===-1)return r;if(r===0||e.charCodeAt(r-1)<=32){let o=n.length;if(r+o===i||e.charCodeAt(r+o)<=32)return r}t=r+1}}var bk="ng-template";function g1(e,n,t,i){let r=0;if(i){for(;r<n.length&&typeof n[r]=="string";r+=2)if(n[r]==="class"&&f1(n[r+1].toLowerCase(),t,0)!==-1)return!0}else if(b_(e))return!1;if(r=n.indexOf(1,r),r>-1){let o;for(;++r<n.length&&typeof(o=n[r])=="string";)if(o.toLowerCase()===t)return!0}return!1}function b_(e){return e.type===4&&e.value!==bk}function p1(e,n,t){let i=e.type===4&&!t?bk:e.value;return n===i}function m1(e,n,t){let i=4,r=e.attrs,o=r!==null?y1(r):0,s=!1;for(let a=0;a<n.length;a++){let l=n[a];if(typeof l=="number"){if(!s&&!ni(i)&&!ni(l))return!1;if(s&&ni(l))continue;s=!1,i=l|i&1;continue}if(!s)if(i&4){if(i=2|i&1,l!==""&&!p1(e,l,t)||l===""&&n.length===1){if(ni(i))return!1;s=!0}}else if(i&8){if(r===null||!g1(e,r,l,t)){if(ni(i))return!1;s=!0}}else{let d=n[++a],u=_1(l,r,b_(e),t);if(u===-1){if(ni(i))return!1;s=!0;continue}if(d!==""){let f;if(u>o?f="":f=r[u+1].toLowerCase(),i&2&&d!==f){if(ni(i))return!1;s=!0}}}}return ni(i)||s}function ni(e){return(e&1)===0}function _1(e,n,t,i){if(n===null)return-1;let r=0;if(i||!t){let o=!1;for(;r<n.length;){let s=n[r];if(s===e)return r;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=n[++r];for(;typeof a=="string";)a=n[++r];continue}else{if(s===4)break;if(s===0){r+=4;continue}}r+=o?1:2}return-1}else return b1(n,e)}function v1(e,n,t=!1){for(let i=0;i<n.length;i++)if(m1(e,n[i],t))return!0;return!1}function y1(e){for(let n=0;n<e.length;n++){let t=e[n];if(Zw(t))return n}return e.length}function b1(e,n){let t=e.indexOf(4);if(t>-1)for(t++;t<e.length;){let i=e[t];if(typeof i=="number")return-1;if(i===n)return t;t++}return-1}function xw(e,n){return e?":not("+n.trim()+")":n}function x1(e){let n=e[0],t=1,i=2,r="",o=!1;for(;t<e.length;){let s=e[t];if(typeof s=="string")if(i&2){let a=e[++t];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else i&8?r+="."+s:i&4&&(r+=" "+s);else r!==""&&!ni(s)&&(n+=xw(o,r),r=""),i=s,o=o||!ni(i);t++}return r!==""&&(n+=xw(o,r)),n}function w1(e){return e.map(x1).join(",")}function k1(e){let n=[],t=[],i=1,r=2;for(;i<e.length;){let o=e[i];if(typeof o=="string")r===2?o!==""&&n.push(o,e[++i]):r===8&&t.push(o);else{if(!ni(r))break;r=o}i++}return t.length&&n.push(1,...t),n}var yn={};function E1(e,n){return e.createText(n)}function C1(e,n,t){e.setValue(n,t)}function S1(e,n){return e.createComment(h1(n))}function xk(e,n,t){return e.createElement(n,t)}function Hu(e,n,t,i,r){e.insertBefore(n,t,i,r)}function wk(e,n,t){e.appendChild(n,t)}function ww(e,n,t,i,r){i!==null?Hu(e,n,t,i,r):wk(e,n,t)}function T1(e,n,t){e.removeChild(null,n,t)}function D1(e,n,t){e.setAttribute(n,"style",t)}function I1(e,n,t){t===""?e.removeAttribute(n,"class"):e.setAttribute(n,"class",t)}function kk(e,n,t){let{mergedAttrs:i,classes:r,styles:o}=t;i!==null&&FA(e,n,i),r!==null&&I1(e,n,r),o!==null&&D1(e,n,o)}function x_(e,n,t,i,r,o,s,a,l,d,u){let f=Qt+i,g=f+r,p=M1(f,g),v=typeof d=="function"?d():d;return p[Ce]={type:e,blueprint:p,template:t,queries:null,viewQuery:a,declTNode:n,data:p.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:v,incompleteFirstPass:!1,ssrId:u}}function M1(e,n){let t=[];for(let i=0;i<n;i++)t.push(i<e?null:yn);return t}function A1(e){let n=e.tView;return n===null||n.incompleteFirstPass?e.tView=x_(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):n}function w_(e,n,t,i,r,o,s,a,l,d,u){let f=n.blueprint.slice();return f[Qn]=r,f[ye]=i|4|128|8|64|1024,(d!==null||e&&e[ye]&2048)&&(f[ye]|=2048),cm(f),f[Ot]=f[yo]=e,f[Gt]=t,f[bi]=s||e&&e[bi],f[lt]=a||e&&e[lt],f[vo]=l||e&&e[vo]||null,f[Rn]=o,f[ol]=XA(),f[rl]=u,f[om]=d,f[On]=n.type==2?e[On]:f,f}function N1(e,n,t){let i=ti(n,e),r=A1(t),o=e[bi].rendererFactory,s=k_(e,w_(e,r,null,Ek(t),i,n,null,o.createRenderer(i,t),null,null,null));return e[n.index]=s}function Ek(e){let n=16;return e.signals?n=4096:e.onPush&&(n=64),n}function Ck(e,n,t,i){if(t===0)return-1;let r=n.length;for(let o=0;o<t;o++)n.push(i),e.blueprint.push(i),e.data.push(null);return r}function k_(e,n){return e[Rs]?e[rm][Pn]=n:e[Rs]=n,e[rm]=n,n}function W(e=1){Sk(ht(),Le(),Qi()+e,!1)}function Sk(e,n,t,i){if(!i)if((n[ye]&3)===3){let o=e.preOrderCheckHooks;o!==null&&Nu(n,o,t)}else{let o=e.preOrderHooks;o!==null&&Pu(n,o,0,t)}Rr(t)}var ih=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(ih||{});function Wm(e,n,t,i){let r=De(null);try{let[o,s,a]=e.inputs[t],l=null;(s&ih.SignalBased)!==0&&(l=n[o][Ut]),l!==null&&l.transformFn!==void 0?i=l.transformFn(i):a!==null&&(i=a.call(n,i)),e.setInput!==null?e.setInput(n,l,i,t,o):Hw(n,l,o,i)}finally{De(r)}}function Tk(e,n,t,i,r){let o=Qi(),s=i&2;try{Rr(-1),s&&n.length>Qt&&Sk(e,n,Qt,!1),et(s?2:0,r,t),t(i,r)}finally{Rr(o),et(s?3:1,r,t)}}function rh(e,n,t){j1(e,n,t),(t.flags&64)===64&&B1(e,n,t)}function E_(e,n,t=ti){let i=n.localNames;if(i!==null){let r=n.index+1;for(let o=0;o<i.length;o+=2){let s=i[o+1],a=s===-1?t(n,e):e[s];e[r++]=a}}}function P1(e,n,t,i){let o=i.get(uk,dk)||t===nr.ShadowDom,s=e.selectRootElement(n,o);return R1(s),s}function R1(e){O1(e)}var O1=()=>null;function L1(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function Dk(e,n,t,i,r,o){let s=n[Ce];if(S_(e,s,n,t,i)){Nr(e)&&$1(n,e.index);return}F1(e,n,t,i,r,o)}function F1(e,n,t,i,r,o){if(e.type&3){let s=ti(e,n);t=L1(t),i=o!=null?o(i,e.value||"",t):i,r.setProperty(s,t,i)}else e.type&12}function $1(e,n){let t=Fn(n,e);t[ye]&16||(t[ye]|=64)}function j1(e,n,t){let i=t.directiveStart,r=t.directiveEnd;Nr(t)&&N1(n,t,e.data[i+t.componentOffset]),e.firstCreatePass||Bu(t,n);let o=t.initialInputs;for(let s=i;s<r;s++){let a=e.data[s],l=bl(n,e,s,t);if(Hs(l,n),o!==null&&U1(n,s-i,l,a,t,o),ki(a)){let d=Fn(t.index,n);d[Gt]=bl(n,e,s,t)}}}function B1(e,n,t){let i=t.directiveStart,r=t.directiveEnd,o=t.index,s=rw();try{Rr(o);for(let a=i;a<r;a++){let l=e.data[a],d=n[a];Eu(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&V1(l,d)}}finally{Rr(-1),Eu(s)}}function V1(e,n){e.hostBindings!==null&&e.hostBindings(1,n)}function C_(e,n){let t=e.directiveRegistry,i=null;if(t)for(let r=0;r<t.length;r++){let o=t[r];v1(n,o.selectors,!1)&&(i??=[],ki(o)?i.unshift(o):i.push(o))}return i}function z1(e,n,t,i,r,o){let s=ti(e,n);H1(n[lt],s,o,e.value,t,i,r)}function H1(e,n,t,i,r,o,s){if(o==null)e.removeAttribute(n,r,t);else{let a=s==null?mo(o):s(o,i||"",r);e.setAttribute(n,r,a,t)}}function U1(e,n,t,i,r,o){let s=o[n];if(s!==null)for(let a=0;a<s.length;a+=2){let l=s[a],d=s[a+1];Wm(i,t,l,d)}}function W1(e,n){let t=e[vo];if(!t)return;t.get(tn,null)?.(n)}function S_(e,n,t,i,r){let o=e.inputs?.[i],s=e.hostDirectiveInputs?.[i],a=!1;if(s)for(let l=0;l<s.length;l+=2){let d=s[l],u=s[l+1],f=n.data[d];Wm(f,t[d],u,r),a=!0}if(o)for(let l of o){let d=t[l],u=n.data[l];Wm(u,d,i,r),a=!0}return a}function G1(e,n){let t=Fn(n,e),i=t[Ce];q1(i,t);let r=t[Qn];r!==null&&t[rl]===null&&(t[rl]=hk(r,t[vo])),et(18),T_(i,t,t[Gt]),et(19,t[Gt])}function q1(e,n){for(let t=n.length;t<e.blueprint.length;t++)n.push(e.blueprint[t])}function T_(e,n,t){Su(n);try{let i=e.viewQuery;i!==null&&Um(1,i,t);let r=e.template;r!==null&&Tk(e,n,r,1,t),e.firstCreatePass&&(e.firstCreatePass=!1),n[xi]?.finishViewCreation(e),e.staticContentQueries&&fk(e,n),e.staticViewQueries&&Um(2,e.viewQuery,t);let o=e.components;o!==null&&Z1(n,o)}catch(i){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),i}finally{n[ye]&=-5,Tu()}}function Z1(e,n){for(let t=0;t<n.length;t++)G1(e,n[t])}function Y1(e,n,t,i){let r=De(null);try{let o=n.tView,a=e[ye]&4096?4096:16,l=w_(e,o,t,a,null,n,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),d=e[n.index];l[Mr]=d;let u=e[xi];return u!==null&&(l[xi]=u.createEmbeddedView(o)),T_(o,l,t),l}finally{De(r)}}function kw(e,n){return!n||n.firstChild===null||rk(e)}var Ew=!1,K1=new oe(""),J1;function D_(e,n){return J1(e,n)}var ri=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(ri||{});function I_(e){return(e.flags&32)===32}function Ls(e,n,t,i,r){if(i!=null){let o,s=!1;ei(i)?o=i:wi(i)&&(s=!0,i=i[Qn]);let a=Ln(i);e===0&&t!==null?r==null?wk(n,t,a):Hu(n,t,a,r||null,!0):e===1&&t!==null?Hu(n,t,a,r||null,!0):e===2?T1(n,a,s):e===3&&n.destroyNode(a),o!=null&&cN(n,e,o,t,r)}}function X1(e,n){Ik(e,n),n[Qn]=null,n[Rn]=null}function Q1(e,n,t,i,r,o){i[Qn]=r,i[Rn]=n,sh(e,i,t,1,r,o)}function Ik(e,n){n[bi].changeDetectionScheduler?.notify(9),sh(e,n,n[lt],2,null,null)}function eN(e){let n=e[Rs];if(!n)return Am(e[Ce],e);for(;n;){let t=null;if(wi(n))t=n[Rs];else{let i=n[en];i&&(t=i)}if(!t){for(;n&&!n[Pn]&&n!==e;)wi(n)&&Am(n[Ce],n),n=n[Ot];n===null&&(n=e),wi(n)&&Am(n[Ce],n),t=n&&n[Pn]}n=t}}function M_(e,n){let t=e[xo],i=t.indexOf(n);t.splice(i,1)}function Mk(e,n){if(wo(n))return;let t=n[lt];t.destroyNode&&sh(e,n,t,3,null,null),eN(n)}function Am(e,n){if(wo(n))return;let t=De(null);try{n[ye]&=-129,n[ye]|=256,n[vn]&&Td(n[vn]),nN(e,n),tN(e,n),n[Ce].type===1&&n[lt].destroy();let i=n[Mr];if(i!==null&&ei(n[Ot])){i!==n[Ot]&&M_(i,n);let r=n[xi];r!==null&&r.detachView(e)}zm(n)}finally{De(t)}}function tN(e,n){let t=e.cleanup,i=n[Ps];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?i[a]():i[-a].unsubscribe(),s+=2}else{let a=i[t[s+1]];t[s].call(a)}i!==null&&(n[Ps]=null);let r=n[Xi];if(r!==null){n[Xi]=null;for(let s=0;s<r.length;s++){let a=r[s];a()}}let o=n[sl];if(o!==null){n[sl]=null;for(let s of o)s.destroy()}}function nN(e,n){let t;if(e!=null&&(t=e.destroyHooks)!=null)for(let i=0;i<t.length;i+=2){let r=n[t[i]];if(!(r instanceof So)){let o=t[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=r[o[s]],l=o[s+1];et(4,a,l);try{l.call(a)}finally{et(5,a,l)}}else{et(4,r,o);try{o.call(r)}finally{et(5,r,o)}}}}}function iN(e,n,t){return rN(e,n.parent,t)}function rN(e,n,t){let i=n;for(;i!==null&&i.type&168;)n=i,i=n.parent;if(i===null)return t[Qn];if(Nr(i)){let{encapsulation:r}=e.data[i.directiveStart+i.componentOffset];if(r===nr.None||r===nr.Emulated)return null}return ti(i,t)}function oN(e,n,t){return aN(e,n,t)}function sN(e,n,t){return e.type&40?ti(e,t):null}var aN=sN,Cw;function oh(e,n,t,i){let r=iN(e,i,n),o=n[lt],s=i.parent||n[Rn],a=oN(s,i,n);if(r!=null)if(Array.isArray(t))for(let l=0;l<t.length;l++)ww(o,r,t[l],a,!1);else ww(o,r,t,a,!1);Cw!==void 0&&Cw(o,i,n,t,r)}function vl(e,n){if(n!==null){let t=n.type;if(t&3)return ti(n,e);if(t&4)return Gm(-1,e[n.index]);if(t&8){let i=n.child;if(i!==null)return vl(e,i);{let r=e[n.index];return ei(r)?Gm(-1,r):Ln(r)}}else{if(t&128)return vl(e,n.next);if(t&32)return D_(n,e)()||Ln(e[n.index]);{let i=Ak(e,n);if(i!==null){if(Array.isArray(i))return i[0];let r=Cr(e[On]);return vl(r,i)}else return vl(e,n.next)}}}return null}function Ak(e,n){if(n!==null){let i=e[On][Rn],r=n.projection;return i.projection[r]}return null}function Gm(e,n){let t=en+e+1;if(t<n.length){let i=n[t],r=i[Ce].firstChild;if(r!==null)return vl(i,r)}return n[Ar]}function A_(e,n,t,i,r,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=i[t.index],l=t.type;if(s&&n===0&&(a&&Hs(Ln(a),i),t.flags|=2),!I_(t))if(l&8)A_(e,n,t.child,i,r,o,!1),Ls(n,e,r,a,o);else if(l&32){let d=D_(t,i),u;for(;u=d();)Ls(n,e,r,u,o);Ls(n,e,r,a,o)}else l&16?lN(e,n,i,t,r,o):Ls(n,e,r,a,o);t=s?t.projectionNext:t.next}}function sh(e,n,t,i,r,o){A_(t,i,e.firstChild,n,r,o,!1)}function lN(e,n,t,i,r,o){let s=t[On],l=s[Rn].projection[i.projection];if(Array.isArray(l))for(let d=0;d<l.length;d++){let u=l[d];Ls(n,e,r,u,o)}else{let d=l,u=s[Ot];rk(i)&&(d.flags|=128),A_(e,n,d,u,r,o,!0)}}function cN(e,n,t,i,r){let o=t[Ar],s=Ln(t);o!==s&&Ls(n,e,i,o,r);for(let a=en;a<t.length;a++){let l=t[a];sh(l[Ce],l,e,n,i,o)}}function dN(e,n,t,i,r){if(n)r?e.addClass(t,i):e.removeClass(t,i);else{let o=i.indexOf("-")===-1?void 0:ri.DashCase;r==null?e.removeStyle(t,i,o):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=ri.Important),e.setStyle(t,i,r,o))}}function xl(e,n,t,i,r=!1){for(;t!==null;){if(t.type===128){t=r?t.projectionNext:t.next;continue}let o=n[t.index];o!==null&&i.push(Ln(o)),ei(o)&&Nk(o,i);let s=t.type;if(s&8)xl(e,n,t.child,i);else if(s&32){let a=D_(t,n),l;for(;l=a();)i.push(l)}else if(s&16){let a=Ak(n,t);if(Array.isArray(a))i.push(...a);else{let l=Cr(n[On]);xl(l[Ce],l,a,i,!0)}}t=r?t.projectionNext:t.next}return i}function Nk(e,n){for(let t=en;t<e.length;t++){let i=e[t],r=i[Ce].firstChild;r!==null&&xl(i[Ce],i,r,n)}e[Ar]!==e[Qn]&&n.push(e[Ar])}function Pk(e){if(e[mu]!==null){for(let n of e[mu])n.impl.addSequence(n);e[mu].length=0}}var Rk=[];function uN(e){return e[vn]??hN(e)}function hN(e){let n=Rk.pop()??Object.create(gN);return n.lView=e,n}function fN(e){e.lView[vn]!==e&&(e.lView=null,Rk.push(e))}var gN=ve(K({},oo),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{dl(e.lView)},consumerOnSignalRead(){this.lView[vn]=this}});function pN(e){let n=e[vn]??Object.create(mN);return n.lView=e,n}var mN=ve(K({},oo),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let n=Cr(e.lView);for(;n&&!Ok(n[Ce]);)n=Cr(n);n&&dm(n)},consumerOnSignalRead(){this.lView[vn]=this}});function Ok(e){return e.type!==2}function Lk(e){if(e[sl]===null)return;let n=!0;for(;n;){let t=!1;for(let i of e[sl])i.dirty&&(t=!0,i.zone===null||Zone.current===i.zone?i.run():i.zone.run(()=>i.run()));n=t&&!!(e[ye]&8192)}}var _N=100;function N_(e,n=0){let i=e[bi].rendererFactory,r=!1;r||i.begin?.();try{vN(e,n)}finally{r||i.end?.()}}function vN(e,n){let t=_m();try{vm(!0),qm(e,n);let i=0;for(;cl(e);){if(i===_N)throw new te(103,!1);i++,qm(e,1)}}finally{vm(t)}}function Fk(e,n){mm(n?ul.Exhaustive:ul.OnlyDirtyViews);try{N_(e)}finally{mm(ul.Off)}}function yN(e,n,t,i){if(wo(n))return;let r=n[ye],o=!1,s=!1;Su(n);let a=!0,l=null,d=null;o||(Ok(e)?(d=uN(n),l=so(d)):Cd()===null?(a=!1,d=pN(n),l=so(d)):n[vn]&&(Td(n[vn]),n[vn]=null));try{cm(n),tw(e.bindingStartIndex),t!==null&&Tk(e,n,t,2,i);let u=(r&3)===3;if(!o)if(u){let p=e.preOrderCheckHooks;p!==null&&Nu(n,p,null)}else{let p=e.preOrderHooks;p!==null&&Pu(n,p,0,null),Im(n,0)}if(s||bN(n),Lk(n),$k(n,0),e.contentQueries!==null&&fk(e,n),!o)if(u){let p=e.contentCheckHooks;p!==null&&Nu(n,p)}else{let p=e.contentHooks;p!==null&&Pu(n,p,1),Im(n,1)}wN(e,n);let f=e.components;f!==null&&Bk(n,f,0);let g=e.viewQuery;if(g!==null&&Um(2,g,i),!o)if(u){let p=e.viewCheckHooks;p!==null&&Nu(n,p)}else{let p=e.viewHooks;p!==null&&Pu(n,p,2),Im(n,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),n[pu]){for(let p of n[pu])p();n[pu]=null}o||(Pk(n),n[ye]&=-73)}catch(u){throw o||dl(n),u}finally{d!==null&&(vs(d,l),a&&fN(d)),Tu()}}function $k(e,n){for(let t=sk(e);t!==null;t=ak(t))for(let i=en;i<t.length;i++){let r=t[i];jk(r,n)}}function bN(e){for(let n=sk(e);n!==null;n=ak(n)){if(!(n[ye]&2))continue;let t=n[xo];for(let i=0;i<t.length;i++){let r=t[i];dm(r)}}}function xN(e,n,t){et(18);let i=Fn(n,e);jk(i,t),et(19,i[Gt])}function jk(e,n){yu(e)&&qm(e,n)}function qm(e,n){let i=e[Ce],r=e[ye],o=e[vn],s=!!(n===0&&r&16);if(s||=!!(r&64&&n===0),s||=!!(r&1024),s||=!!(o?.dirty&&Ga(o)),s||=!1,o&&(o.dirty=!1),e[ye]&=-9217,s)yN(i,e,i.template,e[Gt]);else if(r&8192){let a=De(null);try{Lk(e),$k(e,1);let l=i.components;l!==null&&Bk(e,l,1),Pk(e)}finally{De(a)}}}function Bk(e,n,t){for(let i=0;i<n.length;i++)xN(e,n[i],t)}function wN(e,n){let t=e.hostBindingOpCodes;if(t!==null)try{for(let i=0;i<t.length;i++){let r=t[i];if(r<0)Rr(~r);else{let o=r,s=t[++i],a=t[++i];iw(s,o);let l=n[o];et(24,l),a(2,l),et(25,l)}}}finally{Rr(-1)}}function P_(e,n){let t=_m()?64:1088;for(e[bi].changeDetectionScheduler?.notify(n);e;){e[ye]|=t;let i=Cr(e);if(Os(e)&&!i)return e;e=i}return null}function Vk(e,n,t,i){return[e,!0,0,n,null,i,null,t,null,null]}function kN(e,n,t,i=!0){let r=n[Ce];if(EN(r,n,e,t),i){let s=Gm(t,e),a=n[lt],l=a.parentNode(e[Ar]);l!==null&&Q1(r,e[Rn],a,n,l,s)}let o=n[rl];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Zm(e,n){if(e.length<=en)return;let t=en+n,i=e[t];if(i){let r=i[Mr];r!==null&&r!==e&&M_(r,i),n>0&&(e[t-1][Pn]=i[Pn]);let o=tl(e,en+n);X1(i[Ce],i);let s=o[xi];s!==null&&s.detachView(o[Ce]),i[Ot]=null,i[Pn]=null,i[ye]&=-129}return i}function EN(e,n,t,i){let r=en+i,o=t.length;i>0&&(t[r-1][Pn]=n),i<o-en?(n[Pn]=t[r],Kp(t,en+i,n)):(t.push(n),n[Pn]=null),n[Ot]=t;let s=n[Mr];s!==null&&t!==s&&zk(s,n);let a=n[xi];a!==null&&a.insertView(e),bu(n),n[ye]|=128}function zk(e,n){let t=e[xo],i=n[Ot];if(wi(i))e[ye]|=2;else{let r=i[Ot][On];n[On]!==r&&(e[ye]|=2)}t===null?e[xo]=[n]:t.push(n)}var Or=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let n=this._lView,t=n[Ce];return xl(t,n,t.firstChild,[])}constructor(n,t){this._lView=n,this._cdRefInjectingView=t}get context(){return this._lView[Gt]}set context(n){this._lView[Gt]=n}get destroyed(){return wo(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let n=this._lView[Ot];if(ei(n)){let t=n[al],i=t?t.indexOf(this):-1;i>-1&&(Zm(n,i),tl(t,i))}this._attachedToViewContainer=!1}Mk(this._lView[Ce],this._lView)}onDestroy(n){um(this._lView,n)}markForCheck(){P_(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ye]&=-129}reattach(){bu(this._lView),this._lView[ye]|=128}detectChanges(){this._lView[ye]|=1024,N_(this._lView)}checkNoChanges(){return;try{this.exhaustive??=this._lView[vo].get(K1,Ew)}catch{this.exhaustive=Ew}}attachToViewContainerRef(){if(this._appRef)throw new te(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let n=Os(this._lView),t=this._lView[Mr];t!==null&&!n&&M_(t,this._lView),Ik(this._lView[Ce],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new te(902,!1);this._appRef=n;let t=Os(this._lView),i=this._lView[Mr];i!==null&&!t&&zk(i,this._lView),bu(this._lView)}};var Lr=(()=>{class e{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=CN;constructor(t,i,r){this._declarationLView=t,this._declarationTContainer=i,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,i){return this.createEmbeddedViewImpl(t,i)}createEmbeddedViewImpl(t,i,r){let o=Y1(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:i,dehydratedView:r});return new Or(o)}}return e})();function CN(){return ah(Vt(),Le())}function ah(e,n){return e.type&4?new Lr(n,e,zs(e,n)):null}function lh(e,n,t,i,r){let o=e.data[n];if(o===null)o=SN(e,n,t,i,r),nw()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=i,o.attrs=r;let s=Xx();o.injectorIndex=s===null?-1:s.injectorIndex}return Pr(o,!0),o}function SN(e,n,t,i,r){let o=gm(),s=wu(),a=s?o:o&&o.parent,l=e.data[n]=DN(e,a,t,n,i,r);return TN(e,l,o,s),l}function TN(e,n,t,i){e.firstChild===null&&(e.firstChild=n),t!==null&&(i?t.child==null&&n.parent!==null&&(t.child=n):t.next===null&&(t.next=n,n.prev=t))}function DN(e,n,t,i,r,o){let s=n?n.injectorIndex:-1,a=0;return Yx()&&(a|=128),{type:t,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var y5=new RegExp(`^(\\d+)*(${n1}|${t1})*(.*)`);var IN=()=>null;function Sw(e,n){return IN(e,n)}var Hk=class{},ch=class{},Ym=class{resolveComponentFactory(n){throw new te(917,!1)}},Sl=class{static NULL=new Ym},To=class{},oi=(()=>{class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>MN()}return e})();function MN(){let e=Le(),n=Vt(),t=Fn(n.index,e);return(wi(t)?t:e)[lt]}var Uk=(()=>{class e{static \u0275prov=Q({token:e,providedIn:"root",factory:()=>null})}return e})();var Ou={},Km=class{injector;parentInjector;constructor(n,t){this.injector=n,this.parentInjector=t}get(n,t,i){let r=this.injector.get(n,Ou,i);return r!==Ou||t===Ou?r:this.parentInjector.get(n,t,i)}};function Jm(e,n,t){let i=t?e.styles:null,r=t?e.classes:null,o=0;if(n!==null)for(let s=0;s<n.length;s++){let a=n[s];if(typeof a=="number")o=a;else if(o==1)r=cu(r,a);else if(o==2){let l=a,d=n[++s];i=cu(i,l+": "+d+";")}}t?e.styles=i:e.stylesWithoutHost=i,t?e.classes=r:e.classesWithoutHost=r}function ee(e,n=0){let t=Le();if(t===null)return se(e,n);let i=Vt();return tk(i,t,Bt(e),n)}function R_(e,n,t,i,r){let o=i===null?null:{"":-1},s=r(e,t);if(s!==null){let a=s,l=null,d=null;for(let u of s)if(u.resolveHostDirectives!==null){[a,l,d]=u.resolveHostDirectives(s);break}PN(e,n,t,a,o,l,d)}o!==null&&i!==null&&AN(t,i,o)}function AN(e,n,t){let i=e.localNames=[];for(let r=0;r<n.length;r+=2){let o=t[n[r+1]];if(o==null)throw new te(-301,!1);i.push(n[r],o)}}function NN(e,n,t){n.componentOffset=t,(e.components??=[]).push(n.index)}function PN(e,n,t,i,r,o,s){let a=i.length,l=!1;for(let g=0;g<a;g++){let p=i[g];!l&&ki(p)&&(l=!0,NN(e,t,g)),Bm(Bu(t,n),e,p.type)}jN(t,e.data.length,a);for(let g=0;g<a;g++){let p=i[g];p.providersResolver&&p.providersResolver(p)}let d=!1,u=!1,f=Ck(e,n,a,null);a>0&&(t.directiveToIndex=new Map);for(let g=0;g<a;g++){let p=i[g];if(t.mergedAttrs=$s(t.mergedAttrs,p.hostAttrs),ON(e,t,n,f,p),$N(f,p,r),s!==null&&s.has(p)){let[k,x]=s.get(p);t.directiveToIndex.set(p.type,[f,k+t.directiveStart,x+t.directiveStart])}else(o===null||!o.has(p))&&t.directiveToIndex.set(p.type,f);p.contentQueries!==null&&(t.flags|=4),(p.hostBindings!==null||p.hostAttrs!==null||p.hostVars!==0)&&(t.flags|=64);let v=p.type.prototype;!d&&(v.ngOnChanges||v.ngOnInit||v.ngDoCheck)&&((e.preOrderHooks??=[]).push(t.index),d=!0),!u&&(v.ngOnChanges||v.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(t.index),u=!0),f++}RN(e,t,o)}function RN(e,n,t){for(let i=n.directiveStart;i<n.directiveEnd;i++){let r=e.data[i];if(t===null||!t.has(r))Tw(0,n,r,i),Tw(1,n,r,i),Iw(n,i,!1);else{let o=t.get(r);Dw(0,n,o,i),Dw(1,n,o,i),Iw(n,i,!0)}}}function Tw(e,n,t,i){let r=e===0?t.inputs:t.outputs;for(let o in r)if(r.hasOwnProperty(o)){let s;e===0?s=n.inputs??={}:s=n.outputs??={},s[o]??=[],s[o].push(i),Wk(n,o)}}function Dw(e,n,t,i){let r=e===0?t.inputs:t.outputs;for(let o in r)if(r.hasOwnProperty(o)){let s=r[o],a;e===0?a=n.hostDirectiveInputs??={}:a=n.hostDirectiveOutputs??={},a[s]??=[],a[s].push(i,o),Wk(n,s)}}function Wk(e,n){n==="class"?e.flags|=8:n==="style"&&(e.flags|=16)}function Iw(e,n,t){let{attrs:i,inputs:r,hostDirectiveInputs:o}=e;if(i===null||!t&&r===null||t&&o===null||b_(e)){e.initialInputs??=[],e.initialInputs.push(null);return}let s=null,a=0;for(;a<i.length;){let l=i[a];if(l===0){a+=4;continue}else if(l===5){a+=2;continue}else if(typeof l=="number")break;if(!t&&r.hasOwnProperty(l)){let d=r[l];for(let u of d)if(u===n){s??=[],s.push(l,i[a+1]);break}}else if(t&&o.hasOwnProperty(l)){let d=o[l];for(let u=0;u<d.length;u+=2)if(d[u]===n){s??=[],s.push(d[u+1],i[a+1]);break}}a+=2}e.initialInputs??=[],e.initialInputs.push(s)}function ON(e,n,t,i,r){e.data[i]=r;let o=r.factory||(r.factory=Er(r.type,!0)),s=new So(o,ki(r),ee);e.blueprint[i]=s,t[i]=s,LN(e,n,i,Ck(e,t,r.hostVars,yn),r)}function LN(e,n,t,i,r){let o=r.hostBindings;if(o){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~n.index;FN(s)!=a&&s.push(a),s.push(t,i,o)}}function FN(e){let n=e.length;for(;n>0;){let t=e[--n];if(typeof t=="number"&&t<0)return t}return 0}function $N(e,n,t){if(t){if(n.exportAs)for(let i=0;i<n.exportAs.length;i++)t[n.exportAs[i]]=e;ki(n)&&(t[""]=e)}}function jN(e,n,t){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+t,e.providerIndexes=n}function Gk(e,n,t,i,r,o,s,a){let l=n.consts,d=ko(l,s),u=lh(n,e,2,i,d);return o&&R_(n,t,u,ko(l,a),r),u.mergedAttrs=$s(u.mergedAttrs,u.attrs),u.attrs!==null&&Jm(u,u.attrs,!1),u.mergedAttrs!==null&&Jm(u,u.mergedAttrs,!0),n.queries!==null&&n.queries.elementStart(n,u),u}function qk(e,n){f_(e,n),_u(n)&&e.queries.elementEnd(n)}function O_(e){return dh(e)?Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e:!1}function Zk(e,n){if(Array.isArray(e))for(let t=0;t<e.length;t++)n(e[t]);else{let t=e[Symbol.iterator](),i;for(;!(i=t.next()).done;)n(i.value)}}function dh(e){return e!==null&&(typeof e=="function"||typeof e=="object")}function Yk(e,n,t){return e[n]=t}function ir(e,n,t){if(t===yn)return!1;let i=e[n];return Object.is(i,t)?!1:(e[n]=t,!0)}function Kk(e,n,t,i){let r=ir(e,n,t);return ir(e,n+1,i)||r}function Nm(e,n,t){return function i(r){let o=Nr(e)?Fn(e.index,n):n;P_(o,5);let s=n[Gt],a=Mw(n,s,t,r),l=i.__ngNextListenerFn__;for(;l;)a=Mw(n,s,l,r)&&a,l=l.__ngNextListenerFn__;return a}}function Mw(e,n,t,i){let r=De(null);try{return et(6,n,t),t(i)!==!1}catch(o){return W1(e,o),!1}finally{et(7,n,t),De(r)}}function BN(e,n,t,i,r,o,s,a){let l=ll(e),d=!1,u=null;if(!i&&l&&(u=VN(n,t,o,e.index)),u!==null){let f=u.__ngLastListenerFn__||u;f.__ngNextListenerFn__=s,u.__ngLastListenerFn__=s,d=!0}else{let f=ti(e,t),g=i?i(f):f;r1(t,g,o,a);let p=r.listen(g,o,a),v=i?k=>i(Ln(k[e.index])):e.index;Jk(v,n,t,o,a,p,!1)}return d}function VN(e,n,t,i){let r=e.cleanup;if(r!=null)for(let o=0;o<r.length-1;o+=2){let s=r[o];if(s===t&&r[o+1]===i){let a=n[Ps],l=r[o+2];return a&&a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function Jk(e,n,t,i,r,o,s){let a=n.firstCreatePass?fm(n):null,l=hm(t),d=l.length;l.push(r,o),a&&a.push(i,e,d,(d+1)*(s?-1:1))}function Aw(e,n,t,i,r,o){let s=n[t],a=n[Ce],d=a.data[t].outputs[i],f=s[d].subscribe(o);Jk(e.index,a,n,r,o,f,!0)}var Xm=Symbol("BINDING");var Uu=class extends Sl{ngModule;constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){let t=Ir(n);return new js(t,this.ngModule)}};function zN(e){return Object.keys(e).map(n=>{let[t,i,r]=e[n],o={propName:t,templateName:n,isSignal:(i&ih.SignalBased)!==0};return r&&(o.transform=r),o})}function HN(e){return Object.keys(e).map(n=>({propName:e[n],templateName:n}))}function UN(e,n,t){let i=n instanceof bt?n:n?.injector;return i&&e.getStandaloneInjector!==null&&(i=e.getStandaloneInjector(i)||i),i?new Km(t,i):t}function WN(e){let n=e.get(To,null);if(n===null)throw new te(407,!1);let t=e.get(Uk,null),i=e.get(Sr,null);return{rendererFactory:n,sanitizer:t,changeDetectionScheduler:i,ngReflect:!1}}function GN(e,n){let t=(e.selectors[0][0]||"div").toLowerCase();return xk(n,t,t==="svg"?jx:t==="math"?Bx:null)}var js=class extends ch{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=zN(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=HN(this.componentDef.outputs),this.cachedOutputs}constructor(n,t){super(),this.componentDef=n,this.ngModule=t,this.componentType=n.type,this.selector=w1(n.selectors),this.ngContentSelectors=n.ngContentSelectors??[],this.isBoundToModule=!!t}create(n,t,i,r,o,s){et(22);let a=De(null);try{let l=this.componentDef,d=qN(i,l,s,o),u=UN(l,r||this.ngModule,n),f=WN(u),g=f.rendererFactory.createRenderer(null,l),p=i?P1(g,i,l.encapsulation,u):GN(l,g),v=s?.some(Nw)||o?.some(S=>typeof S!="function"&&S.bindings.some(Nw)),k=w_(null,d,null,512|Ek(l),null,null,f,g,u,null,hk(p,u,!0));k[Qt]=p,Su(k);let x=null;try{let S=Gk(Qt,d,k,"#host",()=>d.directiveRegistry,!0,0);p&&(kk(g,p,S),Hs(p,k)),rh(d,k,S),__(d,S,k),qk(d,S),t!==void 0&&YN(S,this.ngContentSelectors,t),x=Fn(S.index,k),k[Gt]=x[Gt],T_(d,k,null)}catch(S){throw x!==null&&zm(x),zm(k),S}finally{et(23),Tu()}return new Wu(this.componentType,k,!!v)}finally{De(a)}}};function qN(e,n,t,i){let r=e?["ng-version","20.0.3"]:k1(n.selectors[0]),o=null,s=null,a=0;if(t)for(let u of t)a+=u[Xm].requiredVars,u.create&&(u.targetIdx=0,(o??=[]).push(u)),u.update&&(u.targetIdx=0,(s??=[]).push(u));if(i)for(let u=0;u<i.length;u++){let f=i[u];if(typeof f!="function")for(let g of f.bindings){a+=g[Xm].requiredVars;let p=u+1;g.create&&(g.targetIdx=p,(o??=[]).push(g)),g.update&&(g.targetIdx=p,(s??=[]).push(g))}}let l=[n];if(i)for(let u of i){let f=typeof u=="function"?u:u.type,g=em(f);l.push(g)}return x_(0,null,ZN(o,s),1,a,l,null,null,null,[r],null)}function ZN(e,n){return!e&&!n?null:t=>{if(t&1&&e)for(let i of e)i.create();if(t&2&&n)for(let i of n)i.update()}}function Nw(e){let n=e[Xm].kind;return n==="input"||n==="twoWay"}var Wu=class extends Hk{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(n,t,i){super(),this._rootLView=t,this._hasInputBindings=i,this._tNode=vu(t[Ce],Qt),this.location=zs(this._tNode,t),this.instance=Fn(this._tNode.index,t)[Gt],this.hostView=this.changeDetectorRef=new Or(t,void 0),this.componentType=n}setInput(n,t){this._hasInputBindings;let i=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),t))return;let r=this._rootLView,o=S_(i,r[Ce],r,n,t);this.previousInputValues.set(n,t);let s=Fn(i.index,r);P_(s,1)}get injector(){return new Co(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}};function YN(e,n,t){let i=e.projection=[];for(let r=0;r<n.length;r++){let o=t[r];i.push(o!=null&&o.length?Array.from(o):null)}}var rr=(()=>{class e{static __NG_ELEMENT_ID__=KN}return e})();function KN(){let e=Vt();return Qk(e,Le())}var JN=rr,Xk=class extends JN{_lContainer;_hostTNode;_hostLView;constructor(n,t,i){super(),this._lContainer=n,this._hostTNode=t,this._hostLView=i}get element(){return zs(this._hostTNode,this._hostLView)}get injector(){return new Co(this._hostTNode,this._hostLView)}get parentInjector(){let n=g_(this._hostTNode,this._hostLView);if(Yw(n)){let t=$u(n,this._hostLView),i=Fu(n),r=t[Ce].data[i+8];return new Co(r,t)}else return new Co(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){let t=Pw(this._lContainer);return t!==null&&t[n]||null}get length(){return this._lContainer.length-en}createEmbeddedView(n,t,i){let r,o;typeof i=="number"?r=i:i!=null&&(r=i.index,o=i.injector);let s=Sw(this._lContainer,n.ssrId),a=n.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,r,kw(this._hostTNode,s)),a}createComponent(n,t,i,r,o,s,a){let l=n&&!IA(n),d;if(l)d=t;else{let x=t||{};d=x.index,i=x.injector,r=x.projectableNodes,o=x.environmentInjector||x.ngModuleRef,s=x.directives,a=x.bindings}let u=l?n:new js(Ir(n)),f=i||this.parentInjector;if(!o&&u.ngModule==null){let S=(l?f:this.parentInjector).get(bt,null);S&&(o=S)}let g=Ir(u.componentType??{}),p=Sw(this._lContainer,g?.id??null),v=p?.firstChild??null,k=u.create(f,r,v,o,s,a);return this.insertImpl(k.hostView,d,kw(this._hostTNode,p)),k}insert(n,t){return this.insertImpl(n,t,!0)}insertImpl(n,t,i){let r=n._lView;if(zx(r)){let a=this.indexOf(n);if(a!==-1)this.detach(a);else{let l=r[Ot],d=new Xk(l,l[Rn],l[Ot]);d.detach(d.indexOf(n))}}let o=this._adjustIndex(t),s=this._lContainer;return kN(s,r,o,i),n.attachToViewContainerRef(),Kp(Pm(s),o,n),n}move(n,t){return this.insert(n,t)}indexOf(n){let t=Pw(this._lContainer);return t!==null?t.indexOf(n):-1}remove(n){let t=this._adjustIndex(n,-1),i=Zm(this._lContainer,t);i&&(tl(Pm(this._lContainer),t),Mk(i[Ce],i))}detach(n){let t=this._adjustIndex(n,-1),i=Zm(this._lContainer,t);return i&&tl(Pm(this._lContainer),t)!=null?new Or(i):null}_adjustIndex(n,t=0){return n??this.length+t}};function Pw(e){return e[al]}function Pm(e){return e[al]||(e[al]=[])}function Qk(e,n){let t,i=n[e.index];return ei(i)?t=i:(t=Vk(i,n,null,e),n[e.index]=t,k_(n,t)),QN(t,n,e,i),new Xk(t,e,n)}function XN(e,n){let t=e[lt],i=t.createComment(""),r=ti(n,e),o=t.parentNode(r);return Hu(t,o,i,t.nextSibling(r),!1),i}var QN=nP,eP=()=>!1;function tP(e,n,t){return eP(e,n,t)}function nP(e,n,t,i){if(e[Ar])return;let r;t.type&8?r=Ln(i):r=XN(n,t),e[Ar]=r}var Qm=class e{queryList;matches=null;constructor(n){this.queryList=n}clone(){return new e(this.queryList)}setDirty(){this.queryList.setDirty()}},e_=class e{queries;constructor(n=[]){this.queries=n}createEmbeddedView(n){let t=n.queries;if(t!==null){let i=n.contentQueries!==null?n.contentQueries[0]:t.length,r=[];for(let o=0;o<i;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];r.push(a.clone())}return new e(r)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}finishViewCreation(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let t=0;t<this.queries.length;t++)L_(n,t).matches!==null&&this.queries[t].setDirty()}},Gu=class{flags;read;predicate;constructor(n,t,i=null){this.flags=t,this.read=i,typeof n=="string"?this.predicate=dP(n):this.predicate=n}},t_=class e{queries;constructor(n=[]){this.queries=n}elementStart(n,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(n,t)}elementEnd(n){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(n)}embeddedTView(n){let t=null;for(let i=0;i<this.length;i++){let r=t!==null?t.length:0,o=this.getByIndex(i).embeddedTView(n,r);o&&(o.indexInDeclarationView=i,t!==null?t.push(o):t=[o])}return t!==null?new e(t):null}template(n,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(n,t)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}},n_=class e{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(n,t=-1){this.metadata=n,this._declarationNodeIndex=t}elementStart(n,t){this.isApplyingToNode(t)&&this.matchTNode(n,t)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,t){this.elementStart(n,t)}embeddedTView(n,t){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,t),new e(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,i=n.parent;for(;i!==null&&i.type&8&&i.index!==t;)i=i.parent;return t===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(n,t){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let o=i[r];this.matchTNodeWithReadOption(n,t,iP(t,o)),this.matchTNodeWithReadOption(n,t,Ru(t,n,o,!1,!1))}else i===Lr?t.type&4&&this.matchTNodeWithReadOption(n,t,-1):this.matchTNodeWithReadOption(n,t,Ru(t,n,i,!1,!1))}matchTNodeWithReadOption(n,t,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===nn||r===rr||r===Lr&&t.type&4)this.addMatch(t.index,-2);else{let o=Ru(t,n,r,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,i)}}addMatch(n,t){this.matches===null?this.matches=[n,t]:this.matches.push(n,t)}};function iP(e,n){let t=e.localNames;if(t!==null){for(let i=0;i<t.length;i+=2)if(t[i]===n)return t[i+1]}return null}function rP(e,n){return e.type&11?zs(e,n):e.type&4?ah(e,n):null}function oP(e,n,t,i){return t===-1?rP(n,e):t===-2?sP(e,n,i):bl(e,e[Ce],t,n)}function sP(e,n,t){if(t===nn)return zs(n,e);if(t===Lr)return ah(n,e);if(t===rr)return Qk(n,e)}function eE(e,n,t,i){let r=n[xi].queries[i];if(r.matches===null){let o=e.data,s=t.matches,a=[];for(let l=0;s!==null&&l<s.length;l+=2){let d=s[l];if(d<0)a.push(null);else{let u=o[d];a.push(oP(n,u,s[l+1],t.metadata.read))}}r.matches=a}return r.matches}function i_(e,n,t,i){let r=e.queries.getByIndex(t),o=r.matches;if(o!==null){let s=eE(e,n,r,t);for(let a=0;a<o.length;a+=2){let l=o[a];if(l>0)i.push(s[a/2]);else{let d=o[a+1],u=n[-l];for(let f=en;f<u.length;f++){let g=u[f];g[Mr]===g[Ot]&&i_(g[Ce],g,d,i)}if(u[xo]!==null){let f=u[xo];for(let g=0;g<f.length;g++){let p=f[g];i_(p[Ce],p,d,i)}}}}}return i}function aP(e,n){return e[xi].queries[n].queryList}function tE(e,n,t){let i=new Vu((t&4)===4);return Wx(e,n,i,i.destroy),(n[xi]??=new e_).queries.push(new Qm(i))-1}function lP(e,n,t){let i=ht();return i.firstCreatePass&&(nE(i,new Gu(e,n,t),-1),(n&2)===2&&(i.staticViewQueries=!0)),tE(i,Le(),n)}function cP(e,n,t,i){let r=ht();if(r.firstCreatePass){let o=Vt();nE(r,new Gu(n,t,i),o.index),uP(r,e),(t&2)===2&&(r.staticContentQueries=!0)}return tE(r,Le(),t)}function dP(e){return e.split(",").map(n=>n.trim())}function nE(e,n,t){e.queries===null&&(e.queries=new t_),e.queries.track(new n_(n,t))}function uP(e,n){let t=e.contentQueries||(e.contentQueries=[]),i=t.length?t[t.length-1]:-1;n!==i&&t.push(e.queries.length-1,n)}function L_(e,n){return e.queries.getByIndex(n)}function hP(e,n){let t=e[Ce],i=L_(t,n);return i.crossesNgTemplate?i_(t,e,n,[]):eE(t,e,i,n)}var Rw=new Set;function uh(e){Rw.has(e)||(Rw.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}var Do=class{},hh=class{};var qu=class extends Do{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Uu(this);constructor(n,t,i,r=!0){super(),this.ngModuleType=n,this._parent=t;let o=Qp(n);this._bootstrapComponents=yk(o.bootstrap),this._r3Injector=km(n,t,[{provide:Do,useValue:this},{provide:Sl,useValue:this.componentFactoryResolver},...i],hn(n),new Set(["environment"])),r&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}},Zu=class extends hh{moduleType;constructor(n){super(),this.moduleType=n}create(n){return new qu(this.moduleType,n,[])}};var wl=class extends Do{injector;componentFactoryResolver=new Uu(this);instance=null;constructor(n){super();let t=new go([...n.providers,{provide:Do,useValue:this},{provide:Sl,useValue:this.componentFactoryResolver}],n.parent||il(),n.debugName,new Set(["environment"]));this.injector=t,n.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}};function Tl(e,n,t=null){return new wl({providers:e,parent:n,debugName:t,runEnvironmentInitializers:!0}).injector}var fP=(()=>{class e{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let i=tm(!1,t.type),r=i.length>0?Tl([i],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,r)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=Q({token:e,providedIn:"environment",factory:()=>new e(se(bt))})}return e})();function we(e){return Vs(()=>{let n=iE(e),t=ve(K({},n),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===p_.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&e.dependencies||null,getStandaloneInjector:n.standalone?r=>r.get(fP).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||nr.Emulated,styles:e.styles||Jt,_:null,schemas:e.schemas||null,tView:null,id:""});n.standalone&&uh("NgStandalone"),rE(t);let i=e.dependencies;return t.directiveDefs=Ow(i,!1),t.pipeDefs=Ow(i,!0),t.id=vP(t),t})}function gP(e){return Ir(e)||em(e)}function pP(e){return e!==null}function si(e){return Vs(()=>({type:e.type,bootstrap:e.bootstrap||Jt,declarations:e.declarations||Jt,imports:e.imports||Jt,exports:e.exports||Jt,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function mP(e,n){if(e==null)return Tr;let t={};for(let i in e)if(e.hasOwnProperty(i)){let r=e[i],o,s,a,l;Array.isArray(r)?(a=r[0],o=r[1],s=r[2]??o,l=r[3]||null):(o=r,s=r,a=ih.None,l=null),t[o]=[i,a,l],n[o]=s}return t}function _P(e){if(e==null)return Tr;let n={};for(let t in e)e.hasOwnProperty(t)&&(n[e[t]]=t);return n}function Qe(e){return Vs(()=>{let n=iE(e);return rE(n),n})}function F_(e){return{type:e.type,name:e.name,factory:null,pure:e.pure!==!1,standalone:e.standalone??!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function iE(e){let n={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputConfig:e.inputs||Tr,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:e.signals===!0,selectors:e.selectors||Jt,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:mP(e.inputs,n),outputs:_P(e.outputs),debugInfo:null}}function rE(e){e.features?.forEach(n=>n(e))}function Ow(e,n){if(!e)return null;let t=n?Nx:gP;return()=>(typeof e=="function"?e():e).map(i=>t(i)).filter(pP)}function vP(e){let n=0,t=typeof e.consts=="function"?"":e.consts,i=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,t,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let o of i.join("|"))n=Math.imul(31,n)+o.charCodeAt(0)<<0;return n+=2147483648,"c"+n}function yP(e){return Object.getPrototypeOf(e.prototype).constructor}function rn(e){let n=yP(e.type),t=!0,i=[e];for(;n;){let r;if(ki(e))r=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new te(903,!1);r=n.\u0275dir}if(r){if(t){i.push(r);let s=e;s.inputs=Rm(e.inputs),s.declaredInputs=Rm(e.declaredInputs),s.outputs=Rm(e.outputs);let a=r.hostBindings;a&&EP(e,a);let l=r.viewQuery,d=r.contentQueries;if(l&&wP(e,l),d&&kP(e,d),bP(e,r),Cx(e.outputs,r.outputs),ki(r)&&r.data.animation){let u=e.data;u.animation=(u.animation||[]).concat(r.data.animation)}}let o=r.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(e),a===rn&&(t=!1)}}n=Object.getPrototypeOf(n)}xP(i)}function bP(e,n){for(let t in n.inputs){if(!n.inputs.hasOwnProperty(t)||e.inputs.hasOwnProperty(t))continue;let i=n.inputs[t];i!==void 0&&(e.inputs[t]=i,e.declaredInputs[t]=n.declaredInputs[t])}}function xP(e){let n=0,t=null;for(let i=e.length-1;i>=0;i--){let r=e[i];r.hostVars=n+=r.hostVars,r.hostAttrs=$s(r.hostAttrs,t=$s(t,r.hostAttrs))}}function Rm(e){return e===Tr?{}:e===Jt?[]:e}function wP(e,n){let t=e.viewQuery;t?e.viewQuery=(i,r)=>{n(i,r),t(i,r)}:e.viewQuery=n}function kP(e,n){let t=e.contentQueries;t?e.contentQueries=(i,r,o)=>{n(i,r,o),t(i,r,o)}:e.contentQueries=n}function EP(e,n){let t=e.hostBindings;t?e.hostBindings=(i,r)=>{n(i,r),t(i,r)}:e.hostBindings=n}function CP(e,n,t,i,r,o,s,a,l){let d=n.consts,u=lh(n,e,4,s||null,a||null);xu()&&R_(n,t,u,ko(d,l),C_),u.mergedAttrs=$s(u.mergedAttrs,u.attrs),f_(n,u);let f=u.tView=x_(2,u,i,r,o,n.directiveRegistry,n.pipeRegistry,null,n.schemas,d,null);return n.queries!==null&&(n.queries.template(n,u),f.queries=n.queries.embeddedTView(u)),u}function SP(e,n,t,i,r,o,s,a,l,d,u){let f=t+Qt,g=n.firstCreatePass?CP(f,n,e,i,r,o,s,a,d):n.data[f];l&&(g.flags|=l),Pr(g,!1);let p=TP(n,e,g,t);fl()&&oh(n,e,p,g),Hs(p,e);let v=Vk(p,e,p,g);return e[f]=v,k_(e,v),tP(v,g,e),ll(g)&&rh(n,e,g),d!=null&&E_(e,g,u),g}function ke(e,n,t,i,r,o,s,a){let l=Le(),d=ht(),u=ko(d.consts,o);return SP(l,d,e,n,t,i,r,u,void 0,s,a),ke}var TP=DP;function DP(e,n,t,i){return gl(!0),n[lt].createComment("")}var $_=function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e}($_||{}),Dl=new oe(""),oE=!1,r_=class extends ut{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(n=!1){super(),this.__isAsync=n,Fx()&&(this.destroyRef=Y(Eo,{optional:!0})??void 0,this.pendingTasks=Y(tr,{optional:!0})??void 0)}emit(n){let t=De(null);try{super.next(n)}finally{De(t)}}subscribe(n,t,i){let r=n,o=t||(()=>null),s=i;if(n&&typeof n=="object"){let l=n;r=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),r&&(r=this.wrapInTimeout(r)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:r,error:o,complete:s});return n instanceof _t&&n.add(a),a}wrapInTimeout(n){return t=>{let i=this.pendingTasks?.add();setTimeout(()=>{try{n(t)}finally{i!==void 0&&this.pendingTasks?.remove(i)}})}}},ct=r_;function sE(e){let n,t;function i(){e=_l;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),n!==void 0&&clearTimeout(n)}catch{}}return n=setTimeout(()=>{e(),i()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{e(),i()})),()=>i()}function Lw(e){return queueMicrotask(()=>e()),()=>{e=_l}}var j_="isAngularZone",Yu=j_+"_ID",IP=0,xt=class e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new ct(!1);onMicrotaskEmpty=new ct(!1);onStable=new ct(!1);onError=new ct(!1);constructor(n){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:r=!1,scheduleInRootZone:o=oE}=n;if(typeof Zone>"u")throw new te(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!r&&i,s.shouldCoalesceRunChangeDetection=r,s.callbackScheduled=!1,s.scheduleInRootZone=o,NP(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(j_)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new te(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new te(909,!1)}run(n,t,i){return this._inner.run(n,t,i)}runTask(n,t,i,r){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,n,MP,_l,_l);try{return o.runTask(s,t,i)}finally{o.cancelTask(s)}}runGuarded(n,t,i){return this._inner.runGuarded(n,t,i)}runOutsideAngular(n){return this._outer.run(n)}},MP={};function B_(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function AP(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function n(){sE(()=>{e.callbackScheduled=!1,o_(e),e.isCheckStableRunning=!0,B_(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{n()}):e._outer.run(()=>{n()}),o_(e)}function NP(e){let n=()=>{AP(e)},t=IP++;e._inner=e._inner.fork({name:"angular",properties:{[j_]:!0,[Yu]:t,[Yu+t]:!0},onInvokeTask:(i,r,o,s,a,l)=>{if(PP(l))return i.invokeTask(o,s,a,l);try{return Fw(e),i.invokeTask(o,s,a,l)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&n(),$w(e)}},onInvoke:(i,r,o,s,a,l,d)=>{try{return Fw(e),i.invoke(o,s,a,l,d)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!RP(l)&&n(),$w(e)}},onHasTask:(i,r,o,s)=>{i.hasTask(o,s),r===o&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,o_(e),B_(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(i,r,o,s)=>(i.handleError(o,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function o_(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function Fw(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function $w(e){e._nesting--,B_(e)}var Ku=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new ct;onMicrotaskEmpty=new ct;onStable=new ct;onError=new ct;run(n,t,i){return n.apply(t,i)}runGuarded(n,t,i){return n.apply(t,i)}runOutsideAngular(n){return n()}runTask(n,t,i,r){return n.apply(t,i)}};function PP(e){return aE(e,"__ignore_ng_zone__")}function RP(e){return aE(e,"__scheduler_tick__")}function aE(e,n){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[n]===!0}var lE=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=Q({token:e,providedIn:"root",factory:()=>new e})}return e})();var V_=(()=>{class e{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();var z_=new oe("");function or(e){return!!e&&typeof e.then=="function"}function fh(e){return!!e&&typeof e.subscribe=="function"}var cE=new oe("");var H_=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,i)=>{this.resolve=t,this.reject=i});appInits=Y(cE,{optional:!0})??[];injector=Y(Xn);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let r of this.appInits){let o=Xt(this.injector,r);if(or(o))t.push(o);else if(fh(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});t.push(s)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{i()}).catch(r=>{this.reject(r)}),t.length===0&&i(),this.initialized=!0}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),gh=new oe("");function dE(){up(()=>{let e="";throw new te(600,e)})}function uE(e){return e.isBoundToModule}var OP=10;var Mo=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=Y(tn);afterRenderManager=Y(lE);zonelessEnabled=Y(pl);rootEffectScheduler=Y(Dm);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new ut;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=Y(tr);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(_e(t=>!t))}constructor(){Y(Dl,{optional:!0})}whenStable(){let t;return new Promise(i=>{t=this.isStable.subscribe({next:r=>{r&&i()}})}).finally(()=>{t.unsubscribe()})}_injector=Y(bt);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,i){return this.bootstrapImpl(t,i)}bootstrapImpl(t,i,r=Xn.NULL){return this._injector.get(xt).run(()=>{et(10);let s=t instanceof ch;if(!this._injector.get(H_).done){let v="";throw new te(405,v)}let l;s?l=t:l=this._injector.get(Sl).resolveComponentFactory(t),this.componentTypes.push(l.componentType);let d=uE(l)?void 0:this._injector.get(Do),u=i||l.selector,f=l.create(r,[],u,d),g=f.location.nativeElement,p=f.injector.get(z_,null);return p?.registerApplication(g),f.onDestroy(()=>{this.detachView(f.hostView),yl(this.components,f),p?.unregisterApplication(g)}),this._loadComponent(f),et(11,f),f})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){et(12),this.tracingSnapshot!==null?this.tracingSnapshot.run($_.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new te(101,!1);let t=De(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,De(t),this.afterTick.next(),et(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(To,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<OP;)et(14),this.synchronizeOnce(),et(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(this.dirtyFlags&7){let i=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r}of this.allViews){if(!i&&!cl(r))continue;let o=i&&!this.zonelessEnabled?0:1;N_(r,o),t=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>cl(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){let i=t;yl(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(r){this.internalErrorHandler(r)}this.components.push(t),this._injector.get(gh,[]).forEach(r=>r(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>yl(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new te(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function yl(e,n){let t=e.indexOf(n);t>-1&&e.splice(t,1)}function Fr(e,n,t,i){let r=Le(),o=hl();if(ir(r,o,n)){let s=ht(),a=Du();z1(a,r,e,n,t,i)}return Fr}function X(e,n,t){let i=Le(),r=hl();if(ir(i,r,n)){let o=ht(),s=Du();Dk(s,i,e,n,i[lt],t)}return X}function s_(e,n,t,i,r){S_(n,e,t,r?"class":"style",i)}function A(e,n,t,i){let r=Le(),o=ht(),s=Qt+e,a=r[lt],l=o.firstCreatePass?Gk(s,o,r,n,C_,xu(),t,i):o.data[s],d=LP(o,r,l,a,n,e);r[s]=d;let u=ll(l);return Pr(l,!0),kk(a,d,l),!I_(l)&&fl()&&oh(o,r,d,l),(Gx()===0||u)&&Hs(d,r),qx(),u&&(rh(o,r,l),__(o,l,r)),i!==null&&E_(r,l),A}function N(){let e=Vt();wu()?pm():(e=e.parent,Pr(e,!1));let n=e;Kx(n)&&Jx(),Zx();let t=ht();return t.firstCreatePass&&qk(t,n),n.classesWithoutHost!=null&&OA(n)&&s_(t,n,Le(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&LA(n)&&s_(t,n,Le(),n.stylesWithoutHost,!1),N}function Fe(e,n,t,i){return A(e,n,t,i),N(),Fe}var LP=(e,n,t,i,r,o)=>(gl(!0),xk(i,r,dw()));function FP(e,n,t,i,r){let o=n.consts,s=ko(o,i),a=lh(n,e,8,"ng-container",s);s!==null&&Jm(a,s,!0);let l=ko(o,r);return xu()&&R_(n,t,a,l,C_),a.mergedAttrs=$s(a.mergedAttrs,a.attrs),n.queries!==null&&n.queries.elementStart(n,a),a}function Ws(e,n,t){let i=Le(),r=ht(),o=e+Qt,s=r.firstCreatePass?FP(o,r,i,n,t):r.data[o];Pr(s,!0);let a=$P(r,i,s,e);return i[o]=a,fl()&&oh(r,i,a,s),Hs(a,i),ll(s)&&(rh(r,i,s),__(r,s,i)),t!=null&&E_(i,s),Ws}function Gs(){let e=Vt(),n=ht();return wu()?pm():(e=e.parent,Pr(e,!1)),n.firstCreatePass&&(f_(n,e),_u(e)&&n.queries.elementEnd(e)),Gs}var $P=(e,n,t,i)=>(gl(!0),S1(n[lt],""));function wt(){return Le()}var Il="en-US";var jP=Il;function hE(e){typeof e=="string"&&(jP=e.toLowerCase().replace(/_/g,"-"))}function ae(e,n,t){let i=Le(),r=ht(),o=Vt();return fE(r,i,i[lt],o,e,n,t),ae}function fE(e,n,t,i,r,o,s){let a=!0,l=null;if((i.type&3||s)&&(l??=Nm(i,n,o),BN(i,e,n,s,t,r,o,l)&&(a=!1)),a){let d=i.outputs?.[r],u=i.hostDirectiveOutputs?.[r];if(u&&u.length)for(let f=0;f<u.length;f+=2){let g=u[f],p=u[f+1];l??=Nm(i,n,o),Aw(i,n,g,p,r,l)}if(d&&d.length)for(let f of d)l??=Nm(i,n,o),Aw(i,n,f,r,r,l)}}function ie(e=1){return cw(e)}function U_(e,n,t,i){cP(e,n,t,i)}function Ml(e,n,t){lP(e,n,t)}function Ao(e){let n=Le(),t=ht(),i=bm();Cu(i+1);let r=L_(t,i);if(e.dirty&&Vx(n)===((r.metadata.flags&2)===2)){if(r.matches===null)e.reset([]);else{let o=hP(n,i);e.reset(o,YA),e.notifyOnChanges()}return!0}return!1}function No(){return aP(Le(),bm())}function Po(e){let n=Qx();return am(n,Qt+e)}function Au(e,n){return e<<17|n<<2}function Io(e){return e>>17&32767}function BP(e){return(e&2)==2}function VP(e,n){return e&131071|n<<17}function a_(e){return e|2}function Bs(e){return(e&131068)>>2}function Om(e,n){return e&-131069|n<<2}function zP(e){return(e&1)===1}function l_(e){return e|1}function HP(e,n,t,i,r,o){let s=o?n.classBindings:n.styleBindings,a=Io(s),l=Bs(s);e[i]=t;let d=!1,u;if(Array.isArray(t)){let f=t;u=f[1],(u===null||Ns(f,u)>0)&&(d=!0)}else u=t;if(r)if(l!==0){let g=Io(e[a+1]);e[i+1]=Au(g,a),g!==0&&(e[g+1]=Om(e[g+1],i)),e[a+1]=VP(e[a+1],i)}else e[i+1]=Au(a,0),a!==0&&(e[a+1]=Om(e[a+1],i)),a=i;else e[i+1]=Au(l,0),a===0?a=i:e[l+1]=Om(e[l+1],i),l=i;d&&(e[i+1]=a_(e[i+1])),jw(e,u,i,!0),jw(e,u,i,!1),UP(n,u,e,i,o),s=Au(a,l),o?n.classBindings=s:n.styleBindings=s}function UP(e,n,t,i,r){let o=r?e.residualClasses:e.residualStyles;o!=null&&typeof n=="string"&&Ns(o,n)>=0&&(t[i+1]=l_(t[i+1]))}function jw(e,n,t,i){let r=e[t+1],o=n===null,s=i?Io(r):Bs(r),a=!1;for(;s!==0&&(a===!1||o);){let l=e[s],d=e[s+1];WP(l,n)&&(a=!0,e[s+1]=i?l_(d):a_(d)),s=i?Io(d):Bs(d)}a&&(e[t+1]=i?a_(r):l_(r))}function WP(e,n){return e===null||n==null||(Array.isArray(e)?e[1]:e)===n?!0:Array.isArray(e)&&typeof n=="string"?Ns(e,n)>=0:!1}var ii={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function GP(e){return e.substring(ii.key,ii.keyEnd)}function qP(e){return ZP(e),gE(e,pE(e,0,ii.textEnd))}function gE(e,n){let t=ii.textEnd;return t===n?-1:(n=ii.keyEnd=YP(e,ii.key=n,t),pE(e,n,t))}function ZP(e){ii.key=0,ii.keyEnd=0,ii.value=0,ii.valueEnd=0,ii.textEnd=e.length}function pE(e,n,t){for(;n<t&&e.charCodeAt(n)<=32;)n++;return n}function YP(e,n,t){for(;n<t&&e.charCodeAt(n)>32;)n++;return n}function Ro(e,n){return JP(e,n,null,!0),Ro}function W_(e){XP(rR,KP,e,!0)}function KP(e,n){for(let t=qP(n);t>=0;t=gE(n,t))fu(e,GP(n),!0)}function JP(e,n,t,i){let r=Le(),o=ht(),s=ku(2);if(o.firstUpdatePass&&_E(o,e,s,i),n!==yn&&ir(r,s,n)){let a=o.data[Qi()];vE(o,a,r,r[lt],e,r[s+1]=sR(n,t),i,s)}}function XP(e,n,t,i){let r=ht(),o=ku(2);r.firstUpdatePass&&_E(r,null,o,i);let s=Le();if(t!==yn&&ir(s,o,t)){let a=r.data[Qi()];if(yE(a,i)&&!mE(r,o)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(t=cu(l,t||"")),s_(r,a,s,t,i)}else oR(r,a,s,s[lt],s[o+1],s[o+1]=iR(e,n,t),i,o)}}function mE(e,n){return n>=e.expandoStartIndex}function _E(e,n,t,i){let r=e.data;if(r[t+1]===null){let o=r[Qi()],s=mE(e,t);yE(o,i)&&n===null&&!s&&(n=!1),n=QP(r,o,n,i),HP(r,o,n,t,s,i)}}function QP(e,n,t,i){let r=ow(e),o=i?n.residualClasses:n.residualStyles;if(r===null)(i?n.classBindings:n.styleBindings)===0&&(t=Lm(null,e,n,t,i),t=kl(t,n.attrs,i),o=null);else{let s=n.directiveStylingLast;if(s===-1||e[s]!==r)if(t=Lm(r,e,n,t,i),o===null){let l=eR(e,n,i);l!==void 0&&Array.isArray(l)&&(l=Lm(null,e,n,l[1],i),l=kl(l,n.attrs,i),tR(e,n,i,l))}else o=nR(e,n,i)}return o!==void 0&&(i?n.residualClasses=o:n.residualStyles=o),t}function eR(e,n,t){let i=t?n.classBindings:n.styleBindings;if(Bs(i)!==0)return e[Io(i)]}function tR(e,n,t,i){let r=t?n.classBindings:n.styleBindings;e[Io(r)]=i}function nR(e,n,t){let i,r=n.directiveEnd;for(let o=1+n.directiveStylingLast;o<r;o++){let s=e[o].hostAttrs;i=kl(i,s,t)}return kl(i,n.attrs,t)}function Lm(e,n,t,i,r){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=n[a],i=kl(i,o.hostAttrs,r),o!==e);)a++;return e!==null&&(t.directiveStylingLast=a),i}function kl(e,n,t){let i=t?1:2,r=-1;if(n!==null)for(let o=0;o<n.length;o++){let s=n[o];typeof s=="number"?r=s:r===i&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),fu(e,s,t?!0:n[++o]))}return e===void 0?null:e}function iR(e,n,t){if(t==null||t==="")return Jt;let i=[],r=Cl(t);if(Array.isArray(r))for(let o=0;o<r.length;o++)e(i,r[o],!0);else if(typeof r=="object")for(let o in r)r.hasOwnProperty(o)&&e(i,o,r[o]);else typeof r=="string"&&n(i,r);return i}function rR(e,n,t){let i=String(n);i!==""&&!i.includes(" ")&&fu(e,i,t)}function oR(e,n,t,i,r,o,s,a){r===yn&&(r=Jt);let l=0,d=0,u=0<r.length?r[0]:null,f=0<o.length?o[0]:null;for(;u!==null||f!==null;){let g=l<r.length?r[l+1]:void 0,p=d<o.length?o[d+1]:void 0,v=null,k;u===f?(l+=2,d+=2,g!==p&&(v=f,k=p)):f===null||u!==null&&u<f?(l+=2,v=u):(d+=2,v=f,k=p),v!==null&&vE(e,n,t,i,v,k,s,a),u=l<r.length?r[l]:null,f=d<o.length?o[d]:null}}function vE(e,n,t,i,r,o,s,a){if(!(n.type&3))return;let l=e.data,d=l[a+1],u=zP(d)?Bw(l,n,t,r,Bs(d),s):void 0;if(!Ju(u)){Ju(o)||BP(d)&&(o=Bw(l,null,t,r,a,s));let f=sm(Qi(),t);dN(i,s,f,r,o)}}function Bw(e,n,t,i,r,o){let s=n===null,a;for(;r>0;){let l=e[r],d=Array.isArray(l),u=d?l[1]:l,f=u===null,g=t[r+1];g===yn&&(g=f?Jt:void 0);let p=f?gu(g,i):u===i?g:void 0;if(d&&!Ju(p)&&(p=gu(l,i)),Ju(p)&&(a=p,s))return a;let v=e[r+1];r=s?Io(v):Bs(v)}if(n!==null){let l=o?n.residualClasses:n.residualStyles;l!=null&&(a=gu(l,i))}return a}function Ju(e){return e!==void 0}function sR(e,n){return e==null||e===""||(typeof n=="string"?e=e+n:typeof e=="object"&&(e=hn(Cl(e)))),e}function yE(e,n){return(e.flags&(n?8:16))!==0}function O(e,n=""){let t=Le(),i=ht(),r=e+Qt,o=i.firstCreatePass?lh(i,r,1,n,null):i.data[r],s=aR(i,t,o,n,e);t[r]=s,fl()&&oh(i,t,s,o),Pr(o,!1)}var aR=(e,n,t,i,r)=>(gl(!0),E1(n[lt],i));function lR(e,n,t,i=""){return ir(e,hl(),t)?n+mo(t)+i:yn}function cR(e,n,t,i,r,o=""){let s=ew(),a=Kk(e,s,t,r);return ku(2),a?n+mo(t)+i+mo(r)+o:yn}function je(e){return kt("",e),je}function kt(e,n,t){let i=Le(),r=lR(i,e,n,t);return r!==yn&&bE(i,Qi(),r),kt}function sr(e,n,t,i,r){let o=Le(),s=cR(o,e,n,t,i,r);return s!==yn&&bE(o,Qi(),s),sr}function bE(e,n,t){let i=sm(n,e);C1(e[lt],i,t)}function ze(e,n,t){Cm(n)&&(n=n());let i=Le(),r=hl();if(ir(i,r,n)){let o=ht(),s=Du();Dk(s,i,e,n,i[lt],t)}return ze}function We(e,n){let t=Cm(e);return t&&e.set(n),t}function He(e,n){let t=Le(),i=ht(),r=Vt();return fE(i,t,t[lt],r,e,n),He}function dR(e,n,t){let i=ht();if(i.firstCreatePass){let r=ki(e);c_(t,i.data,i.blueprint,r,!0),c_(n,i.data,i.blueprint,r,!1)}}function c_(e,n,t,i,r){if(e=Bt(e),Array.isArray(e))for(let o=0;o<e.length;o++)c_(e[o],n,t,i,r);else{let o=ht(),s=Le(),a=Vt(),l=fo(e)?e:Bt(e.provide),d=im(e),u=a.providerIndexes&1048575,f=a.directiveStart,g=a.providerIndexes>>20;if(fo(e)||!e.multi){let p=new So(d,r,ee),v=$m(l,n,r?u:u+g,f);v===-1?(Bm(Bu(a,s),o,l),Fm(o,e,n.length),n.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(p),s.push(p)):(t[v]=p,s[v]=p)}else{let p=$m(l,n,u+g,f),v=$m(l,n,u,u+g),k=p>=0&&t[p],x=v>=0&&t[v];if(r&&!x||!r&&!k){Bm(Bu(a,s),o,l);let S=fR(r?hR:uR,t.length,r,i,d);!r&&x&&(t[v].providerFactory=S),Fm(o,e,n.length,0),n.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(S),s.push(S)}else{let S=xE(t[r?v:p],d,!r&&i);Fm(o,e,p>-1?p:v,S)}!r&&i&&x&&t[v].componentProviders++}}}function Fm(e,n,t,i){let r=fo(n),o=Lx(n);if(r||o){let l=(o?Bt(n.useClass):n).prototype.ngOnDestroy;if(l){let d=e.destroyHooks||(e.destroyHooks=[]);if(!r&&n.multi){let u=d.indexOf(t);u===-1?d.push(t,[i,l]):d[u+1].push(i,l)}else d.push(t,l)}}}function xE(e,n,t){return t&&e.componentProviders++,e.multi.push(n)-1}function $m(e,n,t,i){for(let r=t;r<i;r++)if(n[r]===e)return r;return-1}function uR(e,n,t,i){return d_(this.multi,[])}function hR(e,n,t,i){let r=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=bl(t,t[Ce],this.providerFactory.index,i);o=a.slice(0,s),d_(r,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],d_(r,o);return o}function d_(e,n){for(let t=0;t<e.length;t++){let i=e[t];n.push(i())}return n}function fR(e,n,t,i,r){let o=new So(e,t,ee);return o.multi=[],o.index=n,o.componentProviders=0,xE(o,r,i&&!t),o}function on(e,n=[]){return t=>{t.providersResolver=(i,r)=>dR(i,r?r(e):e,n)}}function Oo(e,n,t,i,r){return pR(Le(),ym(),e,n,t,i,r)}function wE(e,n){let t=e[n];return t===yn?void 0:t}function gR(e,n,t,i,r,o){let s=n+t;return ir(e,s,r)?Yk(e,s+1,o?i.call(o,r):i(r)):wE(e,s+1)}function pR(e,n,t,i,r,o,s){let a=n+t;return Kk(e,a,r,o)?Yk(e,a+2,s?i.call(s,r,o):i(r,o)):wE(e,a+2)}function Al(e,n){let t=ht(),i,r=e+Qt;t.firstCreatePass?(i=mR(n,t.pipeRegistry),t.data[r]=i,i.onDestroy&&(t.destroyHooks??=[]).push(r,i.onDestroy)):i=t.data[r];let o=i.factory||(i.factory=Er(i.type,!0)),s,a=Kt(ee);try{let l=ju(!1),d=o();return ju(l),lm(t,Le(),r,d),d}finally{Kt(a)}}function mR(e,n){if(n)for(let t=n.length-1;t>=0;t--){let i=n[t];if(e===i.name)return i}}function Nl(e,n,t){let i=e+Qt,r=Le(),o=am(r,i);return _R(r,i)?gR(r,ym(),n,o.transform,t,o):o.transform(t)}function _R(e,n){return e[Ce].data[n].pure}function G_(e,n){return ah(e,n)}var Xu=class{ngModuleFactory;componentFactories;constructor(n,t){this.ngModuleFactory=n,this.componentFactories=t}},q_=(()=>{class e{compileModuleSync(t){return new Zu(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let i=this.compileModuleSync(t),r=Qp(t),o=yk(r.declarations).reduce((s,a)=>{let l=Ir(a);return l&&s.push(new js(l)),s},[]);return new Xu(i,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var vR=(()=>{class e{zone=Y(xt);changeDetectionScheduler=Y(Sr);applicationRef=Y(Mo);applicationErrorHandler=Y(tn);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(t){this.applicationErrorHandler(t)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),kE=new oe("",{factory:()=>!1});function Z_({ngZoneFactory:e,ignoreChangesOutsideZone:n,scheduleInRootZone:t}){return e??=()=>new xt(ve(K({},K_()),{scheduleInRootZone:t})),[{provide:xt,useFactory:e},{provide:Dr,multi:!0,useFactory:()=>{let i=Y(vR,{optional:!0});return()=>i.initialize()}},{provide:Dr,multi:!0,useFactory:()=>{let i=Y(yR);return()=>{i.initialize()}}},n===!0?{provide:Sm,useValue:!0}:[],{provide:Tm,useValue:t??oE},{provide:tn,useFactory:()=>{let i=Y(xt),r=Y(bt),o;return s=>{o??=r.get(yi),i.runOutsideAngular(()=>o.handleError(s))}}}]}function Y_(e){let n=e?.ignoreChangesOutsideZone,t=e?.scheduleInRootZone,i=Z_({ngZoneFactory:()=>{let r=K_(e);return r.scheduleInRootZone=t,r.shouldCoalesceEventChangeDetection&&uh("NgZone_CoalesceEvent"),new xt(r)},ignoreChangesOutsideZone:n,scheduleInRootZone:t});return _o([{provide:kE,useValue:!0},{provide:pl,useValue:!1},i])}function K_(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var yR=(()=>{class e{subscription=new _t;initialized=!1;zone=Y(xt);pendingTasks=Y(tr);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{xt.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{xt.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var EE=(()=>{class e{applicationErrorHandler=Y(tn);appRef=Y(Mo);taskService=Y(tr);ngZone=Y(xt);zonelessEnabled=Y(pl);tracing=Y(Dl,{optional:!0});disableScheduling=Y(Sm,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new _t;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Yu):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(Y(Tm,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Ku||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let i=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,i=!0;break}case 12:{this.appRef.dirtyFlags|=16,i=!0;break}case 13:{this.appRef.dirtyFlags|=2,i=!0;break}case 11:{i=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(i))return;let r=this.useMicrotaskScheduler?Lw:sE;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Yu+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){this.taskService.remove(t),this.applicationErrorHandler(i)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Lw(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function bR(){return typeof $localize<"u"&&$localize.locale||Il}var ph=new oe("",{providedIn:"root",factory:()=>Y(ph,{optional:!0,skipSelf:!0})||bR()});function gn(e){return xx(e)}function qs(e,n){return Ad(e,n?.equal)}var CE=class{[Ut];constructor(n){this[Ut]=n}destroy(){this[Ut].destroy()}};var ME=Symbol("InputSignalNode#UNSET"),LR=ve(K({},Nd),{transformFn:void 0,applyValueToInputSignal(e,n){ys(e,n)}});function AE(e,n){let t=Object.create(LR);t.value=e,t.transformFn=n?.transform;function i(){if(_s(t),t.value===ME){let r=null;throw new te(-950,r)}return t.value}return i[Ut]=t,i}var _h=class{attributeName;constructor(n){this.attributeName=n}__NG_ELEMENT_ID__=()=>El(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},FR=new oe("");FR.__NG_ELEMENT_ID__=e=>{let n=Vt();if(n===null)throw new te(204,!1);if(n.type&2)return n.value;if(e&8)return null;throw new te(204,!1)};function SE(e,n){return AE(e,n)}function $R(e){return AE(ME,e)}var NE=(SE.required=$R,SE);var J_=new oe(""),jR=new oe("");function Pl(e){return!e.moduleRef}function BR(e){let n=Pl(e)?e.r3Injector:e.moduleRef.injector,t=n.get(xt);return t.run(()=>{Pl(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let i=n.get(tn),r;if(t.runOutsideAngular(()=>{r=t.onError.subscribe({next:i})}),Pl(e)){let o=()=>n.destroy(),s=e.platformInjector.get(J_);s.add(o),n.onDestroy(()=>{r.unsubscribe(),s.delete(o)})}else{let o=()=>e.moduleRef.destroy(),s=e.platformInjector.get(J_);s.add(o),e.moduleRef.onDestroy(()=>{yl(e.allPlatformModules,e.moduleRef),r.unsubscribe(),s.delete(o)})}return zR(i,t,()=>{let o=n.get(H_);return o.runInitializers(),o.donePromise.then(()=>{let s=n.get(ph,Il);if(hE(s||Il),!n.get(jR,!0))return Pl(e)?n.get(Mo):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(Pl(e)){let l=n.get(Mo);return e.rootComponent!==void 0&&l.bootstrap(e.rootComponent),l}else return VR?.(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}var VR;function zR(e,n,t){try{let i=t();return or(i)?i.catch(r=>{throw n.runOutsideAngular(()=>e(r)),r}):i}catch(i){throw n.runOutsideAngular(()=>e(i)),i}}var mh=null;function HR(e=[],n){return Xn.create({name:n,providers:[{provide:nl,useValue:"platform"},{provide:J_,useValue:new Set([()=>mh=null])},...e]})}function UR(e=[]){if(mh)return mh;let n=HR(e);return mh=n,dE(),WR(n),n}function WR(e){let n=e.get(eh,null);Xt(e,()=>{n?.forEach(t=>t())})}var $r=(()=>{class e{static __NG_ELEMENT_ID__=GR}return e})();function GR(e){return qR(Vt(),Le(),(e&16)===16)}function qR(e,n,t){if(Nr(e)&&!t){let i=Fn(e.index,n);return new Or(i,i)}else if(e.type&175){let i=n[On];return new Or(i,n)}return null}var X_=class{constructor(){}supports(n){return O_(n)}create(n){return new Q_(n)}},ZR=(e,n)=>n,Q_=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(n){this._trackByFn=n||ZR}forEachItem(n){let t;for(t=this._itHead;t!==null;t=t._next)n(t)}forEachOperation(n){let t=this._itHead,i=this._removalsHead,r=0,o=null;for(;t||i;){let s=!i||t&&t.currentIndex<TE(i,r,o)?t:i,a=TE(s,r,o),l=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(t=t._next,s.previousIndex==null)r++;else{o||(o=[]);let d=a-r,u=l-r;if(d!=u){for(let g=0;g<d;g++){let p=g<o.length?o[g]:o[g]=0,v=p+g;u<=v&&v<d&&(o[g]=p+1)}let f=s.previousIndex;o[f]=u-d}}a!==l&&n(s,a,l)}}forEachPreviousItem(n){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)n(t)}forEachAddedItem(n){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)n(t)}forEachMovedItem(n){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)n(t)}forEachRemovedItem(n){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)n(t)}forEachIdentityChange(n){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)n(t)}diff(n){if(n==null&&(n=[]),!O_(n))throw new te(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let t=this._itHead,i=!1,r,o,s;if(Array.isArray(n)){this.length=n.length;for(let a=0;a<this.length;a++)o=n[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),i=!0):(i&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else r=0,Zk(n,a=>{s=this._trackByFn(r,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,r),i=!0):(i&&(t=this._verifyReinsertion(t,a,s,r)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=n,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;n!==null;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;n!==null;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;n!==null;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,t,i,r){let o;return n===null?o=this._itTail:(o=n._prev,this._remove(n)),n=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),n!==null?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._reinsertAfter(n,o,r)):(n=this._linkedRecords===null?null:this._linkedRecords.get(i,r),n!==null?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._moveAfter(n,o,r)):n=this._addAfter(new ev(t,i),o,r)),n}_verifyReinsertion(n,t,i,r){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return o!==null?n=this._reinsertAfter(o,n._prev,r):n.currentIndex!=r&&(n.currentIndex=r,this._addToMoves(n,r)),n}_truncate(n){for(;n!==null;){let t=n._next;this._addToRemovals(this._unlink(n)),n=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,t,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(n);let r=n._prevRemoved,o=n._nextRemoved;return r===null?this._removalsHead=o:r._nextRemoved=o,o===null?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(n,t,i),this._addToMoves(n,i),n}_moveAfter(n,t,i){return this._unlink(n),this._insertAfter(n,t,i),this._addToMoves(n,i),n}_addAfter(n,t,i){return this._insertAfter(n,t,i),this._additionsTail===null?this._additionsTail=this._additionsHead=n:this._additionsTail=this._additionsTail._nextAdded=n,n}_insertAfter(n,t,i){let r=t===null?this._itHead:t._next;return n._next=r,n._prev=t,r===null?this._itTail=n:r._prev=n,t===null?this._itHead=n:t._next=n,this._linkedRecords===null&&(this._linkedRecords=new vh),this._linkedRecords.put(n),n.currentIndex=i,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){this._linkedRecords!==null&&this._linkedRecords.remove(n);let t=n._prev,i=n._next;return t===null?this._itHead=i:t._next=i,i===null?this._itTail=t:i._prev=t,n}_addToMoves(n,t){return n.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=n:this._movesTail=this._movesTail._nextMoved=n),n}_addToRemovals(n){return this._unlinkedRecords===null&&(this._unlinkedRecords=new vh),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,t){return n.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=n:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=n,n}},ev=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(n,t){this.item=n,this.trackById=t}},tv=class{_head=null;_tail=null;add(n){this._head===null?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,t){let i;for(i=this._head;i!==null;i=i._nextDup)if((t===null||t<=i.currentIndex)&&Object.is(i.trackById,n))return i;return null}remove(n){let t=n._prevDup,i=n._nextDup;return t===null?this._head=i:t._nextDup=i,i===null?this._tail=t:i._prevDup=t,this._head===null}},vh=class{map=new Map;put(n){let t=n.trackById,i=this.map.get(t);i||(i=new tv,this.map.set(t,i)),i.add(n)}get(n,t){let i=n,r=this.map.get(i);return r?r.get(n,t):null}remove(n){let t=n.trackById;return this.map.get(t).remove(n)&&this.map.delete(t),n}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function TE(e,n,t){let i=e.previousIndex;if(i===null)return i;let r=0;return t&&i<t.length&&(r=t[i]),i+n+r}var nv=class{constructor(){}supports(n){return n instanceof Map||dh(n)}create(){return new iv}},iv=class{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;_removalsTail=null;get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(n){let t;for(t=this._mapHead;t!==null;t=t._next)n(t)}forEachPreviousItem(n){let t;for(t=this._previousMapHead;t!==null;t=t._nextPrevious)n(t)}forEachChangedItem(n){let t;for(t=this._changesHead;t!==null;t=t._nextChanged)n(t)}forEachAddedItem(n){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)n(t)}forEachRemovedItem(n){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)n(t)}diff(n){if(!n)n=new Map;else if(!(n instanceof Map||dh(n)))throw new te(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(n,(i,r)=>{if(t&&t.key===r)this._maybeAddToChanges(t,i),this._appendAfter=t,t=t._next;else{let o=this._getOrCreateRecordForKey(r,i);t=this._insertBeforeOrAppend(t,o)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let i=t;i!==null;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,t){if(n){let i=n._prev;return t._next=n,t._prev=i,n._prev=t,i&&(i._next=t),n===this._mapHead&&(this._mapHead=t),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(n,t){if(this._records.has(n)){let r=this._records.get(n);this._maybeAddToChanges(r,t);let o=r._prev,s=r._next;return o&&(o._next=s),s&&(s._prev=o),r._next=null,r._prev=null,r}let i=new rv(n);return this._records.set(n,i),i.currentValue=t,this._addToAdditions(i),i}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;n!==null;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;n!==null;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;n!=null;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,t){Object.is(t,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=t,this._addToChanges(n))}_addToAdditions(n){this._additionsHead===null?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){this._changesHead===null?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,t){n instanceof Map?n.forEach(t):Object.keys(n).forEach(i=>t(n[i],i))}},rv=class{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(n){this.key=n}};function DE(){return new ov([new X_])}var ov=(()=>{class e{factories;static \u0275prov=Q({token:e,providedIn:"root",factory:DE});constructor(t){this.factories=t}static create(t,i){if(i!=null){let r=i.factories.slice();t=t.concat(r)}return new e(t)}static extend(t){return{provide:e,useFactory:i=>e.create(t,i||DE()),deps:[[e,new h_,new u_]]}}find(t){let i=this.factories.find(r=>r.supports(t));if(i!=null)return i;throw new te(901,!1)}}return e})();function IE(){return new sv([new nv])}var sv=(()=>{class e{static \u0275prov=Q({token:e,providedIn:"root",factory:IE});factories;constructor(t){this.factories=t}static create(t,i){if(i){let r=i.factories.slice();t=t.concat(r)}return new e(t)}static extend(t){return{provide:e,useFactory:i=>e.create(t,i||IE()),deps:[[e,new h_,new u_]]}}find(t){let i=this.factories.find(r=>r.supports(t));if(i)return i;throw new te(901,!1)}}return e})();function PE(e){et(8);try{let{rootComponent:n,appProviders:t,platformProviders:i}=e,r=UR(i),o=[Z_({}),{provide:Sr,useExisting:EE},hw,...t||[]],s=new wl({providers:o,parent:r,debugName:"",runEnvironmentInitializers:!1});return BR({r3Injector:s.injector,platformInjector:r,rootComponent:n})}catch(n){return Promise.reject(n)}finally{et(9)}}function Lo(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}var LE=null;function jn(){return LE}function av(e){LE??=e}var Rl=class{},lv=(()=>{class e{historyGo(t){throw new Error("")}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Q({token:e,factory:()=>Y(FE),providedIn:"platform"})}return e})();var FE=(()=>{class e extends lv{_location;_history;_doc=Y(Nt);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return jn().getBaseHref(this._doc)}onPopState(t){let i=jn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){let i=jn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){this._history.pushState(t,i,r)}replaceState(t,i,r){this._history.replaceState(t,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Q({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function $E(e,n){return e?n?e.endsWith("/")?n.startsWith("/")?e+n.slice(1):e+n:n.startsWith("/")?e+n:`${e}/${n}`:e:n}function RE(e){let n=e.search(/#|\?|$/);return e[n-1]==="/"?e.slice(0,n-1)+e.slice(n):e}function jr(e){return e&&e[0]!=="?"?`?${e}`:e}var Zs=(()=>{class e{historyGo(t){throw new Error("")}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Q({token:e,factory:()=>Y(BE),providedIn:"root"})}return e})(),jE=new oe(""),BE=(()=>{class e extends Zs{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,i){super(),this._platformLocation=t,this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??Y(Nt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return $E(this._baseHref,t)}path(t=!1){let i=this._platformLocation.pathname+jr(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,o){let s=this.prepareExternalUrl(r+jr(o));this._platformLocation.pushState(t,i,s)}replaceState(t,i,r,o){let s=this.prepareExternalUrl(r+jr(o));this._platformLocation.replaceState(t,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(i){return new(i||e)(se(lv),se(jE,8))};static \u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Ys=(()=>{class e{_subject=new ut;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let i=this._locationStrategy.getBaseHref();this._basePath=JR(RE(OE(i))),this._locationStrategy.onPopState(r=>{this._subject.next({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+jr(i))}normalize(t){return e.stripTrailingSlash(KR(this._basePath,OE(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+jr(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+jr(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i??void 0,complete:r??void 0})}static normalizeQueryParams=jr;static joinWithSlash=$E;static stripTrailingSlash=RE;static \u0275fac=function(i){return new(i||e)(se(Zs))};static \u0275prov=Q({token:e,factory:()=>YR(),providedIn:"root"})}return e})();function YR(){return new Ys(se(Zs))}function KR(e,n){if(!e||!n.startsWith(e))return n;let t=n.substring(e.length);return t===""||["/",";","?","#"].includes(t[0])?t:n}function OE(e){return e.replace(/\/index.html$/,"")}function JR(e){if(new RegExp("^(https?:)?//").test(e)){let[,t]=e.split(/\/\/[^\/]+/);return t}return e}var yh=class{$implicit;ngForOf;index;count;constructor(n,t,i,r){this.$implicit=n,this.ngForOf=t,this.index=i,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Bn=(()=>{class e{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let i=this._viewContainer;t.forEachOperation((r,o,s)=>{if(r.previousIndex==null)i.createEmbeddedView(this._template,new yh(r.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)i.remove(o===null?void 0:o);else if(o!==null){let a=i.get(o);i.move(a,s),VE(a,r)}});for(let r=0,o=i.length;r<o;r++){let a=i.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{let o=i.get(r.currentIndex);VE(o,r)})}static ngTemplateContextGuard(t,i){return!0}static \u0275fac=function(i){return new(i||e)(ee(rr),ee(Lr),ee(ov))};static \u0275dir=Qe({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return e})();function VE(e,n){e.context.$implicit=n.item}var ft=(()=>{class e{_viewContainer;_context=new bh;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,i){this._viewContainer=t,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){zE(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){zE(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,i){return!0}static \u0275fac=function(i){return new(i||e)(ee(rr),ee(Lr))};static \u0275dir=Qe({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return e})(),bh=class{$implicit=null;ngIf=null};function zE(e,n){if(e&&!e.createEmbeddedView)throw new te(2020,!1)}var uv=(()=>{class e{_ngEl;_differs;_renderer;_ngStyle=null;_differ=null;constructor(t,i,r){this._ngEl=t,this._differs=i,this._renderer=r}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){let t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,i){let[r,o]=t.split("."),s=r.indexOf("-")===-1?void 0:ri.DashCase;i!=null?this._renderer.setStyle(this._ngEl.nativeElement,r,o?`${i}${o}`:i,s):this._renderer.removeStyle(this._ngEl.nativeElement,r,s)}_applyChanges(t){t.forEachRemovedItem(i=>this._setStyle(i.key,null)),t.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),t.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}static \u0275fac=function(i){return new(i||e)(ee(nn),ee(sv),ee(oi))};static \u0275dir=Qe({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}})}return e})();function XR(e,n){return new te(2100,!1)}var cv=class{createSubscription(n,t,i){return gn(()=>n.subscribe({next:t,error:i}))}dispose(n){gn(()=>n.unsubscribe())}},dv=class{createSubscription(n,t,i){return n.then(r=>t?.(r),r=>i?.(r)),{unsubscribe:()=>{t=null,i=null}}}dispose(n){n.unsubscribe()}},QR=new dv,eO=new cv,Ol=(()=>{class e{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;applicationErrorHandler=Y(tn);constructor(t){this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){if(!this._obj){if(t)try{this.markForCheckOnValueUpdate=!1,this._subscribe(t)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,i=>this._updateLatestValue(t,i),i=>this.applicationErrorHandler(i))}_selectStrategy(t){if(or(t))return QR;if(fh(t))return eO;throw XR(e,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,i){t===this._obj&&(this._latestValue=i,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(i){return new(i||e)(ee($r,16))};static \u0275pipe=F_({name:"async",type:e,pure:!1})}return e})();var rt=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=si({type:e});static \u0275inj=Nn({})}return e})();function Ll(e,n){n=encodeURIComponent(n);for(let t of e.split(";")){let i=t.indexOf("="),[r,o]=i==-1?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===n)return decodeURIComponent(o)}return null}var Fo=class{};var HE="browser",tO="server";function UE(e){return e===tO}var kh=new oe(""),pv=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,i){this._zone=i,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r,o){return this._findPluginFor(i).addEventListener(t,i,r,o)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(o=>o.supports(t)),!i)throw new te(5101,!1);return this._eventNameToPlugin.set(t,i),i}static \u0275fac=function(i){return new(i||e)(se(kh),se(xt))};static \u0275prov=Q({token:e,factory:e.\u0275fac})}return e})(),Fl=class{_doc;constructor(n){this._doc=n}manager},xh="ng-app-id";function WE(e){for(let n of e)n.remove()}function GE(e,n){let t=n.createElement("style");return t.textContent=e,t}function nO(e,n,t,i){let r=e.head?.querySelectorAll(`style[${xh}="${n}"],link[${xh}="${n}"]`);if(r)for(let o of r)o.removeAttribute(xh),o instanceof HTMLLinkElement?i.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function fv(e,n){let t=n.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",e),t}var mv=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(t,i,r,o={}){this.doc=t,this.appId=i,this.nonce=r,this.isServer=UE(o),nO(t,i,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,i){for(let r of t)this.addUsage(r,this.inline,GE);i?.forEach(r=>this.addUsage(r,this.external,fv))}removeStyles(t,i){for(let r of t)this.removeUsage(r,this.inline);i?.forEach(r=>this.removeUsage(r,this.external))}addUsage(t,i,r){let o=i.get(t);o?o.usage++:i.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,r(t,this.doc)))})}removeUsage(t,i){let r=i.get(t);r&&(r.usage--,r.usage<=0&&(WE(r.elements),i.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])WE(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[i,{elements:r}]of this.inline)r.push(this.addElement(t,GE(i,this.doc)));for(let[i,{elements:r}]of this.external)r.push(this.addElement(t,fv(i,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,i){return this.nonce&&i.setAttribute("nonce",this.nonce),this.isServer&&i.setAttribute(xh,this.appId),t.appendChild(i)}static \u0275fac=function(i){return new(i||e)(se(Nt),se(Qu),se(th,8),se(Us))};static \u0275prov=Q({token:e,factory:e.\u0275fac})}return e})(),hv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},_v=/%COMP%/g;var ZE="%COMP%",iO=`_nghost-${ZE}`,rO=`_ngcontent-${ZE}`,oO=!0,sO=new oe("",{providedIn:"root",factory:()=>oO});function aO(e){return rO.replace(_v,e)}function lO(e){return iO.replace(_v,e)}function YE(e,n){return n.map(t=>t.replace(_v,e))}var vv=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,i,r,o,s,a,l,d=null,u=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=d,this.tracingService=u,this.platformIsServer=!1,this.defaultRenderer=new $l(t,s,l,this.platformIsServer,this.tracingService)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;let r=this.getOrCreateRenderer(t,i);return r instanceof wh?r.applyToHost(t):r instanceof jl&&r.applyStyles(),r}getOrCreateRenderer(t,i){let r=this.rendererByCompId,o=r.get(i.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,d=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,f=this.platformIsServer,g=this.tracingService;switch(i.encapsulation){case nr.Emulated:o=new wh(l,d,i,this.appId,u,s,a,f,g);break;case nr.ShadowDom:return new gv(l,d,t,i,s,a,this.nonce,f,g);default:o=new jl(l,d,i,u,s,a,f,g);break}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(i){return new(i||e)(se(pv),se(mv),se(Qu),se(sO),se(Nt),se(Us),se(xt),se(th),se(Dl,8))};static \u0275prov=Q({token:e,factory:e.\u0275fac})}return e})(),$l=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(n,t,i,r,o){this.eventManager=n,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.tracingService=o}destroy(){}destroyNode=null;createElement(n,t){return t?this.doc.createElementNS(hv[t]||t,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,t){(qE(n)?n.content:n).appendChild(t)}insertBefore(n,t,i){n&&(qE(n)?n.content:n).insertBefore(t,i)}removeChild(n,t){t.remove()}selectRootElement(n,t){let i=typeof n=="string"?this.doc.querySelector(n):n;if(!i)throw new te(-5104,!1);return t||(i.textContent=""),i}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,t,i,r){if(r){t=r+":"+t;let o=hv[r];o?n.setAttributeNS(o,t,i):n.setAttribute(t,i)}else n.setAttribute(t,i)}removeAttribute(n,t,i){if(i){let r=hv[i];r?n.removeAttributeNS(r,t):n.removeAttribute(`${i}:${t}`)}else n.removeAttribute(t)}addClass(n,t){n.classList.add(t)}removeClass(n,t){n.classList.remove(t)}setStyle(n,t,i,r){r&(ri.DashCase|ri.Important)?n.style.setProperty(t,i,r&ri.Important?"important":""):n.style[t]=i}removeStyle(n,t,i){i&ri.DashCase?n.style.removeProperty(t):n.style[t]=""}setProperty(n,t,i){n!=null&&(n[t]=i)}setValue(n,t){n.nodeValue=t}listen(n,t,i,r){if(typeof n=="string"&&(n=jn().getGlobalEventTarget(this.doc,n),!n))throw new te(5102,!1);let o=this.decoratePreventDefault(i);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(n,t,o)),this.eventManager.addEventListener(n,t,o,r)}decoratePreventDefault(n){return t=>{if(t==="__ngUnwrap__")return n;n(t)===!1&&t.preventDefault()}}};function qE(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var gv=class extends $l{sharedStylesHost;hostEl;shadowRoot;constructor(n,t,i,r,o,s,a,l,d){super(n,o,s,l,d),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=r.styles;u=YE(r.id,u);for(let g of u){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=g,this.shadowRoot.appendChild(p)}let f=r.getExternalStyles?.();if(f)for(let g of f){let p=fv(g,o);a&&p.setAttribute("nonce",a),this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,t){return super.appendChild(this.nodeOrShadowRoot(n),t)}insertBefore(n,t,i){return super.insertBefore(this.nodeOrShadowRoot(n),t,i)}removeChild(n,t){return super.removeChild(null,t)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},jl=class extends $l{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(n,t,i,r,o,s,a,l,d){super(n,o,s,a,l),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r;let u=i.styles;this.styles=d?YE(d,u):u,this.styleUrls=i.getExternalStyles?.(d)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},wh=class extends jl{contentAttr;hostAttr;constructor(n,t,i,r,o,s,a,l,d){let u=r+"-"+i.id;super(n,t,i,o,s,a,l,d,u),this.contentAttr=aO(u),this.hostAttr=lO(u)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,t){let i=super.createElement(n,t);return super.setAttribute(i,this.contentAttr,""),i}};var Eh=class e extends Rl{supportsDOMEvents=!0;static makeCurrent(){av(new e)}onAndCancel(n,t,i,r){return n.addEventListener(t,i,r),()=>{n.removeEventListener(t,i,r)}}dispatchEvent(n,t){n.dispatchEvent(t)}remove(n){n.remove()}createElement(n,t){return t=t||this.getDefaultDocument(),t.createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,t){return t==="window"?window:t==="document"?n:t==="body"?n.body:null}getBaseHref(n){let t=cO();return t==null?null:dO(t)}resetBaseElement(){Bl=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return Ll(document.cookie,n)}},Bl=null;function cO(){return Bl=Bl||document.head.querySelector("base"),Bl?Bl.getAttribute("href"):null}function dO(e){return new URL(e,document.baseURI).pathname}var uO=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Q({token:e,factory:e.\u0275fac})}return e})(),JE=(()=>{class e extends Fl{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r,o){return t.addEventListener(i,r,o),()=>this.removeEventListener(t,i,r,o)}removeEventListener(t,i,r,o){return t.removeEventListener(i,r,o)}static \u0275fac=function(i){return new(i||e)(se(Nt))};static \u0275prov=Q({token:e,factory:e.\u0275fac})}return e})(),KE=["alt","control","meta","shift"],hO={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},fO={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},XE=(()=>{class e extends Fl{constructor(t){super(t)}supports(t){return e.parseEventName(t)!=null}addEventListener(t,i,r,o){let s=e.parseEventName(i),a=e.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>jn().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let i=t.toLowerCase().split("."),r=i.shift();if(i.length===0||!(r==="keydown"||r==="keyup"))return null;let o=e._normalizeKey(i.pop()),s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),KE.forEach(d=>{let u=i.indexOf(d);u>-1&&(i.splice(u,1),s+=d+".")}),s+=o,i.length!=0||o.length===0)return null;let l={};return l.domEventName=r,l.fullKey=s,l}static matchEventFullKeyCode(t,i){let r=hO[t.key]||t.key,o="";return i.indexOf("code.")>-1&&(r=t.code,o="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),KE.forEach(s=>{if(s!==r){let a=fO[s];a(t)&&(o+=s+".")}}),o+=r,o===i)}static eventCallback(t,i,r){return o=>{e.matchEventFullKeyCode(o,t)&&r.runGuarded(()=>i(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(i){return new(i||e)(se(Nt))};static \u0275prov=Q({token:e,factory:e.\u0275fac})}return e})();function yv(e,n){return PE(K({rootComponent:e},gO(n)))}function gO(e){return{appProviders:[...yO,...e?.providers??[]],platformProviders:vO}}function pO(){Eh.makeCurrent()}function mO(){return new yi}function _O(){return m_(document),document}var vO=[{provide:Us,useValue:HE},{provide:eh,useValue:pO,multi:!0},{provide:Nt,useFactory:_O}];var yO=[{provide:nl,useValue:"root"},{provide:yi,useFactory:mO},{provide:kh,useClass:JE,multi:!0,deps:[Nt]},{provide:kh,useClass:XE,multi:!0,deps:[Nt]},vv,mv,pv,{provide:To,useExisting:vv},{provide:Fo,useClass:uO},[]];var Js=class{},Vl=class{},Br=class e{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(n){n?typeof n=="string"?this.lazyInit=()=>{this.headers=new Map,n.split(`
`).forEach(t=>{let i=t.indexOf(":");if(i>0){let r=t.slice(0,i),o=t.slice(i+1).trim();this.addHeaderEntry(r,o)}})}:typeof Headers<"u"&&n instanceof Headers?(this.headers=new Map,n.forEach((t,i)=>{this.addHeaderEntry(i,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(n).forEach(([t,i])=>{this.setHeaderEntries(t,i)})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();let t=this.headers.get(n.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,t){return this.clone({name:n,value:t,op:"a"})}set(n,t){return this.clone({name:n,value:t,op:"s"})}delete(n,t){return this.clone({name:n,value:t,op:"d"})}maybeSetNormalizedName(n,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,n)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(t=>{this.headers.set(t,n.headers.get(t)),this.normalizedNames.set(t,n.normalizedNames.get(t))})}clone(n){let t=new e;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([n]),t}applyUpdate(n){let t=n.name.toLowerCase();switch(n.op){case"a":case"s":let i=n.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(n.name,t);let r=(n.op==="a"?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":let o=n.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}addHeaderEntry(n,t){let i=n.toLowerCase();this.maybeSetNormalizedName(n,i),this.headers.has(i)?this.headers.get(i).push(t):this.headers.set(i,[t])}setHeaderEntries(n,t){let i=(Array.isArray(t)?t:[t]).map(o=>o.toString()),r=n.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(n,r)}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>n(this.normalizedNames.get(t),this.headers.get(t)))}};var Sh=class{encodeKey(n){return QE(n)}encodeValue(n){return QE(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}};function bO(e,n){let t=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(r=>{let o=r.indexOf("="),[s,a]=o==-1?[n.decodeKey(r),""]:[n.decodeKey(r.slice(0,o)),n.decodeValue(r.slice(o+1))],l=t.get(s)||[];l.push(a),t.set(s,l)}),t}var xO=/%(\d[a-f0-9])/gi,wO={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function QE(e){return encodeURIComponent(e).replace(xO,(n,t)=>wO[t]??n)}function Ch(e){return`${e}`}var ar=class e{map;encoder;updates=null;cloneFrom=null;constructor(n={}){if(this.encoder=n.encoder||new Sh,n.fromString){if(n.fromObject)throw new te(2805,!1);this.map=bO(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(t=>{let i=n.fromObject[t],r=Array.isArray(i)?i.map(Ch):[Ch(i)];this.map.set(t,r)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();let t=this.map.get(n);return t?t[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,t){return this.clone({param:n,value:t,op:"a"})}appendAll(n){let t=[];return Object.keys(n).forEach(i=>{let r=n[i];Array.isArray(r)?r.forEach(o=>{t.push({param:i,value:o,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(n,t){return this.clone({param:n,value:t,op:"s"})}delete(n,t){return this.clone({param:n,value:t,op:"d"})}toString(){return this.init(),this.keys().map(n=>{let t=this.encoder.encodeKey(n);return this.map.get(n).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(n=>n!=="").join("&")}clone(n){let t=new e({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(n),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":let t=(n.op==="a"?this.map.get(n.param):void 0)||[];t.push(Ch(n.value)),this.map.set(n.param,t);break;case"d":if(n.value!==void 0){let i=this.map.get(n.param)||[],r=i.indexOf(Ch(n.value));r!==-1&&i.splice(r,1),i.length>0?this.map.set(n.param,i):this.map.delete(n.param)}else{this.map.delete(n.param);break}}}),this.cloneFrom=this.updates=null)}};var Th=class{map=new Map;set(n,t){return this.map.set(n,t),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}};function kO(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function eC(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function tC(e){return typeof Blob<"u"&&e instanceof Blob}function nC(e){return typeof FormData<"u"&&e instanceof FormData}function EO(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}var iC="Content-Type",rC="Accept",sC="X-Request-URL",aC="text/plain",lC="application/json",CO=`${lC}, ${aC}, */*`,Ks=class e{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;keepalive=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(n,t,i,r){this.url=t,this.method=n.toUpperCase();let o;if(kO(this.method)||r?(this.body=i!==void 0?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,this.keepalive=!!o.keepalive,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Br,this.context??=new Th,!this.params)this.params=new ar,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),l=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+l+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||eC(this.body)||tC(this.body)||nC(this.body)||EO(this.body)?this.body:this.body instanceof ar?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||nC(this.body)?null:tC(this.body)?this.body.type||null:eC(this.body)?null:typeof this.body=="string"?aC:this.body instanceof ar?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?lC:null}clone(n={}){let t=n.method||this.method,i=n.url||this.url,r=n.responseType||this.responseType,o=n.keepalive??this.keepalive,s=n.transferCache??this.transferCache,a=n.body!==void 0?n.body:this.body,l=n.withCredentials??this.withCredentials,d=n.reportProgress??this.reportProgress,u=n.headers||this.headers,f=n.params||this.params,g=n.context??this.context;return n.setHeaders!==void 0&&(u=Object.keys(n.setHeaders).reduce((p,v)=>p.set(v,n.setHeaders[v]),u)),n.setParams&&(f=Object.keys(n.setParams).reduce((p,v)=>p.set(v,n.setParams[v]),f)),new e(t,i,a,{params:f,headers:u,context:g,reportProgress:d,responseType:r,withCredentials:l,transferCache:s,keepalive:o})}},$o=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}($o||{}),Xs=class{headers;status;statusText;url;ok;type;constructor(n,t=200,i="OK"){this.headers=n.headers||new Br,this.status=n.status!==void 0?n.status:t,this.statusText=n.statusText||i,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}},Dh=class e extends Xs{constructor(n={}){super(n)}type=$o.ResponseHeader;clone(n={}){return new e({headers:n.headers||this.headers,status:n.status!==void 0?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}},zl=class e extends Xs{body;constructor(n={}){super(n),this.body=n.body!==void 0?n.body:null}type=$o.Response;clone(n={}){return new e({body:n.body!==void 0?n.body:this.body,headers:n.headers||this.headers,status:n.status!==void 0?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}},Hl=class extends Xs{name="HttpErrorResponse";message;error;ok=!1;constructor(n){super(n,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${n.url||"(unknown url)"}`:this.message=`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}},SO=200,TO=204;function bv(e,n){return{body:n,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache,keepalive:e.keepalive}}var Qs=(()=>{class e{handler;constructor(t){this.handler=t}request(t,i,r={}){let o;if(t instanceof Ks)o=t;else{let l;r.headers instanceof Br?l=r.headers:l=new Br(r.headers);let d;r.params&&(r.params instanceof ar?d=r.params:d=new ar({fromObject:r.params})),o=new Ks(t,i,r.body!==void 0?r.body:null,{headers:l,context:r.context,params:d,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache,keepalive:r.keepalive})}let s=pe(o).pipe(Ki(l=>this.handler.handle(l)));if(t instanceof Ks||r.observe==="events")return s;let a=s.pipe(Yt(l=>l instanceof zl));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(_e(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new te(2806,!1);return l.body}));case"blob":return a.pipe(_e(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new te(2807,!1);return l.body}));case"text":return a.pipe(_e(l=>{if(l.body!==null&&typeof l.body!="string")throw new te(2808,!1);return l.body}));case"json":default:return a.pipe(_e(l=>l.body))}case"response":return a;default:throw new te(2809,!1)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:new ar().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,bv(r,i))}post(t,i,r={}){return this.request("POST",t,bv(r,i))}put(t,i,r={}){return this.request("PUT",t,bv(r,i))}static \u0275fac=function(i){return new(i||e)(se(Js))};static \u0275prov=Q({token:e,factory:e.\u0275fac})}return e})();var DO=new oe("");function cC(e,n){return n(e)}function IO(e,n){return(t,i)=>n.intercept(t,{handle:r=>e(r,i)})}function MO(e,n,t){return(i,r)=>Xt(t,()=>n(i,o=>e(o,r)))}var dC=new oe(""),wv=new oe(""),uC=new oe(""),kv=new oe("",{providedIn:"root",factory:()=>!0});function AO(){let e=null;return(n,t)=>{e===null&&(e=(Y(dC,{optional:!0})??[]).reduceRight(IO,cC));let i=Y(ml);if(Y(kv)){let o=i.add();return e(n,t).pipe(kr(o))}else return e(n,t)}}var Ih=(()=>{class e extends Js{backend;injector;chain=null;pendingTasks=Y(ml);contributeToStability=Y(kv);constructor(t,i){super(),this.backend=t,this.injector=i}handle(t){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(wv),...this.injector.get(uC,[])]));this.chain=i.reduceRight((r,o)=>MO(r,o,this.injector),cC)}if(this.contributeToStability){let i=this.pendingTasks.add();return this.chain(t,r=>this.backend.handle(r)).pipe(kr(i))}else return this.chain(t,i=>this.backend.handle(i))}static \u0275fac=function(i){return new(i||e)(se(Vl),se(bt))};static \u0275prov=Q({token:e,factory:e.\u0275fac})}return e})();var NO=/^\)\]\}',?\n/,PO=RegExp(`^${sC}:`,"m");function RO(e){return"responseURL"in e&&e.responseURL?e.responseURL:PO.test(e.getAllResponseHeaders())?e.getResponseHeader(sC):null}var xv=(()=>{class e{xhrFactory;constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new te(-2800,!1);t.keepalive;let i=this.xhrFactory;return(i.\u0275loadImpl?Xe(i.\u0275loadImpl()):pe(null)).pipe(Wt(()=>new Re(o=>{let s=i.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((k,x)=>s.setRequestHeader(k,x.join(","))),t.headers.has(rC)||s.setRequestHeader(rC,CO),!t.headers.has(iC)){let k=t.detectContentTypeHeader();k!==null&&s.setRequestHeader(iC,k)}if(t.responseType){let k=t.responseType.toLowerCase();s.responseType=k!=="json"?k:"text"}let a=t.serializeBody(),l=null,d=()=>{if(l!==null)return l;let k=s.statusText||"OK",x=new Br(s.getAllResponseHeaders()),S=RO(s)||t.url;return l=new Dh({headers:x,status:s.status,statusText:k,url:S}),l},u=()=>{let{headers:k,status:x,statusText:S,url:_}=d(),w=null;x!==TO&&(w=typeof s.response>"u"?s.responseText:s.response),x===0&&(x=w?SO:0);let y=x>=200&&x<300;if(t.responseType==="json"&&typeof w=="string"){let C=w;w=w.replace(NO,"");try{w=w!==""?JSON.parse(w):null}catch(D){w=C,y&&(y=!1,w={error:D,text:w})}}y?(o.next(new zl({body:w,headers:k,status:x,statusText:S,url:_||void 0})),o.complete()):o.error(new Hl({error:w,headers:k,status:x,statusText:S,url:_||void 0}))},f=k=>{let{url:x}=d(),S=new Hl({error:k,status:s.status||0,statusText:s.statusText||"Unknown Error",url:x||void 0});o.error(S)},g=!1,p=k=>{g||(o.next(d()),g=!0);let x={type:$o.DownloadProgress,loaded:k.loaded};k.lengthComputable&&(x.total=k.total),t.responseType==="text"&&s.responseText&&(x.partialText=s.responseText),o.next(x)},v=k=>{let x={type:$o.UploadProgress,loaded:k.loaded};k.lengthComputable&&(x.total=k.total),o.next(x)};return s.addEventListener("load",u),s.addEventListener("error",f),s.addEventListener("timeout",f),s.addEventListener("abort",f),t.reportProgress&&(s.addEventListener("progress",p),a!==null&&s.upload&&s.upload.addEventListener("progress",v)),s.send(a),o.next({type:$o.Sent}),()=>{s.removeEventListener("error",f),s.removeEventListener("abort",f),s.removeEventListener("load",u),s.removeEventListener("timeout",f),t.reportProgress&&(s.removeEventListener("progress",p),a!==null&&s.upload&&s.upload.removeEventListener("progress",v)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(i){return new(i||e)(se(Fo))};static \u0275prov=Q({token:e,factory:e.\u0275fac})}return e})(),hC=new oe(""),OO="XSRF-TOKEN",LO=new oe("",{providedIn:"root",factory:()=>OO}),FO="X-XSRF-TOKEN",$O=new oe("",{providedIn:"root",factory:()=>FO}),Ul=class{},jO=(()=>{class e{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(t,i){this.doc=t,this.cookieName=i}getToken(){let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Ll(t,this.cookieName),this.lastCookieString=t),this.lastToken}static \u0275fac=function(i){return new(i||e)(se(Nt),se(LO))};static \u0275prov=Q({token:e,factory:e.\u0275fac})}return e})();function BO(e,n){let t=e.url.toLowerCase();if(!Y(hC)||e.method==="GET"||e.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return n(e);let i=Y(Ul).getToken(),r=Y($O);return i!=null&&!e.headers.has(r)&&(e=e.clone({headers:e.headers.set(r,i)})),n(e)}var Ev=function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e}(Ev||{});function VO(e,n){return{\u0275kind:e,\u0275providers:n}}function Mh(...e){let n=[Qs,xv,Ih,{provide:Js,useExisting:Ih},{provide:Vl,useFactory:()=>Y(DO,{optional:!0})??Y(xv)},{provide:wv,useValue:BO,multi:!0},{provide:hC,useValue:!0},{provide:Ul,useClass:jO}];for(let t of e)n.push(...t.\u0275providers);return _o(n)}var oC=new oe("");function fC(){return VO(Ev.LegacyInterceptors,[{provide:oC,useFactory:AO},{provide:wv,useExisting:oC,multi:!0}])}var Wl=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=si({type:e});static \u0275inj=Nn({providers:[Mh(fC())]})}return e})();var pC=(()=>{class e{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(i){return new(i||e)(se(Nt))};static \u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Se="primary",sc=Symbol("RouteTitle"),Iv=class{params;constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){let t=this.params[n];return Array.isArray(t)?t[0]:t}return null}getAll(n){if(this.has(n)){let t=this.params[n];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Vo(e){return new Iv(e)}function kC(e,n,t){let i=t.path.split("/");if(i.length>e.length||t.pathMatch==="full"&&(n.hasChildren()||i.length<e.length))return null;let r={};for(let o=0;o<i.length;o++){let s=i[o],a=e[o];if(s[0]===":")r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,i.length),posParams:r}}function HO(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;++t)if(!Si(e[t],n[t]))return!1;return!0}function Si(e,n){let t=e?Mv(e):void 0,i=n?Mv(n):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let o=0;o<t.length;o++)if(r=t[o],!EC(e[r],n[r]))return!1;return!0}function Mv(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function EC(e,n){if(Array.isArray(e)&&Array.isArray(n)){if(e.length!==n.length)return!1;let t=[...e].sort(),i=[...n].sort();return t.every((r,o)=>i[o]===r)}else return e===n}function CC(e){return e.length>0?e[e.length-1]:null}function dr(e){return kp(e)?e:or(e)?Xe(Promise.resolve(e)):pe(e)}var UO={exact:TC,subset:DC},SC={exact:WO,subset:GO,ignored:()=>!0};function mC(e,n,t){return UO[t.paths](e.root,n.root,t.matrixParams)&&SC[t.queryParams](e.queryParams,n.queryParams)&&!(t.fragment==="exact"&&e.fragment!==n.fragment)}function WO(e,n){return Si(e,n)}function TC(e,n,t){if(!jo(e.segments,n.segments)||!Ph(e.segments,n.segments,t)||e.numberOfChildren!==n.numberOfChildren)return!1;for(let i in n.children)if(!e.children[i]||!TC(e.children[i],n.children[i],t))return!1;return!0}function GO(e,n){return Object.keys(n).length<=Object.keys(e).length&&Object.keys(n).every(t=>EC(e[t],n[t]))}function DC(e,n,t){return IC(e,n,n.segments,t)}function IC(e,n,t,i){if(e.segments.length>t.length){let r=e.segments.slice(0,t.length);return!(!jo(r,t)||n.hasChildren()||!Ph(r,t,i))}else if(e.segments.length===t.length){if(!jo(e.segments,t)||!Ph(e.segments,t,i))return!1;for(let r in n.children)if(!e.children[r]||!DC(e.children[r],n.children[r],i))return!1;return!0}else{let r=t.slice(0,e.segments.length),o=t.slice(e.segments.length);return!jo(e.segments,r)||!Ph(e.segments,r,i)||!e.children[Se]?!1:IC(e.children[Se],n,o,i)}}function Ph(e,n,t){return n.every((i,r)=>SC[t](e[r].parameters,i.parameters))}var Di=class{root;queryParams;fragment;_queryParamMap;constructor(n=new Ke([],{}),t={},i=null){this.root=n,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap??=Vo(this.queryParams),this._queryParamMap}toString(){return YO.serialize(this)}},Ke=class{segments;children;parent=null;constructor(n,t){this.segments=n,this.children=t,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Rh(this)}},Vr=class{path;parameters;_parameterMap;constructor(n,t){this.path=n,this.parameters=t}get parameterMap(){return this._parameterMap??=Vo(this.parameters),this._parameterMap}toString(){return AC(this)}};function qO(e,n){return jo(e,n)&&e.every((t,i)=>Si(t.parameters,n[i].parameters))}function jo(e,n){return e.length!==n.length?!1:e.every((t,i)=>t.path===n[i].path)}function ZO(e,n){let t=[];return Object.entries(e.children).forEach(([i,r])=>{i===Se&&(t=t.concat(n(r,i)))}),Object.entries(e.children).forEach(([i,r])=>{i!==Se&&(t=t.concat(n(r,i)))}),t}var ac=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275prov=Q({token:e,factory:()=>new zo,providedIn:"root"})}return e})(),zo=class{parse(n){let t=new Nv(n);return new Di(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(n){let t=`/${Gl(n.root,!0)}`,i=XO(n.queryParams),r=typeof n.fragment=="string"?`#${KO(n.fragment)}`:"";return`${t}${i}${r}`}},YO=new zo;function Rh(e){return e.segments.map(n=>AC(n)).join("/")}function Gl(e,n){if(!e.hasChildren())return Rh(e);if(n){let t=e.children[Se]?Gl(e.children[Se],!1):"",i=[];return Object.entries(e.children).forEach(([r,o])=>{r!==Se&&i.push(`${r}:${Gl(o,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}else{let t=ZO(e,(i,r)=>r===Se?[Gl(e.children[Se],!1)]:[`${r}:${Gl(i,!1)}`]);return Object.keys(e.children).length===1&&e.children[Se]!=null?`${Rh(e)}/${t[0]}`:`${Rh(e)}/(${t.join("//")})`}}function MC(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ah(e){return MC(e).replace(/%3B/gi,";")}function KO(e){return encodeURI(e)}function Av(e){return MC(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Oh(e){return decodeURIComponent(e)}function _C(e){return Oh(e.replace(/\+/g,"%20"))}function AC(e){return`${Av(e.path)}${JO(e.parameters)}`}function JO(e){return Object.entries(e).map(([n,t])=>`;${Av(n)}=${Av(t)}`).join("")}function XO(e){let n=Object.entries(e).map(([t,i])=>Array.isArray(i)?i.map(r=>`${Ah(t)}=${Ah(r)}`).join("&"):`${Ah(t)}=${Ah(i)}`).filter(t=>t);return n.length?`?${n.join("&")}`:""}var QO=/^[^\/()?;#]+/;function Cv(e){let n=e.match(QO);return n?n[0]:""}var eL=/^[^\/()?;=#]+/;function tL(e){let n=e.match(eL);return n?n[0]:""}var nL=/^[^=?&#]+/;function iL(e){let n=e.match(nL);return n?n[0]:""}var rL=/^[^&#]+/;function oL(e){let n=e.match(rL);return n?n[0]:""}var Nv=class{url;remaining;constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ke([],{}):new Ke([],this.parseChildren())}parseQueryParams(){let n={};if(this.consumeOptional("?"))do this.parseQueryParam(n);while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(n.length>0||Object.keys(t).length>0)&&(i[Se]=new Ke(n,t)),i}parseSegment(){let n=Cv(this.remaining);if(n===""&&this.peekStartsWith(";"))throw new te(4009,!1);return this.capture(n),new Vr(Oh(n),this.parseMatrixParams())}parseMatrixParams(){let n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){let t=tL(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){let r=Cv(this.remaining);r&&(i=r,this.capture(i))}n[Oh(t)]=Oh(i)}parseQueryParam(n){let t=iL(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){let s=oL(this.remaining);s&&(i=s,this.capture(i))}let r=_C(t),o=_C(i);if(n.hasOwnProperty(r)){let s=n[r];Array.isArray(s)||(s=[s],n[r]=s),s.push(o)}else n[r]=o}parseParens(n){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=Cv(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new te(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):n&&(o=Se);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[Se]:new Ke([],s),this.consumeOptional("//")}return t}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return this.peekStartsWith(n)?(this.remaining=this.remaining.substring(n.length),!0):!1}capture(n){if(!this.consumeOptional(n))throw new te(4011,!1)}};function NC(e){return e.segments.length>0?new Ke([],{[Se]:e}):e}function PC(e){let n={};for(let[i,r]of Object.entries(e.children)){let o=PC(r);if(i===Se&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))n[s]=a;else(o.segments.length>0||o.hasChildren())&&(n[i]=o)}let t=new Ke(e.segments,n);return sL(t)}function sL(e){if(e.numberOfChildren===1&&e.children[Se]){let n=e.children[Se];return new Ke(e.segments.concat(n.segments),n.children)}return e}function zr(e){return e instanceof Di}function RC(e,n,t=null,i=null){let r=OC(e);return LC(r,n,t,i)}function OC(e){let n;function t(o){let s={};for(let l of o.children){let d=t(l);s[l.outlet]=d}let a=new Ke(o.url,s);return o===e&&(n=a),a}let i=t(e.root),r=NC(i);return n??r}function LC(e,n,t,i){let r=e;for(;r.parent;)r=r.parent;if(n.length===0)return Sv(r,r,r,t,i);let o=aL(n);if(o.toRoot())return Sv(r,r,new Ke([],{}),t,i);let s=lL(o,r,e),a=s.processChildren?Zl(s.segmentGroup,s.index,o.commands):$C(s.segmentGroup,s.index,o.commands);return Sv(r,s.segmentGroup,a,t,i)}function Lh(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function Jl(e){return typeof e=="object"&&e!=null&&e.outlets}function Sv(e,n,t,i,r){let o={};i&&Object.entries(i).forEach(([l,d])=>{o[l]=Array.isArray(d)?d.map(u=>`${u}`):`${d}`});let s;e===n?s=t:s=FC(e,n,t);let a=NC(PC(s));return new Di(a,o,r)}function FC(e,n,t){let i={};return Object.entries(e.children).forEach(([r,o])=>{o===n?i[r]=t:i[r]=FC(o,n,t)}),new Ke(e.segments,i)}var Fh=class{isAbsolute;numberOfDoubleDots;commands;constructor(n,t,i){if(this.isAbsolute=n,this.numberOfDoubleDots=t,this.commands=i,n&&i.length>0&&Lh(i[0]))throw new te(4003,!1);let r=i.find(Jl);if(r&&r!==CC(i))throw new te(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function aL(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new Fh(!0,0,e);let n=0,t=!1,i=e.reduce((r,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,d])=>{a[l]=typeof d=="string"?d.split("/"):d}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?t=!0:a===".."?n++:a!=""&&r.push(a))}),r):[...r,o]},[]);return new Fh(t,n,i)}var na=class{segmentGroup;processChildren;index;constructor(n,t,i){this.segmentGroup=n,this.processChildren=t,this.index=i}};function lL(e,n,t){if(e.isAbsolute)return new na(n,!0,0);if(!t)return new na(n,!1,NaN);if(t.parent===null)return new na(t,!0,0);let i=Lh(e.commands[0])?0:1,r=t.segments.length-1+i;return cL(t,r,e.numberOfDoubleDots)}function cL(e,n,t){let i=e,r=n,o=t;for(;o>r;){if(o-=r,i=i.parent,!i)throw new te(4005,!1);r=i.segments.length}return new na(i,!1,r-o)}function dL(e){return Jl(e[0])?e[0].outlets:{[Se]:e}}function $C(e,n,t){if(e??=new Ke([],{}),e.segments.length===0&&e.hasChildren())return Zl(e,n,t);let i=uL(e,n,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<e.segments.length){let o=new Ke(e.segments.slice(0,i.pathIndex),{});return o.children[Se]=new Ke(e.segments.slice(i.pathIndex),e.children),Zl(o,0,r)}else return i.match&&r.length===0?new Ke(e.segments,{}):i.match&&!e.hasChildren()?Pv(e,n,t):i.match?Zl(e,0,r):Pv(e,n,t)}function Zl(e,n,t){if(t.length===0)return new Ke(e.segments,{});{let i=dL(t),r={};if(Object.keys(i).some(o=>o!==Se)&&e.children[Se]&&e.numberOfChildren===1&&e.children[Se].segments.length===0){let o=Zl(e.children[Se],n,t);return new Ke(e.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(r[o]=$C(e.children[o],n,s))}),Object.entries(e.children).forEach(([o,s])=>{i[o]===void 0&&(r[o]=s)}),new Ke(e.segments,r)}}function uL(e,n,t){let i=0,r=n,o={match:!1,pathIndex:0,commandIndex:0};for(;r<e.segments.length;){if(i>=t.length)return o;let s=e.segments[r],a=t[i];if(Jl(a))break;let l=`${a}`,d=i<t.length-1?t[i+1]:null;if(r>0&&l===void 0)break;if(l&&d&&typeof d=="object"&&d.outlets===void 0){if(!yC(l,d,s))return o;i+=2}else{if(!yC(l,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function Pv(e,n,t){let i=e.segments.slice(0,n),r=0;for(;r<t.length;){let o=t[r];if(Jl(o)){let l=hL(o.outlets);return new Ke(i,l)}if(r===0&&Lh(t[0])){let l=e.segments[n];i.push(new Vr(l.path,vC(t[0]))),r++;continue}let s=Jl(o)?o.outlets[Se]:`${o}`,a=r<t.length-1?t[r+1]:null;s&&a&&Lh(a)?(i.push(new Vr(s,vC(a))),r+=2):(i.push(new Vr(s,{})),r++)}return new Ke(i,{})}function hL(e){let n={};return Object.entries(e).forEach(([t,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(n[t]=Pv(new Ke([],{}),0,i))}),n}function vC(e){let n={};return Object.entries(e).forEach(([t,i])=>n[t]=`${i}`),n}function yC(e,n,t){return e==t.path&&Si(n,t.parameters)}var Yl="imperative",Lt=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(Lt||{}),wn=class{id;url;constructor(n,t){this.id=n,this.url=t}},Ho=class extends wn{type=Lt.NavigationStart;navigationTrigger;restoredState;constructor(n,t,i="imperative",r=null){super(n,t),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},kn=class extends wn{urlAfterRedirects;type=Lt.NavigationEnd;constructor(n,t,i){super(n,t),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},sn=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e[e.Aborted=4]="Aborted",e}(sn||{}),Xl=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(Xl||{}),Ti=class extends wn{reason;code;type=Lt.NavigationCancel;constructor(n,t,i,r){super(n,t),this.reason=i,this.code=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},lr=class extends wn{reason;code;type=Lt.NavigationSkipped;constructor(n,t,i,r){super(n,t),this.reason=i,this.code=r}},ra=class extends wn{error;target;type=Lt.NavigationError;constructor(n,t,i,r){super(n,t),this.error=i,this.target=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Ql=class extends wn{urlAfterRedirects;state;type=Lt.RoutesRecognized;constructor(n,t,i,r){super(n,t),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},$h=class extends wn{urlAfterRedirects;state;type=Lt.GuardsCheckStart;constructor(n,t,i,r){super(n,t),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},jh=class extends wn{urlAfterRedirects;state;shouldActivate;type=Lt.GuardsCheckEnd;constructor(n,t,i,r,o){super(n,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Bh=class extends wn{urlAfterRedirects;state;type=Lt.ResolveStart;constructor(n,t,i,r){super(n,t),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Vh=class extends wn{urlAfterRedirects;state;type=Lt.ResolveEnd;constructor(n,t,i,r){super(n,t),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},zh=class{route;type=Lt.RouteConfigLoadStart;constructor(n){this.route=n}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Hh=class{route;type=Lt.RouteConfigLoadEnd;constructor(n){this.route=n}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Uh=class{snapshot;type=Lt.ChildActivationStart;constructor(n){this.snapshot=n}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Wh=class{snapshot;type=Lt.ChildActivationEnd;constructor(n){this.snapshot=n}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Gh=class{snapshot;type=Lt.ActivationStart;constructor(n){this.snapshot=n}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},qh=class{snapshot;type=Lt.ActivationEnd;constructor(n){this.snapshot=n}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var ec=class{},oa=class{url;navigationBehaviorOptions;constructor(n,t){this.url=n,this.navigationBehaviorOptions=t}};function fL(e){return!(e instanceof ec)&&!(e instanceof oa)}function gL(e,n){return e.providers&&!e._injector&&(e._injector=Tl(e.providers,n,`Route: ${e.path}`)),e._injector??n}function ai(e){return e.outlet||Se}function pL(e,n){let t=e.filter(i=>ai(i)===n);return t.push(...e.filter(i=>ai(i)!==n)),t}function lc(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let n=e.parent;n;n=n.parent){let t=n.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Zh=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return lc(this.route?.snapshot)??this.rootInjector}constructor(n){this.rootInjector=n,this.children=new la(this.rootInjector)}},la=(()=>{class e{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,i){let r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){let i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new Zh(this.rootInjector),this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(i){return new(i||e)(se(bt))};static \u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Yh=class{_root;constructor(n){this._root=n}get root(){return this._root.value}parent(n){let t=this.pathFromRoot(n);return t.length>1?t[t.length-2]:null}children(n){let t=Rv(n,this._root);return t?t.children.map(i=>i.value):[]}firstChild(n){let t=Rv(n,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(n){let t=Ov(n,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==n)}pathFromRoot(n){return Ov(n,this._root).map(t=>t.value)}};function Rv(e,n){if(e===n.value)return n;for(let t of n.children){let i=Rv(e,t);if(i)return i}return null}function Ov(e,n){if(e===n.value)return[n];for(let t of n.children){let i=Ov(e,t);if(i.length)return i.unshift(n),i}return[]}var xn=class{value;children;constructor(n,t){this.value=n,this.children=t}toString(){return`TreeNode(${this.value})`}};function ta(e){let n={};return e&&e.children.forEach(t=>n[t.value.outlet]=t),n}var tc=class extends Yh{snapshot;constructor(n,t){super(n),this.snapshot=t,Hv(this,n)}toString(){return this.snapshot.toString()}};function jC(e){let n=mL(e),t=new At([new Vr("",{})]),i=new At({}),r=new At({}),o=new At({}),s=new At(""),a=new cr(t,i,o,s,r,Se,e,n.root);return a.snapshot=n.root,new tc(new xn(a,[]),n)}function mL(e){let n={},t={},i={},r="",o=new Bo([],n,i,r,t,Se,e,null,{});return new nc("",new xn(o,[]))}var cr=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(n,t,i,r,o,s,a,l){this.urlSubject=n,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(_e(d=>d[sc]))??pe(void 0),this.url=n,this.params=t,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(_e(n=>Vo(n))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(_e(n=>Vo(n))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Kh(e,n,t="emptyOnly"){let i,{routeConfig:r}=e;return n!==null&&(t==="always"||r?.path===""||!n.component&&!n.routeConfig?.loadComponent)?i={params:K(K({},n.params),e.params),data:K(K({},n.data),e.data),resolve:K(K(K(K({},e.data),n.data),r?.data),e._resolvedData)}:i={params:K({},e.params),data:K({},e.data),resolve:K(K({},e.data),e._resolvedData??{})},r&&VC(r)&&(i.resolve[sc]=r.title),i}var Bo=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[sc]}constructor(n,t,i,r,o,s,a,l,d){this.url=n,this.params=t,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Vo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Vo(this.queryParams),this._queryParamMap}toString(){let n=this.url.map(i=>i.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${n}', path:'${t}')`}},nc=class extends Yh{url;constructor(n,t){super(t),this.url=n,Hv(this,t)}toString(){return BC(this._root)}};function Hv(e,n){n.value._routerState=e,n.children.forEach(t=>Hv(e,t))}function BC(e){let n=e.children.length>0?` { ${e.children.map(BC).join(", ")} } `:"";return`${e.value}${n}`}function Tv(e){if(e.snapshot){let n=e.snapshot,t=e._futureSnapshot;e.snapshot=t,Si(n.queryParams,t.queryParams)||e.queryParamsSubject.next(t.queryParams),n.fragment!==t.fragment&&e.fragmentSubject.next(t.fragment),Si(n.params,t.params)||e.paramsSubject.next(t.params),HO(n.url,t.url)||e.urlSubject.next(t.url),Si(n.data,t.data)||e.dataSubject.next(t.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function Lv(e,n){let t=Si(e.params,n.params)&&qO(e.url,n.url),i=!e.parent!=!n.parent;return t&&!i&&(!e.parent||Lv(e.parent,n.parent))}function VC(e){return typeof e.title=="string"||e.title===null}var zC=new oe(""),cc=(()=>{class e{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Se;activateEvents=new ct;deactivateEvents=new ct;attachEvents=new ct;detachEvents=new ct;routerOutletData=NE(void 0);parentContexts=Y(la);location=Y(rr);changeDetector=Y($r);inputBinder=Y(ef,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new te(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new te(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new te(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new te(4013,!1);this._activatedRoute=t;let r=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new Fv(t,a,r.injector,this.routerOutletData);this.activated=r.createComponent(s,{index:r.length,injector:l,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(i){return new(i||e)};static \u0275dir=Qe({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Ci]})}return e})(),Fv=class{route;childContexts;parent;outletData;constructor(n,t,i,r){this.route=n,this.childContexts=t,this.parent=i,this.outletData=r}get(n,t){return n===cr?this.route:n===la?this.childContexts:n===zC?this.outletData:this.parent.get(n,t)}},ef=new oe("");var Uv=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275cmp=we({type:e,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(i,r){i&1&&Fe(0,"router-outlet")},dependencies:[cc],encapsulation:2})}return e})();function Wv(e){let n=e.children&&e.children.map(Wv),t=n?ve(K({},e),{children:n}):K({},e);return!t.component&&!t.loadComponent&&(n||t.loadChildren)&&t.outlet&&t.outlet!==Se&&(t.component=Uv),t}function _L(e,n,t){let i=ic(e,n._root,t?t._root:void 0);return new tc(i,n)}function ic(e,n,t){if(t&&e.shouldReuseRoute(n.value,t.value.snapshot)){let i=t.value;i._futureSnapshot=n.value;let r=vL(e,n,t);return new xn(i,r)}else{if(e.shouldAttach(n.value)){let o=e.retrieve(n.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=n.value,s.children=n.children.map(a=>ic(e,a)),s}}let i=yL(n.value),r=n.children.map(o=>ic(e,o));return new xn(i,r)}}function vL(e,n,t){return n.children.map(i=>{for(let r of t.children)if(e.shouldReuseRoute(i.value,r.value.snapshot))return ic(e,i,r);return ic(e,i)})}function yL(e){return new cr(new At(e.url),new At(e.params),new At(e.queryParams),new At(e.fragment),new At(e.data),e.outlet,e.component,e)}var sa=class{redirectTo;navigationBehaviorOptions;constructor(n,t){this.redirectTo=n,this.navigationBehaviorOptions=t}},HC="ngNavigationCancelingError";function Jh(e,n){let{redirectTo:t,navigationBehaviorOptions:i}=zr(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,r=UC(!1,sn.Redirect);return r.url=t,r.navigationBehaviorOptions=i,r}function UC(e,n){let t=new Error(`NavigationCancelingError: ${e||""}`);return t[HC]=!0,t.cancellationCode=n,t}function bL(e){return WC(e)&&zr(e.url)}function WC(e){return!!e&&e[HC]}var xL=(e,n,t,i)=>_e(r=>(new $v(n,r.targetRouterState,r.currentRouterState,t,i).activate(e),r)),$v=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(n,t,i,r,o){this.routeReuseStrategy=n,this.futureState=t,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(n){let t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,n),Tv(this.futureState.root),this.activateChildRoutes(t,i,n)}deactivateChildRoutes(n,t,i){let r=ta(t);n.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(n,t,i){let r=n.value,o=t?t.value:null;if(r===o)if(r.component){let s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(n,t,s.children)}else this.deactivateChildRoutes(n,t,i);else o&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(n,t){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,t):this.deactivateRouteAndOutlet(n,t)}detachAndStoreRouteSubtree(n,t){let i=t.getContext(n.value.outlet),r=i&&n.value.component?i.children:t,o=ta(n);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(i&&i.outlet){let s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:s,route:n,contexts:a})}}deactivateRouteAndOutlet(n,t){let i=t.getContext(n.value.outlet),r=i&&n.value.component?i.children:t,o=ta(n);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(n,t,i){let r=ta(t);n.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new qh(o.value.snapshot))}),n.children.length&&this.forwardEvent(new Wh(n.value.snapshot))}activateRoutes(n,t,i){let r=n.value,o=t?t.value:null;if(Tv(r),r===o)if(r.component){let s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(n,t,s.children)}else this.activateChildRoutes(n,t,i);else if(r.component){let s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Tv(a.route.value),this.activateChildRoutes(n,null,s.children)}else s.attachRef=null,s.route=r,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(n,null,s.children)}else this.activateChildRoutes(n,null,i)}},Xh=class{path;route;constructor(n){this.path=n,this.route=this.path[this.path.length-1]}},ia=class{component;route;constructor(n,t){this.component=n,this.route=t}};function wL(e,n,t){let i=e._root,r=n?n._root:null;return ql(i,r,t,[i.value])}function kL(e){let n=e.routeConfig?e.routeConfig.canActivateChild:null;return!n||n.length===0?null:{node:e,guards:n}}function ca(e,n){let t=Symbol(),i=n.get(e,t);return i===t?typeof e=="function"&&!Vp(e)?e:n.get(e):i}function ql(e,n,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=ta(n);return e.children.forEach(s=>{EL(s,o[s.value.outlet],t,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Kl(a,t.getContext(s),r)),r}function EL(e,n,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=e.value,s=n?n.value:null,a=t?t.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=CL(s,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new Xh(i)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?ql(e,n,a?a.children:null,i,r):ql(e,n,t,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new ia(a.outlet.component,s))}else s&&Kl(n,a,r),r.canActivateChecks.push(new Xh(i)),o.component?ql(e,null,a?a.children:null,i,r):ql(e,null,t,i,r);return r}function CL(e,n,t){if(typeof t=="function")return t(e,n);switch(t){case"pathParamsChange":return!jo(e.url,n.url);case"pathParamsOrQueryParamsChange":return!jo(e.url,n.url)||!Si(e.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Lv(e,n)||!Si(e.queryParams,n.queryParams);case"paramsChange":default:return!Lv(e,n)}}function Kl(e,n,t){let i=ta(e),r=e.value;Object.entries(i).forEach(([o,s])=>{r.component?n?Kl(s,n.children.getContext(o),t):Kl(s,null,t):Kl(s,n,t)}),r.component?n&&n.outlet&&n.outlet.isActivated?t.canDeactivateChecks.push(new ia(n.outlet.component,r)):t.canDeactivateChecks.push(new ia(null,r)):t.canDeactivateChecks.push(new ia(null,r))}function dc(e){return typeof e=="function"}function SL(e){return typeof e=="boolean"}function TL(e){return e&&dc(e.canLoad)}function DL(e){return e&&dc(e.canActivate)}function IL(e){return e&&dc(e.canActivateChild)}function ML(e){return e&&dc(e.canDeactivate)}function AL(e){return e&&dc(e.canMatch)}function GC(e){return e instanceof Zi||e?.name==="EmptyError"}var Nh=Symbol("INITIAL_VALUE");function aa(){return Wt(e=>eu(e.map(n=>n.pipe(Jn(1),Tp(Nh)))).pipe(_e(n=>{for(let t of n)if(t!==!0){if(t===Nh)return Nh;if(t===!1||NL(t))return t}return!0}),Yt(n=>n!==Nh),Jn(1)))}function NL(e){return zr(e)||e instanceof sa}function PL(e,n){return yt(t=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?pe(ve(K({},t),{guardsResult:!0})):RL(s,i,r,e).pipe(yt(a=>a&&SL(a)?OL(i,o,e,n):pe(a)),_e(a=>ve(K({},t),{guardsResult:a})))})}function RL(e,n,t,i){return Xe(e).pipe(yt(r=>BL(r.component,r.route,t,n,i)),Ji(r=>r!==!0,!0))}function OL(e,n,t,i){return Xe(n).pipe(Ki(r=>Is(FL(r.route.parent,i),LL(r.route,i),jL(e,r.path,t),$L(e,r.route,t))),Ji(r=>r!==!0,!0))}function LL(e,n){return e!==null&&n&&n(new Gh(e)),pe(!0)}function FL(e,n){return e!==null&&n&&n(new Uh(e)),pe(!0)}function $L(e,n,t){let i=n.routeConfig?n.routeConfig.canActivate:null;if(!i||i.length===0)return pe(!0);let r=i.map(o=>Ya(()=>{let s=lc(n)??t,a=ca(o,s),l=DL(a)?a.canActivate(n,e):Xt(s,()=>a(n,e));return dr(l).pipe(Ji())}));return pe(r).pipe(aa())}function jL(e,n,t){let i=n[n.length-1],o=n.slice(0,n.length-1).reverse().map(s=>kL(s)).filter(s=>s!==null).map(s=>Ya(()=>{let a=s.guards.map(l=>{let d=lc(s.node)??t,u=ca(l,d),f=IL(u)?u.canActivateChild(i,e):Xt(d,()=>u(i,e));return dr(f).pipe(Ji())});return pe(a).pipe(aa())}));return pe(o).pipe(aa())}function BL(e,n,t,i,r){let o=n&&n.routeConfig?n.routeConfig.canDeactivate:null;if(!o||o.length===0)return pe(!0);let s=o.map(a=>{let l=lc(n)??r,d=ca(a,l),u=ML(d)?d.canDeactivate(e,n,t,i):Xt(l,()=>d(e,n,t,i));return dr(u).pipe(Ji())});return pe(s).pipe(aa())}function VL(e,n,t,i){let r=n.canLoad;if(r===void 0||r.length===0)return pe(!0);let o=r.map(s=>{let a=ca(s,e),l=TL(a)?a.canLoad(n,t):Xt(e,()=>a(n,t));return dr(l)});return pe(o).pipe(aa(),qC(i))}function qC(e){return yp(Rt(n=>{if(typeof n!="boolean")throw Jh(e,n)}),_e(n=>n===!0))}function zL(e,n,t,i){let r=n.canMatch;if(!r||r.length===0)return pe(!0);let o=r.map(s=>{let a=ca(s,e),l=AL(a)?a.canMatch(n,t):Xt(e,()=>a(n,t));return dr(l)});return pe(o).pipe(aa(),qC(i))}var rc=class{segmentGroup;constructor(n){this.segmentGroup=n||null}},oc=class extends Error{urlTree;constructor(n){super(),this.urlTree=n}};function ea(e){return Ts(new rc(e))}function HL(e){return Ts(new te(4e3,!1))}function UL(e){return Ts(UC(!1,sn.GuardRejected))}var jv=class{urlSerializer;urlTree;constructor(n,t){this.urlSerializer=n,this.urlTree=t}lineralizeSegments(n,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return pe(i);if(r.numberOfChildren>1||!r.children[Se])return HL(`${n.redirectTo}`);r=r.children[Se]}}applyRedirectCommands(n,t,i,r,o){return WL(t,r,o).pipe(_e(s=>{if(s instanceof Di)throw new oc(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),n,i);if(s[0]==="/")throw new oc(a);return a}))}applyRedirectCreateUrlTree(n,t,i,r){let o=this.createSegmentGroup(n,t.root,i,r);return new Di(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(n,t){let i={};return Object.entries(n).forEach(([r,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);i[r]=t[a]}else i[r]=o}),i}createSegmentGroup(n,t,i,r){let o=this.createSegments(n,t.segments,i,r),s={};return Object.entries(t.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(n,l,i,r)}),new Ke(o,s)}createSegments(n,t,i,r){return t.map(o=>o.path[0]===":"?this.findPosParam(n,o,r):this.findOrReturn(o,i))}findPosParam(n,t,i){let r=i[t.path.substring(1)];if(!r)throw new te(4001,!1);return r}findOrReturn(n,t){let i=0;for(let r of t){if(r.path===n.path)return t.splice(i),r;i++}return n}};function WL(e,n,t){if(typeof e=="string")return pe(e);let i=e,{queryParams:r,fragment:o,routeConfig:s,url:a,outlet:l,params:d,data:u,title:f}=n;return dr(Xt(t,()=>i({params:d,data:u,queryParams:r,fragment:o,routeConfig:s,url:a,outlet:l,title:f})))}var Bv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function GL(e,n,t,i,r){let o=ZC(e,n,t);return o.matched?(i=gL(n,i),zL(i,n,t,r).pipe(_e(s=>s===!0?o:K({},Bv)))):pe(o)}function ZC(e,n,t){if(n.path==="**")return qL(t);if(n.path==="")return n.pathMatch==="full"&&(e.hasChildren()||t.length>0)?K({},Bv):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let r=(n.matcher||kC)(t,e,n);if(!r)return K({},Bv);let o={};Object.entries(r.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=r.consumed.length>0?K(K({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function qL(e){return{matched:!0,parameters:e.length>0?CC(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function bC(e,n,t,i){return t.length>0&&KL(e,t,i)?{segmentGroup:new Ke(n,YL(i,new Ke(t,e.children))),slicedSegments:[]}:t.length===0&&JL(e,t,i)?{segmentGroup:new Ke(e.segments,ZL(e,t,i,e.children)),slicedSegments:t}:{segmentGroup:new Ke(e.segments,e.children),slicedSegments:t}}function ZL(e,n,t,i){let r={};for(let o of t)if(tf(e,n,o)&&!i[ai(o)]){let s=new Ke([],{});r[ai(o)]=s}return K(K({},i),r)}function YL(e,n){let t={};t[Se]=n;for(let i of e)if(i.path===""&&ai(i)!==Se){let r=new Ke([],{});t[ai(i)]=r}return t}function KL(e,n,t){return t.some(i=>tf(e,n,i)&&ai(i)!==Se)}function JL(e,n,t){return t.some(i=>tf(e,n,i))}function tf(e,n,t){return(e.hasChildren()||n.length>0)&&t.pathMatch==="full"?!1:t.path===""}function XL(e,n,t){return n.length===0&&!e.children[t]}var Vv=class{};function QL(e,n,t,i,r,o,s="emptyOnly"){return new zv(e,n,t,i,r,s,o).recognize()}var eF=31,zv=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(n,t,i,r,o,s,a){this.injector=n,this.configLoader=t,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new jv(this.urlSerializer,this.urlTree)}noMatchError(n){return new te(4002,`'${n.segmentGroup}'`)}recognize(){let n=bC(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(n).pipe(_e(({children:t,rootSnapshot:i})=>{let r=new xn(i,t),o=new nc("",r),s=RC(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(n){let t=new Bo([],Object.freeze({}),Object.freeze(K({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Se,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,n,Se,t).pipe(_e(i=>({children:i,rootSnapshot:t})),Yi(i=>{if(i instanceof oc)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof rc?this.noMatchError(i):i}))}processSegmentGroup(n,t,i,r,o){return i.segments.length===0&&i.hasChildren()?this.processChildren(n,t,i,o):this.processSegment(n,t,i,i.segments,r,!0,o).pipe(_e(s=>s instanceof xn?[s]:[]))}processChildren(n,t,i,r){let o=[];for(let s of Object.keys(i.children))s==="primary"?o.unshift(s):o.push(s);return Xe(o).pipe(Ki(s=>{let a=i.children[s],l=pL(t,s);return this.processSegmentGroup(n,l,a,s,r)}),Sp((s,a)=>(s.push(...a),s)),wr(null),Cp(),yt(s=>{if(s===null)return ea(i);let a=YC(s);return tF(a),pe(a)}))}processSegment(n,t,i,r,o,s,a){return Xe(t).pipe(Ki(l=>this.processSegmentAgainstRoute(l._injector??n,t,l,i,r,o,s,a).pipe(Yi(d=>{if(d instanceof rc)return pe(null);throw d}))),Ji(l=>!!l),Yi(l=>{if(GC(l))return XL(i,r,o)?pe(new Vv):ea(i);throw l}))}processSegmentAgainstRoute(n,t,i,r,o,s,a,l){return ai(i)!==s&&(s===Se||!tf(r,o,i))?ea(r):i.redirectTo===void 0?this.matchSegmentAgainstRoute(n,r,i,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(n,r,t,i,o,s,l):ea(r)}expandSegmentAgainstRouteUsingRedirect(n,t,i,r,o,s,a){let{matched:l,parameters:d,consumedSegments:u,positionalParamSegments:f,remainingSegments:g}=ZC(t,r,o);if(!l)return ea(t);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>eF&&(this.allowRedirects=!1));let p=new Bo(o,d,Object.freeze(K({},this.urlTree.queryParams)),this.urlTree.fragment,xC(r),ai(r),r.component??r._loadedComponent??null,r,wC(r)),v=Kh(p,a,this.paramsInheritanceStrategy);return p.params=Object.freeze(v.params),p.data=Object.freeze(v.data),this.applyRedirects.applyRedirectCommands(u,r.redirectTo,f,p,n).pipe(Wt(x=>this.applyRedirects.lineralizeSegments(r,x)),yt(x=>this.processSegment(n,i,t,x.concat(g),s,!1,a)))}matchSegmentAgainstRoute(n,t,i,r,o,s){let a=GL(t,i,r,n,this.urlSerializer);return i.path==="**"&&(t.children={}),a.pipe(Wt(l=>l.matched?(n=i._injector??n,this.getChildConfig(n,i,r).pipe(Wt(({routes:d})=>{let u=i._loadedInjector??n,{parameters:f,consumedSegments:g,remainingSegments:p}=l,v=new Bo(g,f,Object.freeze(K({},this.urlTree.queryParams)),this.urlTree.fragment,xC(i),ai(i),i.component??i._loadedComponent??null,i,wC(i)),k=Kh(v,s,this.paramsInheritanceStrategy);v.params=Object.freeze(k.params),v.data=Object.freeze(k.data);let{segmentGroup:x,slicedSegments:S}=bC(t,g,p,d);if(S.length===0&&x.hasChildren())return this.processChildren(u,d,x,v).pipe(_e(w=>new xn(v,w)));if(d.length===0&&S.length===0)return pe(new xn(v,[]));let _=ai(i)===o;return this.processSegment(u,d,x,S,_?Se:o,!0,v).pipe(_e(w=>new xn(v,w instanceof xn?[w]:[])))}))):ea(t)))}getChildConfig(n,t,i){return t.children?pe({routes:t.children,injector:n}):t.loadChildren?t._loadedRoutes!==void 0?pe({routes:t._loadedRoutes,injector:t._loadedInjector}):VL(n,t,i,this.urlSerializer).pipe(yt(r=>r?this.configLoader.loadChildren(n,t).pipe(Rt(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):UL(t))):pe({routes:[],injector:n})}};function tF(e){e.sort((n,t)=>n.value.outlet===Se?-1:t.value.outlet===Se?1:n.value.outlet.localeCompare(t.value.outlet))}function nF(e){let n=e.value.routeConfig;return n&&n.path===""}function YC(e){let n=[],t=new Set;for(let i of e){if(!nF(i)){n.push(i);continue}let r=n.find(o=>i.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...i.children),t.add(r)):n.push(i)}for(let i of t){let r=YC(i.children);n.push(new xn(i.value,r))}return n.filter(i=>!t.has(i))}function xC(e){return e.data||{}}function wC(e){return e.resolve||{}}function iF(e,n,t,i,r,o){return yt(s=>QL(e,n,t,i,s.extractedUrl,r,o).pipe(_e(({state:a,tree:l})=>ve(K({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function rF(e,n){return yt(t=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return pe(t);let o=new Set(r.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let d of KC(l))s.add(d);let a=0;return Xe(s).pipe(Ki(l=>o.has(l)?oF(l,i,e,n):(l.data=Kh(l,l.parent,e).resolve,pe(void 0))),Rt(()=>a++),Ms(1),yt(l=>a===s.size?pe(t):dn))})}function KC(e){let n=e.children.map(t=>KC(t)).flat();return[e,...n]}function oF(e,n,t,i){let r=e.routeConfig,o=e._resolve;return r?.title!==void 0&&!VC(r)&&(o[sc]=r.title),Ya(()=>(e.data=Kh(e,e.parent,t).resolve,sF(o,e,n,i).pipe(_e(s=>(e._resolvedData=s,e.data=K(K({},e.data),s),null)))))}function sF(e,n,t,i){let r=Mv(e);if(r.length===0)return pe({});let o={};return Xe(r).pipe(yt(s=>aF(e[s],n,t,i).pipe(Ji(),Rt(a=>{if(a instanceof sa)throw Jh(new zo,a);o[s]=a}))),Ms(1),_e(()=>o),Yi(s=>GC(s)?dn:Ts(s)))}function aF(e,n,t,i){let r=lc(n)??i,o=ca(e,r),s=o.resolve?o.resolve(n,t):Xt(r,()=>o(n,t));return dr(s)}function Dv(e){return Wt(n=>{let t=e(n);return t?Xe(t).pipe(_e(()=>n)):pe(n)})}var Gv=(()=>{class e{buildTitle(t){let i,r=t.root;for(;r!==void 0;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===Se);return i}getResolvedTitleForRoute(t){return t.data[sc]}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Q({token:e,factory:()=>Y(JC),providedIn:"root"})}return e})(),JC=(()=>{class e extends Gv{title;constructor(t){super(),this.title=t}updateTitle(t){let i=this.buildTitle(t);i!==void 0&&this.title.setTitle(i)}static \u0275fac=function(i){return new(i||e)(se(pC))};static \u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),da=new oe("",{providedIn:"root",factory:()=>({})}),uc=new oe(""),XC=(()=>{class e{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=Y(q_);loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return pe(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let i=dr(t.loadComponent()).pipe(_e(eS),Rt(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),kr(()=>{this.componentLoaders.delete(t)})),r=new Ss(i,()=>new ut).pipe(Cs());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return pe({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=QC(i,this.compiler,t,this.onLoadEndListener).pipe(kr(()=>{this.childrenLoaders.delete(i)})),s=new Ss(o,()=>new ut).pipe(Cs());return this.childrenLoaders.set(i,s),s}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function QC(e,n,t,i){return dr(e.loadChildren()).pipe(_e(eS),yt(r=>r instanceof hh||Array.isArray(r)?pe(r):Xe(n.compileModuleAsync(r))),_e(r=>{i&&i(e);let o,s,a=!1;return Array.isArray(r)?(s=r,a=!0):(o=r.create(t).injector,s=o.get(uc,[],{optional:!0,self:!0}).flat()),{routes:s.map(Wv),injector:o}}))}function lF(e){return e&&typeof e=="object"&&"default"in e}function eS(e){return lF(e)?e.default:e}var nf=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275prov=Q({token:e,factory:()=>Y(cF),providedIn:"root"})}return e})(),cF=(()=>{class e{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),tS=new oe("");var nS=new oe(""),iS=(()=>{class e{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new ut;transitionAbortWithErrorSubject=new ut;configLoader=Y(XC);environmentInjector=Y(bt);destroyRef=Y(Eo);urlSerializer=Y(ac);rootContexts=Y(la);location=Y(Ys);inputBindingEnabled=Y(ef,{optional:!0})!==null;titleStrategy=Y(Gv);options=Y(da,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=Y(nf);createViewTransition=Y(tS,{optional:!0});navigationErrorHandler=Y(nS,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>pe(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=r=>this.events.next(new zh(r)),i=r=>this.events.next(new Hh(r));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let i=++this.navigationId;this.transitions?.next(ve(K({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:i}))}setupNavigations(t){return this.transitions=new At(null),this.transitions.pipe(Yt(i=>i!==null),Wt(i=>{let r=!1;return pe(i).pipe(Wt(o=>{if(this.navigationId>i.id)return this.cancelNavigationTransition(i,"",sn.SupersededByNewNavigation),dn;this.currentTransition=i,this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?ve(K({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()};let s=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=o.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!s&&a!=="reload"){let l="";return this.events.next(new lr(o.id,this.urlSerializer.serialize(o.rawUrl),l,Xl.IgnoredSameUrlNavigation)),o.resolve(!1),dn}if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return pe(o).pipe(Wt(l=>(this.events.next(new Ho(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),l.id!==this.navigationId?dn:Promise.resolve(l))),iF(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Rt(l=>{i.targetSnapshot=l.targetSnapshot,i.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation=ve(K({},this.currentNavigation),{finalUrl:l.urlAfterRedirects});let d=new Ql(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:l,extractedUrl:d,source:u,restoredState:f,extras:g}=o,p=new Ho(l,this.urlSerializer.serialize(d),u,f);this.events.next(p);let v=jC(this.rootComponentType).snapshot;return this.currentTransition=i=ve(K({},o),{targetSnapshot:v,urlAfterRedirects:d,extras:ve(K({},g),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=d,pe(i)}else{let l="";return this.events.next(new lr(o.id,this.urlSerializer.serialize(o.extractedUrl),l,Xl.IgnoredByUrlHandlingStrategy)),o.resolve(!1),dn}}),Rt(o=>{let s=new $h(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),_e(o=>(this.currentTransition=i=ve(K({},o),{guards:wL(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),i)),PL(this.environmentInjector,o=>this.events.next(o)),Rt(o=>{if(i.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw Jh(this.urlSerializer,o.guardsResult);let s=new jh(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),Yt(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",sn.GuardRejected),!1)),Dv(o=>{if(o.guards.canActivateChecks.length!==0)return pe(o).pipe(Rt(s=>{let a=new Bh(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),Wt(s=>{let a=!1;return pe(s).pipe(rF(this.paramsInheritanceStrategy,this.environmentInjector),Rt({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(s,"",sn.NoDataFromResolver)}}))}),Rt(s=>{let a=new Vh(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}))}),Dv(o=>{let s=a=>{let l=[];a.routeConfig?.loadComponent&&!a.routeConfig._loadedComponent&&l.push(this.configLoader.loadComponent(a.routeConfig).pipe(Rt(d=>{a.component=d}),_e(()=>{})));for(let d of a.children)l.push(...s(d));return l};return eu(s(o.targetSnapshot.root)).pipe(wr(null),Jn(1))}),Dv(()=>this.afterPreactivation()),Wt(()=>{let{currentSnapshot:o,targetSnapshot:s}=i,a=this.createViewTransition?.(this.environmentInjector,o.root,s.root);return a?Xe(a).pipe(_e(()=>i)):pe(i)}),_e(o=>{let s=_L(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=i=ve(K({},o),{targetRouterState:s}),this.currentNavigation.targetRouterState=s,i}),Rt(()=>{this.events.next(new ec)}),xL(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),Jn(1),nu(new Re(o=>{let s=i.abortController.signal,a=()=>o.next();return s.addEventListener("abort",a),()=>s.removeEventListener("abort",a)}).pipe(Yt(()=>!r&&!i.targetRouterState),Rt(()=>{this.cancelNavigationTransition(i,i.abortController.signal.reason+"",sn.Aborted)}))),Rt({next:o=>{r=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new kn(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{r=!0}}),nu(this.transitionAbortWithErrorSubject.pipe(Rt(o=>{throw o}))),kr(()=>{r||this.cancelNavigationTransition(i,"",sn.SupersededByNewNavigation),this.currentTransition?.id===i.id&&(this.currentNavigation=null,this.currentTransition=null)}),Yi(o=>{if(this.destroyed)return i.resolve(!1),dn;if(r=!0,WC(o))this.events.next(new Ti(i.id,this.urlSerializer.serialize(i.extractedUrl),o.message,o.cancellationCode)),bL(o)?this.events.next(new oa(o.url,o.navigationBehaviorOptions)):i.resolve(!1);else{let s=new ra(i.id,this.urlSerializer.serialize(i.extractedUrl),o,i.targetSnapshot??void 0);try{let a=Xt(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(a instanceof sa){let{message:l,cancellationCode:d}=Jh(this.urlSerializer,a);this.events.next(new Ti(i.id,this.urlSerializer.serialize(i.extractedUrl),l,d)),this.events.next(new oa(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(s),o}catch(a){this.options.resolveNavigationPromiseOnError?i.resolve(!1):i.reject(a)}}return dn}))}))}cancelNavigationTransition(t,i,r){let o=new Ti(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function dF(e){return e!==Yl}var rS=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275prov=Q({token:e,factory:()=>Y(uF),providedIn:"root"})}return e})(),Qh=class{shouldDetach(n){return!1}store(n,t){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,t){return n.routeConfig===t.routeConfig}},uF=(()=>{class e extends Qh{static \u0275fac=(()=>{let t;return function(r){return(t||(t=$n(e)))(r||e)}})();static \u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),oS=(()=>{class e{urlSerializer=Y(ac);options=Y(da,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=Y(Ys);urlHandlingStrategy=Y(nf);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Di;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:i,targetBrowserUrl:r}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,i):i,s=r??o;return s instanceof Di?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:i,initialUrl:r}){i&&t?(this.currentUrlTree=i,this.rawUrlTree=this.urlHandlingStrategy.merge(i,r),this.routerState=t):this.rawUrlTree=r}routerState=jC(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Q({token:e,factory:()=>Y(hF),providedIn:"root"})}return e})(),hF=(()=>{class e extends oS{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(i=>{i.type==="popstate"&&setTimeout(()=>{t(i.url,i.state,"popstate")})})}handleRouterEvent(t,i){t instanceof Ho?this.updateStateMemento():t instanceof lr?this.commitTransition(i):t instanceof Ql?this.urlUpdateStrategy==="eager"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(i),i)):t instanceof ec?(this.commitTransition(i),this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(i),i)):t instanceof Ti&&t.code!==sn.SupersededByNewNavigation&&t.code!==sn.Redirect?this.restoreHistory(i):t instanceof ra?this.restoreHistory(i,!0):t instanceof kn&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:i,id:r}){let{replaceUrl:o,state:s}=i;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,l=K(K({},s),this.generateNgRouterState(r,a));this.location.replaceState(t,"",l)}else{let a=K(K({},s),this.generateNgRouterState(r,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,i=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,o=this.currentPageId-r;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(r){return(t||(t=$n(e)))(r||e)}})();static \u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function qv(e,n){e.events.pipe(Yt(t=>t instanceof kn||t instanceof Ti||t instanceof ra||t instanceof lr),_e(t=>t instanceof kn||t instanceof lr?0:(t instanceof Ti?t.code===sn.Redirect||t.code===sn.SupersededByNewNavigation:!1)?2:1),Yt(t=>t!==2),Jn(1)).subscribe(()=>{n()})}var fF={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},gF={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ii=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=Y(V_);stateManager=Y(oS);options=Y(da,{optional:!0})||{};pendingTasks=Y(tr);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=Y(iS);urlSerializer=Y(ac);location=Y(Ys);urlHandlingStrategy=Y(nf);injector=Y(bt);_events=new ut;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=Y(rS);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=Y(uc,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!Y(ef,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new _t;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(i=>{try{let r=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(r!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof Ti&&i.code!==sn.Redirect&&i.code!==sn.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof kn)this.navigated=!0;else if(i instanceof oa){let s=i.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),l=K({browserUrl:r.extras.browserUrl,info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||this.urlUpdateStrategy==="eager"||dF(r.source)},s);this.scheduleNavigation(a,Yl,null,l,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}fL(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortWithErrorSubject.next(r)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Yl,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,i,r)=>{this.navigateToSyncWithBrowser(t,r,i)})}navigateToSyncWithBrowser(t,i,r){let o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){let l=K({},r);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(t);this.scheduleNavigation(a,i,s,o).catch(l=>{this.injector.get(tn)(l)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Wv),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,i={}){let{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=i,d=l?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=K(K({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let f;try{let g=r?r.snapshot:this.routerState.snapshot.root;f=OC(g)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),f=this.currentUrlTree.root}return LC(f,t,u,d??null)}navigateByUrl(t,i={skipLocationChange:!1}){let r=zr(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,Yl,null,i)}navigate(t,i={skipLocationChange:!1}){return pF(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,i){let r;if(i===!0?r=K({},fF):i===!1?r=K({},gF):r=i,zr(t))return mC(this.currentUrlTree,t,r);let o=this.parseUrl(t);return mC(this.currentUrlTree,o,r)}removeEmptyProps(t){return Object.entries(t).reduce((i,[r,o])=>(o!=null&&(i[r]=o),i),{})}scheduleNavigation(t,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,d;s?(a=s.resolve,l=s.reject,d=s.promise):d=new Promise((f,g)=>{a=f,l=g});let u=this.pendingTasks.add();return qv(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:l,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(f=>Promise.reject(f))}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function pF(e){for(let n=0;n<e.length;n++)if(e[n]==null)throw new te(4008,!1)}var Mi=(()=>{class e{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=er(null);get href(){return gn(this.reactiveHref)}set href(t){this.reactiveHref.set(t)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new ut;applicationErrorHandler=Y(tn);options=Y(da,{optional:!0});constructor(t,i,r,o,s,a){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=s,this.locationStrategy=a,this.reactiveHref.set(Y(new _h("href"),{optional:!0}));let l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area"||!!(typeof customElements=="object"&&customElements.get(l)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let t=this.preserveFragment,i=r=>r==="merge"||r==="preserve";t||=i(this.queryParamsHandling),t||=!this.queryParamsHandling&&!i(this.options?.defaultQueryParamsHandling),t&&(this.subscription=this.router.events.subscribe(r=>{r instanceof kn&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(zr(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,i,r,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||i||r||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,l)?.catch(d=>{this.applicationErrorHandler(d)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.reactiveHref.set(t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t))??"":null)}applyAttributeValue(t,i){let r=this.renderer,o=this.el.nativeElement;i!==null?r.setAttribute(o,t,i):r.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:zr(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(i){return new(i||e)(ee(Ii),ee(cr),El("tabindex"),ee(oi),ee(nn),ee(Zs))};static \u0275dir=Qe({type:e,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(i,r){i&1&&ae("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),i&2&&Fr("href",r.reactiveHref(),y_)("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Lo],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Lo],replaceUrl:[2,"replaceUrl","replaceUrl",Lo],routerLink:"routerLink"},features:[Ci]})}return e})(),Zv=(()=>{class e{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new ct;constructor(t,i,r,o,s){this.router=t,this.element=i,this.renderer=r,this.cdr=o,this.link=s,this.routerEventsSubscription=t.events.subscribe(a=>{a instanceof kn&&this.update()})}ngAfterContentInit(){pe(this.links.changes,pe(null)).pipe(Ds()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let t=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=Xe(t).pipe(Ds()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(t){let i=Array.isArray(t)?t:t.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let t=this.hasActiveLinks();this.classes.forEach(i=>{t?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),t&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.isActiveChange.emit(t))})}isLinkActive(t){let i=_F(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>{let o=r.urlTree;return o?t.isActive(o,i):!1}}hasActiveLinks(){let t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static \u0275fac=function(i){return new(i||e)(ee(Ii),ee(nn),ee(oi),ee($r),ee(Mi,8))};static \u0275dir=Qe({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(i,r,o){if(i&1&&U_(o,Mi,5),i&2){let s;Ao(s=No())&&(r.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[Ci]})}return e})();function _F(e){return!!e.paths}var vF=new oe("");function Yv(e,...n){return _o([{provide:uc,multi:!0,useValue:e},[],{provide:cr,useFactory:yF,deps:[Ii]},{provide:gh,multi:!0,useFactory:bF},n.map(t=>t.\u0275providers)])}function yF(e){return e.routerState.root}function bF(){let e=Y(Xn);return n=>{let t=e.get(Mo);if(n!==t.components[0])return;let i=e.get(Ii),r=e.get(xF);e.get(wF)===1&&i.initialNavigation(),e.get(kF,null,{optional:!0})?.setUpPreloading(),e.get(vF,null,{optional:!0})?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var xF=new oe("",{factory:()=>new ut}),wF=new oe("",{providedIn:"root",factory:()=>1});var kF=new oe("");function EF(e,n){if(e&1){let t=wt();A(0,"div",7)(1,"div",8)(2,"h5",9),O(3,"En construcci\xF3n..."),N(),A(4,"button",10),ae("click",function(){le(t);let r=ie();return ce(r.cerrarCard())}),O(5,"Cerrar"),N()()()}}var rf=class e{mostrarCard=!1;mostrarAlerta(){this.mostrarCard=!0}cerrarCard(){this.mostrarCard=!1}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=we({type:e,selectors:[["app-hero"]],decls:12,vars:1,consts:[["id","hero",1,"text-center"],[1,"container","contenido"],[1,"display-4","fw-bold","mb-3"],[1,"lead","fw-bold","mb-4"],[1,"btn","btn-primary","btn-sm","me-2",3,"click"],[1,"btn","btn-primary","btn-sm",3,"click"],["class","card mostrar-card-z mx-auto mt-3","style","max-width: 22rem;",4,"ngIf"],[1,"card","mostrar-card-z","mx-auto","mt-3",2,"max-width","22rem"],[1,"card-body","text-center"],[1,"card-title"],[1,"btn","btn-secondary","btn-sm","mt-2",3,"click"]],template:function(t,i){t&1&&(A(0,"section",0)(1,"article",1)(2,"h1",2),O(3,"Impulsa tu \xE9xito inmobiliario"),N(),A(4,"p",3),O(5,"Asesoramiento experto y datos precisos para tus proyectos inmobiliarios. Toma decisiones informadas y maximiza tus inversiones."),N(),A(6,"div")(7,"button",4),ae("click",function(){return i.mostrarAlerta()}),O(8,"Comienza gratis"),N(),A(9,"button",5),ae("click",function(){return i.mostrarAlerta()}),O(10,"Conoce m\xE1s"),N()()(),ke(11,EF,6,0,"div",6),N()),t&2&&(W(11),X("ngIf",i.mostrarCard))},dependencies:[rt,ft],styles:['#hero[_ngcontent-%COMP%]{background:transparent url("./media/panoramicaUrbana06-J3OA4PMU.jpg");background-repeat:no-repeat;background-size:cover;background-position:center;margin-top:5vh;height:81vh}.card.mostrar-card-z[_ngcontent-%COMP%]{z-index:9999;position:relative}']})};function CF(e,n){if(e&1&&(A(0,"div",5)(1,"div",6),Fe(2,"i"),A(3,"h3",7),O(4),N(),A(5,"p",8),O(6),N()()()),e&2){let t=n.$implicit;W(2),W_(t.icon+" fa-3x text-primary mb-3"),W(2),je(t.title),W(2),je(t.description)}}var of=class e{features=[{icon:"fas fa-building",title:"An\xE1lisis de mercado",description:"Datos actualizados y an\xE1lisis profundo del mercado inmobiliario local y nacional."},{icon:"fas fa-chart-line",title:"Proyecciones financieras",description:"Herramientas avanzadas para calcular ROI y proyectar el crecimiento de tus inversiones."},{icon:"fas fa-shield-alt",title:"Asesor\xEDa legal",description:"Orientaci\xF3n experta en regulaciones y tr\xE1mites legales del sector inmobiliario."},{icon:"fas fa-users",title:"Red de contactos",description:"Acceso a una amplia red de profesionales y oportunidades en el sector."}];static \u0275fac=function(t){return new(t||e)};static \u0275cmp=we({type:e,selectors:[["app-features"]],decls:6,vars:1,consts:[["id","features",1,"py-5"],[1,"container"],[1,"text-center","mb-5"],[1,"row"],["class","col-md-6 col-lg-3 mb-4",4,"ngFor","ngForOf"],[1,"col-md-6","col-lg-3","mb-4"],[1,"text-center"],[1,"h5"],[1,"text-muted"]],template:function(t,i){t&1&&(A(0,"section",0)(1,"div",1)(2,"h2",2),O(3,"Nuestros servicios"),N(),A(4,"div",3),ke(5,CF,7,4,"div",4),N()()()),t&2&&(W(5),X("ngForOf",i.features))},dependencies:[rt,Bn],styles:["section[_ngcontent-%COMP%]{height:85vh}"]})};var Ft={production:!0,appName:"Dato Urbano",supabaseUrl:"https://vmttgkorjwaslcknhofa.supabase.co",supabaseAnonKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZtdHRna29yandhc2xja25ob2ZhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDcxNjg0OTcsImV4cCI6MjA2Mjc0NDQ5N30.NPjNNkse4SgpQhmcYTNd_c5PM-5suRzws435XqzG2HU"};function SF(e,n){if(e&1&&(A(0,"div",5)(1,"div",6)(2,"div",7)(3,"p",8),O(4),N(),A(5,"footer",9)(6,"strong"),O(7),N(),Fe(8,"br"),A(9,"cite",10),O(10),N()()()()()),e&2){let t=n.$implicit;W(4),kt('"',t.quote,'"'),W(3),je(t.author),W(3),je(t.company)}}var sf=class e{appName=Ft.appName;testimonials=[{quote:this.appName+" transform\xF3 nuestra estrategia de inversi\xF3n. Sus insights nos ayudaron a identificar oportunidades que otros pasaron por alto.",author:"Mar\xEDa Rodr\xEDguez",company:"Inversiones MR"},{quote:"El an\xE1lisis de mercado de "+this.appName+" es insuperable. Nos ha permitido tomar decisiones informadas y aumentar nuestro ROI significativamente.",author:"Carlos Mendoza",company:"Desarrollos Urbanos CM"},{quote:"La asesor\xEDa legal de "+this.appName+" nos ahorr\xF3 tiempo y dolores de cabeza. Su equipo es verdaderamente experto en el sector inmobiliario.",author:"Ana G\xF3mez",company:"Constructora AG"}];static \u0275fac=function(t){return new(t||e)};static \u0275cmp=we({type:e,selectors:[["app-testimonials"]],decls:6,vars:1,consts:[["id","testimonials",1,"bg-light","py-5"],[1,"container"],[1,"text-center","mb-5"],[1,"row"],["class","col-md-4 mb-4",4,"ngFor","ngForOf"],[1,"col-md-4","mb-4"],[1,"card","h-100"],[1,"card-body"],[1,"card-text"],[1,"blockquote-footer","mt-3"],["title","Source Title"]],template:function(t,i){t&1&&(A(0,"section",0)(1,"div",1)(2,"h2",2),O(3,"Lo que dicen nuestros clientes"),N(),A(4,"div",3),ke(5,SF,11,3,"div",4),N()()()),t&2&&(W(5),X("ngForOf",i.testimonials))},dependencies:[rt,Bn],encapsulation:2})};function TF(e,n){if(e&1&&(A(0,"li",14),Fe(1,"i",15),O(2),N()),e&2){let t=n.$implicit;W(2),kt("",t," ")}}function DF(e,n){if(e&1&&(A(0,"div",5)(1,"div",6)(2,"div",7)(3,"h3",8),O(4),N(),A(5,"h4",9),O(6),N(),A(7,"ul",10),ke(8,TF,3,1,"li",11),N()(),A(9,"div",12)(10,"button",13),O(11,"Elegir plan"),N()()()()),e&2){let t=n.$implicit;W(4),je(t.name),W(2),je(t.price),W(2),X("ngForOf",t.features)}}var af=class e{plans=[{name:"B\xE1sico",price:"$99/mes",features:["An\xE1lisis de mercado b\xE1sico","Proyecciones financieras limitadas","Acceso a recursos educativos","Soporte por email"]},{name:"Pro",price:"$299/mes",features:["An\xE1lisis de mercado avanzado","Proyecciones financieras completas","Asesor\xEDa legal b\xE1sica","Acceso a red de contactos","Soporte prioritario"]},{name:"Empresarial",price:"Personalizado",features:["An\xE1lisis de mercado personalizado","Proyecciones financieras a medida","Asesor\xEDa legal completa","Acceso VIP a red de contactos","Gerente de cuenta dedicado"]}];static \u0275fac=function(t){return new(t||e)};static \u0275cmp=we({type:e,selectors:[["app-pricing"]],decls:6,vars:1,consts:[["id","pricing",1,"py-5"],[1,"container"],[1,"text-center","mb-5"],[1,"row"],["class","col-md-4 mb-4",4,"ngFor","ngForOf"],[1,"col-md-4","mb-4"],[1,"card","h-100"],[1,"card-body"],[1,"card-title","text-center"],[1,"card-subtitle","mb-2","text-muted","text-center"],[1,"list-group","list-group-flush"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"card-footer","text-center"],[1,"btn","btn-primary"],[1,"list-group-item"],[1,"fas","fa-check","text-success","me-2"]],template:function(t,i){t&1&&(A(0,"section",0)(1,"div",1)(2,"h2",2),O(3,"Planes de servicio"),N(),A(4,"div",3),ke(5,DF,12,3,"div",4),N()()()),t&2&&(W(5),X("ngForOf",i.plans))},dependencies:[rt,Bn],styles:["#pricing[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;height:85vh}"]})};var lf=class e{ngOnInit(){}appName=Ft.appName;static \u0275fac=function(t){return new(t||e)};static \u0275cmp=we({type:e,selectors:[["app-cta"]],decls:8,vars:1,consts:[[1,"bg-primary","text-white","py-5"],[1,"container","text-center"],[1,"mb-4"],[1,"lead","mb-4"],[1,"btn","btn-light","btn-lg"]],template:function(t,i){t&1&&(A(0,"section",0)(1,"div",1)(2,"h2",2),O(3,"\xBFListo para impulsar tu \xE9xito inmobiliario?"),N(),A(4,"p",3),O(5),N(),A(6,"button",4),O(7,"Comienza tu prueba gratuita"),N()()()),t&2&&(W(5),kt("\xDAnete a ",i.appName," hoy y lleva tus inversiones al siguiente nivel."))},styles:["section[_ngcontent-%COMP%]{position:relative;height:85vh}"]})};var cf=class e{appName=Ft.appName;static \u0275fac=function(t){return new(t||e)};static \u0275cmp=we({type:e,selectors:[["app-privacidad"]],decls:78,vars:1,consts:[["id","privacidad",1,"py-5"],[1,"container"],[1,"row"],["href","[URL de tu sitio]"],["href","mailto:[correo electr\xF3nico de contacto]"],["href","[URL de contacto]"]],template:function(t,i){t&1&&(A(0,"section",0)(1,"div",1)(2,"div",2)(3,"h1"),O(4,"Pol\xEDtica de Privacidad"),N(),A(5,"p"),O(6,"En "),A(7,"strong"),O(8),N(),O(9,", nos tomamos muy en serio la privacidad de nuestros usuarios. Esta Pol\xEDtica de Privacidad describe c\xF3mo recopilamos, utilizamos, protegemos y, en ciertos casos, compartimos tu informaci\xF3n personal cuando utilizas nuestro sitio web "),A(10,"a",3),O(11,"[URL de tu sitio]"),N(),O(12," y los servicios asociados. Al acceder o utilizar nuestros servicios, aceptas las pr\xE1cticas descritas en esta pol\xEDtica."),N(),A(13,"h2"),O(14,"1. Informaci\xF3n que recopilamos"),N(),A(15,"p"),O(16,"Recopilamos informaci\xF3n que nos proporcionas directamente, como:"),N(),A(17,"ul")(18,"li"),O(19,"Datos personales (por ejemplo, nombre, direcci\xF3n de correo electr\xF3nico, n\xFAmero de tel\xE9fono) cuando te registras, completas un formulario o te comunicas con nosotros."),N(),A(20,"li"),O(21,"Informaci\xF3n de uso, como las p\xE1ginas que visitas, el tiempo que pasas en el sitio y las interacciones con nuestras funciones."),N(),A(22,"li"),O(23,"Datos t\xE9cnicos, como tu direcci\xF3n IP, tipo de dispositivo, navegador y sistema operativo, recopilados autom\xE1ticamente mediante cookies y tecnolog\xEDas similares."),N()(),A(24,"h2"),O(25,"2. Uso de la informaci\xF3n"),N(),A(26,"p"),O(27,"Utilizamos tu informaci\xF3n para:"),N(),A(28,"ul")(29,"li"),O(30,"Proporcionar, mantener y mejorar nuestros servicios."),N(),A(31,"li"),O(32,"Personalizar tu experiencia en nuestro sitio."),N(),A(33,"li"),O(34,"Enviarte comunicaciones, como actualizaciones, promociones o respuestas a tus consultas (puedes optar por no recibirlas en cualquier momento)."),N(),A(35,"li"),O(36,"Cumplir con obligaciones legales y proteger nuestros derechos."),N()(),A(37,"h2"),O(38,"3. Compartir tu informaci\xF3n"),N(),A(39,"p"),O(40,"No vendemos ni alquilamos tu informaci\xF3n personal a terceros. Podemos compartirla \xFAnicamente en los siguientes casos:"),N(),A(41,"ul")(42,"li"),O(43,"Con proveedores de servicios que nos ayudan a operar (por ejemplo, hosting, an\xE1lisis de datos), bajo estrictos acuerdos de confidencialidad."),N(),A(44,"li"),O(45,"Si es requerido por la ley o para proteger la seguridad de nuestros usuarios y del sitio."),N()(),A(46,"h2"),O(47,"4. Protecci\xF3n de tu informaci\xF3n"),N(),A(48,"p"),O(49,"Implementamos medidas de seguridad t\xE9cnicas y organizativas para proteger tus datos contra accesos no autorizados, p\xE9rdida o alteraci\xF3n. Sin embargo, ning\xFAn sistema es completamente infalible, y trabajamos constantemente para mantener nuestras defensas actualizadas."),N(),A(50,"h2"),O(51,"5. Tus derechos"),N(),A(52,"p"),O(53,"Dependiendo de tu ubicaci\xF3n, puedes tener derechos sobre tus datos, como acceder, corregir, eliminar o limitar su uso. Para ejercerlos, cont\xE1ctanos en "),A(54,"a",4),O(55,"[correo electr\xF3nico de contacto]"),N(),O(56,". Responderemos en los plazos establecidos por la ley."),N(),A(57,"h2"),O(58,"6. Cookies y tecnolog\xEDas similares"),N(),A(59,"p"),O(60,"Utilizamos cookies para mejorar tu experiencia, analizar el tr\xE1fico y ofrecer contenido personalizado. Puedes gestionar tus preferencias de cookies a trav\xE9s de la configuraci\xF3n de tu navegador."),N(),A(61,"h2"),O(62,"7. Cambios en esta pol\xEDtica"),N(),A(63,"p"),O(64,"Podemos actualizar esta Pol\xEDtica de Privacidad peri\xF3dicamente. Te notificaremos sobre cambios significativos mediante un aviso en nuestro sitio o por correo electr\xF3nico. La versi\xF3n m\xE1s reciente estar\xE1 siempre disponible en esta p\xE1gina."),N(),A(65,"h2"),O(66,"8. Contacto"),N(),A(67,"p"),O(68,"Si tienes preguntas o inquietudes sobre esta pol\xEDtica o el manejo de tus datos, no dudes en escribirnos a "),A(69,"a",4),O(70,"[correo electr\xF3nico de contacto]"),N(),O(71," o utilizar nuestro formulario de contacto en "),A(72,"a",5),O(73,"[URL de contacto]"),N(),O(74,"."),N(),A(75,"p")(76,"em"),O(77,"\xDAltima actualizaci\xF3n: 26 de febrero de 2025"),N()()()()()),t&2&&(W(8),je(i.appName))},styles:["ul[_ngcontent-%COMP%]{margin-left:5vh}"]})};var df=class e{appName=Ft.appName;static \u0275fac=function(t){return new(t||e)};static \u0275cmp=we({type:e,selectors:[["app-terminos"]],decls:93,vars:5,consts:[["id","terminos",1,"py-5"],[1,"container"],[1,"row"],["href","/privacidad"],["href","mailto:[correo electr\xF3nico de contacto]"],["href","[URL de contacto]"]],template:function(t,i){t&1&&(A(0,"section",0)(1,"div",1)(2,"div",2)(3,"h1"),O(4,"T\xE9rminos del Servicio"),N(),A(5,"p"),O(6,"Bienvenido a "),A(7,"strong"),O(8),N(),O(9,". Al acceder o utilizar nuestros servicios, aceptas estar sujeto a los siguientes t\xE9rminos y condiciones. Por favor, l\xE9elos detenidamente."),N(),A(10,"h2"),O(11,"1. Aceptaci\xF3n de los T\xE9rminos"),N(),A(12,"p"),O(13,"Al utilizar nuestros servicios, aceptas estos t\xE9rminos y condiciones. Si no est\xE1s de acuerdo con alguna parte de estos t\xE9rminos, no debes utilizar nuestros servicios."),N(),A(14,"h2"),O(15,"2. Modificaciones a los T\xE9rminos"),N(),A(16,"p"),O(17,"Nos reservamos el derecho de modificar estos t\xE9rminos en cualquier momento. Te notificaremos sobre cambios significativos mediante un aviso en nuestro sitio o por correo electr\xF3nico. La versi\xF3n m\xE1s reciente estar\xE1 siempre disponible en esta p\xE1gina."),N(),A(18,"h2"),O(19,"3. Uso de los Servicios"),N(),A(20,"p"),O(21,"Debes utilizar nuestros servicios de manera legal y respetuosa. No debes:"),N(),A(22,"ul")(23,"li"),O(24,"Utilizar los servicios para cualquier prop\xF3sito ilegal o no autorizado."),N(),A(25,"li"),O(26,"Interferir con el funcionamiento de los servicios o acceder a ellos mediante m\xE9todos no autorizados."),N(),A(27,"li"),O(28,"Reproducir, duplicar, copiar, vender, revender o explotar cualquier parte de los servicios sin nuestro permiso expreso por escrito."),N()(),A(29,"h2"),O(30,"4. Propiedad Intelectual"),N(),A(31,"p"),O(32,"Todos los derechos de propiedad intelectual sobre los servicios y su contenido pertenecen a "),A(33,"strong"),O(34),N(),O(35," o a sus licenciantes. No se te concede ning\xFAn derecho sobre ellos, excepto el derecho a utilizar los servicios de acuerdo con estos t\xE9rminos."),N(),A(36,"h2"),O(37,"5. Privacidad"),N(),A(38,"p"),O(39,"Tu privacidad es importante para nosotros. Consulta nuestra "),A(40,"a",3),O(41,"Pol\xEDtica de Privacidad"),N(),O(42," para obtener informaci\xF3n sobre c\xF3mo recopilamos, utilizamos y protegemos tu informaci\xF3n personal."),N(),A(43,"h2"),O(44,"6. Limitaci\xF3n de Responsabilidad"),N(),A(45,"p"),O(46,"En la medida m\xE1xima permitida por la ley, "),A(47,"strong"),O(48),N(),O(49," no ser\xE1 responsable de ning\xFAn da\xF1o indirecto, incidental, especial, consecuente o punitivo, ni de ninguna p\xE9rdida de beneficios o ingresos, ya sea incurrida directa o indirectamente, ni de ninguna p\xE9rdida de datos, uso, fondo de comercio u otras p\xE9rdidas intangibles, resultantes de:"),N(),A(50,"ul")(51,"li"),O(52,"Tu acceso o uso o incapacidad para acceder o usar los servicios."),N(),A(53,"li"),O(54,"Cualquier conducta o contenido de terceros en los servicios."),N(),A(55,"li"),O(56,"Cualquier contenido obtenido de los servicios."),N(),A(57,"li"),O(58,"Acceso, uso o alteraci\xF3n no autorizados de tus transmisiones o contenido."),N()(),A(59,"h2"),O(60,"7. Indemnizaci\xF3n"),N(),A(61,"p"),O(62,"Aceptas indemnizar y eximir de responsabilidad a "),A(63,"strong"),O(64),N(),O(65," y a sus afiliados, directores, empleados y agentes, de cualquier reclamaci\xF3n, da\xF1o, obligaci\xF3n, p\xE9rdida, responsabilidad, costo o deuda, y gasto (incluidos, entre otros, los honorarios de abogados) que surjan de:"),N(),A(66,"ul")(67,"li"),O(68,"Tu uso y acceso a los servicios."),N(),A(69,"li"),O(70,"Tu violaci\xF3n de cualquier t\xE9rmino de estos t\xE9rminos."),N(),A(71,"li"),O(72,"Tu violaci\xF3n de cualquier derecho de terceros, incluidos, entre otros, cualquier derecho de autor, propiedad o privacidad."),N()(),A(73,"h2"),O(74,"8. Ley Aplicable"),N(),A(75,"p"),O(76,"Estos t\xE9rminos se regir\xE1n e interpretar\xE1n de acuerdo con las leyes del pa\xEDs en el que se encuentra "),A(77,"strong"),O(78),N(),O(79,", sin tener en cuenta sus disposiciones sobre conflictos de leyes."),N(),A(80,"h2"),O(81,"9. Contacto"),N(),A(82,"p"),O(83,"Si tienes preguntas o inquietudes sobre estos t\xE9rminos, no dudes en escribirnos a "),A(84,"a",4),O(85,"[correo electr\xF3nico de contacto]"),N(),O(86," o utilizar nuestro formulario de contacto en "),A(87,"a",5),O(88,"[URL de contacto]"),N(),O(89,"."),N(),A(90,"p")(91,"em"),O(92,"\xDAltima actualizaci\xF3n: 27 de febrero de 2025"),N()()()()()),t&2&&(W(8),je(i.appName),W(26),je(i.appName),W(14),je(i.appName),W(16),je(i.appName),W(14),je(i.appName))},encapsulation:2})};var mS=(()=>{class e{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,i){this._renderer=t,this._elementRef=i}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(i){return new(i||e)(ee(oi),ee(nn))};static \u0275dir=Qe({type:e})}return e})(),vf=(()=>{class e extends mS{static \u0275fac=(()=>{let t;return function(r){return(t||(t=$n(e)))(r||e)}})();static \u0275dir=Qe({type:e,features:[rn]})}return e})(),vc=new oe("");var IF={provide:vc,useExisting:fn(()=>Vn),multi:!0};function MF(){let e=jn()?jn().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var AF=new oe(""),Vn=(()=>{class e extends mS{_compositionMode;_composing=!1;constructor(t,i,r){super(t,i),this._compositionMode=r,this._compositionMode==null&&(this._compositionMode=!MF())}writeValue(t){let i=t??"";this.setProperty("value",i)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(i){return new(i||e)(ee(oi),ee(nn),ee(AF,8))};static \u0275dir=Qe({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){i&1&&ae("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},standalone:!1,features:[on([IF]),rn]})}return e})();function NF(e){return e==null||PF(e)===0}function PF(e){return e==null?null:Array.isArray(e)||typeof e=="string"?e.length:e instanceof Set?e.size:null}var yc=new oe(""),_S=new oe("");function RF(e){return n=>{if(n.value==null||e==null)return null;let t=parseFloat(n.value);return!isNaN(t)&&t<e?{min:{min:e,actual:n.value}}:null}}function OF(e){return n=>{if(n.value==null||e==null)return null;let t=parseFloat(n.value);return!isNaN(t)&&t>e?{max:{max:e,actual:n.value}}:null}}function LF(e){return NF(e.value)?{required:!0}:null}function aS(e){return null}function vS(e){return e!=null}function yS(e){return or(e)?Xe(e):e}function bS(e){let n={};return e.forEach(t=>{n=t!=null?K(K({},n),t):n}),Object.keys(n).length===0?null:n}function xS(e,n){return n.map(t=>t(e))}function FF(e){return!e.validate}function wS(e){return e.map(n=>FF(n)?n:t=>n.validate(t))}function $F(e){if(!e)return null;let n=e.filter(vS);return n.length==0?null:function(t){return bS(xS(t,n))}}function Qv(e){return e!=null?$F(wS(e)):null}function jF(e){if(!e)return null;let n=e.filter(vS);return n.length==0?null:function(t){let i=xS(t,n).map(yS);return Ep(i).pipe(_e(bS))}}function ey(e){return e!=null?jF(wS(e)):null}function lS(e,n){return e===null?[n]:Array.isArray(e)?[...e,n]:[e,n]}function BF(e){return e._rawValidators}function VF(e){return e._rawAsyncValidators}function Kv(e){return e?Array.isArray(e)?e:[e]:[]}function hf(e,n){return Array.isArray(e)?e.includes(n):e===n}function cS(e,n){let t=Kv(n);return Kv(e).forEach(r=>{hf(t,r)||t.push(r)}),t}function dS(e,n){return Kv(n).filter(t=>!hf(e,t))}var ff=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=Qv(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=ey(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,t){return this.control?this.control.hasError(n,t):!1}getError(n,t){return this.control?this.control.getError(n,t):null}},fa=class extends ff{name;get formDirective(){return null}get path(){return null}},_c=class extends ff{_parent=null;name=null;valueAccessor=null},gf=class{_cd;constructor(n){this._cd=n}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},zF={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},OJ=ve(K({},zF),{"[class.ng-submitted]":"isSubmitted"}),Ai=(()=>{class e extends gf{constructor(t){super(t)}static \u0275fac=function(i){return new(i||e)(ee(_c,2))};static \u0275dir=Qe({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){i&2&&Ro("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},standalone:!1,features:[rn]})}return e})(),Ur=(()=>{class e extends gf{constructor(t){super(t)}static \u0275fac=function(i){return new(i||e)(ee(fa,10))};static \u0275dir=Qe({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){i&2&&Ro("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},standalone:!1,features:[rn]})}return e})();var hc="VALID",uf="INVALID",ua="PENDING",fc="DISABLED",Hr=class{},pf=class extends Hr{value;source;constructor(n,t){super(),this.value=n,this.source=t}},pc=class extends Hr{pristine;source;constructor(n,t){super(),this.pristine=n,this.source=t}},mc=class extends Hr{touched;source;constructor(n,t){super(),this.touched=n,this.source=t}},ha=class extends Hr{status;source;constructor(n,t){super(),this.status=n,this.source=t}},Jv=class extends Hr{source;constructor(n){super(),this.source=n}},Xv=class extends Hr{source;constructor(n){super(),this.source=n}};function kS(e){return(yf(e)?e.validators:e)||null}function HF(e){return Array.isArray(e)?Qv(e):e||null}function ES(e,n){return(yf(n)?n.asyncValidators:e)||null}function UF(e){return Array.isArray(e)?ey(e):e||null}function yf(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}function WF(e,n,t){let i=e.controls;if(!(n?Object.keys(i):i).length)throw new te(1e3,"");if(!i[t])throw new te(1001,"")}function GF(e,n,t){e._forEachChild((i,r)=>{if(t[r]===void 0)throw new te(1002,"")})}var mf=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(n,t){this._assignValidators(n),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get status(){return gn(this.statusReactive)}set status(n){gn(()=>this.statusReactive.set(n))}_status=qs(()=>this.statusReactive());statusReactive=er(void 0);get valid(){return this.status===hc}get invalid(){return this.status===uf}get pending(){return this.status==ua}get disabled(){return this.status===fc}get enabled(){return this.status!==fc}errors;get pristine(){return gn(this.pristineReactive)}set pristine(n){gn(()=>this.pristineReactive.set(n))}_pristine=qs(()=>this.pristineReactive());pristineReactive=er(!0);get dirty(){return!this.pristine}get touched(){return gn(this.touchedReactive)}set touched(n){gn(()=>this.touchedReactive.set(n))}_touched=qs(()=>this.touchedReactive());touchedReactive=er(!1);get untouched(){return!this.touched}_events=new ut;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(cS(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(cS(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(dS(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(dS(n,this._rawAsyncValidators))}hasValidator(n){return hf(this._rawValidators,n)}hasAsyncValidator(n){return hf(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){let t=this.touched===!1;this.touched=!0;let i=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsTouched(ve(K({},n),{sourceControl:i})),t&&n.emitEvent!==!1&&this._events.next(new mc(!0,i))}markAllAsDirty(n={}){this.markAsDirty({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsDirty(n))}markAllAsTouched(n={}){this.markAsTouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(n))}markAsUntouched(n={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=n.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:i})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,i),t&&n.emitEvent!==!1&&this._events.next(new mc(!1,i))}markAsDirty(n={}){let t=this.pristine===!0;this.pristine=!1;let i=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsDirty(ve(K({},n),{sourceControl:i})),t&&n.emitEvent!==!1&&this._events.next(new pc(!1,i))}markAsPristine(n={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=n.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:n.emitEvent})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n,i),t&&n.emitEvent!==!1&&this._events.next(new pc(!0,i))}markAsPending(n={}){this.status=ua;let t=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new ha(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.markAsPending(ve(K({},n),{sourceControl:t}))}disable(n={}){let t=this._parentMarkedDirty(n.onlySelf);this.status=fc,this.errors=null,this._forEachChild(r=>{r.disable(ve(K({},n),{onlySelf:!0}))}),this._updateValue();let i=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new pf(this.value,i)),this._events.next(new ha(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ve(K({},n),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(n={}){let t=this._parentMarkedDirty(n.onlySelf);this.status=hc,this._forEachChild(i=>{i.enable(ve(K({},n),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors(ve(K({},n),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(n,t){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===hc||this.status===ua)&&this._runAsyncValidator(i,n.emitEvent)}let t=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new pf(this.value,t)),this._events.next(new ha(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(ve(K({},n),{sourceControl:t}))}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?fc:hc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n,t){if(this.asyncValidator){this.status=ua,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1,shouldHaveEmitted:n!==!1};let i=yS(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:t,shouldHaveEmitted:n})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let n=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,n}return!1}setErrors(n,t={}){this.errors=n,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(n){let t=n;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(n,t){let i=t?this.get(t):this;return i&&i.errors?i.errors[n]:null}hasError(n,t){return!!this.getError(n,t)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n,t,i){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),(n||i)&&this._events.next(new ha(this.status,t)),this._parent&&this._parent._updateControlsErrors(n,t,i)}_initObservables(){this.valueChanges=new ct,this.statusChanges=new ct}_calculateStatus(){return this._allControlsDisabled()?fc:this.errors?uf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ua)?ua:this._anyControlsHaveStatus(uf)?uf:hc}_anyControlsHaveStatus(n){return this._anyControls(t=>t.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n,t){let i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!n.onlySelf&&this._parent._updatePristine(n,t),r&&this._events.next(new pc(this.pristine,t))}_updateTouched(n={},t){this.touched=this._anyControlsTouched(),this._events.next(new mc(this.touched,t)),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,t)}_onDisabledChange=[];_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){yf(n)&&n.updateOn!=null&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){let t=this._parent&&this._parent.dirty;return!n&&!!t&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=HF(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=UF(this._rawAsyncValidators)}},_f=class extends mf{constructor(n,t,i){super(kS(t),ES(i,t)),this.controls=n,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(n,t){return this.controls[n]?this.controls[n]:(this.controls[n]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(n,t,i={}){this.registerControl(n,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(n,t={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(n,t,i={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],t&&this.registerControl(n,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,t={}){GF(this,!0,n),Object.keys(n).forEach(i=>{WF(this,!0,i),this.controls[i].setValue(n[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(n,t={}){n!=null&&(Object.keys(n).forEach(i=>{let r=this.controls[i];r&&r.patchValue(n[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(n={},t={}){this._forEachChild((i,r)=>{i.reset(n?n[r]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(n,t,i)=>(n[i]=t.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(t,i)=>i._syncPendingControls()?!0:t);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(t=>{let i=this.controls[t];i&&n(i,t)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(let[t,i]of Object.entries(this.controls))if(this.contains(t)&&n(i))return!0;return!1}_reduceValue(){let n={};return this._reduceChildren(n,(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(n,t){let i=n;return this._forEachChild((r,o)=>{i=t(i,r,o)}),i}_allControlsDisabled(){for(let n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}};var ty=new oe("",{providedIn:"root",factory:()=>ny}),ny="always";function qF(e,n){return[...n.path,e]}function CS(e,n,t=ny){SS(e,n),n.valueAccessor.writeValue(e.value),(e.disabled||t==="always")&&n.valueAccessor.setDisabledState?.(e.disabled),YF(e,n),JF(e,n),KF(e,n),ZF(e,n)}function uS(e,n){e.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(n)})}function ZF(e,n){if(n.valueAccessor.setDisabledState){let t=i=>{n.valueAccessor.setDisabledState(i)};e.registerOnDisabledChange(t),n._registerOnDestroy(()=>{e._unregisterOnDisabledChange(t)})}}function SS(e,n){let t=BF(e);n.validator!==null?e.setValidators(lS(t,n.validator)):typeof t=="function"&&e.setValidators([t]);let i=VF(e);n.asyncValidator!==null?e.setAsyncValidators(lS(i,n.asyncValidator)):typeof i=="function"&&e.setAsyncValidators([i]);let r=()=>e.updateValueAndValidity();uS(n._rawValidators,r),uS(n._rawAsyncValidators,r)}function YF(e,n){n.valueAccessor.registerOnChange(t=>{e._pendingValue=t,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&TS(e,n)})}function KF(e,n){n.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&TS(e,n),e.updateOn!=="submit"&&e.markAsTouched()})}function TS(e,n){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function JF(e,n){let t=(i,r)=>{n.valueAccessor.writeValue(i),r&&n.viewToModelUpdate(i)};e.registerOnChange(t),n._registerOnDestroy(()=>{e._unregisterOnChange(t)})}function XF(e,n){e==null,SS(e,n)}function QF(e,n){if(!e.hasOwnProperty("model"))return!1;let t=e.model;return t.isFirstChange()?!0:!Object.is(n,t.currentValue)}function e$(e){return Object.getPrototypeOf(e.constructor)===vf}function t$(e,n){e._syncPendingControls(),n.forEach(t=>{let i=t.control;i.updateOn==="submit"&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function n$(e,n){if(!n)return null;Array.isArray(n);let t,i,r;return n.forEach(o=>{o.constructor===Vn?t=o:e$(o)?i=o:r=o}),r||i||t||null}var i$={provide:fa,useExisting:fn(()=>ur)},gc=Promise.resolve(),ur=(()=>{class e extends fa{callSetDisabledState;get submitted(){return gn(this.submittedReactive)}_submitted=qs(()=>this.submittedReactive());submittedReactive=er(!1);_directives=new Set;form;ngSubmit=new ct;options;constructor(t,i,r){super(),this.callSetDisabledState=r,this.form=new _f({},Qv(t),ey(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){gc.then(()=>{let i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),CS(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){gc.then(()=>{let i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){gc.then(()=>{let i=this._findContainer(t.path),r=new _f({});XF(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){gc.then(()=>{let i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){gc.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),t$(this.form,this._directives),this.ngSubmit.emit(t),this.form._events.next(new Jv(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1),this.form._events.next(new Xv(this.form))}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(i){return new(i||e)(ee(yc,10),ee(_S,10),ee(ty,8))};static \u0275dir=Qe({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){i&1&&ae("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[on([i$]),rn]})}return e})();function hS(e,n){let t=e.indexOf(n);t>-1&&e.splice(t,1)}function fS(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var r$=class extends mf{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(n=null,t,i){super(kS(t),ES(i,t)),this._applyFormState(n),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),yf(t)&&(t.nonNullable||t.initialValueIsDefault)&&(fS(n)?this.defaultValue=n.value:this.defaultValue=n)}setValue(n,t={}){this.value=this._pendingValue=n,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(n,t={}){this.setValue(n,t)}reset(n=this.defaultValue,t={}){this._applyFormState(n),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){hS(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){hS(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(n){fS(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}};var o$={provide:_c,useExisting:fn(()=>li)},gS=Promise.resolve(),li=(()=>{class e extends _c{_changeDetectorRef;callSetDisabledState;control=new r$;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new ct;constructor(t,i,r,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=n$(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),QF(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){CS(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){gS.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let i=t.isDisabled.currentValue,r=i!==0&&Lo(i);gS.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?qF(t,this._parent):[t]}static \u0275fac=function(i){return new(i||e)(ee(fa,9),ee(yc,10),ee(_S,10),ee(vc,10),ee($r,8),ee(ty,8))};static \u0275dir=Qe({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[on([o$]),rn,Ci]})}return e})();var Wr=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275dir=Qe({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return e})(),s$={provide:vc,useExisting:fn(()=>bc),multi:!0},bc=(()=>{class e extends vf{writeValue(t){let i=t??"";this.setProperty("value",i)}registerOnChange(t){this.onChange=i=>{t(i==""?null:parseFloat(i))}}static \u0275fac=(()=>{let t;return function(r){return(t||(t=$n(e)))(r||e)}})();static \u0275dir=Qe({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,r){i&1&&ae("input",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},standalone:!1,features:[on([s$]),rn]})}return e})();var a$={provide:vc,useExisting:fn(()=>ga),multi:!0};function DS(e,n){return e==null?`${n}`:(n&&typeof n=="object"&&(n="Object"),`${e}: ${n}`.slice(0,50))}function l$(e){return e.split(":")[0]}var ga=(()=>{class e extends vf{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let i=this._getOptionId(t),r=DS(i,t);this.setProperty("value",r)}registerOnChange(t){this.onChange=i=>{this.value=this._getOptionValue(i),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),t))return i;return null}_getOptionValue(t){let i=l$(t);return this._optionMap.has(i)?this._optionMap.get(i):t}static \u0275fac=(()=>{let t;return function(r){return(t||(t=$n(e)))(r||e)}})();static \u0275dir=Qe({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,r){i&1&&ae("change",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[on([a$]),rn]})}return e})(),bf=(()=>{class e{_element;_renderer;_select;id;constructor(t,i,r){this._element=t,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(DS(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(i){return new(i||e)(ee(nn),ee(oi),ee(ga,9))};static \u0275dir=Qe({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return e})(),c$={provide:vc,useExisting:fn(()=>IS),multi:!0};function pS(e,n){return e==null?`${n}`:(typeof n=="string"&&(n=`'${n}'`),n&&typeof n=="object"&&(n="Object"),`${e}: ${n}`.slice(0,50))}function d$(e){return e.split(":")[0]}var IS=(()=>{class e extends vf{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let i;if(Array.isArray(t)){let r=t.map(o=>this._getOptionId(o));i=(o,s)=>{o._setSelected(r.indexOf(s.toString())>-1)}}else i=(r,o)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(t){this.onChange=i=>{let r=[],o=i.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let l=s[a],d=this._getOptionValue(l.value);r.push(d)}}else{let s=i.options;for(let a=0;a<s.length;a++){let l=s[a];if(l.selected){let d=this._getOptionValue(l.value);r.push(d)}}}this.value=r,t(r)}}_registerOption(t){let i=(this._idCounter++).toString();return this._optionMap.set(i,t),i}_getOptionId(t){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,t))return i;return null}_getOptionValue(t){let i=d$(t);return this._optionMap.has(i)?this._optionMap.get(i)._value:t}static \u0275fac=(()=>{let t;return function(r){return(t||(t=$n(e)))(r||e)}})();static \u0275dir=Qe({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,r){i&1&&ae("change",function(s){return r.onChange(s.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[on([c$]),rn]})}return e})(),xf=(()=>{class e{_element;_renderer;_select;id;_value;constructor(t,i,r){this._element=t,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(pS(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(pS(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(i){return new(i||e)(ee(nn),ee(oi),ee(IS,9))};static \u0275dir=Qe({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return e})();function MS(e){return typeof e=="number"?e:parseFloat(e)}var iy=(()=>{class e{_validator=aS;_onChange;_enabled;ngOnChanges(t){if(this.inputName in t){let i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):aS,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static \u0275fac=function(i){return new(i||e)};static \u0275dir=Qe({type:e,features:[Ci]})}return e})(),u$={provide:yc,useExisting:fn(()=>ry),multi:!0},ry=(()=>{class e extends iy{max;inputName="max";normalizeInput=t=>MS(t);createValidator=t=>OF(t);static \u0275fac=(()=>{let t;return function(r){return(t||(t=$n(e)))(r||e)}})();static \u0275dir=Qe({type:e,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(i,r){i&2&&Fr("max",r._enabled?r.max:null)},inputs:{max:"max"},standalone:!1,features:[on([u$]),rn]})}return e})(),h$={provide:yc,useExisting:fn(()=>oy),multi:!0},oy=(()=>{class e extends iy{min;inputName="min";normalizeInput=t=>MS(t);createValidator=t=>RF(t);static \u0275fac=(()=>{let t;return function(r){return(t||(t=$n(e)))(r||e)}})();static \u0275dir=Qe({type:e,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(i,r){i&2&&Fr("min",r._enabled?r.min:null)},inputs:{min:"min"},standalone:!1,features:[on([h$]),rn]})}return e})(),f$={provide:yc,useExisting:fn(()=>hr),multi:!0};var hr=(()=>{class e extends iy{required;inputName="required";normalizeInput=Lo;createValidator=t=>LF;enabled(t){return t}static \u0275fac=(()=>{let t;return function(r){return(t||(t=$n(e)))(r||e)}})();static \u0275dir=Qe({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,r){i&2&&Fr("required",r._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[on([f$]),rn]})}return e})();var g$=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=si({type:e});static \u0275inj=Nn({})}return e})();var Ni=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:ty,useValue:t.callSetDisabledState??ny}]}}static \u0275fac=function(i){return new(i||e)};static \u0275mod=si({type:e});static \u0275inj=Nn({imports:[g$]})}return e})();var AS=e=>{let n;return e?n=e:typeof fetch>"u"?n=(...t)=>import("./chunk-O7BDSM3T.js").then(({default:i})=>i(...t)):n=fetch,(...t)=>n(...t)};var wc=class extends Error{constructor(n,t="FunctionsError",i){super(n),this.name=t,this.context=i}},wf=class extends wc{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}},kf=class extends wc{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}},Ef=class extends wc{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}},sy=function(e){return e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2",e}(sy||{});var p$=function(e,n,t,i){function r(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(u){try{d(i.next(u))}catch(f){s(f)}}function l(u){try{d(i.throw(u))}catch(f){s(f)}}function d(u){u.done?o(u.value):r(u.value).then(a,l)}d((i=i.apply(e,n||[])).next())})},kc=class{constructor(n,{headers:t={},customFetch:i,region:r=sy.Any}={}){this.url=n,this.headers=t,this.region=r,this.fetch=AS(i)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n,t={}){var i;return p$(this,void 0,void 0,function*(){try{let{headers:r,method:o,body:s}=t,a={},{region:l}=t;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let d;s&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",d=s):typeof s=="string"?(a["Content-Type"]="text/plain",d=s):typeof FormData<"u"&&s instanceof FormData?d=s:(a["Content-Type"]="application/json",d=JSON.stringify(s)));let u=yield this.fetch(`${this.url}/${n}`,{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),r),body:d}).catch(v=>{throw new wf(v)}),f=u.headers.get("x-relay-error");if(f&&f==="true")throw new kf(u);if(!u.ok)throw new Ef(u);let g=((i=u.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),p;return g==="application/json"?p=yield u.json():g==="application/octet-stream"?p=yield u.blob():g==="text/event-stream"?p=u:g==="multipart/form-data"?p=yield u.formData():p=yield u.text(),{data:p,error:null}}catch(r){return{data:null,error:r}}})}};var US=B0(HS(),1),{PostgrestClient:WS,PostgrestQueryBuilder:tX,PostgrestFilterBuilder:nX,PostgrestTransformBuilder:iX,PostgrestBuilder:rX,PostgrestError:T$}=US.default;var vy;typeof window>"u"?vy=qS():vy=window.WebSocket;var ZS=vy;var YS="2.11.10";var KS={"X-Client-Info":`realtime-js/${YS}`},JS="1.0.0";var Df=1e4,XS=1e3,ma=function(e){return e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed",e}(ma||{}),an=function(e){return e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving",e}(an||{}),zn=function(e){return e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token",e}(zn||{}),yy=function(e){return e.websocket="websocket",e}(yy||{}),Uo=function(e){return e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed",e}(Uo||{});var If=class{constructor(){this.HEADER_LENGTH=1}decode(n,t){return n.constructor===ArrayBuffer?t(this._binaryDecode(n)):t(typeof n=="string"?JSON.parse(n):{})}_binaryDecode(n){let t=new DataView(n),i=new TextDecoder;return this._decodeBroadcast(n,t,i)}_decodeBroadcast(n,t,i){let r=t.getUint8(1),o=t.getUint8(2),s=this.HEADER_LENGTH+2,a=i.decode(n.slice(s,s+r));s=s+r;let l=i.decode(n.slice(s,s+o));s=s+o;let d=JSON.parse(i.decode(n.slice(s,n.byteLength)));return{ref:null,topic:a,event:l,payload:d}}};var _a=class{constructor(n,t){this.callback=n,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var ot=function(e){return e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange",e}(ot||{}),xy=(e,n,t={})=>{var i;let r=(i=t.skipTypes)!==null&&i!==void 0?i:[];return Object.keys(n).reduce((o,s)=>(o[s]=D$(s,e,n,r),o),{})},D$=(e,n,t,i)=>{let r=n.find(a=>a.name===e),o=r?.type,s=t[e];return o&&!i.includes(o)?QS(o,s):by(s)},QS=(e,n)=>{if(e.charAt(0)==="_"){let t=e.slice(1,e.length);return N$(n,t)}switch(e){case ot.bool:return I$(n);case ot.float4:case ot.float8:case ot.int2:case ot.int4:case ot.int8:case ot.numeric:case ot.oid:return M$(n);case ot.json:case ot.jsonb:return A$(n);case ot.timestamp:return P$(n);case ot.abstime:case ot.date:case ot.daterange:case ot.int4range:case ot.int8range:case ot.money:case ot.reltime:case ot.text:case ot.time:case ot.timestamptz:case ot.timetz:case ot.tsrange:case ot.tstzrange:return by(n);default:return by(n)}},by=e=>e,I$=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},M$=e=>{if(typeof e=="string"){let n=parseFloat(e);if(!Number.isNaN(n))return n}return e},A$=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(n){return console.log(`JSON parse error: ${n}`),e}return e},N$=(e,n)=>{if(typeof e!="string")return e;let t=e.length-1,i=e[t];if(e[0]==="{"&&i==="}"){let o,s=e.slice(1,t);try{o=JSON.parse("["+s+"]")}catch{o=s?s.split(","):[]}return o.map(a=>QS(n,a))}return e},P$=e=>typeof e=="string"?e.replace(" ","T"):e,Mf=e=>{let n=e;return n=n.replace(/^ws/i,"http"),n=n.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),n.replace(/\/+$/,"")};var va=class{constructor(n,t,i={},r=Df){this.channel=n,this.event=t,this.payload=i,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,t){var i;return this._hasReceived(n)&&t((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:n,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let n=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:t}){this.recHooks.filter(i=>i.status===n).forEach(i=>i.callback(t))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}};var Mc=class e{constructor(n,t){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let i=t?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},r=>{let{onJoin:o,onLeave:s,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=e.syncState(this.state,r,o,s),this.pendingDiffs.forEach(l=>{this.state=e.syncDiff(this.state,l,o,s)}),this.pendingDiffs=[],a()}),this.channel._on(i.diff,{},r=>{let{onJoin:o,onLeave:s,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(r):(this.state=e.syncDiff(this.state,r,o,s),a())}),this.onJoin((r,o,s)=>{this.channel._trigger("presence",{event:"join",key:r,currentPresences:o,newPresences:s})}),this.onLeave((r,o,s)=>{this.channel._trigger("presence",{event:"leave",key:r,currentPresences:o,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,t,i,r){let o=this.cloneDeep(n),s=this.transformState(t),a={},l={};return this.map(o,(d,u)=>{s[d]||(l[d]=u)}),this.map(s,(d,u)=>{let f=o[d];if(f){let g=u.map(x=>x.presence_ref),p=f.map(x=>x.presence_ref),v=u.filter(x=>p.indexOf(x.presence_ref)<0),k=f.filter(x=>g.indexOf(x.presence_ref)<0);v.length>0&&(a[d]=v),k.length>0&&(l[d]=k)}else a[d]=u}),this.syncDiff(o,{joins:a,leaves:l},i,r)}static syncDiff(n,t,i,r){let{joins:o,leaves:s}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return i||(i=()=>{}),r||(r=()=>{}),this.map(o,(a,l)=>{var d;let u=(d=n[a])!==null&&d!==void 0?d:[];if(n[a]=this.cloneDeep(l),u.length>0){let f=n[a].map(p=>p.presence_ref),g=u.filter(p=>f.indexOf(p.presence_ref)<0);n[a].unshift(...g)}i(a,u,l)}),this.map(s,(a,l)=>{let d=n[a];if(!d)return;let u=l.map(f=>f.presence_ref);d=d.filter(f=>u.indexOf(f.presence_ref)<0),n[a]=d,r(a,d,l),d.length===0&&delete n[a]}),n}static map(n,t){return Object.getOwnPropertyNames(n).map(i=>t(i,n[i]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((t,i)=>{let r=n[i];return"metas"in r?t[i]=r.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):t[i]=r,t},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var fr=function(e){return e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR",e}(fr||{});var Ac=class e{constructor(n,t={config:{}},i){this.topic=n,this.params=t,this.socket=i,this.bindings={},this.state=an.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new va(this,zn.join,this.params,this.timeout),this.rejoinTimer=new _a(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=an.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(r=>r.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=an.closed,this.socket._remove(this)}),this._onError(r=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,r),this.state=an.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=an.errored,this.rejoinTimer.scheduleTimeout())}),this._on(zn.reply,{},(r,o)=>{this._trigger(this._replyEventName(o),r)}),this.presence=new Mc(this),this.broadcastEndpointURL=Mf(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(n,t=this.timeout){var i,r;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{let{config:{broadcast:o,presence:s,private:a}}=this.params;this._onError(u=>n?.(fr.CHANNEL_ERROR,u)),this._onClose(()=>n?.(fr.CLOSED));let l={},d={broadcast:o,presence:s,postgres_changes:(r=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(u=>u.filter))!==null&&r!==void 0?r:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:d},l)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",f=>B(this,[f],function*({postgres_changes:u}){var g;if(this.socket.setAuth(),u===void 0){n?.(fr.SUBSCRIBED);return}else{let p=this.bindings.postgres_changes,v=(g=p?.length)!==null&&g!==void 0?g:0,k=[];for(let x=0;x<v;x++){let S=p[x],{filter:{event:_,schema:w,table:y,filter:C}}=S,D=u&&u[x];if(D&&D.event===_&&D.schema===w&&D.table===y&&D.filter===C)k.push(Object.assign(Object.assign({},S),{id:D.id}));else{this.unsubscribe(),this.state=an.errored,n?.(fr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=k,n&&n(fr.SUBSCRIBED);return}})).receive("error",u=>{this.state=an.errored,n?.(fr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{n?.(fr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}track(i){return B(this,arguments,function*(n,t={}){return yield this.send({type:"presence",event:"track",payload:n},t.timeout||this.timeout)})}untrack(){return B(this,arguments,function*(n={}){return yield this.send({type:"presence",event:"untrack"},n)})}on(n,t,i){return this._on(n,t,i)}send(i){return B(this,arguments,function*(n,t={}){var r,o;if(!this._canPush()&&n.type==="broadcast"){let{event:s,payload:a}=n,d={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{let u=yield this._fetchWithTimeout(this.broadcastEndpointURL,d,(r=t.timeout)!==null&&r!==void 0?r:this.timeout);return yield(o=u.body)===null||o===void 0?void 0:o.cancel(),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,l,d;let u=this._push(n.type,n,t.timeout||this.timeout);n.type==="broadcast"&&!(!((d=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||d===void 0)&&d.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=an.leaving;let t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(zn.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise(i=>{let r=new va(this,zn.leave,{},n);r.receive("ok",()=>{t(),i("ok")}).receive("timeout",()=>{t(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}_fetchWithTimeout(n,t,i){return B(this,null,function*(){let r=new AbortController,o=setTimeout(()=>r.abort(),i),s=yield this.socket.fetch(n,Object.assign(Object.assign({},t),{signal:r.signal}));return clearTimeout(o),s})}_push(n,t,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new va(this,n,t,i);return this._canPush()?r.send():(r.startTimeout(),this.pushBuffer.push(r)),r}_onMessage(n,t,i){return t}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,t,i){var r,o;let s=n.toLocaleLowerCase(),{close:a,error:l,leave:d,join:u}=zn;if(i&&[a,l,d,u].indexOf(s)>=0&&i!==this._joinRef())return;let g=this._onMessage(s,t,i);if(t&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(r=this.bindings.postgres_changes)===null||r===void 0||r.filter(p=>{var v,k,x;return((v=p.filter)===null||v===void 0?void 0:v.event)==="*"||((x=(k=p.filter)===null||k===void 0?void 0:k.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===s}).map(p=>p.callback(g,i)):(o=this.bindings[s])===null||o===void 0||o.filter(p=>{var v,k,x,S,_,w;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in p){let y=p.id,C=(v=p.filter)===null||v===void 0?void 0:v.event;return y&&((k=t.ids)===null||k===void 0?void 0:k.includes(y))&&(C==="*"||C?.toLocaleLowerCase()===((x=t.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{let y=(_=(S=p?.filter)===null||S===void 0?void 0:S.event)===null||_===void 0?void 0:_.toLocaleLowerCase();return y==="*"||y===((w=t?.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===s}).map(p=>{if(typeof g=="object"&&"ids"in g){let v=g.data,{schema:k,table:x,commit_timestamp:S,type:_,errors:w}=v;g=Object.assign(Object.assign({},{schema:k,table:x,commit_timestamp:S,eventType:_,new:{},old:{},errors:w}),this._getPayloadRecords(v))}p.callback(g,i)})}_isClosed(){return this.state===an.closed}_isJoined(){return this.state===an.joined}_isJoining(){return this.state===an.joining}_isLeaving(){return this.state===an.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,t,i){let r=n.toLocaleLowerCase(),o={type:r,filter:t,callback:i};return this.bindings[r]?this.bindings[r].push(o):this.bindings[r]=[o],this}_off(n,t){let i=n.toLocaleLowerCase();return this.bindings[i]=this.bindings[i].filter(r=>{var o;return!(((o=r.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===i&&e.isEqual(r.filter,t))}),this}static isEqual(n,t){if(Object.keys(n).length!==Object.keys(t).length)return!1;for(let i in n)if(n[i]!==t[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(zn.close,{},n)}_onError(n){this._on(zn.error,{},t=>n(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=an.joining,this.joinPush.resend(n))}_getPayloadRecords(n){let t={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(t.new=xy(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(t.old=xy(n.columns,n.old_record)),t}};var eT=()=>{},O$=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`,Nc=class{constructor(n,t){var i;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=KS,this.params={},this.timeout=Df,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=eT,this.ref=0,this.logger=eT,this.conn=null,this.sendBuffer=[],this.serializer=new If,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let s;return o?s=o:typeof fetch>"u"?s=(...a)=>import("./chunk-O7BDSM3T.js").then(({default:l})=>l(...a)):s=fetch,(...a)=>s(...a)},this.endPoint=`${n}/${yy.websocket}`,this.httpEndpoint=Mf(n),t?.transport?this.transport=t.transport:this.transport=null,t?.params&&(this.params=t.params),t?.headers&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),t?.timeout&&(this.timeout=t.timeout),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),t?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);let r=(i=t?.params)===null||i===void 0?void 0:i.apikey;if(r&&(this.accessTokenValue=r,this.apiKey=r),this.reconnectAfterMs=t?.reconnectAfterMs?t.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=t?.encode?t.encode:(o,s)=>s(JSON.stringify(o)),this.decode=t?.decode?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new _a(()=>B(this,null,function*(){this.disconnect(),this.connect()}),this.reconnectAfterMs),this.fetch=this._resolveFetch(t?.fetch),t?.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=t?.worker||!1,this.workerUrl=t?.workerUrl}this.accessToken=t?.accessToken||null}connect(){if(!this.conn){if(this.transport||(this.transport=ZS),this.transport){typeof window<"u"&&this.transport===window.WebSocket?this.conn=new this.transport(this.endpointURL()):this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}this.conn=new wy(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:JS}))}disconnect(n,t){this.conn&&(this.conn.onclose=function(){},n?this.conn.close(n,t??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(i=>i.teardown()))}getChannels(){return this.channels}removeChannel(n){return B(this,null,function*(){let t=yield n.unsubscribe();return this.channels=this.channels.filter(i=>i._joinRef!==n._joinRef),this.channels.length===0&&this.disconnect(),t})}removeAllChannels(){return B(this,null,function*(){let n=yield Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),n})}log(n,t,i){this.logger(n,t,i)}connectionState(){switch(this.conn&&this.conn.readyState){case ma.connecting:return Uo.Connecting;case ma.open:return Uo.Open;case ma.closing:return Uo.Closing;default:return Uo.Closed}}isConnected(){return this.connectionState()===Uo.Open}channel(n,t={config:{}}){let i=`realtime:${n}`,r=this.getChannels().find(o=>o.topic===i);if(r)return r;{let o=new Ac(`realtime:${n}`,t,this);return this.channels.push(o),o}}push(n){let{topic:t,event:i,payload:r,ref:o}=n,s=()=>{this.encode(n,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${t} ${i} (${o})`,r),this.isConnected()?s():this.sendBuffer.push(s)}setAuth(n=null){return B(this,null,function*(){let t=n||this.accessToken&&(yield this.accessToken())||this.accessTokenValue;this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(i=>{t&&i.updateJoinPayload({access_token:t,version:this.headers&&this.headers["X-Client-Info"]}),i.joinedOnce&&i._isJoined()&&i._push(zn.access_token,{access_token:t})}))})}sendHeartbeat(){return B(this,null,function*(){var n;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(n=this.conn)===null||n===void 0||n.close(XS,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),yield this.setAuth()})}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let t=this.channels.find(i=>i.topic===n&&(i._isJoined()||i._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${n}"`),t.unsubscribe())}_remove(n){this.channels=this.channels.filter(t=>t.topic!==n.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n))}_onConnMessage(n){this.decode(n.data,t=>{let{topic:i,event:r,payload:o,ref:s}=t;i==="phoenix"&&r==="phx_reply"&&this.heartbeatCallback(t.payload.status=="ok"?"ok":"error"),s&&s===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${i} ${r} ${s&&"("+s+")"||""}`,o),Array.from(this.channels).filter(a=>a._isMember(i)).forEach(a=>a._trigger(r,o,s)),this.stateChangeCallbacks.message.forEach(a=>a(t))})}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");let n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(n=>n())}_onConnClose(n){this.log("transport","close",n),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(n))}_onConnError(n){this.log("transport",n.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(n))}_triggerChanError(){this.channels.forEach(n=>n._trigger(zn.error))}_appendParams(n,t){if(Object.keys(t).length===0)return n;let i=n.match(/\?/)?"&":"?",r=new URLSearchParams(t);return`${n}${i}${r}`}_workerObjectUrl(n){let t;if(n)t=n;else{let i=new Blob([O$],{type:"application/javascript"});t=URL.createObjectURL(i)}return t}};var wy=class{constructor(n,t,i){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=ma.connecting,this.send=()=>{},this.url=null,this.url=n,this.close=i.close}};var ya=class extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}};function Ct(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var Af=class extends ya{constructor(n,t){super(n),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}},Wo=class extends ya{constructor(n,t){super(n),this.name="StorageUnknownError",this.originalError=t}};var L$=function(e,n,t,i){function r(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(u){try{d(i.next(u))}catch(f){s(f)}}function l(u){try{d(i.throw(u))}catch(f){s(f)}}function d(u){u.done?o(u.value):r(u.value).then(a,l)}d((i=i.apply(e,n||[])).next())})},Pf=e=>{let n;return e?n=e:typeof fetch>"u"?n=(...t)=>import("./chunk-O7BDSM3T.js").then(({default:i})=>i(...t)):n=fetch,(...t)=>n(...t)},tT=()=>L$(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield import("./chunk-O7BDSM3T.js")).Response:Response}),Nf=e=>{if(Array.isArray(e))return e.map(t=>Nf(t));if(typeof e=="function"||e!==Object(e))return e;let n={};return Object.entries(e).forEach(([t,i])=>{let r=t.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));n[r]=Nf(i)}),n};var Go=function(e,n,t,i){function r(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(u){try{d(i.next(u))}catch(f){s(f)}}function l(u){try{d(i.throw(u))}catch(f){s(f)}}function d(u){u.done?o(u.value):r(u.value).then(a,l)}d((i=i.apply(e,n||[])).next())})},ky=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),F$=(e,n,t)=>Go(void 0,void 0,void 0,function*(){let i=yield tT();e instanceof i&&!t?.noResolveJson?e.json().then(r=>{n(new Af(ky(r),e.status||500))}).catch(r=>{n(new Wo(ky(r),r))}):n(new Wo(ky(e),e))}),$$=(e,n,t,i)=>{let r={method:e,headers:n?.headers||{}};return e==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json"},n?.headers),i&&(r.body=JSON.stringify(i)),Object.assign(Object.assign({},r),t))};function Pc(e,n,t,i,r,o){return Go(this,void 0,void 0,function*(){return new Promise((s,a)=>{e(t,$$(n,i,r,o)).then(l=>{if(!l.ok)throw l;return i?.noResolveJson?l:l.json()}).then(l=>s(l)).catch(l=>F$(l,a,i))})})}function ba(e,n,t,i){return Go(this,void 0,void 0,function*(){return Pc(e,"GET",n,t,i)})}function Pi(e,n,t,i,r){return Go(this,void 0,void 0,function*(){return Pc(e,"POST",n,i,r,t)})}function nT(e,n,t,i,r){return Go(this,void 0,void 0,function*(){return Pc(e,"PUT",n,i,r,t)})}function iT(e,n,t,i){return Go(this,void 0,void 0,function*(){return Pc(e,"HEAD",n,Object.assign(Object.assign({},t),{noResolveJson:!0}),i)})}function Rf(e,n,t,i,r){return Go(this,void 0,void 0,function*(){return Pc(e,"DELETE",n,i,r,t)})}var pn=function(e,n,t,i){function r(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(u){try{d(i.next(u))}catch(f){s(f)}}function l(u){try{d(i.throw(u))}catch(f){s(f)}}function d(u){u.done?o(u.value):r(u.value).then(a,l)}d((i=i.apply(e,n||[])).next())})},j$={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},rT={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},Of=class{constructor(n,t={},i,r){this.url=n,this.headers=t,this.bucketId=i,this.fetch=Pf(r)}uploadOrUpdate(n,t,i,r){return pn(this,void 0,void 0,function*(){try{let o,s=Object.assign(Object.assign({},rT),r),a=Object.assign(Object.assign({},this.headers),n==="POST"&&{"x-upsert":String(s.upsert)}),l=s.metadata;typeof Blob<"u"&&i instanceof Blob?(o=new FormData,o.append("cacheControl",s.cacheControl),l&&o.append("metadata",this.encodeMetadata(l)),o.append("",i)):typeof FormData<"u"&&i instanceof FormData?(o=i,o.append("cacheControl",s.cacheControl),l&&o.append("metadata",this.encodeMetadata(l))):(o=i,a["cache-control"]=`max-age=${s.cacheControl}`,a["content-type"]=s.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),r?.headers&&(a=Object.assign(Object.assign({},a),r.headers));let d=this._removeEmptyFolders(t),u=this._getFinalPath(d),f=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:n,body:o,headers:a},s?.duplex?{duplex:s.duplex}:{})),g=yield f.json();return f.ok?{data:{path:d,id:g.Id,fullPath:g.Key},error:null}:{data:null,error:g}}catch(o){if(Ct(o))return{data:null,error:o};throw o}})}upload(n,t,i){return pn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",n,t,i)})}uploadToSignedUrl(n,t,i,r){return pn(this,void 0,void 0,function*(){let o=this._removeEmptyFolders(n),s=this._getFinalPath(o),a=new URL(this.url+`/object/upload/sign/${s}`);a.searchParams.set("token",t);try{let l,d=Object.assign({upsert:rT.upsert},r),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&i instanceof Blob?(l=new FormData,l.append("cacheControl",d.cacheControl),l.append("",i)):typeof FormData<"u"&&i instanceof FormData?(l=i,l.append("cacheControl",d.cacheControl)):(l=i,u["cache-control"]=`max-age=${d.cacheControl}`,u["content-type"]=d.contentType);let f=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:u}),g=yield f.json();return f.ok?{data:{path:o,fullPath:g.Key},error:null}:{data:null,error:g}}catch(l){if(Ct(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(n,t){return pn(this,void 0,void 0,function*(){try{let i=this._getFinalPath(n),r=Object.assign({},this.headers);t?.upsert&&(r["x-upsert"]="true");let o=yield Pi(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:r}),s=new URL(this.url+o.url),a=s.searchParams.get("token");if(!a)throw new ya("No token returned by API");return{data:{signedUrl:s.toString(),path:n,token:a},error:null}}catch(i){if(Ct(i))return{data:null,error:i};throw i}})}update(n,t,i){return pn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",n,t,i)})}move(n,t,i){return pn(this,void 0,void 0,function*(){try{return{data:yield Pi(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:n,destinationKey:t,destinationBucket:i?.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(Ct(r))return{data:null,error:r};throw r}})}copy(n,t,i){return pn(this,void 0,void 0,function*(){try{return{data:{path:(yield Pi(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:n,destinationKey:t,destinationBucket:i?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(Ct(r))return{data:null,error:r};throw r}})}createSignedUrl(n,t,i){return pn(this,void 0,void 0,function*(){try{let r=this._getFinalPath(n),o=yield Pi(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:t},i?.transform?{transform:i.transform}:{}),{headers:this.headers}),s=i?.download?`&download=${i.download===!0?"":i.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${s}`)},{data:o,error:null}}catch(r){if(Ct(r))return{data:null,error:r};throw r}})}createSignedUrls(n,t,i){return pn(this,void 0,void 0,function*(){try{let r=yield Pi(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:n},{headers:this.headers}),o=i?.download?`&download=${i.download===!0?"":i.download}`:"";return{data:r.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${o}`):null})),error:null}}catch(r){if(Ct(r))return{data:null,error:r};throw r}})}download(n,t){return pn(this,void 0,void 0,function*(){let r=typeof t?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(t?.transform||{}),s=o?`?${o}`:"";try{let a=this._getFinalPath(n);return{data:yield(yield ba(this.fetch,`${this.url}/${r}/${a}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(Ct(a))return{data:null,error:a};throw a}})}info(n){return pn(this,void 0,void 0,function*(){let t=this._getFinalPath(n);try{let i=yield ba(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:Nf(i),error:null}}catch(i){if(Ct(i))return{data:null,error:i};throw i}})}exists(n){return pn(this,void 0,void 0,function*(){let t=this._getFinalPath(n);try{return yield iT(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(Ct(i)&&i instanceof Wo){let r=i.originalError;if([400,404].includes(r?.status))return{data:!1,error:i}}throw i}})}getPublicUrl(n,t){let i=this._getFinalPath(n),r=[],o=t?.download?`download=${t.download===!0?"":t.download}`:"";o!==""&&r.push(o);let a=typeof t?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(t?.transform||{});l!==""&&r.push(l);let d=r.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${i}${d}`)}}}remove(n){return pn(this,void 0,void 0,function*(){try{return{data:yield Rf(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:n},{headers:this.headers}),error:null}}catch(t){if(Ct(t))return{data:null,error:t};throw t}})}list(n,t,i){return pn(this,void 0,void 0,function*(){try{let r=Object.assign(Object.assign(Object.assign({},j$),t),{prefix:n||""});return{data:yield Pi(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},i),error:null}}catch(r){if(Ct(r))return{data:null,error:r};throw r}})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){let t=[];return n.width&&t.push(`width=${n.width}`),n.height&&t.push(`height=${n.height}`),n.resize&&t.push(`resize=${n.resize}`),n.format&&t.push(`format=${n.format}`),n.quality&&t.push(`quality=${n.quality}`),t.join("&")}};var oT="2.7.1";var sT={"X-Client-Info":`storage-js/${oT}`};var xa=function(e,n,t,i){function r(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(u){try{d(i.next(u))}catch(f){s(f)}}function l(u){try{d(i.throw(u))}catch(f){s(f)}}function d(u){u.done?o(u.value):r(u.value).then(a,l)}d((i=i.apply(e,n||[])).next())})},Lf=class{constructor(n,t={},i){this.url=n,this.headers=Object.assign(Object.assign({},sT),t),this.fetch=Pf(i)}listBuckets(){return xa(this,void 0,void 0,function*(){try{return{data:yield ba(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(n){if(Ct(n))return{data:null,error:n};throw n}})}getBucket(n){return xa(this,void 0,void 0,function*(){try{return{data:yield ba(this.fetch,`${this.url}/bucket/${n}`,{headers:this.headers}),error:null}}catch(t){if(Ct(t))return{data:null,error:t};throw t}})}createBucket(n,t={public:!1}){return xa(this,void 0,void 0,function*(){try{return{data:yield Pi(this.fetch,`${this.url}/bucket`,{id:n,name:n,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(Ct(i))return{data:null,error:i};throw i}})}updateBucket(n,t){return xa(this,void 0,void 0,function*(){try{return{data:yield nT(this.fetch,`${this.url}/bucket/${n}`,{id:n,name:n,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(Ct(i))return{data:null,error:i};throw i}})}emptyBucket(n){return xa(this,void 0,void 0,function*(){try{return{data:yield Pi(this.fetch,`${this.url}/bucket/${n}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(Ct(t))return{data:null,error:t};throw t}})}deleteBucket(n){return xa(this,void 0,void 0,function*(){try{return{data:yield Rf(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(t){if(Ct(t))return{data:null,error:t};throw t}})}};var Rc=class extends Lf{constructor(n,t={},i){super(n,t,i)}from(n){return new Of(this.url,this.headers,n,this.fetch)}};var aT="2.50.0";var Oc="";typeof Deno<"u"?Oc="deno":typeof document<"u"?Oc="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Oc="react-native":Oc="node";var B$={"X-Client-Info":`supabase-js-${Oc}/${aT}`},lT={headers:B$},cT={schema:"public"},dT={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},uT={};H0();var V$=function(e,n,t,i){function r(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(u){try{d(i.next(u))}catch(f){s(f)}}function l(u){try{d(i.throw(u))}catch(f){s(f)}}function d(u){u.done?o(u.value):r(u.value).then(a,l)}d((i=i.apply(e,n||[])).next())})},z$=e=>{let n;return e?n=e:typeof fetch>"u"?n=V0:n=fetch,(...t)=>n(...t)},H$=()=>typeof Headers>"u"?z0:Headers,hT=(e,n,t)=>{let i=z$(t),r=H$();return(o,s)=>V$(void 0,void 0,void 0,function*(){var a;let l=(a=yield n())!==null&&a!==void 0?a:e,d=new r(s?.headers);return d.has("apikey")||d.set("apikey",e),d.has("Authorization")||d.set("Authorization",`Bearer ${l}`),i(o,Object.assign(Object.assign({},s),{headers:d}))})};var U$=function(e,n,t,i){function r(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(u){try{d(i.next(u))}catch(f){s(f)}}function l(u){try{d(i.throw(u))}catch(f){s(f)}}function d(u){u.done?o(u.value):r(u.value).then(a,l)}d((i=i.apply(e,n||[])).next())})};function fT(e){return e.endsWith("/")?e:e+"/"}function gT(e,n){var t,i;let{db:r,auth:o,realtime:s,global:a}=e,{db:l,auth:d,realtime:u,global:f}=n,g={db:Object.assign(Object.assign({},l),r),auth:Object.assign(Object.assign({},d),o),realtime:Object.assign(Object.assign({},u),s),global:Object.assign(Object.assign(Object.assign({},f),a),{headers:Object.assign(Object.assign({},(t=f?.headers)!==null&&t!==void 0?t:{}),(i=a?.headers)!==null&&i!==void 0?i:{})}),accessToken:()=>U$(this,void 0,void 0,function*(){return""})};return e.accessToken?g.accessToken=e.accessToken:delete g.accessToken,g}var Ff="2.70.0";var qo=30*1e3,$f=3,jf=$f*qo,pT="http://localhost:9999",mT="supabase.auth.token";var _T={"X-Client-Info":`gotrue-js/${Ff}`};var Lc="X-Supabase-Api-Version",Ey={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},vT=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,yT=6e5;var Fc=class extends Error{constructor(n,t,i){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=i}};function be(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}var Bf=class extends Fc{constructor(n,t,i){super(n,t,i),this.name="AuthApiError",this.status=t,this.code=i}};function bT(e){return be(e)&&e.name==="AuthApiError"}var wa=class extends Fc{constructor(n,t){super(n),this.name="AuthUnknownError",this.originalError=t}},Ri=class extends Fc{constructor(n,t,i,r){super(n,i,r),this.name=t,this.status=i}},Hn=class extends Ri{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function xT(e){return be(e)&&e.name==="AuthSessionMissingError"}var Zo=class extends Ri{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},Yo=class extends Ri{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}},Ko=class extends Ri{constructor(n,t=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function wT(e){return be(e)&&e.name==="AuthImplicitGrantRedirectError"}var $c=class extends Ri{constructor(n,t=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},ka=class extends Ri{constructor(n,t){super(n,"AuthRetryableFetchError",t,void 0)}};function Vf(e){return be(e)&&e.name==="AuthRetryableFetchError"}var jc=class extends Ri{constructor(n,t,i){super(n,"AuthWeakPasswordError",t,"weak_password"),this.reasons=i}};var gr=class extends Ri{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}};var zf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),kT=` 	
\r=`.split(""),W$=(()=>{let e=new Array(128);for(let n=0;n<e.length;n+=1)e[n]=-1;for(let n=0;n<kT.length;n+=1)e[kT[n].charCodeAt(0)]=-2;for(let n=0;n<zf.length;n+=1)e[zf[n].charCodeAt(0)]=n;return e})();function ET(e,n,t){if(e!==null)for(n.queue=n.queue<<8|e,n.queuedBits+=8;n.queuedBits>=6;){let i=n.queue>>n.queuedBits-6&63;t(zf[i]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){let i=n.queue>>n.queuedBits-6&63;t(zf[i]),n.queuedBits-=6}}function CT(e,n,t){let i=W$[e];if(i>-1)for(n.queue=n.queue<<6|i,n.queuedBits+=6;n.queuedBits>=8;)t(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Cy(e){let n=[],t=s=>{n.push(String.fromCodePoint(s))},i={utf8seq:0,codepoint:0},r={queue:0,queuedBits:0},o=s=>{Z$(s,i,t)};for(let s=0;s<e.length;s+=1)CT(e.charCodeAt(s),r,o);return n.join("")}function G$(e,n){if(e<=127){n(e);return}else if(e<=2047){n(192|e>>6),n(128|e&63);return}else if(e<=65535){n(224|e>>12),n(128|e>>6&63),n(128|e&63);return}else if(e<=1114111){n(240|e>>18),n(128|e>>12&63),n(128|e>>6&63),n(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function q$(e,n){for(let t=0;t<e.length;t+=1){let i=e.charCodeAt(t);if(i>55295&&i<=56319){let r=(i-55296)*1024&65535;i=(e.charCodeAt(t+1)-56320&65535|r)+65536,t+=1}G$(i,n)}}function Z$(e,n,t){if(n.utf8seq===0){if(e<=127){t(e);return}for(let i=1;i<6;i+=1)if((e>>7-i&1)===0){n.utf8seq=i;break}if(n.utf8seq===2)n.codepoint=e&31;else if(n.utf8seq===3)n.codepoint=e&15;else if(n.utf8seq===4)n.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|e&63,n.utf8seq-=1,n.utf8seq===0&&t(n.codepoint)}}function ST(e){let n=[],t={queue:0,queuedBits:0},i=r=>{n.push(r)};for(let r=0;r<e.length;r+=1)CT(e.charCodeAt(r),t,i);return new Uint8Array(n)}function TT(e){let n=[];return q$(e,t=>n.push(t)),new Uint8Array(n)}function DT(e){let n=[],t={queue:0,queuedBits:0},i=r=>{n.push(r)};return e.forEach(r=>ET(r,t,i)),ET(null,t,i),n.join("")}function IT(e){return Math.round(Date.now()/1e3)+e}function MT(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){let n=Math.random()*16|0;return(e=="x"?n:n&3|8).toString(16)})}var Un=()=>typeof window<"u"&&typeof document<"u",Jo={tested:!1,writable:!1},Gr=()=>{if(!Un())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Jo.tested)return Jo.writable;let e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Jo.tested=!0,Jo.writable=!0}catch{Jo.tested=!0,Jo.writable=!1}return Jo.writable};function AT(e){let n={},t=new URL(e);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((r,o)=>{n[o]=r})}catch{}return t.searchParams.forEach((i,r)=>{n[r]=i}),n}var Hf=e=>{let n;return e?n=e:typeof fetch>"u"?n=(...t)=>import("./chunk-O7BDSM3T.js").then(({default:i})=>i(...t)):n=fetch,(...t)=>n(...t)},NT=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Sy=(e,n,t)=>B(null,null,function*(){yield e.setItem(n,JSON.stringify(t))}),Vc=(e,n)=>B(null,null,function*(){let t=yield e.getItem(n);if(!t)return null;try{return JSON.parse(t)}catch{return t}}),zc=(e,n)=>B(null,null,function*(){yield e.removeItem(n)}),Bc=class e{constructor(){this.promise=new e.promiseConstructor((n,t)=>{this.resolve=n,this.reject=t})}};Bc.promiseConstructor=Promise;function Uf(e){let n=e.split(".");if(n.length!==3)throw new gr("Invalid JWT structure");for(let i=0;i<n.length;i++)if(!vT.test(n[i]))throw new gr("JWT not in base64url format");return{header:JSON.parse(Cy(n[0])),payload:JSON.parse(Cy(n[1])),signature:ST(n[2]),raw:{header:n[0],payload:n[1]}}}function PT(e){return B(this,null,function*(){return yield new Promise(n=>{setTimeout(()=>n(null),e)})})}function RT(e,n){return new Promise((i,r)=>{B(null,null,function*(){for(let o=0;o<1/0;o++)try{let s=yield e(o);if(!n(o,null,s)){i(s);return}}catch(s){if(!n(o,s)){r(s);return}}})})}function Y$(e){return("0"+e.toString(16)).substr(-2)}function K$(){let n=new Uint32Array(56);if(typeof crypto>"u"){let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=t.length,r="";for(let o=0;o<56;o++)r+=t.charAt(Math.floor(Math.random()*i));return r}return crypto.getRandomValues(n),Array.from(n,Y$).join("")}function J$(e){return B(this,null,function*(){let t=new TextEncoder().encode(e),i=yield crypto.subtle.digest("SHA-256",t),r=new Uint8Array(i);return Array.from(r).map(o=>String.fromCharCode(o)).join("")})}function X$(e){return B(this,null,function*(){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;let t=yield J$(e);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")})}function Xo(e,n,t=!1){return B(this,null,function*(){let i=K$(),r=i;t&&(r+="/PASSWORD_RECOVERY"),yield Sy(e,`${n}-code-verifier`,r);let o=yield X$(i);return[o,i===o?"plain":"s256"]})}var Q$=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function OT(e){let n=e.headers.get(Lc);if(!n||!n.match(Q$))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function LT(e){if(!e)throw new Error("Missing exp claim");let n=Math.floor(Date.now()/1e3);if(e<=n)throw new Error("JWT has expired")}function FT(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var ej=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Qo(e){if(!ej.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var tj=function(e,n){var t={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&n.indexOf(i)<0&&(t[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)n.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(t[i[r]]=e[i[r]]);return t},es=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),nj=[502,503,504];function $T(e){return B(this,null,function*(){var n;if(!NT(e))throw new ka(es(e),0);if(nj.includes(e.status))throw new ka(es(e),e.status);let t;try{t=yield e.json()}catch(o){throw new wa(es(o),o)}let i,r=OT(e);if(r&&r.getTime()>=Ey["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?i=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(i=t.error_code),i){if(i==="weak_password")throw new jc(es(t),e.status,((n=t.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(i==="session_not_found")throw new Hn}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((o,s)=>o&&typeof s=="string",!0))throw new jc(es(t),e.status,t.weak_password.reasons);throw new Bf(es(t),e.status||500,i)})}var ij=(e,n,t,i)=>{let r={method:e,headers:n?.headers||{}};return e==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n?.headers),r.body=JSON.stringify(i),Object.assign(Object.assign({},r),t))};function Ne(e,n,t,i){return B(this,null,function*(){var r;let o=Object.assign({},i?.headers);o[Lc]||(o[Lc]=Ey["2024-01-01"].name),i?.jwt&&(o.Authorization=`Bearer ${i.jwt}`);let s=(r=i?.query)!==null&&r!==void 0?r:{};i?.redirectTo&&(s.redirect_to=i.redirectTo);let a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=yield rj(e,n,t+a,{headers:o,noResolveJson:i?.noResolveJson},{},i?.body);return i?.xform?i?.xform(l):{data:Object.assign({},l),error:null}})}function rj(e,n,t,i,r,o){return B(this,null,function*(){let s=ij(n,i,r,o),a;try{a=yield e(t,Object.assign({},s))}catch(l){throw console.error(l),new ka(es(l),0)}if(a.ok||(yield $T(a)),i?.noResolveJson)return a;try{return yield a.json()}catch(l){yield $T(l)}})}function Oi(e){var n;let t=null;oj(e)&&(t=Object.assign({},e),e.expires_at||(t.expires_at=IT(e.expires_in)));let i=(n=e.user)!==null&&n!==void 0?n:e;return{data:{session:t,user:i},error:null}}function Ty(e){let n=Oi(e);return!n.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((t,i)=>t&&typeof i=="string",!0)&&(n.data.weak_password=e.weak_password),n}function Li(e){var n;return{data:{user:(n=e.user)!==null&&n!==void 0?n:e},error:null}}function jT(e){return{data:e,error:null}}function BT(e){let{action_link:n,email_otp:t,hashed_token:i,redirect_to:r,verification_type:o}=e,s=tj(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:n,email_otp:t,hashed_token:i,redirect_to:r,verification_type:o},l=Object.assign({},s);return{data:{properties:a,user:l},error:null}}function VT(e){return e}function oj(e){return e.access_token&&e.refresh_token&&e.expires_in}var Wf=["global","local","others"];var sj=function(e,n){var t={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&n.indexOf(i)<0&&(t[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)n.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(t[i[r]]=e[i[r]]);return t},Ea=class{constructor({url:n="",headers:t={},fetch:i}){this.url=n,this.headers=t,this.fetch=Hf(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}signOut(i){return B(this,arguments,function*(n,t=Wf[0]){if(Wf.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Wf.join(", ")}`);try{return yield Ne(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(r){if(be(r))return{data:null,error:r};throw r}})}inviteUserByEmail(i){return B(this,arguments,function*(n,t={}){try{return yield Ne(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Li})}catch(r){if(be(r))return{data:{user:null},error:r};throw r}})}generateLink(n){return B(this,null,function*(){try{let{options:t}=n,i=sj(n,["options"]),r=Object.assign(Object.assign({},i),t);return"newEmail"in i&&(r.new_email=i?.newEmail,delete r.newEmail),yield Ne(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:BT,redirectTo:t?.redirectTo})}catch(t){if(be(t))return{data:{properties:null,user:null},error:t};throw t}})}createUser(n){return B(this,null,function*(){try{return yield Ne(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:Li})}catch(t){if(be(t))return{data:{user:null},error:t};throw t}})}listUsers(n){return B(this,null,function*(){var t,i,r,o,s,a,l;try{let d={nextPage:null,lastPage:0,total:0},u=yield Ne(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(t=n?.page)===null||t===void 0?void 0:t.toString())!==null&&i!==void 0?i:"",per_page:(o=(r=n?.perPage)===null||r===void 0?void 0:r.toString())!==null&&o!==void 0?o:""},xform:VT});if(u.error)throw u.error;let f=yield u.json(),g=(s=u.headers.get("x-total-count"))!==null&&s!==void 0?s:0,p=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(v=>{let k=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(v.split(";")[1].split("=")[1]);d[`${x}Page`]=k}),d.total=parseInt(g)),{data:Object.assign(Object.assign({},f),d),error:null}}catch(d){if(be(d))return{data:{users:[]},error:d};throw d}})}getUserById(n){return B(this,null,function*(){Qo(n);try{return yield Ne(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:Li})}catch(t){if(be(t))return{data:{user:null},error:t};throw t}})}updateUserById(n,t){return B(this,null,function*(){Qo(n);try{return yield Ne(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:t,headers:this.headers,xform:Li})}catch(i){if(be(i))return{data:{user:null},error:i};throw i}})}deleteUser(n,t=!1){return B(this,null,function*(){Qo(n);try{return yield Ne(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:t},xform:Li})}catch(i){if(be(i))return{data:{user:null},error:i};throw i}})}_listFactors(n){return B(this,null,function*(){Qo(n.userId);try{let{data:t,error:i}=yield Ne(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:r=>({data:{factors:r},error:null})});return{data:t,error:i}}catch(t){if(be(t))return{data:null,error:t};throw t}})}_deleteFactor(n){return B(this,null,function*(){Qo(n.userId),Qo(n.id);try{return{data:yield Ne(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(t){if(be(t))return{data:null,error:t};throw t}})}};var zT={getItem:e=>Gr()?globalThis.localStorage.getItem(e):null,setItem:(e,n)=>{Gr()&&globalThis.localStorage.setItem(e,n)},removeItem:e=>{Gr()&&globalThis.localStorage.removeItem(e)}};function Dy(e={}){return{getItem:n=>e[n]||null,setItem:(n,t)=>{e[n]=t},removeItem:n=>{delete e[n]}}}function HT(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}var ts={debug:!!(globalThis&&Gr()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")},Hc=class extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}},Gf=class extends Hc{};function Iy(e,n,t){return B(this,null,function*(){ts.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,n);let i=new globalThis.AbortController;return n>0&&setTimeout(()=>{i.abort(),ts.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},n),yield Promise.resolve().then(()=>globalThis.navigator.locks.request(e,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},r=>B(null,null,function*(){if(r){ts.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,r.name);try{return yield t()}finally{ts.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,r.name)}}else{if(n===0)throw ts.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Gf(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(ts.debug)try{let o=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield t()}})))})}HT();var aj={url:pT,storageKey:mT,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:_T,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};function UT(e,n,t){return B(this,null,function*(){return yield t()})}var My=(()=>{class e{constructor(t){var i,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=e.nextInstanceID,e.nextInstanceID+=1,this.instanceID>0&&Un()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");let o=Object.assign(Object.assign({},aj),t);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new Ea({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=Hf(o.fetch),this.lock=o.lock||UT,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:Un()&&(!((i=globalThis?.navigator)===null||i===void 0)&&i.locks)?this.lock=Iy:this.lock=UT,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?o.storage?this.storage=o.storage:Gr()?this.storage=zT:(this.memoryStorage={},this.storage=Dy(this.memoryStorage)):(this.memoryStorage={},this.storage=Dy(this.memoryStorage)),Un()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",s=>B(this,null,function*(){this._debug("received broadcast notification from other tab or client",s),yield this._notifyAllSubscribers(s.data.event,s.data.session,!1)}))}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Ff}) ${new Date().toISOString()}`,...t),this}initialize(){return B(this,null,function*(){return this.initializePromise?yield this.initializePromise:(this.initializePromise=B(this,null,function*(){return yield this._acquireLock(-1,()=>B(this,null,function*(){return yield this._initialize()}))}),yield this.initializePromise)})}_initialize(){return B(this,null,function*(){var t;try{let i=AT(window.location.href),r="none";if(this._isImplicitGrantCallback(i)?r="implicit":(yield this._isPKCECallback(i))&&(r="pkce"),Un()&&this.detectSessionInUrl&&r!=="none"){let{data:o,error:s}=yield this._getSessionFromURL(i,r);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),wT(s)){let d=(t=s.details)===null||t===void 0?void 0:t.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:s}}return yield this._removeSession(),{error:s}}let{session:a,redirectType:l}=o;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),yield this._saveSession(a),setTimeout(()=>B(this,null,function*(){l==="recovery"?yield this._notifyAllSubscribers("PASSWORD_RECOVERY",a):yield this._notifyAllSubscribers("SIGNED_IN",a)}),0),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(i){return be(i)?{error:i}:{error:new wa("Unexpected error during initialization",i)}}finally{yield this._handleVisibilityChange(),this._debug("#_initialize()","end")}})}signInAnonymously(t){return B(this,null,function*(){var i,r,o;try{let s=yield Ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(i=t?.options)===null||i===void 0?void 0:i.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(o=t?.options)===null||o===void 0?void 0:o.captchaToken}},xform:Oi}),{data:a,error:l}=s;if(l||!a)return{data:{user:null,session:null},error:l};let d=a.session,u=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:u,session:d},error:null}}catch(s){if(be(s))return{data:{user:null,session:null},error:s};throw s}})}signUp(t){return B(this,null,function*(){var i,r,o;try{let s;if("email"in t){let{email:f,password:g,options:p}=t,v=null,k=null;this.flowType==="pkce"&&([v,k]=yield Xo(this.storage,this.storageKey)),s=yield Ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p?.emailRedirectTo,body:{email:f,password:g,data:(i=p?.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:p?.captchaToken},code_challenge:v,code_challenge_method:k},xform:Oi})}else if("phone"in t){let{phone:f,password:g,options:p}=t;s=yield Ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:g,data:(r=p?.data)!==null&&r!==void 0?r:{},channel:(o=p?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:Oi})}else throw new Yo("You must provide either an email or phone number and a password");let{data:a,error:l}=s;if(l||!a)return{data:{user:null,session:null},error:l};let d=a.session,u=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:u,session:d},error:null}}catch(s){if(be(s))return{data:{user:null,session:null},error:s};throw s}})}signInWithPassword(t){return B(this,null,function*(){try{let i;if("email"in t){let{email:s,password:a,options:l}=t;i=yield Ne(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:Ty})}else if("phone"in t){let{phone:s,password:a,options:l}=t;i=yield Ne(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:Ty})}else throw new Yo("You must provide either an email or phone number and a password");let{data:r,error:o}=i;return o?{data:{user:null,session:null},error:o}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Zo}:(r.session&&(yield this._saveSession(r.session),yield this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:o})}catch(i){if(be(i))return{data:{user:null,session:null},error:i};throw i}})}signInWithOAuth(t){return B(this,null,function*(){var i,r,o,s;return yield this._handleProviderSignIn(t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})})}exchangeCodeForSession(t){return B(this,null,function*(){return yield this.initializePromise,this._acquireLock(-1,()=>B(this,null,function*(){return this._exchangeCodeForSession(t)}))})}signInWithWeb3(t){return B(this,null,function*(){let{chain:i}=t;if(i==="solana")return yield this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${i}"`)})}signInWithSolana(t){return B(this,null,function*(){var i,r,o,s,a,l,d,u,f,g,p,v;let k,x;if("message"in t)k=t.message,x=t.signature;else{let{chain:S,wallet:_,statement:w,options:y}=t,C;if(Un())if(typeof _=="object")C=_;else{let I=window;if("solana"in I&&typeof I.solana=="object"&&("signIn"in I.solana&&typeof I.solana.signIn=="function"||"signMessage"in I.solana&&typeof I.solana.signMessage=="function"))C=I.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!y?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=_}let D=new URL((i=y?.url)!==null&&i!==void 0?i:window.location.href);if("signIn"in C&&C.signIn){let I=yield C.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},y?.signInWithSolana),{version:"1",domain:D.host,uri:D.href}),w?{statement:w}:null)),M;if(Array.isArray(I)&&I[0]&&typeof I[0]=="object")M=I[0];else if(I&&typeof I=="object"&&"signedMessage"in I&&"signature"in I)M=I;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in M&&"signature"in M&&(typeof M.signedMessage=="string"||M.signedMessage instanceof Uint8Array)&&M.signature instanceof Uint8Array)k=typeof M.signedMessage=="string"?M.signedMessage:new TextDecoder().decode(M.signedMessage),x=M.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in C)||typeof C.signMessage!="function"||!("publicKey"in C)||typeof C!="object"||!C.publicKey||!("toBase58"in C.publicKey)||typeof C.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");k=[`${D.host} wants you to sign in with your Solana account:`,C.publicKey.toBase58(),...w?["",w,""]:[""],"Version: 1",`URI: ${D.href}`,`Issued At: ${(o=(r=y?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((s=y?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${y.signInWithSolana.notBefore}`]:[],...!((a=y?.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${y.signInWithSolana.expirationTime}`]:[],...!((l=y?.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${y.signInWithSolana.chainId}`]:[],...!((d=y?.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${y.signInWithSolana.nonce}`]:[],...!((u=y?.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${y.signInWithSolana.requestId}`]:[],...!((g=(f=y?.signInWithSolana)===null||f===void 0?void 0:f.resources)===null||g===void 0)&&g.length?["Resources",...y.signInWithSolana.resources.map(M=>`- ${M}`)]:[]].join(`
`);let I=yield C.signMessage(new TextEncoder().encode(k),"utf8");if(!I||!(I instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=I}}try{let{data:S,error:_}=yield Ne(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:k,signature:DT(x)},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:Oi});if(_)throw _;return!S||!S.session||!S.user?{data:{user:null,session:null},error:new Zo}:(S.session&&(yield this._saveSession(S.session),yield this._notifyAllSubscribers("SIGNED_IN",S.session)),{data:Object.assign({},S),error:_})}catch(S){if(be(S))return{data:{user:null,session:null},error:S};throw S}})}_exchangeCodeForSession(t){return B(this,null,function*(){let i=yield Vc(this.storage,`${this.storageKey}-code-verifier`),[r,o]=(i??"").split("/");try{let{data:s,error:a}=yield Ne(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Oi});if(yield zc(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new Zo}:(s.session&&(yield this._saveSession(s.session),yield this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:o??null}),error:a})}catch(s){if(be(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}})}signInWithIdToken(t){return B(this,null,function*(){try{let{options:i,provider:r,token:o,access_token:s,nonce:a}=t,l=yield Ne(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:o,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:i?.captchaToken}},xform:Oi}),{data:d,error:u}=l;return u?{data:{user:null,session:null},error:u}:!d||!d.session||!d.user?{data:{user:null,session:null},error:new Zo}:(d.session&&(yield this._saveSession(d.session),yield this._notifyAllSubscribers("SIGNED_IN",d.session)),{data:d,error:u})}catch(i){if(be(i))return{data:{user:null,session:null},error:i};throw i}})}signInWithOtp(t){return B(this,null,function*(){var i,r,o,s,a;try{if("email"in t){let{email:l,options:d}=t,u=null,f=null;this.flowType==="pkce"&&([u,f]=yield Xo(this.storage,this.storageKey));let{error:g}=yield Ne(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(i=d?.data)!==null&&i!==void 0?i:{},create_user:(r=d?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},code_challenge:u,code_challenge_method:f},redirectTo:d?.emailRedirectTo});return{data:{user:null,session:null},error:g}}if("phone"in t){let{phone:l,options:d}=t,{data:u,error:f}=yield Ne(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(o=d?.data)!==null&&o!==void 0?o:{},create_user:(s=d?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},channel:(a=d?.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:u?.message_id},error:f}}throw new Yo("You must provide either an email or phone number.")}catch(l){if(be(l))return{data:{user:null,session:null},error:l};throw l}})}verifyOtp(t){return B(this,null,function*(){var i,r;try{let o,s;"options"in t&&(o=(i=t.options)===null||i===void 0?void 0:i.redirectTo,s=(r=t.options)===null||r===void 0?void 0:r.captchaToken);let{data:a,error:l}=yield Ne(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:o,xform:Oi});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");let d=a.session,u=a.user;return d?.access_token&&(yield this._saveSession(d),yield this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),{data:{user:u,session:d},error:null}}catch(o){if(be(o))return{data:{user:null,session:null},error:o};throw o}})}signInWithSSO(t){return B(this,null,function*(){var i,r,o;try{let s=null,a=null;return this.flowType==="pkce"&&([s,a]=yield Xo(this.storage,this.storageKey)),yield Ne(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(i=t.options)===null||i===void 0?void 0:i.redirectTo)!==null&&r!==void 0?r:void 0}),!((o=t?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:jT})}catch(s){if(be(s))return{data:null,error:s};throw s}})}reauthenticate(){return B(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>B(this,null,function*(){return yield this._reauthenticate()}))})}_reauthenticate(){return B(this,null,function*(){try{return yield this._useSession(t=>B(this,null,function*(){let{data:{session:i},error:r}=t;if(r)throw r;if(!i)throw new Hn;let{error:o}=yield Ne(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:i.access_token});return{data:{user:null,session:null},error:o}}))}catch(t){if(be(t))return{data:{user:null,session:null},error:t};throw t}})}resend(t){return B(this,null,function*(){try{let i=`${this.url}/resend`;if("email"in t){let{email:r,type:o,options:s}=t,{error:a}=yield Ne(this.fetch,"POST",i,{headers:this.headers,body:{email:r,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in t){let{phone:r,type:o,options:s}=t,{data:a,error:l}=yield Ne(this.fetch,"POST",i,{headers:this.headers,body:{phone:r,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return{data:{user:null,session:null,messageId:a?.message_id},error:l}}throw new Yo("You must provide either an email or phone number and a type")}catch(i){if(be(i))return{data:{user:null,session:null},error:i};throw i}})}getSession(){return B(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>B(this,null,function*(){return this._useSession(i=>B(this,null,function*(){return i}))}))})}_acquireLock(t,i){return B(this,null,function*(){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){let r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=B(this,null,function*(){return yield r,yield i()});return this.pendingInLock.push(B(this,null,function*(){try{yield o}catch{}})),o}return yield this.lock(`lock:${this.storageKey}`,t,()=>B(this,null,function*(){this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let r=i();for(this.pendingInLock.push(B(this,null,function*(){try{yield r}catch{}})),yield r;this.pendingInLock.length;){let o=[...this.pendingInLock];yield Promise.all(o),this.pendingInLock.splice(0,o.length)}return yield r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}})}_useSession(t){return B(this,null,function*(){this._debug("#_useSession","begin");try{let i=yield this.__loadSession();return yield t(i)}finally{this._debug("#_useSession","end")}})}__loadSession(){return B(this,null,function*(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null,i=yield Vc(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",i),i!==null&&(this._isValidSession(i)?t=i:(this._debug("#getSession()","session from storage is not valid"),yield this._removeSession())),!t)return{data:{session:null},error:null};let r=t.expires_at?t.expires_at*1e3-Date.now()<jf:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.storage.isServer){let a=this.suppressGetSessionWarning;t=new Proxy(t,{get:(d,u,f)=>(!a&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(d,u,f))})}return{data:{session:t},error:null}}let{session:o,error:s}=yield this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}})}getUser(t){return B(this,null,function*(){return t?yield this._getUser(t):(yield this.initializePromise,yield this._acquireLock(-1,()=>B(this,null,function*(){return yield this._getUser()})))})}_getUser(t){return B(this,null,function*(){try{return t?yield Ne(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Li}):yield this._useSession(i=>B(this,null,function*(){var r,o,s;let{data:a,error:l}=i;if(l)throw l;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Hn}:yield Ne(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(o=a.session)===null||o===void 0?void 0:o.access_token)!==null&&s!==void 0?s:void 0,xform:Li})}))}catch(i){if(be(i))return xT(i)&&(yield this._removeSession(),yield zc(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:i};throw i}})}updateUser(r){return B(this,arguments,function*(t,i={}){return yield this.initializePromise,yield this._acquireLock(-1,()=>B(this,null,function*(){return yield this._updateUser(t,i)}))})}_updateUser(r){return B(this,arguments,function*(t,i={}){try{return yield this._useSession(o=>B(this,null,function*(){let{data:s,error:a}=o;if(a)throw a;if(!s.session)throw new Hn;let l=s.session,d=null,u=null;this.flowType==="pkce"&&t.email!=null&&([d,u]=yield Xo(this.storage,this.storageKey));let{data:f,error:g}=yield Ne(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:i?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:d,code_challenge_method:u}),jwt:l.access_token,xform:Li});if(g)throw g;return l.user=f.user,yield this._saveSession(l),yield this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}}))}catch(o){if(be(o))return{data:{user:null},error:o};throw o}})}setSession(t){return B(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>B(this,null,function*(){return yield this._setSession(t)}))})}_setSession(t){return B(this,null,function*(){try{if(!t.access_token||!t.refresh_token)throw new Hn;let i=Date.now()/1e3,r=i,o=!0,s=null,{payload:a}=Uf(t.access_token);if(a.exp&&(r=a.exp,o=r<=i),o){let{session:l,error:d}=yield this._callRefreshToken(t.refresh_token);if(d)return{data:{user:null,session:null},error:d};if(!l)return{data:{user:null,session:null},error:null};s=l}else{let{data:l,error:d}=yield this._getUser(t.access_token);if(d)throw d;s={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:r-i,expires_at:r},yield this._saveSession(s),yield this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(i){if(be(i))return{data:{session:null,user:null},error:i};throw i}})}refreshSession(t){return B(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>B(this,null,function*(){return yield this._refreshSession(t)}))})}_refreshSession(t){return B(this,null,function*(){try{return yield this._useSession(i=>B(this,null,function*(){var r;if(!t){let{data:a,error:l}=i;if(l)throw l;t=(r=a.session)!==null&&r!==void 0?r:void 0}if(!t?.refresh_token)throw new Hn;let{session:o,error:s}=yield this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}}))}catch(i){if(be(i))return{data:{user:null,session:null},error:i};throw i}})}_getSessionFromURL(t,i){return B(this,null,function*(){try{if(!Un())throw new Ko("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Ko(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(i){case"implicit":if(this.flowType==="pkce")throw new $c("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ko("Not a valid implicit grant flow url.");break;default:}if(i==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new $c("No code detected.");let{data:w,error:y}=yield this._exchangeCodeForSession(t.code);if(y)throw y;let C=new URL(window.location.href);return C.searchParams.delete("code"),window.history.replaceState(window.history.state,"",C.toString()),{data:{session:w.session,redirectType:null},error:null}}let{provider_token:r,provider_refresh_token:o,access_token:s,refresh_token:a,expires_in:l,expires_at:d,token_type:u}=t;if(!s||!l||!a||!u)throw new Ko("No session defined in URL");let f=Math.round(Date.now()/1e3),g=parseInt(l),p=f+g;d&&(p=parseInt(d));let v=p-f;v*1e3<=qo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${g}s`);let k=p-g;f-k>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",k,p,f):f-k<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",k,p,f);let{data:x,error:S}=yield this._getUser(s);if(S)throw S;let _={provider_token:r,provider_refresh_token:o,access_token:s,expires_in:g,expires_at:p,refresh_token:a,token_type:u,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:_,redirectType:t.type},error:null}}catch(r){if(be(r))return{data:{session:null,redirectType:null},error:r};throw r}})}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}_isPKCECallback(t){return B(this,null,function*(){let i=yield Vc(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&i)})}signOut(){return B(this,arguments,function*(t={scope:"global"}){return yield this.initializePromise,yield this._acquireLock(-1,()=>B(this,null,function*(){return yield this._signOut(t)}))})}_signOut(){return B(this,arguments,function*({scope:t}={scope:"global"}){return yield this._useSession(i=>B(this,null,function*(){var r;let{data:o,error:s}=i;if(s)return{error:s};let a=(r=o.session)===null||r===void 0?void 0:r.access_token;if(a){let{error:l}=yield this.admin.signOut(a,t);if(l&&!(bT(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(yield this._removeSession(),yield zc(this.storage,`${this.storageKey}-code-verifier`)),{error:null}}))})}onAuthStateChange(t){let i=MT(),r={id:i,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",i),this.stateChangeEmitters.delete(i)}};return this._debug("#onAuthStateChange()","registered callback with id",i),this.stateChangeEmitters.set(i,r),B(this,null,function*(){yield this.initializePromise,yield this._acquireLock(-1,()=>B(this,null,function*(){this._emitInitialSession(i)}))}),{data:{subscription:r}}}_emitInitialSession(t){return B(this,null,function*(){return yield this._useSession(i=>B(this,null,function*(){var r,o;try{let{data:{session:s},error:a}=i;if(a)throw a;yield(r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){yield(o=this.stateChangeEmitters.get(t))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}}))})}resetPasswordForEmail(r){return B(this,arguments,function*(t,i={}){let o=null,s=null;this.flowType==="pkce"&&([o,s]=yield Xo(this.storage,this.storageKey,!0));try{return yield Ne(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:o,code_challenge_method:s,gotrue_meta_security:{captcha_token:i.captchaToken}},headers:this.headers,redirectTo:i.redirectTo})}catch(a){if(be(a))return{data:null,error:a};throw a}})}getUserIdentities(){return B(this,null,function*(){var t;try{let{data:i,error:r}=yield this.getUser();if(r)throw r;return{data:{identities:(t=i.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(i){if(be(i))return{data:null,error:i};throw i}})}linkIdentity(t){return B(this,null,function*(){var i;try{let{data:r,error:o}=yield this._useSession(s=>B(this,null,function*(){var a,l,d,u,f;let{data:g,error:p}=s;if(p)throw p;let v=yield this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(d=t.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return yield Ne(this.fetch,"GET",v,{headers:this.headers,jwt:(f=(u=g.session)===null||u===void 0?void 0:u.access_token)!==null&&f!==void 0?f:void 0})}));if(o)throw o;return Un()&&!(!((i=t.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(r?.url),{data:{provider:t.provider,url:r?.url},error:null}}catch(r){if(be(r))return{data:{provider:t.provider,url:null},error:r};throw r}})}unlinkIdentity(t){return B(this,null,function*(){try{return yield this._useSession(i=>B(this,null,function*(){var r,o;let{data:s,error:a}=i;if(a)throw a;return yield Ne(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(o=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&o!==void 0?o:void 0})}))}catch(i){if(be(i))return{data:null,error:i};throw i}})}_refreshAccessToken(t){return B(this,null,function*(){let i=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{let r=Date.now();return yield RT(o=>B(this,null,function*(){return o>0&&(yield PT(200*Math.pow(2,o-1))),this._debug(i,"refreshing attempt",o),yield Ne(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Oi})}),(o,s)=>{let a=200*Math.pow(2,o);return s&&Vf(s)&&Date.now()+a-r<qo})}catch(r){if(this._debug(i,"error",r),be(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(i,"end")}})}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}_handleProviderSignIn(t,i){return B(this,null,function*(){let r=yield this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:i.redirectTo,scopes:i.scopes,queryParams:i.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",i,"url",r),Un()&&!i.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}})}_recoverAndRefresh(){return B(this,null,function*(){var t;let i="#_recoverAndRefresh()";this._debug(i,"begin");try{let r=yield Vc(this.storage,this.storageKey);if(this._debug(i,"session from storage",r),!this._isValidSession(r)){this._debug(i,"session is not valid"),r!==null&&(yield this._removeSession());return}let o=((t=r.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<jf;if(this._debug(i,`session has${o?"":" not"} expired with margin of ${jf}s`),o){if(this.autoRefreshToken&&r.refresh_token){let{error:s}=yield this._callRefreshToken(r.refresh_token);s&&(console.error(s),Vf(s)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",s),yield this._removeSession()))}}else yield this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(i,"error",r),console.error(r);return}finally{this._debug(i,"end")}})}_callRefreshToken(t){return B(this,null,function*(){var i,r;if(!t)throw new Hn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let o=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Bc;let{data:s,error:a}=yield this._refreshAccessToken(t);if(a)throw a;if(!s.session)throw new Hn;yield this._saveSession(s.session),yield this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);let l={session:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(o,"error",s),be(s)){let a={session:null,error:s};return Vf(s)||(yield this._removeSession()),(i=this.refreshingDeferred)===null||i===void 0||i.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(o,"end")}})}_notifyAllSubscribers(t,i,r=!0){return B(this,null,function*(){let o=`#_notifyAllSubscribers(${t})`;this._debug(o,"begin",i,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:i});let s=[],a=Array.from(this.stateChangeEmitters.values()).map(l=>B(this,null,function*(){try{yield l.callback(t,i)}catch(d){s.push(d)}}));if(yield Promise.all(a),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(o,"end")}})}_saveSession(t){return B(this,null,function*(){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,yield Sy(this.storage,this.storageKey,t)})}_removeSession(){return B(this,null,function*(){this._debug("#_removeSession()"),yield zc(this.storage,this.storageKey),yield this._notifyAllSubscribers("SIGNED_OUT",null)})}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Un()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(i){console.error("removing visibilitychange callback failed",i)}}_startAutoRefresh(){return B(this,null,function*(){yield this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let t=setInterval(()=>this._autoRefreshTokenTick(),qo);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(()=>B(this,null,function*(){yield this.initializePromise,yield this._autoRefreshTokenTick()}),0)})}_stopAutoRefresh(){return B(this,null,function*(){this._debug("#_stopAutoRefresh()");let t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)})}startAutoRefresh(){return B(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._startAutoRefresh()})}stopAutoRefresh(){return B(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._stopAutoRefresh()})}_autoRefreshTokenTick(){return B(this,null,function*(){this._debug("#_autoRefreshTokenTick()","begin");try{yield this._acquireLock(0,()=>B(this,null,function*(){try{let t=Date.now();try{return yield this._useSession(i=>B(this,null,function*(){let{data:{session:r}}=i;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let o=Math.floor((r.expires_at*1e3-t)/qo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${qo}ms, refresh threshold is ${$f} ticks`),o<=$f&&(yield this._callRefreshToken(r.refresh_token))}))}catch(i){console.error("Auto refresh tick failed with error. This is likely a transient error.",i)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(t){if(t.isAcquireTimeout||t instanceof Hc)this._debug("auto refresh token tick lock not available");else throw t}})}_handleVisibilityChange(){return B(this,null,function*(){if(this._debug("#_handleVisibilityChange()"),!Un()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=()=>B(this,null,function*(){return yield this._onVisibilityChanged(!1)}),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),yield this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}})}_onVisibilityChanged(t){return B(this,null,function*(){let i=`#_onVisibilityChanged(${t})`;this._debug(i,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(yield this.initializePromise,yield this._acquireLock(-1,()=>B(this,null,function*(){if(document.visibilityState!=="visible"){this._debug(i,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}yield this._recoverAndRefresh()})))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()})}_getUrlForProvider(t,i,r){return B(this,null,function*(){let o=[`provider=${encodeURIComponent(i)}`];if(r?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&o.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){let[s,a]=yield Xo(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});o.push(l.toString())}if(r?.queryParams){let s=new URLSearchParams(r.queryParams);o.push(s.toString())}return r?.skipBrowserRedirect&&o.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${o.join("&")}`})}_unenroll(t){return B(this,null,function*(){try{return yield this._useSession(i=>B(this,null,function*(){var r;let{data:o,error:s}=i;return s?{data:null,error:s}:yield Ne(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=o?.session)===null||r===void 0?void 0:r.access_token})}))}catch(i){if(be(i))return{data:null,error:i};throw i}})}_enroll(t){return B(this,null,function*(){try{return yield this._useSession(i=>B(this,null,function*(){var r,o;let{data:s,error:a}=i;if(a)return{data:null,error:a};let l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:d,error:u}=yield Ne(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=s?.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((o=d?.totp)===null||o===void 0)&&o.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),{data:d,error:null})}))}catch(i){if(be(i))return{data:null,error:i};throw i}})}_verify(t){return B(this,null,function*(){return this._acquireLock(-1,()=>B(this,null,function*(){try{return yield this._useSession(i=>B(this,null,function*(){var r;let{data:o,error:s}=i;if(s)return{data:null,error:s};let{data:a,error:l}=yield Ne(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=o?.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),yield this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})}))}catch(i){if(be(i))return{data:null,error:i};throw i}}))})}_challenge(t){return B(this,null,function*(){return this._acquireLock(-1,()=>B(this,null,function*(){try{return yield this._useSession(i=>B(this,null,function*(){var r;let{data:o,error:s}=i;return s?{data:null,error:s}:yield Ne(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=o?.session)===null||r===void 0?void 0:r.access_token})}))}catch(i){if(be(i))return{data:null,error:i};throw i}}))})}_challengeAndVerify(t){return B(this,null,function*(){let{data:i,error:r}=yield this._challenge({factorId:t.factorId});return r?{data:null,error:r}:yield this._verify({factorId:t.factorId,challengeId:i.id,code:t.code})})}_listFactors(){return B(this,null,function*(){let{data:{user:t},error:i}=yield this.getUser();if(i)return{data:null,error:i};let r=t?.factors||[],o=r.filter(a=>a.factor_type==="totp"&&a.status==="verified"),s=r.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:r,totp:o,phone:s},error:null}})}_getAuthenticatorAssuranceLevel(){return B(this,null,function*(){return this._acquireLock(-1,()=>B(this,null,function*(){return yield this._useSession(t=>B(this,null,function*(){var i,r;let{data:{session:o},error:s}=t;if(s)return{data:null,error:s};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let{payload:a}=Uf(o.access_token),l=null;a.aal&&(l=a.aal);let d=l;((r=(i=o.user.factors)===null||i===void 0?void 0:i.filter(g=>g.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(d="aal2");let f=a.amr||[];return{data:{currentLevel:l,nextLevel:d,currentAuthenticationMethods:f},error:null}}))}))})}fetchJwk(r){return B(this,arguments,function*(t,i={keys:[]}){let o=i.keys.find(l=>l.kid===t);if(o||(o=this.jwks.keys.find(l=>l.kid===t),o&&this.jwks_cached_at+yT>Date.now()))return o;let{data:s,error:a}=yield Ne(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;if(!s.keys||s.keys.length===0)throw new gr("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),o=s.keys.find(l=>l.kid===t),!o)throw new gr("No matching signing key found in JWKS");return o})}getClaims(r){return B(this,arguments,function*(t,i={keys:[]}){try{let o=t;if(!o){let{data:k,error:x}=yield this.getSession();if(x||!k.session)return{data:null,error:x};o=k.session.access_token}let{header:s,payload:a,signature:l,raw:{header:d,payload:u}}=Uf(o);if(LT(a.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){let{error:k}=yield this.getUser(o);if(k)throw k;return{data:{claims:a,header:s,signature:l},error:null}}let f=FT(s.alg),g=yield this.fetchJwk(s.kid,i),p=yield crypto.subtle.importKey("jwk",g,f,!0,["verify"]);if(!(yield crypto.subtle.verify(f,p,l,TT(`${d}.${u}`))))throw new gr("Invalid JWT signature");return{data:{claims:a,header:s,signature:l},error:null}}catch(o){if(be(o))return{data:null,error:o};throw o}})}}return e.nextInstanceID=0,e})();var lj=My,Ay=lj;var qf=class extends Ay{constructor(n){super(n)}};var cj=function(e,n,t,i){function r(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(u){try{d(i.next(u))}catch(f){s(f)}}function l(u){try{d(i.throw(u))}catch(f){s(f)}}function d(u){u.done?o(u.value):r(u.value).then(a,l)}d((i=i.apply(e,n||[])).next())})},Zf=class{constructor(n,t,i){var r,o,s;if(this.supabaseUrl=n,this.supabaseKey=t,!n)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");let a=fT(n),l=new URL(a);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);let d=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:cT,realtime:uT,auth:Object.assign(Object.assign({},dT),{storageKey:d}),global:lT},f=gT(i??{},u);this.storageKey=(r=f.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(o=f.global.headers)!==null&&o!==void 0?o:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(g,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=f.auth)!==null&&s!==void 0?s:{},this.headers,f.global.fetch),this.fetch=hT(t,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new WS(new URL("rest/v1",l).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),f.accessToken||this._listenForAuthEvents()}get functions(){return new kc(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Rc(this.storageUrl.href,this.headers,this.fetch)}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,t={},i={}){return this.rest.rpc(n,t,i)}channel(n,t={config:{}}){return this.realtime.channel(n,t)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var n,t;return cj(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();let{data:i}=yield this.auth.getSession();return(t=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:null})}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:t,detectSessionInUrl:i,storage:r,storageKey:o,flowType:s,lock:a,debug:l},d,u){let f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new qf({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),d),storageKey:o,autoRefreshToken:n,persistSession:t,detectSessionInUrl:i,storage:r,flowType:s,lock:a,debug:l,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(n){return new Nc(this.realtimeUrl.href,Object.assign(Object.assign({},n),{params:Object.assign({apikey:this.supabaseKey},n?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,i)=>{this._handleTokenChanged(t,"CLIENT",i?.access_token)})}_handleTokenChanged(n,t,i){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==i?this.changedAccessToken=i:n==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};var Yf=(e,n,t)=>new Zf(e,n,t);var St=class e{supabase;userSubject=new At(null);user$=this.userSubject.asObservable();constructor(){this.supabase=Yf(Ft.supabaseUrl,Ft.supabaseAnonKey),this.supabase.auth.onAuthStateChange((n,t)=>{this.userSubject.next(t?.user??null)}),this.supabase.auth.getSession().then(({data:{session:n}})=>{this.userSubject.next(n?.user??null)})}signUp(n,t){return B(this,null,function*(){let{data:i,error:r}=yield this.supabase.auth.signUp({email:n,password:t});if(r)throw r;return i})}signIn(n,t){return B(this,null,function*(){let{data:i,error:r}=yield this.supabase.auth.signInWithPassword({email:n,password:t});if(r)throw r;return i})}signOut(){return B(this,null,function*(){let{error:n}=yield this.supabase.auth.signOut();if(Object.keys(localStorage).forEach(t=>{t.startsWith("sb-")&&t.endsWith("-auth-token")&&localStorage.removeItem(t)}),this.userSubject.next(null),n)throw n})}getDataFromTable(n){return B(this,null,function*(){let{data:t,error:i}=yield this.supabase.from(n).select("*");if(i)throw console.error(`Error fetching data from ${n}:`,i),i;return t})}insertIntoTable(n,t){return B(this,null,function*(){let{data:i,error:r}=yield this.supabase.from(n).insert(t).select();return r&&console.error(`Error inserting data into ${n}:`,r),i})}updateTableById(n,t,i){return B(this,null,function*(){let{data:r,error:o}=yield this.supabase.from(n).update(i).eq("id",t).select().single();if(o)throw console.error(`Error updating data in ${n} with id ${t}:`,o),o;return r})}deleteFromTableById(n,t){return B(this,null,function*(){let{error:i}=yield this.supabase.from(n).delete().eq("id",t);if(i)throw console.error(`Error deleting data from ${n} with id ${t}:`,i),i})}static \u0275fac=function(t){return new(t||e)};static \u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:"root"})};function dj(e,n){if(e&1&&(A(0,"p",12),O(1),N()),e&2){let t=ie();W(),je(t.errorMessage)}}var qr=class e{constructor(n){this.supabaseService=n}email="";password="";isLogin=!0;errorMessage="";authSuccess=new ct;onSubmit(){return B(this,null,function*(){try{this.isLogin?yield this.supabaseService.signIn(this.email,this.password):yield this.supabaseService.signUp(this.email,this.password),this.errorMessage="",this.authSuccess.emit()}catch(n){n?.name==="NavigatorLockAcquireTimeoutError"||typeof n?.message=="string"&&n.message.includes("Navigator LockManager")?this.errorMessage="Error de sesi\xF3n: otra pesta\xF1a o ventana est\xE1 usando la autenticaci\xF3n. Cierra otras pesta\xF1as o espera unos segundos e int\xE9ntalo de nuevo.":this.errorMessage=n.message}})}toggleAuthMode(n){n.preventDefault(),this.isLogin=!this.isLogin,this.errorMessage=""}static \u0275fac=function(t){return new(t||e)(ee(St))};static \u0275cmp=we({type:e,selectors:[["app-auth"]],inputs:{isLogin:"isLogin"},outputs:{authSuccess:"authSuccess"},decls:20,vars:7,consts:[[1,"auth-container"],[1,"auth-box"],[3,"ngSubmit"],[1,"form-group"],["for","email"],["type","email","id","email","name","email","required","",3,"ngModelChange","ngModel"],["for","password"],["type","password","id","password","name","password","required","",3,"ngModelChange","ngModel"],["type","submit"],[1,"toggle-text"],["href","#",3,"click"],["class","error-message",4,"ngIf"],[1,"error-message"]],template:function(t,i){t&1&&(A(0,"div",0)(1,"div",1)(2,"h2"),O(3),N(),A(4,"form",2),ae("ngSubmit",function(){return i.onSubmit()}),A(5,"div",3)(6,"label",4),O(7,"Email:"),N(),A(8,"input",5),He("ngModelChange",function(o){return We(i.email,o)||(i.email=o),o}),N()(),A(9,"div",3)(10,"label",6),O(11,"Password:"),N(),A(12,"input",7),He("ngModelChange",function(o){return We(i.password,o)||(i.password=o),o}),N()(),A(13,"button",8),O(14),N(),A(15,"p",9),O(16),A(17,"a",10),ae("click",function(o){return i.toggleAuthMode(o)}),O(18),N()(),ke(19,dj,2,1,"p",11),N()()()),t&2&&(W(3),je(i.isLogin?"Login":"Sign Up"),W(5),ze("ngModel",i.email),W(4),ze("ngModel",i.password),W(2),je(i.isLogin?"Login":"Sign Up"),W(2),kt(" ",i.isLogin?"Need an account?":"Already have an account?"," "),W(2),kt(" ",i.isLogin?"Sign Up":"Login"," "),W(),X("ngIf",i.errorMessage))},dependencies:[rt,ft,Ni,Wr,Vn,Ai,Ur,hr,li,ur],styles:[".auth-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background-color:#f5f5f5}.auth-box[_ngcontent-%COMP%]{background:#fff;padding:2rem;border-radius:8px;box-shadow:0 2px 4px #0000001a;width:100%;max-width:400px}h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:1.5rem;color:#333}.form-group[_ngcontent-%COMP%]{margin-bottom:1rem}label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;color:#666}input[_ngcontent-%COMP%]{width:100%;padding:.5rem;border:1px solid #ddd;border-radius:4px;font-size:1rem}button[_ngcontent-%COMP%]{width:100%;padding:.75rem;background-color:#007bff;color:#fff;border:none;border-radius:4px;font-size:1rem;cursor:pointer;margin-top:1rem}button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.toggle-text[_ngcontent-%COMP%]{text-align:center;margin-top:1rem}.error-message[_ngcontent-%COMP%]{color:#dc3545;text-align:center;margin-top:1rem}a[_ngcontent-%COMP%]{color:#007bff;text-decoration:none}a[_ngcontent-%COMP%]:hover{text-decoration:underline}"]})};function uj(e,n){if(e&1){let t=wt();A(0,"div")(1,"app-auth",3),ae("authSuccess",function(){le(t);let r=ie();return ce(r.onAuthSuccess())}),N()()}e&2&&(W(),X("isLogin",!0))}function hj(e,n){if(e&1){let t=wt();A(0,"li",5),ae("click",function(){let r=le(t).$implicit,o=ie(2);return ce(o.selectUser(r))}),O(1),N()}if(e&2){let t=n.$implicit;Ro("selected",t.selected),W(),sr(" ",t.name," (",t.age," a\xF1os) ")}}function fj(e,n){if(e&1&&(A(0,"div")(1,"h3"),O(2,"Usuario seleccionado:"),N(),A(3,"p"),O(4),N(),A(5,"p"),O(6),N(),A(7,"p"),O(8),N()()),e&2){let t=ie(2);W(4),kt("ID: ",t.selectedUser.id),W(2),kt("Nombre: ",t.selectedUser.name),W(2),kt("Edad: ",t.selectedUser.age)}}function gj(e,n){if(e&1&&(A(0,"div")(1,"h2"),O(2,"Panel de administraci\xF3n"),N(),A(3,"ul"),ke(4,hj,2,4,"li",4),N(),ke(5,fj,9,3,"div",2),N()),e&2){let t=ie();W(4),X("ngForOf",t.users),W(),X("ngIf",t.selectedUser)}}var Kf=class e{constructor(n){this.supabaseService=n}autenticado=!1;users=[{id:1,name:"User 1",age:20},{id:2,name:"User 2",age:21},{id:3,name:"User 3",age:22}];selectedUser=null;ngOnInit(){this.supabaseService.user$.subscribe(n=>{this.autenticado=!!n,n||(this.selectedUser=null)})}fetchUsers(){}selectUser(n){this.users.forEach(t=>{t.selected=!1}),n.selected=!0,this.selectedUser=n}onAuthSuccess(){this.selectedUser=null}logout(){}static \u0275fac=function(t){return new(t||e)(ee(St))};static \u0275cmp=we({type:e,selectors:[["app-admin"]],decls:6,vars:2,consts:[["id","admin",1,"py-5"],[1,"container"],[4,"ngIf"],[3,"authSuccess","isLogin"],[3,"selected","click",4,"ngFor","ngForOf"],[3,"click"]],template:function(t,i){t&1&&(A(0,"section",0)(1,"div",1)(2,"h2"),O(3,"Administraci\xF3n del Sitio"),N(),ke(4,uj,2,1,"div",2)(5,gj,6,2,"div",2),N()()),t&2&&(W(4),X("ngIf",!i.autenticado),W(),X("ngIf",i.autenticado))},dependencies:[ft,qr,rt,Bn],styles:["#admin[_ngcontent-%COMP%]{padding:20px;background-color:#f8f9fa}.container[_ngcontent-%COMP%]{max-width:960px;margin:0 auto}h1[_ngcontent-%COMP%]{color:#343a40;margin-bottom:20px;text-align:center}h2[_ngcontent-%COMP%]{color:#495057;margin-top:20px;margin-bottom:10px}.row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin-bottom:20px}.col-md-6[_ngcontent-%COMP%]{flex:0 0 50%;max-width:50%;padding:10px;box-sizing:border-box}button.btn-primary[_ngcontent-%COMP%]{color:#fff;background-color:#007bff;border-color:#007bff;padding:.375rem .75rem;font-size:1rem;border-radius:.25rem;transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out}button.btn-primary[_ngcontent-%COMP%]:hover{background-color:#0069d9;border-color:#0062cc}ul[_ngcontent-%COMP%]{list-style:none;padding:0}li[_ngcontent-%COMP%]{padding:.5rem 0;border-bottom:1px solid #dee2e6}li[_ngcontent-%COMP%]:last-child{border-bottom:none}.card[_ngcontent-%COMP%]{margin-bottom:20px}.card-body[_ngcontent-%COMP%]{padding:1.25rem}.card-body[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{max-height:130px;overflow-x:auto;overflow-y:auto}li.selected[_ngcontent-%COMP%]{background-color:#cce5ff;color:#004085}"]})};var Tt=B0(GT());var Xf=class e{supabase;channelInitialized=!1;unsubscribeFn=null;constructor(){this.supabase=Yf(Ft.supabaseUrl,Ft.supabaseAnonKey)}fetchExistingLocations(){return B(this,null,function*(){let{data:n,error:t}=yield this.supabase.from("geolocalizaciones").select("id,latitud,longitud");return t?[]:(n||[]).map(i=>({id:i.id,latitud:typeof i.latitud=="number"?i.latitud:parseFloat(i.latitud),longitud:typeof i.longitud=="number"?i.longitud:parseFloat(i.longitud)})).filter(i=>!Number.isNaN(i.latitud)&&!Number.isNaN(i.longitud))})}subscribeToNewLocations(n){if(this.channelInitialized)return this.unsubscribeFn||(()=>{});let t=this.supabase.channel("realtime:public:geolocalizaciones:insert").on("postgres_changes",{event:"INSERT",schema:"public",table:"geolocalizaciones"},i=>{let r=i.new;if(r){let o=r.latitud,s=r.longitud,a=typeof o=="number"?o:parseFloat(o),l=typeof s=="number"?s:parseFloat(s);!Number.isNaN(a)&&!Number.isNaN(l)&&n({latitud:a,longitud:l,id:r.id})}}).subscribe();return this.channelInitialized=!0,this.unsubscribeFn=()=>{t.unsubscribe(),this.channelInitialized=!1,this.unsubscribeFn=null},this.unsubscribeFn}static \u0275fac=function(t){return new(t||e)};static \u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:"root"})};var mj=`<svg width="25" height="41" viewBox="0 0 25 41" xmlns="http://www.w3.org/2000/svg">
  <defs><filter id="shadow" x="-20%" y="-10%" width="140%" height="140%"><feGaussianBlur in="SourceAlpha" stdDeviation="1.5"/><feOffset dy="1"/><feComponentTransfer><feFuncA type="linear" slope="0.4"/></feComponentTransfer><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge></filter></defs>
  <path filter="url(#shadow)" fill="#2E7DFF" stroke="#114A99" stroke-width="2" d="M12.5 1C6.2 1 1 6.11 1 12.33c0 8.26 9.54 20.65 11.55 23.21.19.24.56.24.75 0 2-2.56 11.7-14.95 11.7-23.21C25 6.11 18.8 1 12.5 1Z"/>
  <circle cx="12.5" cy="12.5" r="5.2" fill="#fff" stroke="#114A99" stroke-width="1.5" />
</svg>`,_j=Tt.divIcon({className:"leaflet-celeste-pin",html:mj,iconSize:[25,41],iconAnchor:[12,41],tooltipAnchor:[0,-34]});function qT(e,n,t){Tt.marker([n,t],{zIndexOffset:800,icon:_j}).addTo(e).bindTooltip(`${n.toFixed(5)}, ${t.toFixed(5)}`,{direction:"top",offset:[0,-12]})}var Qf=class e{constructor(n){this.geolocSrv=n}map;esriSat;googleMaps;googleHybrid;osm2;openmap;argenMap;wmsTerrestrisTopo;wmsTerrestrisOsm;esriTransportes;googleSat;osm;unsubscribeGeoloc=null;ngOnInit(){this.initMap(),this.geolocSrv.fetchExistingLocations().then(n=>{n.forEach(t=>qT(this.map,t.latitud,t.longitud))}),this.unsubscribeGeoloc=this.geolocSrv.subscribeToNewLocations(n=>{qT(this.map,n.latitud,n.longitud)})}ngOnDestroy(){this.unsubscribeGeoloc&&this.unsubscribeGeoloc()}initMap(){this.map=Tt.map("map").setView([-34.6037,-58.3816],13);let n=Tt.tileLayer("https://mt1.google.com/vt/lyrs=s&x={x}&y={y}&z={z}",{maxZoom:21,attribution:"\xA9 Google Maps"}),t=Tt.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:21,attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'});this.googleHybrid=Tt.tileLayer("https://{s}.google.com/vt/lyrs=s,h&x={x}&y={y}&z={z}",{maxZoom:21,subdomains:["mt0","mt1","mt2","mt3"],detectRetina:!0}),this.osm2=Tt.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:21}),this.argenMap=Tt.tileLayer("https://wms.ign.gob.ar/geoserver/gwc/service/tms/1.0.0/capabaseargenmap@EPSG%3A3857@png/{z}/{x}/{-y}.png",{minZoom:1,maxZoom:21}),this.openmap=Tt.tileLayer("https://server.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer/tile/{z}/{y}/{x}",{attribution:"terms and feedback"}),this.googleMaps=Tt.tileLayer("https://{s}.google.com/vt/lyrs=m&x={x}&y={y}&z={z}",{maxZoom:21,subdomains:["mt0","mt1","mt2","mt3"],detectRetina:!0}),this.esriSat=Tt.tileLayer("https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",{maxZoom:22}),this.esriTransportes=Tt.tileLayer("https://server.arcgisonline.com/ArcGIS/rest/services/Reference/World_Transportation/MapServer/tile/{z}/{y}/{x}"),this.wmsTerrestrisTopo=Tt.tileLayer.wms("https://ows.terrestris.de/osm/service?",{layers:"TOPO-OSM-WMS"}),this.wmsTerrestrisOsm=Tt.tileLayer.wms("https://ows.mundialis.de/services/service?",{layers:"OSM-WMS"}),n.addTo(this.map);var i={OpenStreetMap:t,"Google Satelital":n,"Google Maps":this.googleMaps,"Google H\xEDbrido":this.googleHybrid,"ESRI Satelital":this.esriSat,"ESRI Topo":this.openmap,"OpenStreetMap 2":this.osm2,"Terrestris OSM":this.wmsTerrestrisOsm,"Terrestris Topo":this.wmsTerrestrisTopo},r={Transportes:this.esriTransportes};Tt.control.layers(i,r).addTo(this.map)}static \u0275fac=function(t){return new(t||e)(ee(Xf))};static \u0275cmp=we({type:e,selectors:[["app-mapa"]],decls:1,vars:0,consts:[["id","map"]],template:function(t,i){t&1&&Fe(0,"div",0)},styles:['[_nghost-%COMP%]{display:block;height:75vh;width:99%;margin-top:50px;margin-left:4px}#map[_ngcontent-%COMP%]{height:112%;width:100%;margin-left:3px}.custom-circle-icon[_ngcontent-%COMP%]   .marker-dot[_ngcontent-%COMP%]{width:20px;height:20px;background:radial-gradient(circle at 35% 35%,#4caf50,#087f23 65%,#005914);border:2px solid #ffffff;border-radius:50%;box-shadow:0 0 4px #0009;position:relative}.html-pin[_ngcontent-%COMP%]{position:relative;width:24px;height:24px;background:linear-gradient(145deg,#2e7dff,#114a99);border-radius:50%;box-shadow:0 2px 4px #00000073;border:2px solid #ffffff}.html-pin[_ngcontent-%COMP%]:after{content:"";position:absolute;left:50%;top:100%;transform:translate(-50%);width:0;height:0;border:10px solid transparent;border-top-color:#2e7dff;filter:drop-shadow(0 2px 2px rgba(0,0,0,.3))}.html-pin[_ngcontent-%COMP%]   .inner[_ngcontent-%COMP%]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:8px;height:8px;background:#fff;border-radius:50%}.custom-circle-icon[_ngcontent-%COMP%]   .marker-dot[_ngcontent-%COMP%]:after{content:"";position:absolute;left:50%;top:50%;transform:translate(-50%,-35%);width:0;height:0;border:8px solid transparent;border-top-color:#087f23;border-bottom:0;margin-top:10px}']})};var eg=class e{constructor(n){this.http=n}postChat(n){return B(this,null,function*(){try{return yield this.http.post("https://serverminimo.onrender.com/api/chat",n).toPromise()}catch(t){throw console.error("Error en la petici\xF3n:",t),t}})}static \u0275fac=function(t){return new(t||e)(se(Qs))};static \u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:"root"})};function yj(e,n){e&1&&(A(0,"div",25),O(1,"Cargando..."),N())}var tg=class e{constructor(n){this.llmService=n}resultado="";inputData="";loading=!1;model="mistralai/mistral-7b-instruct:free";max_tokens=10;role="user";providerSort="latency";enviar(){return B(this,null,function*(){this.loading=!0,this.resultado="";try{let n;!this.inputData&&!this.model&&!this.max_tokens&&!this.role&&!this.providerSort?n={}:(n={model:this.model,messages:this.inputData?[{role:this.role,content:this.inputData}]:void 0,provider:this.providerSort?{sort:this.providerSort}:void 0,max_tokens:this.max_tokens||void 0},Object.keys(n).forEach(i=>n[i]===void 0&&delete n[i]));let t=yield this.llmService.postChat(n);console.log("Respuesta completa:",t),t&&typeof t=="object"?this.resultado=`Modelo: ${t.model??"N/A"}
Mensaje: ${t.message??JSON.stringify(t)}`:this.resultado=JSON.stringify(t,null,2)}catch{this.resultado="Error en la petici\xF3n"}this.loading=!1})}static \u0275fac=function(t){return new(t||e)(ee(eg))};static \u0275cmp=we({type:e,selectors:[["app-llm"]],decls:43,vars:8,consts:[[1,"container","mt-10"],[1,"mb-3"],["for","promptInput",1,"form-label"],["id","promptInput","type","text","placeholder","Escribe tu mensaje...",1,"form-control",3,"ngModelChange","ngModel"],[1,"mb-3","row"],[1,"col"],["for","modelInput",1,"form-label"],["id","modelInput",1,"form-select",3,"ngModelChange","ngModel"],["value","mistralai/mistral-nemo:free"],["value","microsoft/mai-ds-r1:free"],["value","meta-llama/llama-4-maverick:free"],["value","google/gemini-2.0-flash-exp:free"],["value","microsoft/phi-4-reasoning-plus:free"],["value","deepseek/deepseek-chat-v3-0324:free"],["for","maxTokensInput",1,"form-label"],["id","maxTokensInput","type","number",1,"form-control",3,"ngModelChange","ngModel"],["for","roleInput",1,"form-label"],["id","roleInput","type","text",1,"form-control",3,"ngModelChange","ngModel"],["for","providerSortInput",1,"form-label"],["id","providerSortInput","type","text",1,"form-control",3,"ngModelChange","ngModel"],[1,"btn","btn-primary",3,"click","disabled"],[1,"mt-3"],["for","resultBox",1,"form-label"],["id","resultBox","rows","5","readonly","",1,"form-control",3,"value"],["class","mt-2 text-info",4,"ngIf"],[1,"mt-2","text-info"]],template:function(t,i){t&1&&(A(0,"div",0)(1,"h2"),O(2,"Probar LLM Service"),N(),A(3,"div",1)(4,"label",2),O(5,"Prompt (Default: \xBFCuantos t\xE9rminos tiene la serie de Fibonacci?):"),N(),A(6,"input",3),He("ngModelChange",function(o){return We(i.inputData,o)||(i.inputData=o),o}),N()(),A(7,"div",4)(8,"div",5)(9,"label",6),O(10,"Model:(Default: mistralai/mistral-7b-instruct:free)"),N(),A(11,"select",7),He("ngModelChange",function(o){return We(i.model,o)||(i.model=o),o}),A(12,"option",8),O(13,"mistralai/mistral-nemo:free"),N(),A(14,"option",9),O(15,"microsoft/mai-ds-r1:free"),N(),A(16,"option",10),O(17,"meta-llama/llama-4-maverick:free"),N(),A(18,"option",11),O(19,"google/gemini-2.0-flash-exp:free"),N(),A(20,"option",12),O(21,"microsoft/phi-4-reasoning-plus:free"),N(),A(22,"option",13),O(23,"deepseek/deepseek-chat-v3-0324:free"),N()()(),A(24,"div",5)(25,"label",14),O(26,"Max Tokens:"),N(),A(27,"input",15),He("ngModelChange",function(o){return We(i.max_tokens,o)||(i.max_tokens=o),o}),N()(),A(28,"div",5)(29,"label",16),O(30,"Role:"),N(),A(31,"input",17),He("ngModelChange",function(o){return We(i.role,o)||(i.role=o),o}),N()(),A(32,"div",5)(33,"label",18),O(34,"Provider Sort:"),N(),A(35,"input",19),He("ngModelChange",function(o){return We(i.providerSort,o)||(i.providerSort=o),o}),N()()(),A(36,"button",20),ae("click",function(){return i.enviar()}),O(37,"Enviar"),N(),A(38,"div",21)(39,"label",22),O(40,"Respuesta:"),N(),Fe(41,"textarea",23),N(),ke(42,yj,2,0,"div",24),N()),t&2&&(W(6),ze("ngModel",i.inputData),W(5),ze("ngModel",i.model),W(16),ze("ngModel",i.max_tokens),W(4),ze("ngModel",i.role),W(4),ze("ngModel",i.providerSort),W(),X("disabled",i.loading),W(5),X("value",i.resultado),W(),X("ngIf",i.loading))},dependencies:[rt,ft,Ni,bf,xf,Vn,bc,ga,Ai,li],styles:[".container[_ngcontent-%COMP%]{position:relative;height:75vh;top:10vh}"]})};var ng=class e{constructor(n,t){this.supabaseService=n;this.router=t}canActivate(){return this.supabaseService.user$.pipe(Jn(1),_e(n=>n?!0:(this.router.navigate(["/login"],{queryParams:{returnUrl:"/admin"}}),!1)))}static \u0275fac=function(t){return new(t||e)(se(St),se(Ii))};static \u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:"root"})};var ig=class e{onAuthSuccess(){let t=new URLSearchParams(window.location.search).get("returnUrl")||"/admin";window.location.href=t}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=we({type:e,selectors:[["app-login-page"]],decls:4,vars:1,consts:[[1,"container","py-5"],[3,"authSuccess","isLogin"]],template:function(t,i){t&1&&(A(0,"div",0)(1,"h2"),O(2,"Iniciar sesi\xF3n"),N(),A(3,"app-auth",1),ae("authSuccess",function(){return i.onAuthSuccess()}),N()()),t&2&&(W(3),X("isLogin",!0))},dependencies:[qr],encapsulation:2})};var rg=class e{constructor(n){this.http=n}apiUrl="https://serverminimo.onrender.com/api/weather";obtenerResumenPronostico(n){return this.http.post(this.apiUrl,{city:n})}static \u0275fac=function(t){return new(t||e)(se(Qs))};static \u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:"root"})};function xj(e,n){e&1&&(A(0,"div"),O(1,"Cargando..."),N())}function wj(e,n){if(e&1&&Fe(0,"textarea",7),e&2){let t=ie();X("value",t.resultado)}}var og=class e{constructor(n){this.iaOrquestadorService=n}ciudad="";resultado="";loading=!1;obtenerPronostico(){this.ciudad&&(this.loading=!0,this.resultado="",this.iaOrquestadorService.obtenerResumenPronostico(this.ciudad).subscribe({next:n=>{n&&n.result&&n.result.content?this.resultado=n.result.content.replace(/\s*\n+\s*/g," ").trim():this.resultado=typeof n=="object"?JSON.stringify(n,null,2):n,this.loading=!1},error:n=>{this.resultado="Error al obtener el pron\xF3stico",this.loading=!1}}))}static \u0275fac=function(t){return new(t||e)(ee(rg))};static \u0275cmp=we({type:e,selectors:[["app-ia"]],decls:16,vars:4,consts:[[1,"container","mt-4"],[1,"mb-3",3,"ngSubmit"],[1,"input-group"],["type","text","placeholder","Ciudad","name","ciudad","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-primary",3,"disabled"],[4,"ngIf"],["class","form-control","readonly","","rows","6","style","resize: vertical;",3,"value",4,"ngIf"],["readonly","","rows","6",1,"form-control",2,"resize","vertical",3,"value"]],template:function(t,i){t&1&&(A(0,"div",0)(1,"h2"),O(2,"Pronostico del tiempo"),N(),A(3,"p"),O(4,"Probar un MCP que provee el pronostico del tiempo, en formato JSON, luego el LLM lo formatea a lenguaje natural."),N(),Fe(5,"br")(6,"br"),A(7,"h5"),O(8,"Ingresar una ciudad"),N(),A(9,"form",1),ae("ngSubmit",function(){return i.obtenerPronostico()}),A(10,"div",2)(11,"input",3),He("ngModelChange",function(o){return We(i.ciudad,o)||(i.ciudad=o),o}),N(),A(12,"button",4),O(13,"OK"),N()()(),ke(14,xj,2,0,"div",5)(15,wj,1,1,"textarea",6),N()),t&2&&(W(11),ze("ngModel",i.ciudad),W(),X("disabled",i.loading),W(2),X("ngIf",i.loading),W(),X("ngIf",i.resultado&&!i.loading))},dependencies:[Wl,rt,ft,Ni,Wr,Vn,Ai,Ur,hr,li,ur],styles:["[_nghost-%COMP%]{display:block;height:75vh;width:99%;margin-top:65px;margin-left:4px}"]})};var sg=class e{llm;llmReady;constructor(){this.llmReady=import("./chunk-46E37N34.js").then(n=>(this.llm=new n.ChatLLM7({modelName:"gpt-4.1-2025-04-14",temperature:.8}),this.llm))}askQuestion(n){return Xe(this.llmReady).pipe(Wt(t=>Xe(t.invoke(n))),_e(t=>typeof t=="string"?t:t?.content||""))}static \u0275fac=function(t){return new(t||e)};static \u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:"any"})};function Ej(e,n){e&1&&(A(0,"div",10),O(1,"Cargando respuesta..."),N())}function Cj(e,n){if(e&1&&(A(0,"div",10)(1,"strong"),O(2,"Respuesta:"),N(),A(3,"div",11),O(4),N()()),e&2){let t=ie();W(4),je(t.answer)}}function Sj(e,n){if(e&1&&(A(0,"div",12),O(1),N()),e&2){let t=ie();W(),je(t.error)}}var ag=class e{constructor(n){this.llm7Service=n}question="";answer="";loading=!1;error="";sendQuestion(){this.answer="",this.error="",this.loading=!0,this.llm7Service.askQuestion(this.question).subscribe({next:n=>{this.answer=n,this.loading=!1},error:n=>{this.error="Error: "+(n?.message||n),this.loading=!1}})}static \u0275fac=function(t){return new(t||e)(ee(sg))};static \u0275cmp=we({type:e,selectors:[["app-llm7-chat"]],decls:16,vars:5,consts:[["chatForm","ngForm"],[1,"llm7-chat-container"],["routerLink","/home",1,"btn","btn-primary","btn-sm",2,"position","absolute","left","2rem","top","2rem"],[3,"ngSubmit"],[1,"mb-3"],["for","question",1,"form-label"],["id","question","name","question","rows","3","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-primary",3,"disabled"],["class","mt-3",4,"ngIf"],["class","alert alert-danger mt-3",4,"ngIf"],[1,"mt-3"],[1,"alert","alert-success","mt-2"],[1,"alert","alert-danger","mt-3"]],template:function(t,i){if(t&1){let r=wt();A(0,"div",1)(1,"a",2),O(2,"Home"),N(),A(3,"h2"),O(4,"Chat LLM7"),N(),A(5,"form",3,0),ae("ngSubmit",function(){return le(r),ce(i.sendQuestion())}),A(7,"div",4)(8,"label",5),O(9,"Pregunta:"),N(),A(10,"textarea",6),He("ngModelChange",function(s){return le(r),We(i.question,s)||(i.question=s),ce(s)}),N()(),A(11,"button",7),O(12,"Enviar"),N()(),ke(13,Ej,2,0,"div",8)(14,Cj,5,1,"div",8)(15,Sj,2,1,"div",9),N()}t&2&&(W(10),ze("ngModel",i.question),W(),X("disabled",i.loading||!i.question),W(2),X("ngIf",i.loading),W(),X("ngIf",i.answer&&!i.loading),W(),X("ngIf",i.error))},dependencies:[rt,ft,Ni,Wr,Vn,Ai,Ur,hr,li,ur,Mi],styles:[".llm7-chat-container[_ngcontent-%COMP%]{max-width:600px;margin:2rem auto;padding:2rem;background:#f8f9fa;border-radius:8px;box-shadow:0 2px 8px #00000014}textarea.form-control[_ngcontent-%COMP%]{resize:vertical}button.btn[_ngcontent-%COMP%]{min-width:120px}"]})};function qt(e){var n=0,t=0,i=0,r=0;if(e.getBoundingClientRect){var o=e.getBoundingClientRect(),s=document.body,a=document.documentElement||document.body.parentNode||document.body,l=window.pageYOffset||a.scrollTop||s.scrollTop,d=window.pageXOffset||a.scrollLeft||s.scrollLeft,u=a.clientTop||s.clientTop||0,f=a.clientLeft||s.clientLeft||0;n=o.top+l-u,t=o.left+d-f,i=document.body.offsetWidth-o.right,r=document.body.offsetHeight-o.bottom}else{for(;e;)n+=parseInt(e.offsetTop,10),t+=parseInt(e.offsetLeft,10),e=e.offsetParent;i=document.body.offsetWidth-e.offsetWidth-t,r=document.body.offsetHeight-e.offsetHeight-n}return{y:Math.round(n),x:Math.round(t),width:e.offsetWidth,height:e.offsetHeight,right:Math.round(i),bottom:Math.round(r)}}function Tj(e){var n=!1,t=!1;if(window.getComputedStyle){var i=window.getComputedStyle(e,null);n=i.display,t=i.visibility}else e.currentStyle&&(n=e.currentStyle.display,t=e.currentStyle.visibility);return n!="none"&&t!="hidden"}function Dj(e){return!isNaN(e.getAttribute("tabindex"))&&1*e.getAttribute("tabindex")>=0}function Ij(e){return!{a:!0,area:!0}[e.nodeName.loLowerCase()]||!!e.getAttribute("href")}function Mj(e){return!{input:!0,select:!0,textarea:!0,button:!0,object:!0}[e.nodeName.toLowerCase()]||!e.hasAttribute("disabled")}function Kc(e){for(var n=e.querySelectorAll(["a[href]","area[href]","input","select","textarea","button","iframe","object","embed","[tabindex]","[contenteditable]"].join(", ")),t=Array.prototype.slice.call(n,0),i=0;i<t.length;i++)t[i].$position=i;for(t.sort(function(o,s){return o.tabIndex===0&&s.tabIndex!==0?1:o.tabIndex!==0&&s.tabIndex===0?-1:o.tabIndex===s.tabIndex?o.$position-s.$position:o.tabIndex<s.tabIndex?-1:1}),i=0;i<t.length;i++){var r=t[i];(Dj(r)||Mj(r)||Ij(r))&&Tj(r)||(t.splice(i,1),i--)}return t}function vD(){var e=document.createElement("div");e.style.cssText="visibility:hidden;position:absolute;left:-1000px;width:100px;padding:0px;margin:0px;height:110px;min-height:100px;overflow-y:scroll;",document.body.appendChild(e);var n=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),Math.max(n,15)}function Cn(e){if(!e)return"";var n=e.className||"";return n.baseVal&&(n=n.baseVal),n.indexOf||(n=""),Wy(n)}function Da(e,n){n&&e.className.indexOf(n)===-1&&(e.className+=" "+n)}function mg(e,n){n=n.split(" ");for(var t=0;t<n.length;t++){var i=new RegExp("\\s?\\b"+n[t]+"\\b(?![-_.])","");e.className=e.className.replace(i,"")}}function yb(e){return typeof e=="string"?document.getElementById(e)||document.querySelector(e)||document.body:e||document.body}var lg;function yD(e,n){lg||(lg=document.createElement("div")),lg.innerHTML=n;var t=lg.firstChild;return e.appendChild(t),t}function bD(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function xD(e,n){for(var t=e.childNodes,i=t.length,r=[],o=0;o<i;o++){var s=t[o];s.className&&s.className.indexOf(n)!==-1&&r.push(s)}return r}function rs(e){var n;return e.tagName?n=e:(n=(e=e||window.event).target||e.srcElement).shadowRoot&&e.composedPath&&(n=e.composedPath()[0]),n}function Gn(e,n){if(n){for(var t=rs(e);t;){if(t.getAttribute&&t.getAttribute(n))return t;t=t.parentNode}return null}}function Wy(e){return(String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")}).apply(e)}function Yr(e,n,t){var i=rs(e),r="";for(t===void 0&&(t=!0);i;){if(r=Cn(i)){var o=r.indexOf(n);if(o>=0){if(!t)return i;var s=o===0||!Wy(r.charAt(o-1)),a=o+n.length>=r.length||!Wy(r.charAt(o+n.length));if(s&&a)return i}}i=i.parentNode}return null}function ui(e,n){var t=document.documentElement,i=qt(n);return{x:e.clientX+t.scrollLeft-t.clientLeft-i.x+n.scrollLeft,y:e.clientY+t.scrollTop-t.clientTop-i.y+n.scrollTop}}function wD(e,n){let t=qt(e),i=qt(n);return{x:t.x-i.x,y:t.y-i.y}}function mn(e,n){if(!e||!n)return!1;for(;e&&e!=n;)e=e.parentNode;return e===n}function $i(e,n){if(e.closest)return e.closest(n);if(e.matches||e.msMatchesSelector||e.webkitMatchesSelector){var t=e;if(!document.documentElement.contains(t))return null;do{if((t.matches||t.msMatchesSelector||t.webkitMatchesSelector).call(t,n))return t;t=t.parentElement||t.parentNode}while(t!==null&&t.nodeType===1);return null}return console.error("Your browser is not supported"),null}function kD(e){for(;e;){if(e.offsetWidth>0&&e.offsetHeight>0)return e;e=e.parentElement}return null}function ED(){return document.head.createShadowRoot||document.head.attachShadow}function Gy(){var e=document.activeElement;return e.shadowRoot&&(e=e.shadowRoot.activeElement),e===document.body&&document.getSelection&&(e=document.getSelection().focusNode||document.body),e}function ns(e){if(!e||!ED())return document.body;for(;e.parentNode&&(e=e.parentNode);)if(e instanceof ShadowRoot)return e.host;return document.body}var CD=Object.freeze(Object.defineProperty({__proto__:null,addClassName:Da,closest:$i,getActiveElement:Gy,getChildNodes:xD,getClassName:Cn,getClosestSizedElement:kD,getFocusableNodes:Kc,getNodePosition:qt,getRelativeEventPosition:ui,getRelativeNodePosition:wD,getRootNode:ns,getScrollSize:vD,getTargetNode:rs,hasClass:function(e,n){return"classList"in e?e.classList.contains(n):new RegExp("\\b"+n+"\\b").test(e.className)},hasShadowParent:function(e){return!!ns(e)},insertNode:yD,isChildOf:mn,isShadowDomSupported:ED,locateAttribute:Gn,locateClassName:Yr,removeClassName:mg,removeNode:bD,toNode:yb},Symbol.toStringTag,{value:"Module"})),Sn=typeof window<"u"?window:global,Aj=class{constructor(e){this._mouseDown=!1,this._touchStarts=!1,this._touchActive=!1,this._longTapTimer=!1,this._gantt=e,this._domEvents=e._createDomEventScope()}attach(e,n,t){let i=this._gantt,r=e.getViewPort();this._originPosition=Sn.getComputedStyle(r).display,this._restoreOriginPosition=()=>{r.style.position=this._originPosition},this._originPosition==="static"&&(r.style.position="relative");let o=i.$services.getService("state");o.registerProvider("clickDrag",()=>({autoscroll:!1}));let s=null,a=()=>{s&&(this._mouseDown=!0,e.setStart(i.copy(s)),e.setPosition(i.copy(s)),e.setEnd(i.copy(s)),s=null)};this._domEvents.attach(r,"mousedown",v=>{f(v)});let l=ns(i.$root)||document.body;function d(v){return v.changedTouches&&v.changedTouches[0]||v}this._domEvents.attach(l,"mouseup",v=>{g(v)}),this._domEvents.attach(r,"mousemove",v=>{p(v)}),this._domEvents.attach(r,"touchstart",v=>{this._touchStarts=!0,this._longTapTimer=setTimeout(()=>{this._touchStarts&&(f(d(v)),this._touchStarts=!1,this._touchActive=!0)},this._gantt.config.touch_drag)}),this._domEvents.attach(l,"touchend",v=>{this._touchStarts=!1,this._touchActive=!1,clearTimeout(this._longTapTimer),g(d(v))}),this._domEvents.attach(r,"touchmove",v=>{if(this._touchActive){let k=u();if(k&&i.utils.dom.closest(v.target,k))return;p(d(v)),v.preventDefault()}else this._touchStarts=!1,clearTimeout(this._longTapTimer)});let u=()=>{let v=".gantt_task_line, .gantt_task_link";return t!==void 0&&(v=t instanceof Array?t.join(", "):t),v},f=v=>{s=null;let k=u();k&&i.utils.dom.closest(v.target,k)||(o.registerProvider("clickDrag",()=>({autoscroll:this._mouseDown})),n&&v[n]!==!0||(s=this._getCoordinates(v,e)))},g=v=>{if(s=null,(!n||v[n]===!0)&&this._mouseDown===!0){this._mouseDown=!1;let k=this._getCoordinates(v,e);e.dragEnd(k)}},p=v=>{if(n&&v[n]!==!0)return;let k=this._gantt.ext.clickDrag,x=(this._gantt.config.drag_timeline||{}).useKey;if(k&&x&&!n&&v[x])return;let S=null;if(!this._mouseDown&&s)return S=this._getCoordinates(v,e),void(Math.abs(s.relative.left-S.relative.left)>5&&a());this._mouseDown===!0&&(S=this._getCoordinates(v,e),e.setEnd(S),e.render())}}detach(){let e=this._gantt;this._domEvents.detachAll(),this._restoreOriginPosition&&this._restoreOriginPosition(),e.$services.getService("state").unregisterProvider("clickDrag")}destructor(){this.detach()}_getCoordinates(e,n){let t=n.getViewPort(),i=t.getBoundingClientRect(),{clientX:r,clientY:o}=e;return{absolute:{left:r,top:o},relative:{left:r-i.left+t.scrollLeft,top:o-i.top+t.scrollTop}}}},SD=function(){this._silent_mode=!1,this.listeners={}};SD.prototype={_silentStart:function(){this._silent_mode=!0},_silentEnd:function(){this._silent_mode=!1}};function fi(e){var n=new SD;e.attachEvent=function(t,i,r){t="ev_"+t.toLowerCase(),n.listeners[t]||(n.listeners[t]=function(s){var a={},l=0,d=function(){var u=!0;for(var f in a){var g=a[f].apply(s,arguments);u=u&&g}return u};return d.addEvent=function(u,f){if(typeof u=="function"){var g;if(f&&f.id?g=f.id:(g=l,l++),f&&f.once){var p=u;u=function(){p(),d.removeEvent(g)}}return a[g]=u,g}return!1},d.removeEvent=function(u){delete a[u]},d.clear=function(){a={}},d}(this)),r&&r.thisObject&&(i=i.bind(r.thisObject));var o=t+":"+n.listeners[t].addEvent(i,r);return r&&r.id&&(o=r.id),o},e.attachAll=function(t){this.attachEvent("listen_all",t)},e.callEvent=function(t,i){if(n._silent_mode)return!0;var r="ev_"+t.toLowerCase(),o=n.listeners;return o.ev_listen_all&&o.ev_listen_all.apply(this,[t].concat(i)),!o[r]||o[r].apply(this,i)},e.checkEvent=function(t){return!!n.listeners["ev_"+t.toLowerCase()]},e.detachEvent=function(t){if(t){var i=n.listeners;for(var r in i)i[r].removeEvent(t);var o=t.split(":");if(i=n.listeners,o.length===2){var s=o[0],a=o[1];i[s]&&i[s].removeEvent(a)}}},e.detachAllEvents=function(){for(var t in n.listeners)n.listeners[t].clear()}}var ZT={second:1,minute:60,hour:3600,day:86400,week:604800,month:2592e3,quarter:7776e3,year:31536e3};function fg(e){return ZT[e]||ZT.hour}function is(e,n){if(e.forEach)e.forEach(n);else for(var t=e.slice(),i=0;i<t.length;i++)n(t[i],i)}function Nj(e,n){if(e.find)return e.find(n);for(var t=0;t<e.length;t++)if(n(e[t],t))return e[t]}function cg(e,n){if(e.includes)return e.includes(n);for(var t=0;t<e.length;t++)if(e[t]===n)return!0;return!1}function qy(e){return Array.isArray?Array.isArray(e):e&&e.length!==void 0&&e.pop&&e.push}function Tn(e){return!(!e||typeof e!="object")&&!!(e.getFullYear&&e.getMonth&&e.getDate)}function Ca(e){return Tn(e)&&!isNaN(e.getTime())}function YT(e,n){var t,i=function(){i.$cancelTimeout(),i.$pending=!0;var r=Array.prototype.slice.call(arguments);t=setTimeout(function(){e.apply(this,r),i.$pending=!1},n)};return i.$pending=!1,i.$cancelTimeout=function(){clearTimeout(t),i.$pending=!1},i.$execute=function(){var r=Array.prototype.slice.call(arguments);e.apply(this,r),i.$cancelTimeout()},i}function di(e,n){return KT(e)&&!KT(n)&&(e="0"),e}function KT(e){return e===0}function Gc(e,n){for(var t,i,r,o=0,s=e.length-1;o<=s;)if(i=+e[t=Math.floor((o+s)/2)],r=+e[t-1],i<n)o=t+1;else{if(!(i>n)){for(;+e[t]==+e[t+1];)t++;return t}if(!isNaN(r)&&r<n)return t-1;s=t-1}return e.length-1}var Zy=class{constructor(n,t,i){var r;this._el=document.createElement("div"),this.defaultRender=(o,s)=>{this._el||(this._el=document.createElement("div"));let a=this._el,l=Math.min(o.relative.top,s.relative.top),d=Math.max(o.relative.top,s.relative.top),u=Math.min(o.relative.left,s.relative.left),f=Math.max(o.relative.left,s.relative.left);if(this._singleRow){let g=this._getTaskPositionByTop(this._startPoint.relative.top);a.style.height=g.height+"px",a.style.top=g.top+"px"}else a.style.height=Math.abs(d-l)+"px",a.style.top=l+"px";return a.style.width=Math.abs(f-u)+"px",a.style.left=u+"px",a},this._gantt=t,this._view=i,this._viewPort=n.viewPort,this._el.classList.add(n.className),typeof n.callback=="function"&&(this._callback=n.callback),this.render=()=>{let o;o=n.render?n.render(this._startPoint,this._endPoint):this.defaultRender(this._startPoint,this._endPoint),o!==this._el&&(this._el&&this._el.parentNode&&this._el.parentNode.removeChild(this._el),this._el=o),n.className!==""&&this._el.classList.add(n.className),this.draw()},(r=this._viewPort).attachEvent&&r.detachEvent||fi(this._viewPort),this._singleRow=n.singleRow,this._useRequestAnimationFrame=n.useRequestAnimationFrame}draw(){if(this._useRequestAnimationFrame)return requestAnimationFrame(()=>{this._viewPort.appendChild(this.getElement())});this._viewPort.appendChild(this.getElement())}clear(){if(this._useRequestAnimationFrame)return requestAnimationFrame(()=>{this._el.parentNode&&this._viewPort.removeChild(this._el)});this._el.parentNode&&this._viewPort.removeChild(this._el)}getElement(){return this._el}getViewPort(){return this._viewPort}setStart(n){let t=this._gantt;this._startPoint=n,this._startDate=t.dateFromPos(this._startPoint.relative.left),this._viewPort.callEvent("onBeforeDrag",[this._startPoint])}setEnd(n){let t=this._gantt;if(this._endPoint=n,this._singleRow){let i=this._getTaskPositionByTop(this._startPoint.relative.top);this._endPoint.relative.top=i.top}this._endDate=t.dateFromPos(this._endPoint.relative.left),this._startPoint.relative.left>this._endPoint.relative.left&&(this._positionPoint={relative:{left:this._endPoint.relative.left,top:this._positionPoint.relative.top},absolute:{left:this._endPoint.absolute.left,top:this._positionPoint.absolute.top}}),this._startPoint.relative.top>this._endPoint.relative.top&&(this._positionPoint={relative:{left:this._positionPoint.relative.left,top:this._endPoint.relative.top},absolute:{left:this._positionPoint.absolute.left,top:this._endPoint.absolute.top}}),this._viewPort.callEvent("onDrag",[this._startPoint,this._endPoint])}setPosition(n){this._positionPoint=n}dragEnd(n){let t=this._gantt;n.relative.left<0&&(n.relative.left=0),this._viewPort.callEvent("onBeforeDragEnd",[this._startPoint,n]),this.setEnd(n),this._endDate=this._endDate||t.getState().max_date,this._startDate.valueOf()>this._endDate.valueOf()&&([this._startDate,this._endDate]=[this._endDate,this._startDate]),this.clear();let i=t.getTaskByTime(this._startDate,this._endDate),r=this._getTasksByTop(this._startPoint.relative.top,this._endPoint.relative.top);this._viewPort.callEvent("onDragEnd",[this._startPoint,this._endPoint]),this._callback&&this._callback(this._startPoint,this._endPoint,this._startDate,this._endDate,i,r)}getInBounds(){return this._singleRow}_getTasksByTop(n,t){let i=this._gantt,r=n,o=t;n>t&&(r=t,o=n);let s=this._getTaskPositionByTop(r).index,a=this._getTaskPositionByTop(o).index,l=[];for(let d=s;d<=a;d++)i.getTaskByIndex(d)&&l.push(i.getTaskByIndex(d));return l}_getTaskPositionByTop(n){let t=this._gantt,i=this._view,r=i.getItemIndexByTopPosition(n),o=t.getTaskByIndex(r);if(o){let s=i.getItemHeight(o.id);return{top:i.getItemTop(o.id)||0,height:s||0,index:r}}{let s=i.getTotalHeight();return{top:n>s?s:0,height:t.config.row_height,index:n>s?t.getTaskCount():0}}}},Ny=!1,_g=class e{constructor(n){this._mouseDown=!1,this._calculateDirectionVector=()=>{if(this._trace.length>=10){let t=this._trace.slice(this._trace.length-10),i=[];for(let o=1;o<t.length;o++)i.push({x:t[o].x-t[o-1].x,y:t[o].y-t[o-1].y});let r={x:0,y:0};return i.forEach(o=>{r.x+=o.x,r.y+=o.y}),{magnitude:Math.sqrt(r.x*r.x+r.y*r.y),angleDegrees:180*Math.atan2(Math.abs(r.y),Math.abs(r.x))/Math.PI}}return null},this._applyDndReadyStyles=()=>{this._timeline.$task.classList.add("gantt_timeline_move_available")},this._clearDndReadyStyles=()=>{this._timeline.$task.classList.remove("gantt_timeline_move_available")},this._getScrollPosition=t=>{let i=this._gantt;return{x:i.$ui.getView(t.$config.scrollX).getScrollState().position,y:i.$ui.getView(t.$config.scrollY).getScrollState().position}},this._countNewScrollPosition=t=>{let i=this._calculateDirectionVector(),r=this._startPoint.x-t.x,o=this._startPoint.y-t.y;return i&&(i.angleDegrees<15?o=0:i.angleDegrees>75&&(r=0)),{x:this._scrollState.x+r,y:this._scrollState.y+o}},this._setScrollPosition=(t,i)=>{let r=this._gantt;requestAnimationFrame(()=>{r.scrollLayoutCell(t.$id,i.x,i.y)})},this._stopDrag=t=>{let i=this._gantt;if(this._trace=[],i.$root.classList.remove("gantt_noselect"),this._originalReadonly!==void 0&&this._mouseDown&&(i.config.readonly=this._originalReadonly,i.config.drag_timeline&&i.config.drag_timeline.render&&i.render()),this._originAutoscroll!==void 0&&(i.config.autoscroll=this._originAutoscroll),i.config.drag_timeline){let{useKey:r}=i.config.drag_timeline;if(r&&t[r]!==!0)return}this._mouseDown=!1,Ny=!1},this._startDrag=t=>{let i=this._gantt;this._originAutoscroll=i.config.autoscroll,i.config.autoscroll=!1,Ny=!0,i.$root.classList.add("gantt_noselect"),this._originalReadonly=i.config.readonly,i.config.readonly=!0,i.config.drag_timeline&&i.config.drag_timeline.render&&i.render(),this._trace=[],this._mouseDown=!0;let{x:r,y:o}=this._getScrollPosition(this._timeline);this._scrollState={x:r,y:o},this._startPoint={x:t.clientX,y:t.clientY},this._trace.push(this._startPoint)},this._gantt=n,this._domEvents=n._createDomEventScope(),this._trace=[]}static create(n){return new e(n)}static _isDragInProgress(){return Ny}destructor(){this._domEvents.detachAll()}attach(n){this._timeline=n;let t=this._gantt;this._domEvents.attach(n.$task,"mousedown",i=>{if(!t.config.drag_timeline)return;let{useKey:r,ignore:o,enabled:s}=t.config.drag_timeline;if(s===!1)return;let a=".gantt_task_line, .gantt_task_link";o!==void 0&&(a=o instanceof Array?o.join(", "):o),a&&t.utils.dom.closest(i.target,a)||r&&i[r]!==!0||this._startDrag(i)}),this._domEvents.attach(document,"keydown",i=>{if(!t.config.drag_timeline)return;let{useKey:r}=t.config.drag_timeline;r&&i[r]===!0&&this._applyDndReadyStyles()}),this._domEvents.attach(document,"keyup",i=>{if(!t.config.drag_timeline)return;let{useKey:r}=t.config.drag_timeline;r&&i[r]===!1&&(this._clearDndReadyStyles(),this._stopDrag(i))}),this._domEvents.attach(document,"mouseup",i=>{this._stopDrag(i)}),this._domEvents.attach(t.$root,"mouseup",i=>{this._stopDrag(i)}),this._domEvents.attach(document,"mouseleave",i=>{this._stopDrag(i)}),this._domEvents.attach(t.$root,"mouseleave",i=>{this._stopDrag(i)}),this._domEvents.attach(t.$root,"mousemove",i=>{if(!t.config.drag_timeline)return;let{useKey:r}=t.config.drag_timeline;if(r&&i[r]!==!0)return;let o=this._gantt.ext.clickDrag,s=(this._gantt.config.click_drag||{}).useKey;if((!o||!s||r||!i[s])&&this._mouseDown===!0){this._trace.push({x:i.clientX,y:i.clientY});let a=this._countNewScrollPosition({x:i.clientX,y:i.clientY});this._setScrollPosition(n,a),this._scrollState=a,this._startPoint={x:i.clientX,y:i.clientY}}})}};function Pj(e){(function(){var n=[];function t(){return!!n.length}function i(d){setTimeout(function(){t()||e.$destroyed||e.focus()},1)}function r(d){e.eventRemove(d,"keydown",s),e.event(d,"keydown",s),n.push(d)}function o(){var d=n.pop();d&&e.eventRemove(d,"keydown",s),i()}function s(d){var u=d.currentTarget;u==n[n.length-1]&&e.$keyboardNavigation.trapFocus(u,d)}function a(){r(e.getLightbox())}e.attachEvent("onLightbox",a),e.attachEvent("onAfterLightbox",o),e.attachEvent("onLightboxChange",function(){o(),a()}),e.attachEvent("onAfterQuickInfo",function(){i()}),e.attachEvent("onMessagePopup",function(d){l=e.utils.dom.getActiveElement(),r(d)}),e.attachEvent("onAfterMessagePopup",function(){o(),setTimeout(function(){l&&(l.focus(),l=null)},1)});var l=null;e.$keyboardNavigation.isModal=t})()}var Yy=class{constructor(n){this.show=(t,i)=>{i===void 0?this._showForTask(t):this._showAtCoordinates(t,i)},this.hide=t=>{let i=this._gantt,r=this._quickInfoBox;this._quickInfoBoxId=0;let o=this._quickInfoTask;if(this._quickInfoTask=null,r&&r.parentNode){if(i.config.quick_info_detached)return i.callEvent("onAfterQuickInfo",[o]),r.parentNode.removeChild(r);r.className+=" gantt_qi_hidden",r.style.right==="auto"?r.style.left="-350px":r.style.right="-350px",t&&(r.style.left=r.style.right="",r.parentNode.removeChild(r)),i.callEvent("onAfterQuickInfo",[o])}},this.getNode=()=>this._quickInfoBox?this._quickInfoBox:null,this.setContainer=t=>{t&&(this._container=typeof t=="string"?document.getElementById(t):t)},this.setContent=t=>{let i=this._gantt,r={taskId:null,header:{title:"",date:""},content:"",buttons:i.config.quickinfo_buttons};t||(t=r),t.taskId||(t.taskId=r.taskId),t.header||(t.header=r.header),t.header.title||(t.header.title=r.header.title),t.header.date||(t.header.date=r.header.date),t.content||(t.content=r.content),t.buttons||(t.buttons=r.buttons);let o=this.getNode();o||(o=this._createQuickInfoElement()),t.taskId&&(this._quickInfoBoxId=t.taskId);let s=o.querySelector(".gantt_cal_qi_title"),a=s.querySelector(".gantt_cal_qi_tcontent"),l=s.querySelector(".gantt_cal_qi_tdate"),d=o.querySelector(".gantt_cal_qi_content"),u=o.querySelector(".gantt_cal_qi_controls");i._waiAria.quickInfoHeader(o,[t.header.title,t.header.date].join(" ")),a.innerHTML=t.header.title,l.innerHTML=t.header.date,t.header.title||t.header.date?s.style.display="":s.style.display="none",d.innerHTML=t.content;let f=t.buttons;f.length?u.style.display="":u.style.display="none";let g="";for(let p=0;p<f.length;p++){let v=i._waiAria.quickInfoButtonAttrString(i.locale.labels[f[p]]);g+=`<div class="gantt_qi_big_icon ${f[p]} dhx_gantt_${f[p]}" title="${i.locale.labels[f[p]]}" ${v}>
            <div class='dhx_menu_icon dhx_gantt_icon ${f[p]} gantt_menu_icon dhx_gantt_${f[p]}'></div>
            <div>${i.locale.labels[f[p]]}</div>
         </div>`}u.innerHTML=g,i.eventRemove(o,"click",this._qiButtonClickHandler),i.eventRemove(o,"keypress",this._qiKeyPressHandler),i.event(o,"click",this._qiButtonClickHandler),i.event(o,"keypress",this._qiKeyPressHandler)},this._qiButtonClickHandler=t=>{this._qi_button_click(t.target)},this._qiKeyPressHandler=t=>{let i=t.which;i!==13&&i!==32||setTimeout(()=>{this._qi_button_click(t.target)},1)},this._gantt=n}_showAtCoordinates(n,t){this.hide(!0),this._quickInfoBoxId=0,this._quickInfoTask=null,this._quickInfoBox||(this._createQuickInfoElement(),this.setContent()),this._appendAtCoordinates(n,t),this._gantt.callEvent("onQuickInfo",[null])}_showForTask(n){let t=this._gantt;if(n===this._quickInfoBoxId&&t.utils.dom.isChildOf(this._quickInfoBox,document.body)||!t.config.show_quick_info)return;this.hide(!0);let i=this._getContainer(),r=this._get_event_counter_part(n,6,i.xViewport,i.yViewport);r&&(this._quickInfoBox=this._init_quick_info(n),this._quickInfoTask=n,this._quickInfoBox.className=this._prepare_quick_info_classname(n),this._fill_quick_data(n),this._show_quick_info(r,6),t.callEvent("onQuickInfo",[n]))}_get_event_counter_part(n,t,i,r){let o=this._gantt,s=o.getTaskNode(n);if(!s&&(s=o.getTaskRowNode(n),!s))return null;let a=0,l=t+s.offsetTop+s.offsetHeight,d=s;if(o.utils.dom.isChildOf(d,i))for(;d&&d!==i;)a+=d.offsetLeft,d=d.offsetParent;let u=o.getScrollState();return d?{left:a,top:l,dx:a+s.offsetWidth/2-u.x>i.offsetWidth/2?1:0,dy:l+s.offsetHeight/2-u.y>r.offsetHeight/2?1:0,width:s.offsetWidth,height:s.offsetHeight}:null}_createQuickInfoElement(){let n=this._gantt,t=document.createElement("div");t.className+="gantt_cal_quick_info",n._waiAria.quickInfoAttr(t);var i=`
		<div class="gantt_cal_qi_tcontrols">
			<a class="gantt_cal_qi_close_btn dhx_gantt_icon dhx_gantt_icon_close"></a>
		</div>
		<div class="gantt_cal_qi_title" ${n._waiAria.quickInfoHeaderAttrString()}>
				
				<div class="gantt_cal_qi_tcontent"></div>
				<div class="gantt_cal_qi_tdate"></div>
			</div>
			<div class="gantt_cal_qi_content"></div>`;if(i+='<div class="gantt_cal_qi_controls">',i+="</div>",t.innerHTML=i,n.config.quick_info_detached){let r=this._getContainer();n.event(r.parent,"scroll",()=>{this.hide()})}return this._quickInfoBox=t,t}_init_quick_info(n){let t=this._gantt,i=t.getTask(n);return typeof this._quickInfoReadonly=="boolean"&&t.isReadonly(i)!==this._quickInfoReadonly&&(this.hide(!0),this._quickInfoBox=null),this._quickInfoReadonly=t.isReadonly(i),this._quickInfoBox||(this._quickInfoBox=this._createQuickInfoElement()),this._quickInfoBox}_prepare_quick_info_classname(n){let t=this._gantt,i=t.getTask(n),r=`gantt_cal_quick_info gantt_${t.getTaskType(i)}`,o=t.templates.quick_info_class(i.start_date,i.end_date,i);return o&&(r+=" "+o),r}_fill_quick_data(n){let t=this._gantt,i=t.getTask(n);this._quickInfoBoxId=n;let r=[];if(this._quickInfoReadonly){let o=t.config.quickinfo_buttons,s={icon_delete:!0,icon_edit:!0};for(let a=0;a<o.length;a++)this._quickInfoReadonly&&s[o[a]]||r.push(o[a])}else r=t.config.quickinfo_buttons;this.setContent({header:{title:t.templates.quick_info_title(i.start_date,i.end_date,i),date:t.templates.quick_info_date(i.start_date,i.end_date,i)},content:t.templates.quick_info_content(i.start_date,i.end_date,i),buttons:r})}_appendAtCoordinates(n,t){let i=this._quickInfoBox,r=this._getContainer();i.parentNode&&i.parentNode.nodeName.toLowerCase()!=="#document-fragment"||r.parent.appendChild(i),i.style.left=n+"px",i.style.top=t+"px"}_show_quick_info(n,t){let i=this._gantt,r=this._quickInfoBox;if(i.config.quick_info_detached){let o=this._getContainer();r.parentNode&&r.parentNode.nodeName.toLowerCase()!=="#document-fragment"||o.parent.appendChild(r);let s=r.offsetWidth,a=r.offsetHeight,l=i.getScrollState(),d=o.xViewport,u=o.yViewport,f=d.offsetWidth+l.x-s,g=n.top-l.y+a,p=n.top;g>u.offsetHeight/2&&(p=n.top-(a+n.height+2*t),p<l.y&&g<=u.offsetHeight&&(p=n.top)),p<l.y&&(p=l.y);let v=Math.min(Math.max(l.x,n.left-n.dx*(s-n.width)),f),k=p;this._appendAtCoordinates(v,k)}else r.style.top="20px",n.dx===1?(r.style.right="auto",r.style.left="-300px",setTimeout(()=>{r.style.left="10px"},1)):(r.style.left="auto",r.style.right="-300px",setTimeout(()=>{r.style.right="10px"},1)),r.className+=" gantt_qi_"+(n.dx===1?"left":"right"),i.$root.appendChild(r)}_qi_button_click(n){let t=this._gantt,i=this._quickInfoBox;if(!n||n===i)return;if(n.closest(".gantt_cal_qi_close_btn"))return void this.hide();let r=n.className;if(r.indexOf("_icon")!==-1){let o=this._quickInfoBoxId;t.$click.buttons[r.split(" ")[1].replace("icon_","")](o)}else this._qi_button_click(n.parentNode)}_getContainer(){let n=this._gantt,t=this._container?this._container:n.$task_data;return t&&t.offsetHeight&&t.offsetWidth?{parent:t,xViewport:n.$task,yViewport:n.$task_data}:(t=this._container?this._container:n.$grid_data,t&&t.offsetHeight&&t.offsetWidth?{parent:t,xViewport:n.$grid,yViewport:n.$grid_data}:{parent:this._container?this._container:n.$layout,xViewport:n.$layout,yViewport:n.$layout})}},Py,Rj={}.constructor.toString();function ln(e){var n,t;if(e&&typeof e=="object")switch(!0){case Tn(e):t=new Date(e);break;case qy(e):for(t=new Array(e.length),n=0;n<e.length;n++)t[n]=ln(e[n]);break;default:if(function(i){return i.constructor.toString()!==Rj}(e))t=Object.create(e);else{if(function(i){return i.$$typeof&&i.$$typeof.toString().includes("react.")}(e))return t=e;t={}}for(n in e)Object.prototype.hasOwnProperty.apply(e,[n])&&(t[n]=ln(e[n]))}return t||e}function $e(e,n,t){for(var i in n)(e[i]===void 0||t)&&(e[i]=n[i]);return e}function Dt(e){return e!==void 0}function hi(){return Py||(Py=new Date().valueOf()),++Py}function Ye(e,n){return e.bind?e.bind(n):function(){return e.apply(n,arguments)}}function TD(e,n,t,i){e.addEventListener?e.addEventListener(n,t,i!==void 0&&i):e.attachEvent&&e.attachEvent("on"+n,t)}function DD(e,n,t,i){e.removeEventListener?e.removeEventListener(n,t,i!==void 0&&i):e.detachEvent&&e.detachEvent("on"+n,t)}var Oj=Object.freeze(Object.defineProperty({__proto__:null,bind:Ye,copy:ln,defined:Dt,event:TD,eventRemove:DD,mixin:$e,uid:hi},Symbol.toStringTag,{value:"Module"}));function bb(e,n){e=e||TD,n=n||DD;var t=[],i={attach:function(r,o,s,a){t.push({element:r,event:o,callback:s,capture:a}),e(r,o,s,a)},detach:function(r,o,s,a){n(r,o,s,a);for(var l=0;l<t.length;l++){var d=t[l];d.element===r&&d.event===o&&d.callback===s&&d.capture===a&&(t.splice(l,1),l--)}},detachAll:function(){for(var r=t.slice(),o=0;o<r.length;o++){var s=r[o];i.detach(s.element,s.event,s.callback,s.capture),i.detach(s.element,s.event,s.callback,void 0),i.detach(s.element,s.event,s.callback,!1),i.detach(s.element,s.event,s.callback,!0)}t.splice(0,t.length)},extend:function(){return bb(this.event,this.eventRemove)}};return i}var Ky=class{constructor(n){this._gantt=n}getNode(){let n=this._gantt;return this._tooltipNode||(this._tooltipNode=document.createElement("div"),this._tooltipNode.className="gantt_tooltip",n._waiAria.tooltipAttr(this._tooltipNode)),this._tooltipNode}setViewport(n){return this._root=n,this}show(n,t){let i=this._gantt,r=document.body,o=this.getNode();if(mn(o,r)||(this.hide(),o.style.top=o.style.top||"0px",o.style.left=o.style.left||"0px",r.appendChild(o)),this._isLikeMouseEvent(n)){let s=this._calculateTooltipPosition(n);t=s.top,n=s.left}return o.style.top=t+"px",o.style.left=n+"px",i._waiAria.tooltipVisibleAttr(o),this}hide(){let n=this._gantt,t=this.getNode();return t&&t.parentNode&&t.parentNode.removeChild(t),n._waiAria.tooltipHiddenAttr(t),this}setContent(n){return this.getNode().innerHTML=n,this}_isLikeMouseEvent(n){return!(!n||typeof n!="object")&&"clientX"in n&&"clientY"in n}_getViewPort(){return this._root||document.body}_calculateTooltipPosition(n){let t=this._gantt,i=this._getViewPortSize(),r=this.getNode(),o={top:0,left:0,width:r.offsetWidth,height:r.offsetHeight,bottom:0,right:0},s=t.config.tooltip_offset_x,a=t.config.tooltip_offset_y,l=document.body,d=ui(n,l),u=qt(l);d.y+=u.y,o.top=d.y,o.left=d.x,o.top+=a,o.left+=s,o.bottom=o.top+o.height,o.right=o.left+o.width;let f=window.scrollY+l.scrollTop;return o.top<i.top-f?(o.top=i.top,o.bottom=o.top+o.height):o.bottom>i.bottom&&(o.bottom=i.bottom,o.top=o.bottom-o.height),o.left<i.left?(o.left=i.left,o.right=i.left+o.width):o.right>i.right&&(o.right=i.right,o.left=o.right-o.width),d.x>=o.left&&d.x<=o.right&&(o.left=d.x-o.width-s,o.right=o.left+o.width),d.y>=o.top&&d.y<=o.bottom&&(o.top=d.y-o.height-a,o.bottom=o.top+o.height),o}_getViewPortSize(){let n=this._gantt,t=this._getViewPort(),i,r=t,o=window.scrollY+document.body.scrollTop,s=window.scrollX+document.body.scrollLeft;return t===n.$task_data?(r=n.$task,o=0,s=0,i=qt(n.$task)):i=qt(r),{left:i.x+s,top:i.y+o,width:i.width,height:i.height,bottom:i.y+i.height+o,right:i.x+i.width+s}}},Jy=class{constructor(n){this._listeners={},this.tooltip=new Ky(n),this._gantt=n,this._domEvents=bb(),this._initDelayedFunctions()}destructor(){this.tooltip.hide(),this._domEvents.detachAll()}hideTooltip(){this.delayHide()}attach(n){let t=document.body,i=this._gantt;n.global||(t=i.$root);let r=null,o=s=>{let a=rs(s),l=$i(a,n.selector);if(mn(a,this.tooltip.getNode()))return;let d=()=>{r=l,n.onmouseenter(s,l)};r?l&&l===r?n.onmousemove(s,l):(n.onmouseleave(s,r),r=null,l&&l!==r&&d()):l&&d()};this.detach(n.selector),this._domEvents.attach(t,"mousemove",o),this._listeners[n.selector]={node:t,handler:o}}detach(n){let t=this._listeners[n];t&&this._domEvents.detach(t.node,"mousemove",t.handler)}tooltipFor(n){let t=i=>{let r=i;return document.createEventObject&&!document.createEvent&&(r=document.createEventObject(i)),r};this._initDelayedFunctions(),this.attach({selector:n.selector,global:n.global,onmouseenter:(i,r)=>{let o=n.html(i,r);o&&this.delayShow(t(i),o)},onmousemove:(i,r)=>{let o=n.html(i,r);o?this.delayShow(t(i),o):(this.delayShow.$cancelTimeout(),this.delayHide())},onmouseleave:()=>{this.delayShow.$cancelTimeout(),this.delayHide()}})}_initDelayedFunctions(){let n=this._gantt;this.delayShow&&this.delayShow.$cancelTimeout(),this.delayHide&&this.delayHide.$cancelTimeout(),this.tooltip.hide(),this.delayShow=YT((t,i)=>{n.callEvent("onBeforeTooltip",[t])===!1?this.tooltip.hide():(this.tooltip.setContent(i),this.tooltip.show(t))},n.config.tooltip_timeout||1),this.delayHide=YT(()=>{this.delayShow.$cancelTimeout(),this.tooltip.hide()},n.config.tooltip_hide_timeout||1)}},JT={onBeforeUndo:"onAfterUndo",onBeforeRedo:"onAfterRedo"},XT=["onTaskDragStart","onAfterTaskUpdate","onAfterParentExpand","onAfterTaskDelete","onBeforeBatchUpdate"],Xy=class{constructor(n,t){this._batchAction=null,this._batchMode=!1,this._ignore=!1,this._ignoreMoveEvents=!1,this._initialTasks={},this._initialLinks={},this._nestedTasks={},this._nestedLinks={},this._undo=n,this._gantt=t,this._attachEvents()}store(n,t,i=!1){return t===this._gantt.config.undo_types.task?this._storeTask(n,i):t===this._gantt.config.undo_types.link&&this._storeLink(n,i)}isMoveEventsIgnored(){return this._ignoreMoveEvents}toggleIgnoreMoveEvents(n){this._ignoreMoveEvents=n||!1}startIgnore(){this._ignore=!0}stopIgnore(){this._ignore=!1}startBatchAction(){this._timeout||(this._timeout=setTimeout(()=>{this.stopBatchAction(),this._timeout=null},10)),this._ignore||this._batchMode||(this._batchMode=!0,this._batchAction=this._undo.action.create())}stopBatchAction(){if(this._ignore)return;let n=this._undo;this._batchAction&&n.logAction(this._batchAction),this._batchMode=!1,this._batchAction=null}onTaskAdded(n){this._ignore||this._storeTaskCommand(n,this._undo.command.type.add)}onTaskUpdated(n){this._ignore||this._storeTaskCommand(n,this._undo.command.type.update)}onTaskMoved(n){this._ignore||(n.$local_index=this._gantt.getTaskIndex(n.id),this._storeEntityCommand(n,this.getInitialTask(n.id),this._undo.command.type.move,this._undo.command.entity.task))}onTaskDeleted(n){if(!this._ignore){if(this._storeTaskCommand(n,this._undo.command.type.remove),this._nestedTasks[n.id]){let t=this._nestedTasks[n.id];for(let i=0;i<t.length;i++)this._storeTaskCommand(t[i],this._undo.command.type.remove)}if(this._nestedLinks[n.id]){let t=this._nestedLinks[n.id];for(let i=0;i<t.length;i++)this._storeLinkCommand(t[i],this._undo.command.type.remove)}}}onLinkAdded(n){this._ignore||this._storeLinkCommand(n,this._undo.command.type.add)}onLinkUpdated(n){this._ignore||this._storeLinkCommand(n,this._undo.command.type.update)}onLinkDeleted(n){this._ignore||this._storeLinkCommand(n,this._undo.command.type.remove)}setNestedTasks(n,t){let i=this._gantt,r=null,o=[],s=this._getLinks(i.getTask(n));for(let d=0;d<t.length;d++)r=this.setInitialTask(t[d]),s=s.concat(this._getLinks(r)),o.push(r);let a={};for(let d=0;d<s.length;d++)a[s[d]]=!0;let l=[];for(let d in a)l.push(this.setInitialLink(d));this._nestedTasks[n]=o,this._nestedLinks[n]=l}setInitialTask(n,t){let i=this._gantt;if(t||!this._initialTasks[n]||!this._batchMode){let r=i.copy(i.getTask(n));r.$index=i.getGlobalTaskIndex(n),r.$local_index=i.getTaskIndex(n),this.setInitialTaskObject(n,r)}return this._initialTasks[n]}getInitialTask(n){return this._initialTasks[n]}clearInitialTasks(){this._initialTasks={}}setInitialTaskObject(n,t){this._initialTasks[n]=t}setInitialLink(n,t){return this._initialLinks[n]&&this._batchMode||(this._initialLinks[n]=this._gantt.copy(this._gantt.getLink(n))),this._initialLinks[n]}getInitialLink(n){return this._initialLinks[n]}clearInitialLinks(){this._initialLinks={}}_attachEvents(){let n=null,t=this._gantt,i=()=>{n||(n=setTimeout(()=>{n=null}),this.clearInitialTasks(),t.eachTask(l=>{this.setInitialTask(l.id)}),this.clearInitialLinks(),t.getLinks().forEach(l=>{this.setInitialLink(l.id)}))},r=l=>t.copy(t.getTask(l));for(let l in JT)t.attachEvent(l,()=>(this.startIgnore(),!0)),t.attachEvent(JT[l],()=>(this.stopIgnore(),!0));for(let l=0;l<XT.length;l++)t.attachEvent(XT[l],()=>(this.startBatchAction(),!0));t.attachEvent("onParse",()=>{this._undo.clearUndoStack(),this._undo.clearRedoStack(),i()}),t.attachEvent("onAfterTaskAdd",(l,d)=>{this.setInitialTask(l,!0),this.onTaskAdded(d)}),t.attachEvent("onAfterTaskUpdate",(l,d)=>{this.onTaskUpdated(d)}),t.attachEvent("onAfterParentExpand",(l,d)=>{this.onTaskUpdated(d)}),t.attachEvent("onAfterTaskDelete",(l,d)=>{this.onTaskDeleted(d)}),t.attachEvent("onAfterLinkAdd",(l,d)=>{this.setInitialLink(l,!0),this.onLinkAdded(d)}),t.attachEvent("onAfterLinkUpdate",(l,d)=>{this.onLinkUpdated(d)}),t.attachEvent("onAfterLinkDelete",(l,d)=>{this.onLinkDeleted(d)}),t.attachEvent("onRowDragEnd",(l,d)=>(this.onTaskMoved(r(l)),this.toggleIgnoreMoveEvents(),!0)),t.attachEvent("onBeforeTaskDelete",l=>{this.store(l,t.config.undo_types.task);let d=[];return i(),t.eachTask(u=>{d.push(u.id)},l),this.setNestedTasks(l,d),!0});let o=t.getDatastore("task");o.attachEvent("onBeforeItemMove",(l,d,u)=>(this.isMoveEventsIgnored()||i(),!0)),o.attachEvent("onAfterItemMove",(l,d,u)=>(this.isMoveEventsIgnored()||this.onTaskMoved(r(l)),!0)),t.attachEvent("onRowDragStart",(l,d,u)=>(this.toggleIgnoreMoveEvents(!0),i(),!0));let s=null,a=!1;if(t.attachEvent("onBeforeTaskDrag",l=>{if(s=t.getState().drag_id,s===l){let d=t.getTask(l);t.isSummaryTask(d)&&t.config.drag_project&&(a=!0)}if(t.plugins().multiselect){let d=t.getSelectedTasks();d.length>1&&d.forEach(u=>{this.store(u,t.config.undo_types.task,!0)})}return this.store(l,t.config.undo_types.task)}),t.attachEvent("onAfterTaskDrag",l=>{(a||t.plugins().multiselect&&t.getSelectedTasks().length>1)&&s===l&&(a=!1,s=null,this.stopBatchAction()),this.store(l,t.config.undo_types.task,!0)}),t.attachEvent("onLightbox",l=>this.store(l,t.config.undo_types.task)),t.attachEvent("onBeforeTaskAutoSchedule",l=>(this.store(l.id,t.config.undo_types.task,!0),!0)),t.ext.inlineEditors){let l=null,d=null;t.attachEvent("onGanttLayoutReady",()=>{l&&t.ext.inlineEditors.detachEvent(l),d&&t.ext.inlineEditors.detachEvent(d),d=t.ext.inlineEditors.attachEvent("onEditStart",u=>{this.store(u.id,t.config.undo_types.task)}),l=t.ext.inlineEditors.attachEvent("onBeforeEditStart",u=>(this.stopBatchAction(),!0))})}}_storeCommand(n){let t=this._undo;if(t.updateConfigs(),t.undoEnabled)if(this._batchMode)this._batchAction.commands.push(n);else{let i=t.action.create([n]);t.logAction(i)}}_storeEntityCommand(n,t,i,r){let o=this._undo.command.create(n,t,i,r);this._storeCommand(o)}_storeTaskCommand(n,t){this._gantt.isTaskExists(n.id)&&(n.$local_index=this._gantt.getTaskIndex(n.id)),this._storeEntityCommand(n,this.getInitialTask(n.id),t,this._undo.command.entity.task)}_storeLinkCommand(n,t){this._storeEntityCommand(n,this.getInitialLink(n.id),t,this._undo.command.entity.link)}_getLinks(n){return n.$source.concat(n.$target)}_storeTask(n,t=!1){let i=this._gantt;return this.setInitialTask(n,t),i.eachTask(r=>{this.setInitialTask(r.id)},n),!0}_storeLink(n,t=!1){return this.setInitialLink(n,t),!0}},Qy=class{constructor(n){this.maxSteps=100,this.undoEnabled=!0,this.redoEnabled=!0,this.action={create:t=>({commands:t?t.slice():[]}),invert:t=>{let i=this._gantt.copy(t),r=this.command;for(let o=0;o<t.commands.length;o++){let s=i.commands[o]=r.invert(i.commands[o]);s.type!==r.type.update&&s.type!==r.type.move||([s.value,s.oldValue]=[s.oldValue,s.value])}return i}},this.command={entity:null,type:null,create:(t,i,r,o)=>{let s=this._gantt;return{entity:o,type:r,value:s.copy(t),oldValue:s.copy(i||t)}},invert:t=>{let i=this._gantt.copy(t);return i.type=this.command.inverseCommands(t.type),i},inverseCommands:t=>{let i=this._gantt,r=this.command.type;switch(t){case r.update:return r.update;case r.remove:return r.add;case r.add:return r.remove;case r.move:return r.move;default:return i.assert(!1,"Invalid command "+t),null}}},this._undoStack=[],this._redoStack=[],this._gantt=n}getUndoStack(){return this._undoStack}setUndoStack(n){this._undoStack=n}getRedoStack(){return this._redoStack}setRedoStack(n){this._redoStack=n}clearUndoStack(){this._undoStack=[]}clearRedoStack(){this._redoStack=[]}updateConfigs(){let n=this._gantt;this.maxSteps=n.config.undo_steps||100,this.command.entity=n.config.undo_types,this.command.type=n.config.undo_actions,this.undoEnabled=!!n.config.undo,this.redoEnabled=!!n.config.redo}undo(){let n=this._gantt;if(this.updateConfigs(),!this.undoEnabled)return;let t=this._pop(this._undoStack);if(t&&this._reorderCommands(t),n.callEvent("onBeforeUndo",[t])!==!1&&t)return this._applyAction(this.action.invert(t)),this._push(this._redoStack,n.copy(t)),void n.callEvent("onAfterUndo",[t]);n.callEvent("onAfterUndo",[null])}redo(){let n=this._gantt;if(this.updateConfigs(),!this.redoEnabled)return;let t=this._pop(this._redoStack);if(t&&this._reorderCommands(t),n.callEvent("onBeforeRedo",[t])!==!1&&t)return this._applyAction(t),this._push(this._undoStack,n.copy(t)),void n.callEvent("onAfterRedo",[t]);n.callEvent("onAfterRedo",[null])}logAction(n){this._push(this._undoStack,n),this._redoStack=[]}_push(n,t){let i=this._gantt;if(!t.commands.length)return;let r=n===this._undoStack?"onBeforeUndoStack":"onBeforeRedoStack";if(i.callEvent(r,[t])!==!1&&t.commands.length){for(n.push(t);n.length>this.maxSteps;)n.shift();return t}}_pop(n){return n.pop()}_reorderCommands(n){let t={any:0,link:1,task:2},i={move:1,any:0};n.commands.sort(function(r,o){if(r.entity==="task"&&o.entity==="task")return r.type!==o.type?(i[o.type]||0)-(i[r.type]||0):r.type==="move"&&r.oldValue&&o.oldValue&&o.oldValue.parent===r.oldValue.parent?r.oldValue.$index-o.oldValue.$index:0;{let s=t[r.entity]||t.any;return(t[o.entity]||t.any)-s}})}_applyAction(n){let t=null,i=this.command.entity,r=this.command.type,o=this._gantt,s={};s[i.task]={add:"addTask",get:"getTask",update:"updateTask",remove:"deleteTask",move:"moveTask",isExists:"isTaskExists"},s[i.link]={add:"addLink",get:"getLink",update:"updateLink",remove:"deleteLink",isExists:"isLinkExists"},o.batchUpdate(function(){for(let a=0;a<n.commands.length;a++){t=n.commands[a];let l=s[t.entity][t.type],d=s[t.entity].get,u=s[t.entity].isExists;if(t.type===r.add)o[l](t.oldValue,t.oldValue.parent,t.oldValue.$local_index);else if(t.type===r.remove)o[u](t.value.id)&&o[l](t.value.id);else if(t.type===r.update){let f=o[d](t.value.id);for(let g in t.value){let p=!(g.startsWith("$")||g.startsWith("_"));["$open"].indexOf(g)>-1&&(p=!0),p&&(f[g]=t.value[g])}o[l](t.value.id)}else t.type===r.move&&(o[l](t.value.id,t.value.$local_index,t.value.parent),o.callEvent("onRowDragEnd",[t.value.id]))}})}},Lj={click_drag:function(e){e.ext||(e.ext={});let n={className:"gantt_click_drag_rect",useRequestAnimationFrame:!0,callback:void 0,singleRow:!1};function t(){let i=K({viewPort:e.$task_data},n);e.ext.clickDrag&&e.ext.clickDrag.destructor(),e.ext.clickDrag=new Aj(e);let r=e.config.click_drag;i.render=r.render||n.render,i.className=r.className||n.className,i.callback=r.callback||n.callback,i.viewPort=r.viewPort||e.$task_data,i.useRequestAnimationFrame=r.useRequestAnimationFrame===void 0?n.useRequestAnimationFrame:r.useRequestAnimationFrame,i.singleRow=r.singleRow===void 0?n.singleRow:r.singleRow;let o=e.$ui.getView("timeline"),s=new Zy(i,e,o);e.ext.clickDrag.attach(s,r.useKey,r.ignore)}e.attachEvent("onGanttReady",()=>{e.config.click_drag&&t()}),e.attachEvent("onGanttLayoutReady",function(){e.$container&&e.config.click_drag&&e.attachEvent("onGanttRender",function(){t()},{once:!0})}),e.attachEvent("onDestroy",()=>{e.ext.clickDrag&&e.ext.clickDrag.destructor()})},drag_timeline:function(e){e.ext||(e.ext={}),e.ext.dragTimeline={create:()=>_g.create(e),_isDragInProgress:()=>_g._isDragInProgress},e.config.drag_timeline={enabled:!0,render:!1}},fullscreen:function(e){function n(){let u=document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement;return!(!u||u!==document.body)}function t(){try{return document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled}catch(u){console.error("Fullscreen is not available:",u)}}e.$services.getService("state").registerProvider("fullscreen",()=>t()?{fullscreen:n()}:void 0);let i={overflow:null,padding:null,paddingTop:null,paddingRight:null,paddingBottom:null,paddingLeft:null},r={width:null,height:null,top:null,left:null,position:null,zIndex:null,modified:!1},o=null;function s(u,f){f.width=u.width,f.height=u.height,f.top=u.top,f.left=u.left,f.position=u.position,f.zIndex=u.zIndex}let a=!1;function l(){if(!e.$container)return;let u;n()?a&&(u="onExpand",function(){let f=e.ext.fullscreen.getFullscreenElement(),g=document.body;s(f.style,r),i={overflow:g.style.overflow,padding:g.style.padding?g.style.padding:null,paddingTop:g.style.paddingTop?g.style.paddingTop:null,paddingRight:g.style.paddingRight?g.style.paddingRight:null,paddingBottom:g.style.paddingBottom?g.style.paddingBottom:null,paddingLeft:g.style.paddingLeft?g.style.paddingLeft:null},g.style.padding&&(g.style.padding="0"),g.style.paddingTop&&(g.style.paddingTop="0"),g.style.paddingRight&&(g.style.paddingRight="0"),g.style.paddingBottom&&(g.style.paddingBottom="0"),g.style.paddingLeft&&(g.style.paddingLeft="0"),g.style.overflow="hidden",f.style.width="100vw",f.style.height="100vh",f.style.top="0px",f.style.left="0px",f.style.position="absolute",f.style.zIndex=1,r.modified=!0,o=function(p){let v=p.parentNode,k=[];for(;v&&v.style;)k.push({element:v,originalPositioning:v.style.position}),v.style.position="static",v=v.parentNode;return k}(f)}()):a&&(a=!1,u="onCollapse",function(){let f=e.ext.fullscreen.getFullscreenElement(),g=document.body;r.modified&&(i.padding&&(g.style.padding=i.padding),i.paddingTop&&(g.style.paddingTop=i.paddingTop),i.paddingRight&&(g.style.paddingRight=i.paddingRight),i.paddingBottom&&(g.style.paddingBottom=i.paddingBottom),i.paddingLeft&&(g.style.paddingLeft=i.paddingLeft),g.style.overflow=i.overflow,i={overflow:null,padding:null,paddingTop:null,paddingRight:null,paddingBottom:null,paddingLeft:null},s(r,f.style),r.modified=!1),o.forEach(p=>{p.element.style.position=p.originalPositioning}),o=null}()),setTimeout(()=>{e.render()}),setTimeout(()=>{e.callEvent(u,[e.ext.fullscreen.getFullscreenElement()])})}function d(){return!e.$container||!e.ext.fullscreen.getFullscreenElement()?!0:t()?!1:((console.warning||console.log)("The `fullscreen` feature not being allowed, or full-screen mode not being supported"),!0)}e.ext.fullscreen={expand(){if(d()||n()||!e.callEvent("onBeforeExpand",[this.getFullscreenElement()]))return;a=!0;let u=document.body,f=u.webkitRequestFullscreen?[Element.ALLOW_KEYBOARD_INPUT]:[],g=u.msRequestFullscreen||u.mozRequestFullScreen||u.webkitRequestFullscreen||u.requestFullscreen;g&&g.apply(u,f)},collapse(){if(d()||!n()||!e.callEvent("onBeforeCollapse",[this.getFullscreenElement()]))return;let u=document.msExitFullscreen||document.mozCancelFullScreen||document.webkitExitFullscreen||document.exitFullscreen;u&&u.apply(document)},toggle(){d()||(n()?this.collapse():this.expand())},getFullscreenElement:()=>e.$root},e.expand=function(){e.ext.fullscreen.expand()},e.collapse=function(){e.ext.fullscreen.collapse()},e.attachEvent("onGanttReady",function(){e.event(document,"webkitfullscreenchange",l),e.event(document,"mozfullscreenchange",l),e.event(document,"MSFullscreenChange",l),e.event(document,"fullscreenChange",l),e.event(document,"fullscreenchange",l)})},keyboard_navigation:function(e){(function(n){n.config.keyboard_navigation=!0,n.config.keyboard_navigation_cells=!1,n.$keyboardNavigation={},n._compose=function(){for(var t=Array.prototype.slice.call(arguments,0),i={},r=0;r<t.length;r++){var o=t[r];for(var s in typeof o=="function"&&(o=new o),o)i[s]=o[s]}return i},function(t){t.$keyboardNavigation.shortcuts={createCommand:function(){return{modifiers:{shift:!1,alt:!1,ctrl:!1,meta:!1},keyCode:null}},parse:function(i){for(var r=[],o=this.getExpressions(this.trim(i)),s=0;s<o.length;s++){for(var a=this.getWords(o[s]),l=this.createCommand(),d=0;d<a.length;d++)this.commandKeys[a[d]]?l.modifiers[a[d]]=!0:this.specialKeys[a[d]]?l.keyCode=this.specialKeys[a[d]]:l.keyCode=a[d].charCodeAt(0);r.push(l)}return r},getCommandFromEvent:function(i){var r=this.createCommand();r.modifiers.shift=!!i.shiftKey,r.modifiers.alt=!!i.altKey,r.modifiers.ctrl=!!i.ctrlKey,r.modifiers.meta=!!i.metaKey,r.keyCode=i.which||i.keyCode,r.keyCode>=96&&r.keyCode<=105&&(r.keyCode-=48);var o=String.fromCharCode(r.keyCode);return o&&(r.keyCode=o.toLowerCase().charCodeAt(0)),r},getHashFromEvent:function(i){return this.getHash(this.getCommandFromEvent(i))},getHash:function(i){var r=[];for(var o in i.modifiers)i.modifiers[o]&&r.push(o);return r.push(i.keyCode),r.join(this.junctionChar)},getExpressions:function(i){return i.split(this.junctionChar)},getWords:function(i){return i.split(this.combinationChar)},trim:function(i){return i.replace(/\s/g,"")},junctionChar:",",combinationChar:"+",commandKeys:{shift:16,alt:18,ctrl:17,meta:!0},specialKeys:{backspace:8,tab:9,enter:13,esc:27,space:32,up:38,down:40,left:37,right:39,home:36,end:35,pageup:33,pagedown:34,delete:46,insert:45,plus:107,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123}}}(n),function(t){t.$keyboardNavigation.EventHandler={_handlers:null,findHandler:function(i){this._handlers||(this._handlers={});var r=t.$keyboardNavigation.shortcuts.getHash(i);return this._handlers[r]},doAction:function(i,r){var o=this.findHandler(i);if(o){if(t.$keyboardNavigation.facade.callEvent("onBeforeAction",[i,r])===!1)return;o.call(this,r),r.preventDefault?r.preventDefault():r.returnValue=!1}},bind:function(i,r){this._handlers||(this._handlers={});for(var o=t.$keyboardNavigation.shortcuts,s=o.parse(i),a=0;a<s.length;a++)this._handlers[o.getHash(s[a])]=r},unbind:function(i){for(var r=t.$keyboardNavigation.shortcuts,o=r.parse(i),s=0;s<o.length;s++)this._handlers[r.getHash(o[s])]&&delete this._handlers[r.getHash(o[s])]},bindAll:function(i){for(var r in i)this.bind(r,i[r])},initKeys:function(){this._handlers||(this._handlers={}),this.keys&&this.bindAll(this.keys)}}}(n),function(t){t.$keyboardNavigation.getFocusableNodes=Kc,t.$keyboardNavigation.trapFocus=function(i,r){if(r.keyCode!=9)return!1;for(var o=t.$keyboardNavigation.getFocusableNodes(i),s=Gy(),a=-1,l=0;l<o.length;l++)if(o[l]==s){a=l;break}if(r.shiftKey){if(a<=0){var d=o[o.length-1];if(d)return d.focus(),r.preventDefault(),!0}}else if(a>=o.length-1){var u=o[0];if(u)return u.focus(),r.preventDefault(),!0}return!1}}(n),function(t){t.$keyboardNavigation.GanttNode=function(){},t.$keyboardNavigation.GanttNode.prototype=t._compose(t.$keyboardNavigation.EventHandler,{focus:function(){t.focus()},blur:function(){},isEnabled:function(){return t.$container.hasAttribute("tabindex")},scrollHorizontal:function(i){var r=t.dateFromPos(t.getScrollState().x),o=t.getScale(),s=i<0?-o.step:o.step;r=t.date.add(r,s,o.unit),t.scrollTo(t.posFromDate(r))},scrollVertical:function(i){var r=t.getScrollState().y,o=t.config.row_height;t.scrollTo(null,r+(i<0?-1:1)*o)},keys:{"alt+left":function(i){this.scrollHorizontal(-1)},"alt+right":function(i){this.scrollHorizontal(1)},"alt+up":function(i){this.scrollVertical(-1)},"alt+down":function(i){this.scrollVertical(1)},"ctrl+z":function(){t.undo&&t.undo()},"ctrl+r":function(){t.redo&&t.redo()}}}),t.$keyboardNavigation.GanttNode.prototype.bindAll(t.$keyboardNavigation.GanttNode.prototype.keys)}(n),function(t){t.$keyboardNavigation.KeyNavNode=function(){},t.$keyboardNavigation.KeyNavNode.prototype=t._compose(t.$keyboardNavigation.EventHandler,{isValid:function(){return!0},fallback:function(){return null},moveTo:function(i){t.$keyboardNavigation.dispatcher.setActiveNode(i)},compareTo:function(i){if(!i)return!1;for(var r in this){if(!!this[r]!=!!i[r])return!1;var o=!(!this[r]||!this[r].toString),s=!(!i[r]||!i[r].toString);if(s!=o)return!1;if(s&&o){if(i[r].toString()!=this[r].toString())return!1}else if(i[r]!=this[r])return!1}return!0},getNode:function(){},focus:function(){var i=this.getNode();if(i){var r=t.$keyboardNavigation.facade;r.callEvent("onBeforeFocus",[i])!==!1&&i&&(i.setAttribute("tabindex","-1"),i.$eventAttached||(i.$eventAttached=!0,t.event(i,"focus",function(o){return o.preventDefault(),!1},!1)),t.utils.dom.isChildOf(document.activeElement,i)&&(i=document.activeElement),i.focus&&i.focus(),r.callEvent("onFocus",[this.getNode()]))}},blur:function(){var i=this.getNode();i&&(t.$keyboardNavigation.facade.callEvent("onBlur",[i]),i.setAttribute("tabindex","-1"))}})}(n),function(t){t.$keyboardNavigation.HeaderCell=function(i){this.index=i||0},t.$keyboardNavigation.HeaderCell.prototype=t._compose(t.$keyboardNavigation.KeyNavNode,{_handlers:null,isValid:function(){return!(!t.config.show_grid&&t.getVisibleTaskCount()||!t.getGridColumns()[this.index]&&t.getVisibleTaskCount())},fallback:function(){if(!t.config.show_grid)return t.getVisibleTaskCount()?new t.$keyboardNavigation.TaskRow:null;for(var i=t.getGridColumns(),r=this.index;r>=0&&!i[r];)r--;return i[r]?new t.$keyboardNavigation.HeaderCell(r):null},fromDomElement:function(i){var r=Yr(i,"gantt_grid_head_cell");if(r){for(var o=0;r&&r.previousSibling;)r=r.previousSibling,o+=1;return new t.$keyboardNavigation.HeaderCell(o)}return null},getNode:function(){let i=t.$grid_scale;return i?i.childNodes[this.index]:null},keys:{left:function(){this.index>0&&this.moveTo(new t.$keyboardNavigation.HeaderCell(this.index-1))},right:function(){var i=t.getGridColumns();this.index<i.length-1&&this.moveTo(new t.$keyboardNavigation.HeaderCell(this.index+1))},down:function(){var i,r=t.getChildren(t.config.root_id);t.isTaskExists(r[0])&&(i=r[0]),i&&(t.config.keyboard_navigation_cells?this.moveTo(new t.$keyboardNavigation.TaskCell(i,this.index)):this.moveTo(new t.$keyboardNavigation.TaskRow(i)))},end:function(){var i=t.getGridColumns();this.moveTo(new t.$keyboardNavigation.HeaderCell(i.length-1))},home:function(){this.moveTo(new t.$keyboardNavigation.HeaderCell(0))},"enter, space":function(){Gy().click()},"ctrl+enter":function(){t.isReadonly(this)||t.createTask({},this.taskId)}}}),t.$keyboardNavigation.HeaderCell.prototype.bindAll(t.$keyboardNavigation.HeaderCell.prototype.keys)}(n),function(t){t.$keyboardNavigation.TaskRow=function(i){if(!i){var r=t.getChildren(t.config.root_id);r[0]&&(i=r[0])}this.taskId=i,t.isTaskExists(this.taskId)&&(this.index=t.getTaskIndex(this.taskId),this.globalIndex=t.getGlobalTaskIndex(this.taskId),this.splitItem=!!t.getTask(this.taskId).$split_subtask,this.parentId=t.getParent(this.taskId))},t.$keyboardNavigation.TaskRow.prototype=t._compose(t.$keyboardNavigation.KeyNavNode,{_handlers:null,isValid:function(){return t.isTaskExists(this.taskId)&&t.getTaskIndex(this.taskId)>-1},fallback:function(){if(!t.getVisibleTaskCount()){var i=new t.$keyboardNavigation.HeaderCell;return i.isValid()?i:null}if(this.splitItem)return new t.$keyboardNavigation.TaskRow(this.parentId);var r=-1;if(t.getTaskByIndex(this.globalIndex-1))r=this.globalIndex-1;else if(t.getTaskByIndex(this.globalIndex+1))r=this.globalIndex+1;else for(var o=this.globalIndex;o>=0;){if(t.getTaskByIndex(o)){r=o;break}o--}return r>-1?new t.$keyboardNavigation.TaskRow(t.getTaskByIndex(r).id):void 0},fromDomElement:function(i){if(t.config.keyboard_navigation_cells)return null;var r=t.locate(i);return t.isTaskExists(r)?new t.$keyboardNavigation.TaskRow(r):null},getNode:function(){if(t.isTaskExists(this.taskId)&&t.isTaskVisible(this.taskId))return t.config.show_grid?t.$grid.querySelector(`.gantt_row[${t.config.task_attribute}="${String(this.taskId).replaceAll('"','\\"')}"]`):t.getTaskNode(this.taskId)},focus:function(i){if(!i){let r=t.getTaskPosition(t.getTask(this.taskId)),o=t.getTaskHeight(this.taskId),s=t.getScrollState(),a,l;a=t.$task?t.$task.offsetWidth:s.inner_width,l=t.$grid_data||t.$task_data?(t.$grid_data||t.$task_data).offsetHeight:s.inner_height;let d=t.config.show_chart&&t.$ui.getView("timeline");r.top<s.y||r.top+o>s.y+l?t.scrollTo(null,r.top-20):t.config.scroll_on_click&&d&&(r.left>s.x+a?t.scrollTo(r.left-t.config.task_scroll_offset):r.left+r.width<s.x&&t.scrollTo(r.left+r.width-t.config.task_scroll_offset))}t.$keyboardNavigation.KeyNavNode.prototype.focus.apply(this,[i]),function(){var r=t.$ui.getView("grid");if(r&&r.$grid_data){var o=parseInt(r.$grid.scrollLeft),s=parseInt(r.$grid_data.scrollTop),a=r.$config.scrollX;if(a&&r.$config.scrollable){var l=t.$ui.getView(a);l&&l.scrollTo(o,s)}var d=r.$config.scrollY;if(d){var u=t.$ui.getView(d);u&&u.scrollTo(o,s)}}}()},keys:{pagedown:function(){t.getVisibleTaskCount()&&this.moveTo(new t.$keyboardNavigation.TaskRow(t.getTaskByIndex(t.getVisibleTaskCount()-1).id))},pageup:function(){t.getVisibleTaskCount()&&this.moveTo(new t.$keyboardNavigation.TaskRow(t.getTaskByIndex(0).id))},up:function(){var i=null,r=t.getPrev(this.taskId);i=t.isTaskExists(r)?new t.$keyboardNavigation.TaskRow(r):new t.$keyboardNavigation.HeaderCell,this.moveTo(i)},down:function(){var i=t.getNext(this.taskId);t.isTaskExists(i)&&this.moveTo(new t.$keyboardNavigation.TaskRow(i))},"shift+down":function(){t.hasChild(this.taskId)&&!t.getTask(this.taskId).$open&&t.open(this.taskId)},"shift+up":function(){t.hasChild(this.taskId)&&t.getTask(this.taskId).$open&&t.close(this.taskId)},"shift+right":function(){if(!t.isReadonly(this)){var i=t.getPrevSibling(this.taskId);t.isTaskExists(i)&&!t.isChildOf(this.taskId,i)&&(t.getTask(i).$open=!0,t.moveTask(this.taskId,-1,i)!==!1&&t.updateTask(this.taskId))}},"shift+left":function(){if(!t.isReadonly(this)){var i=t.getParent(this.taskId);t.isTaskExists(i)&&t.moveTask(this.taskId,t.getTaskIndex(i)+1,t.getParent(i))!==!1&&t.updateTask(this.taskId)}},space:function(i){t.isSelectedTask(this.taskId)?t.unselectTask(this.taskId):t.selectTask(this.taskId)},"ctrl+left":function(i){t.close(this.taskId)},"ctrl+right":function(i){t.open(this.taskId)},delete:function(i){t.isReadonly(this)||t.$click.buttons.delete(this.taskId)},enter:function(){t.isReadonly(this)||t.showLightbox(this.taskId)},"ctrl+enter":function(){t.isReadonly(this)||t.createTask({},this.taskId)}}}),t.$keyboardNavigation.TaskRow.prototype.bindAll(t.$keyboardNavigation.TaskRow.prototype.keys)}(n),function(t){t.$keyboardNavigation.TaskCell=function(i,r){if(!(i=di(i,t.config.root_id))){var o=t.getChildren(t.config.root_id);o[0]&&(i=o[0])}this.taskId=i,this.columnIndex=r||0,t.isTaskExists(this.taskId)&&(this.index=t.getTaskIndex(this.taskId),this.globalIndex=t.getGlobalTaskIndex(this.taskId))},t.$keyboardNavigation.TaskCell.prototype=t._compose(t.$keyboardNavigation.TaskRow,{_handlers:null,isValid:function(){return t.$keyboardNavigation.TaskRow.prototype.isValid.call(this)&&!!t.getGridColumns()[this.columnIndex]},fallback:function(){var i=t.$keyboardNavigation.TaskRow.prototype.fallback.call(this),r=i;if(i instanceof t.$keyboardNavigation.TaskRow){for(var o=t.getGridColumns(),s=this.columnIndex;s>=0&&!o[s];)s--;o[s]&&(r=new t.$keyboardNavigation.TaskCell(i.taskId,s))}return r},fromDomElement:function(i){if(!t.config.keyboard_navigation_cells)return null;var r=t.locate(i);if(t.isTaskExists(r)){var o=0,s=Gn(i,"data-column-index");return s&&(o=1*s.getAttribute("data-column-index")),new t.$keyboardNavigation.TaskCell(r,o)}return null},getNode:function(){if(t.isTaskExists(this.taskId)&&(t.isTaskVisible(this.taskId)||t.config.show_tasks_outside_timescale)){if(t.config.show_grid&&t.$grid){var i=t.$grid.querySelector(".gantt_row["+t.config.task_attribute+"='"+this.taskId+"']");return i?i.querySelector("[data-column-index='"+this.columnIndex+"']"):null}return t.getTaskNode(this.taskId)}},keys:{up:function(){var i=null,r=t.getPrev(this.taskId);i=t.isTaskExists(r)?new t.$keyboardNavigation.TaskCell(r,this.columnIndex):new t.$keyboardNavigation.HeaderCell(this.columnIndex),this.moveTo(i)},down:function(){var i=t.getNext(this.taskId);t.isTaskExists(i)&&this.moveTo(new t.$keyboardNavigation.TaskCell(i,this.columnIndex))},left:function(){this.columnIndex>0&&this.moveTo(new t.$keyboardNavigation.TaskCell(this.taskId,this.columnIndex-1))},right:function(){var i=t.getGridColumns();this.columnIndex<i.length-1&&this.moveTo(new t.$keyboardNavigation.TaskCell(this.taskId,this.columnIndex+1))},end:function(){var i=t.getGridColumns();this.moveTo(new t.$keyboardNavigation.TaskCell(this.taskId,i.length-1))},home:function(){this.moveTo(new t.$keyboardNavigation.TaskCell(this.taskId,0))},pagedown:function(){t.getVisibleTaskCount()&&this.moveTo(new t.$keyboardNavigation.TaskCell(t.getTaskByIndex(t.getVisibleTaskCount()-1).id,this.columnIndex))},pageup:function(){t.getVisibleTaskCount()&&this.moveTo(new t.$keyboardNavigation.TaskCell(t.getTaskByIndex(0).id,this.columnIndex))}}}),t.$keyboardNavigation.TaskCell.prototype.bindAll(t.$keyboardNavigation.TaskRow.prototype.keys),t.$keyboardNavigation.TaskCell.prototype.bindAll(t.$keyboardNavigation.TaskCell.prototype.keys)}(n),Pj(n),function(t){t.$keyboardNavigation.dispatcher={isActive:!1,activeNode:null,globalNode:new t.$keyboardNavigation.GanttNode,enable:function(){this.isActive=!0,this.setActiveNode(this.getActiveNode())},disable:function(){this.isActive=!1},isEnabled:function(){return!!this.isActive},getDefaultNode:function(){var i;return(i=t.config.keyboard_navigation_cells?new t.$keyboardNavigation.TaskCell:new t.$keyboardNavigation.TaskRow).isValid()||(i=i.fallback()),i},setDefaultNode:function(){this.setActiveNode(this.getDefaultNode())},getActiveNode:function(){var i=this.activeNode;return i&&!i.isValid()&&(i=i.fallback()),i},fromDomElement:function(i){for(var r=[t.$keyboardNavigation.TaskRow,t.$keyboardNavigation.TaskCell,t.$keyboardNavigation.HeaderCell],o=0;o<r.length;o++)if(r[o].prototype.fromDomElement){var s=r[o].prototype.fromDomElement(i);if(s)return s}return null},focusGlobalNode:function(){this.blurNode(this.globalNode),this.focusNode(this.globalNode)},setActiveNode:function(i){var r=!0;this.activeNode&&this.activeNode.compareTo(i)&&(r=!1),this.isEnabled()&&(r&&this.blurNode(this.activeNode),this.activeNode=i,this.focusNode(this.activeNode,!r))},focusNode:function(i,r){i&&i.focus&&i.focus(r)},blurNode:function(i){i&&i.blur&&i.blur()},keyDownHandler:function(i){if(!t.$keyboardNavigation.isModal()&&this.isEnabled()&&!i.defaultPrevented){var r=this.globalNode,o=t.$keyboardNavigation.shortcuts.getCommandFromEvent(i),s=this.getActiveNode();t.$keyboardNavigation.facade.callEvent("onKeyDown",[o,i])!==!1&&(s?s.findHandler(o)?s.doAction(o,i):r.findHandler(o)&&r.doAction(o,i):this.setDefaultNode())}},_timeout:null,awaitsFocus:function(){return this._timeout!==null},delay:function(i,r){clearTimeout(this._timeout),this._timeout=setTimeout(t.bind(function(){this._timeout=null,i()},this),r||1)},clearDelay:function(){clearTimeout(this._timeout)}}}(n),function(){var t=n.$keyboardNavigation.dispatcher;t.isTaskFocused=function(x){var S=t.activeNode;return(S instanceof n.$keyboardNavigation.TaskRow||S instanceof n.$keyboardNavigation.TaskCell)&&S.taskId==x};var i=function(x){if(n.config.keyboard_navigation&&(n.config.keyboard_navigation_cells||!s(x))&&!a(x)&&!function(S){return!!$i(S.target,".gantt_cal_light")}(x))return t.keyDownHandler(x)},r=function(x){if(t.$preventDefault)return x.preventDefault(),n.$container.blur(),!1;t.awaitsFocus()||t.focusGlobalNode()},o=function(){if(!t.isEnabled())return;let x=!mn(document.activeElement,n.$container)&&document.activeElement.localName!="body";var S=t.getActiveNode();if(S&&!x){var _,w,y=S.getNode();y&&y.parentNode&&(_=y.parentNode.scrollTop,w=y.parentNode.scrollLeft),S.focus(!0),y&&y.parentNode&&(y.parentNode.scrollTop=_,y.parentNode.scrollLeft=w)}};function s(x){return!!$i(x.target,".gantt_grid_editor_placeholder")}function a(x){return!!$i(x.target,".no_keyboard_navigation")}function l(x){if(!n.config.keyboard_navigation||!n.config.keyboard_navigation_cells&&s(x))return!0;if(!a(x)){var S,_=t.fromDomElement(x);if(_&&(t.activeNode instanceof n.$keyboardNavigation.TaskCell&&mn(x.target,n.$task)&&(_=new n.$keyboardNavigation.TaskCell(_.taskId,t.activeNode.columnIndex)),S=_,n.config.show_grid&&n.$ui.getView("grid")&&n.config.keyboard_navigation_cells)){let w=x.target.classList.contains("gantt_row"),y=x.target.closest(".gantt_task_line"),C=n.utils.dom.getNodePosition(n.$grid).x,D=C+n.$grid.offsetWidth,I=n.utils.dom.getNodePosition(document.activeElement).x;if(w||y&&(I<C||D<I)){let M=n.$grid.scrollLeft,P=M+n.$grid.offsetWidth,R=0;w&&(M=n.utils.dom.getRelativeEventPosition(x,n.$grid).x);for(let F=0;F<n.config.columns.length;F++){let j=n.config.columns[F];if(!j.hide&&(R+=j.width,M<R)){P<R&&(R-=j.width),S.columnIndex=F;break}}}}S?t.isEnabled()?t.delay(function(){t.setActiveNode(S)}):t.activeNode=S:(t.$preventDefault=!0,setTimeout(function(){t.$preventDefault=!1},300))}}n.attachEvent("onDataRender",function(){n.config.keyboard_navigation&&o()}),n.attachEvent("onGanttRender",function(){n.$root&&(n.eventRemove(n.$root,"keydown",i),n.eventRemove(n.$container,"focus",r),n.eventRemove(n.$container,"mousedown",l),n.config.keyboard_navigation?(n.event(n.$root,"keydown",i),n.event(n.$container,"focus",r),n.event(n.$container,"mousedown",l),n.$container.setAttribute("tabindex","0")):n.$container.removeAttribute("tabindex"))});var d=n.attachEvent("onGanttReady",function(){if(n.detachEvent(d),n.$data.tasksStore.attachEvent("onStoreUpdated",function(S){if(n.config.keyboard_navigation&&t.isEnabled()){let _=t.getActiveNode(),w=n.$ui.getView("grid");if(!w||!w.$grid_data)return;let y=w.getItemTop(S),C=w.$grid_data.scrollTop,D=C+w.$grid_data.getBoundingClientRect().height;_&&_.taskId==S&&C<=y&&D>=y&&o()}}),n._smart_render){var x=n._smart_render._redrawTasks;n._smart_render._redrawTasks=function(S,_){if(n.config.keyboard_navigation&&t.isEnabled()){var w=t.getActiveNode();if(w&&w.taskId!==void 0){for(var y=!1,C=0;C<_.length;C++)if(_[C].id==w.taskId&&_[C].start_date){y=!0;break}y||_.push(n.getTask(w.taskId))}}return x.apply(this,arguments)}}});let u=null,f=!1;n.attachEvent("onTaskCreated",function(x){return u=x.id,!0}),n.attachEvent("onAfterTaskAdd",function(x,S){if(!n.config.keyboard_navigation)return!0;if(t.isEnabled()){if(x==u&&(f=!0,setTimeout(()=>{f=!1,u=null})),f&&S.type==n.config.types.placeholder)return;var _=0,w=t.activeNode;w instanceof n.$keyboardNavigation.TaskCell&&(_=w.columnIndex);var y=n.config.keyboard_navigation_cells?n.$keyboardNavigation.TaskCell:n.$keyboardNavigation.TaskRow;S.type==n.config.types.placeholder&&n.config.placeholder_task.focusOnCreate===!1||t.setActiveNode(new y(x,_))}}),n.attachEvent("onTaskIdChange",function(x,S){if(!n.config.keyboard_navigation)return!0;var _=t.activeNode;return t.isTaskFocused(x)&&(_.taskId=S),!0});var g=setInterval(function(){n.config.keyboard_navigation&&(t.isEnabled()||t.enable())},500);function p(x){var S={gantt:n.$keyboardNavigation.GanttNode,headerCell:n.$keyboardNavigation.HeaderCell,taskRow:n.$keyboardNavigation.TaskRow,taskCell:n.$keyboardNavigation.TaskCell};return S[x]||S.gantt}function v(x){for(var S=n.getGridColumns(),_=0;_<S.length;_++)if(S[_].name==x)return _;return 0}n.attachEvent("onDestroy",function(){clearInterval(g)});var k={};fi(k),n.mixin(k,{addShortcut:function(x,S,_){var w=p(_);w&&w.prototype.bind(x,S)},getShortcutHandler:function(x,S){var _=n.$keyboardNavigation.shortcuts.parse(x);if(_.length)return k.getCommandHandler(_[0],S)},getCommandHandler:function(x,S){var _=p(S);if(_&&x)return _.prototype.findHandler(x)},removeShortcut:function(x,S){var _=p(S);_&&_.prototype.unbind(x)},focus:function(x){var S,_=x?x.type:null,w=p(_);switch(_){case"taskCell":S=new w(x.id,v(x.column));break;case"taskRow":S=new w(x.id);break;case"headerCell":S=new w(v(x.column))}t.delay(function(){S?t.setActiveNode(S):(t.enable(),t.getActiveNode()?t.awaitsFocus()||t.enable():t.setDefaultNode())})},getActiveNode:function(){if(t.isEnabled()){var x=t.getActiveNode(),S=(w=x)instanceof n.$keyboardNavigation.GanttNode?"gantt":w instanceof n.$keyboardNavigation.HeaderCell?"headerCell":w instanceof n.$keyboardNavigation.TaskRow?"taskRow":w instanceof n.$keyboardNavigation.TaskCell?"taskCell":null,_=n.getGridColumns();switch(S){case"taskCell":return{type:"taskCell",id:x.taskId,column:_[x.columnIndex].name};case"taskRow":return{type:"taskRow",id:x.taskId};case"headerCell":return{type:"headerCell",column:_[x.index].name}}}var w;return null}}),n.$keyboardNavigation.facade=k,n.ext.keyboardNavigation=k,n.focus=function(){k.focus()},n.addShortcut=k.addShortcut,n.getShortcutHandler=k.getShortcutHandler,n.removeShortcut=k.removeShortcut}()})(e)},quick_info:function(e){e.ext||(e.ext={}),e.ext.quickInfo=new Yy(e),e.config.quickinfo_buttons=["icon_edit","icon_delete"],e.config.quick_info_detached=!0,e.config.show_quick_info=!0,e.templates.quick_info_title=function(r,o,s){return s.text.substr(0,50)},e.templates.quick_info_content=function(r,o,s){return s.details||s.text},e.templates.quick_info_date=function(r,o,s){return e.templates.task_time(r,o,s)},e.templates.quick_info_class=function(r,o,s){return""},e.attachEvent("onTaskClick",function(r,o){let s=e.utils.dom.closest(o.target,".gantt_add"),a=e.utils.dom.closest(o.target,".gantt_close"),l=e.utils.dom.closest(o.target,".gantt_open");return!s&&!a&&!l&&setTimeout(function(){e.ext.quickInfo.show(r)},0),!0});let n=["onViewChange","onLightbox","onBeforeTaskDelete","onBeforeDrag"],t=function(){return e.ext.quickInfo.hide(),!0};for(let r=0;r<n.length;r++)e.attachEvent(n[r],t);function i(){return e.ext.quickInfo.hide(),e.ext.quickInfo._quickInfoBox=null,!0}e.attachEvent("onEmptyClick",function(r){let o=!0,s=document.querySelector(".gantt_cal_quick_info");s&&e.utils.dom.isChildOf(r.target,s)&&(o=!1),o&&t()}),e.attachEvent("onGanttReady",i),e.attachEvent("onDestroy",i),e.event(window,"keydown",function(r){r.keyCode===27&&e.ext.quickInfo.hide()}),e.showQuickInfo=function(){e.ext.quickInfo.show.apply(e.ext.quickInfo,arguments)},e.hideQuickInfo=function(){e.ext.quickInfo.hide.apply(e.ext.quickInfo,arguments)}},tooltip:function(e){e.config.tooltip_timeout=30,e.config.tooltip_offset_y=20,e.config.tooltip_offset_x=10,e.config.tooltip_hide_timeout=30;let n=new Jy(e);e.ext.tooltips=n,e.attachEvent("onGanttReady",function(){e.$root&&n.tooltipFor({selector:"["+e.config.task_attribute+"]:not(.gantt_task_row)",html:t=>{if(e.config.touch&&!e.config.touch_tooltip)return;let i=e.locate(t);if(e.isTaskExists(i)){let r=e.getTask(i);return e.templates.tooltip_text(r.start_date,r.end_date,r)}return null},global:!1})}),e.attachEvent("onDestroy",function(){n.destructor()}),e.attachEvent("onLightbox",function(){n.hideTooltip()}),e.attachEvent("onBeforeTooltip",function(){if(e.getState().link_source_id)return!1}),e.attachEvent("onGanttScroll",function(){n.hideTooltip()})},undo:function(e){let n=new Qy(e),t=new Xy(n,e);function i(u,f){return String(u)===String(f)}function r(u,f,g){u&&(i(u.id,f)&&(u.id=g),i(u.parent,f)&&(u.parent=g))}function o(u,f,g){r(u.value,f,g),r(u.oldValue,f,g)}function s(u,f,g){u&&(i(u.source,f)&&(u.source=g),i(u.target,f)&&(u.target=g))}function a(u,f,g){s(u.value,f,g),s(u.oldValue,f,g)}function l(u,f,g){let p=n;for(let v=0;v<u.length;v++){let k=u[v];for(let x=0;x<k.commands.length;x++)k.commands[x].entity===p.command.entity.task?o(k.commands[x],f,g):k.commands[x].entity===p.command.entity.link&&a(k.commands[x],f,g)}}function d(u,f,g){let p=n;for(let v=0;v<u.length;v++){let k=u[v];for(let x=0;x<k.commands.length;x++){let S=k.commands[x];S.entity===p.command.entity.link&&(S.value&&S.value.id===f&&(S.value.id=g),S.oldValue&&S.oldValue.id===f&&(S.oldValue.id=g))}}}e.config.undo=!0,e.config.redo=!0,e.config.undo_types={link:"link",task:"task"},e.config.undo_actions={update:"update",remove:"remove",add:"add",move:"move"},e.ext||(e.ext={}),e.ext.undo={undo:()=>n.undo(),redo:()=>n.redo(),getUndoStack:()=>n.getUndoStack(),setUndoStack:u=>n.setUndoStack(u),getRedoStack:()=>n.getRedoStack(),setRedoStack:u=>n.setRedoStack(u),clearUndoStack:()=>n.clearUndoStack(),clearRedoStack:()=>n.clearRedoStack(),saveState:(u,f)=>t.store(u,f,!0),getInitialState:(u,f)=>f===e.config.undo_types.link?t.getInitialLink(u):t.getInitialTask(u)},e.undo=e.ext.undo.undo,e.redo=e.ext.undo.redo,e.getUndoStack=e.ext.undo.getUndoStack,e.getRedoStack=e.ext.undo.getRedoStack,e.clearUndoStack=e.ext.undo.clearUndoStack,e.clearRedoStack=e.ext.undo.clearRedoStack,e.attachEvent("onTaskIdChange",(u,f)=>{let g=n;l(g.getUndoStack(),u,f),l(g.getRedoStack(),u,f)}),e.attachEvent("onLinkIdChange",(u,f)=>{let g=n;d(g.getUndoStack(),u,f),d(g.getRedoStack(),u,f)}),e.attachEvent("onGanttReady",()=>{n.updateConfigs()})},marker:function(e){function n(i){if(!e.config.show_markers||!i.start_date)return!1;var r=e.getState();if(+i.start_date>+r.max_date||(!i.end_date||+i.end_date<+r.min_date)&&+i.start_date<+r.min_date)return;var o=document.createElement("div");o.setAttribute("data-marker-id",i.id);var s="gantt_marker";e.templates.marker_class&&(s+=" "+e.templates.marker_class(i)),i.css&&(s+=" "+i.css),e.templates.marker_class&&(s+=" "+e.templates.marker_class(i)),i.title&&(o.title=i.title),o.className=s;var a=e.posFromDate(i.start_date);o.style.left=a+"px";let l=Math.max(e.getRowTop(e.getVisibleTaskCount()),0)+"px";if(e.config.timeline_placeholder&&e.$task_data&&(l=e.$task_data.scrollHeight+"px"),o.style.height=l,i.end_date){var d=e.posFromDate(i.end_date);o.style.width=Math.max(d-a,0)+"px"}if(i.text){let u=null;u=typeof i.text=="function"?i.text(i):i.text,u&&(e.config.external_render&&e.config.external_render.isElement(u)?(o.innerHTML="<div class='gantt_marker_content' ></div>",e.config.external_render.renderElement(u,o.querySelector(".gantt_marker_content"))):o.innerHTML="<div class='gantt_marker_content' >"+i.text+"</div>")}return o}function t(){if(e.$task_data&&e.$root.contains(e.$task_data)){if(!e.$marker_area||!e.$task_data.contains(e.$marker_area)){var i=document.createElement("div");i.className="gantt_marker_area",e.$task_data.appendChild(i),e.$marker_area=i}}else e.$marker_area=null}e._markers||(e._markers=e.createDatastore({name:"marker",initItem:function(i){return i.id=i.id||e.uid(),i}})),e.config.show_markers=!0,e.attachEvent("onBeforeGanttRender",function(){e.$marker_area||t()}),e.attachEvent("onDataRender",function(){e.$marker_area||(t(),e.renderMarkers())}),e.attachEvent("onGanttLayoutReady",function(){e.attachEvent("onBeforeGanttRender",function(){e.$marker_area&&(e.$marker_area.innerHTML=""),t(),e.$services.getService("layers").createDataRender({name:"marker",defaultContainer:function(){return e.$marker_area}}).addLayer(n)},{once:!0})}),e.getMarker=function(i){return this._markers?this._markers.getItem(i):null},e.addMarker=function(i){return this._markers.addItem(i)},e.deleteMarker=function(i){return!!this._markers.exists(i)&&(this._markers.removeItem(i),!0)},e.updateMarker=function(i){this._markers.refresh(i)},e._getMarkers=function(){return this._markers.getItems()},e.renderMarkers=function(){this._markers.refresh()}},multiselect:function(e){e.config.multiselect=!0,e.config.multiselect_one_level=!1,e._multiselect={_selected:{},_one_level:!1,_active:!0,_first_selected_when_shift:null,getDefaultSelected:function(){var n=this.getSelected();return n.length?n[n.length-1]:null},setFirstSelected:function(n){this._first_selected_when_shift=n},getFirstSelected:function(){return this._first_selected_when_shift},isActive:function(){return this.updateState(),this._active},updateState:function(){this._one_level=e.config.multiselect_one_level;var n=this._active;this._active=e.config.select_task,this._active!=n&&this.reset()},reset:function(){this._selected={}},setLastSelected:function(n){e.$data.tasksStore.silent(function(){var t=e.$data.tasksStore;n?t.select(n+""):t.unselect(null)})},getLastSelected:function(){var n=e.$data.tasksStore.getSelectedId();return n&&e.isTaskExists(n)?n:null},select:function(n,t){return!!(n&&e.callEvent("onBeforeTaskMultiSelect",[n,!0,t])&&e.callEvent("onBeforeTaskSelected",[n]))&&(this._selected[n]=!0,this.setLastSelected(n),this.afterSelect(n),e.callEvent("onTaskMultiSelect",[n,!0,t]),e.callEvent("onTaskSelected",[n]),!0)},toggle:function(n,t){this._selected[n]?this.unselect(n,t):this.select(n,t)},unselect:function(n,t){n&&e.callEvent("onBeforeTaskMultiSelect",[n,!1,t])&&(this._selected[n]=!1,this.getLastSelected()==n&&this.setLastSelected(this.getDefaultSelected()),this.afterSelect(n),e.callEvent("onTaskMultiSelect",[n,!1,t]),e.callEvent("onTaskUnselected",[n]))},isSelected:function(n){return!(!e.isTaskExists(n)||!this._selected[n])},getSelected:function(){var n=[];for(var t in this._selected)this._selected[t]&&e.isTaskExists(t)?n.push(t):this._selected[t]=!1;return n.sort(function(i,r){return e.getGlobalTaskIndex(i)>e.getGlobalTaskIndex(r)?1:-1}),n},forSelected:function(n){for(var t=this.getSelected(),i=0;i<t.length;i++)n(t[i])},isSameLevel:function(n){if(!this._one_level)return!0;var t=this.getLastSelected();return!t||!e.isTaskExists(t)||!e.isTaskExists(n)||e.calculateTaskLevel(e.getTask(t))==e.calculateTaskLevel(e.getTask(n))},afterSelect:function(n){e.isTaskExists(n)&&e._quickRefresh(function(){e.refreshTask(n)})},doSelection:function(n){if(!this.isActive()||e._is_icon_open_click(n))return!1;var t=e.locate(n);if(!t||!e.callEvent("onBeforeMultiSelect",[n]))return!1;var i=this.getSelected(),r=this.getFirstSelected(),o=!1,s=this.getLastSelected(),a=e.config.multiselect,l=(function(){let u=e.ext.inlineEditors;if(u&&u.getState){let g=u.getState(),p=u.locateCell(n.target);e.config.inline_editors_multiselect_open&&p&&u.getEditorConfig(p.columnName)&&(u.isVisible()&&g.id==p.id&&g.columnName==p.columnName||u.startEdit(p.id,p.columnName))}this.setFirstSelected(t),this.isSelected(t)||this.select(t,n),i=this.getSelected();for(var f=0;f<i.length;f++)i[f]!==t&&this.unselect(i[f],n)}).bind(this),d=(function(){if(s){if(t){var u=e.getGlobalTaskIndex(this.getFirstSelected()),f=e.getGlobalTaskIndex(t),g=e.getGlobalTaskIndex(s);u!=-1&&g!=-1||(u=f,this.reset());for(var p=s;e.getGlobalTaskIndex(p)!==u;)this.unselect(p,n),p=u>g?e.getNext(p):e.getPrev(p);for(p=t;e.getGlobalTaskIndex(p)!==u;)this.select(p,n)&&!o&&(o=!0,r=p),p=u>f?e.getNext(p):e.getPrev(p)}}else s=t}).bind(this);return a&&(n.ctrlKey||n.metaKey)?(this.isSelected(t)||this.setFirstSelected(t),t&&this.toggle(t,n)):a&&n.shiftKey?(e.isTaskExists(this.getFirstSelected())&&this.getFirstSelected()!==null||this.setFirstSelected(t),i.length?d():l()):l(),this.isSelected(t)?this.setLastSelected(t):r?t==s&&this.setLastSelected(n.shiftKey?r:this.getDefaultSelected()):this.setLastSelected(null),this.getSelected().length||this.setLastSelected(null),this.getLastSelected()&&this.isSelected(this.getFirstSelected())||this.setFirstSelected(this.getLastSelected()),!0}},function(){var n=e.selectTask;e.selectTask=function(i){if(!(i=di(i,this.config.root_id)))return!1;var r=e._multiselect,o=i;return r.isActive()?(r.select(i,null)&&r.setLastSelected(i),r.setFirstSelected(r.getLastSelected())):o=n.call(this,i),o};var t=e.unselectTask;e.unselectTask=function(i){var r=e._multiselect,o=r.isActive();(i=i||r.getLastSelected())&&o&&(r.unselect(i,null),i==r.getLastSelected()&&r.setLastSelected(null),e.refreshTask(i),r.setFirstSelected(r.getLastSelected()));var s=i;return o||(s=t.call(this,i)),s},e.toggleTaskSelection=function(i){var r=e._multiselect;i&&r.isActive()&&(r.toggle(i),r.setFirstSelected(r.getLastSelected()))},e.getSelectedTasks=function(){var i=e._multiselect;return i.isActive(),i.getSelected()},e.eachSelectedTask=function(i){return this._multiselect.forSelected(i)},e.isSelectedTask=function(i){return this._multiselect.isSelected(i)},e.getLastSelectedTask=function(){return this._multiselect.getLastSelected()},e.attachEvent("onGanttReady",function(){var i=e.$data.tasksStore.isSelected;e.$data.tasksStore.isSelected=function(r){return e._multiselect.isActive()?e._multiselect.isSelected(r):i.call(this,r)}})}(),e.attachEvent("onTaskIdChange",function(n,t){var i=e._multiselect;if(!i.isActive())return!0;e.isSelectedTask(n)&&(i.unselect(n,null),i.select(t,null))}),e.attachEvent("onAfterTaskDelete",function(n,t){var i=e._multiselect;if(!i.isActive())return!0;i._selected[n]&&(i._selected[n]=!1,i.setLastSelected(i.getDefaultSelected())),i.forSelected(function(r){e.isTaskExists(r)||i.unselect(r,null)})}),e.attachEvent("onBeforeTaskMultiSelect",function(n,t,i){let r=e._multiselect;if(t&&r.isActive()){let o=e.getSelectedId(),s=null;o&&(s=e.getTask(o));let a=e.getTask(n),l=!1;if(s&&s.$level!=a.$level&&(l=!0),e.config.multiselect_one_level&&l&&!i.ctrlKey&&!i.shiftKey)return!0;if(r._one_level)return r.isSameLevel(n)}return!0}),e.attachEvent("onTaskClick",function(n,t){return e._multiselect.doSelection(t)&&e.callEvent("onMultiSelect",[t]),!0})},export_api:function(e){return e.ext=e.ext||{},e.ext.export_api=e.ext.export_api||{_apiUrl:"https://export.dhtmlx.com/gantt",_preparePDFConfigRaw(n,t){let i=null;n.start&&n.end&&(i={start_date:e.config.start_date,end_date:e.config.end_date},e.config.start_date=e.date.str_to_date(e.config.date_format)(n.start),e.config.end_date=e.date.str_to_date(e.config.date_format)(n.end)),n=e.mixin(n,{name:"gantt."+t,data:e.ext.export_api._serializeHtml()}),i&&(e.config.start_date=i.start_date,e.config.end_date=i.end_date)},_prepareConfigPDF:(n,t)=>(n=e.mixin(n||{},{name:"gantt."+t,data:e.ext.export_api._serializeAll(),config:e.config}),e.ext.export_api._fixColumns(n.config.columns),n),_pdfExportRouter(n,t){n&&n.raw?e.ext.export_api._preparePDFConfigRaw(n,t):n=e.ext.export_api._prepareConfigPDF(n,t),n.version=e.version,e.ext.export_api._sendToExport(n,t)},exportToPDF(n){e.ext.export_api._pdfExportRouter(n,"pdf")},exportToPNG(n){e.ext.export_api._pdfExportRouter(n,"png")},exportToICal(n){n=e.mixin(n||{},{name:"gantt.ical",data:e.ext.export_api._serializePlain().data,version:e.version}),e.ext.export_api._sendToExport(n,"ical")},exportToExcel(n){let t,i,r,o;n=n||{};let s=e.config.smart_rendering;if(n.visual==="base-colors"&&(e.config.smart_rendering=!1),n.start||n.end){r=e.getState(),i=[e.config.start_date,e.config.end_date],o=e.getScrollState();let a=e.date.str_to_date(e.config.date_format);t=e.eachTask,n.start&&(e.config.start_date=a(n.start)),n.end&&(e.config.end_date=a(n.end)),e.render(),e.config.smart_rendering=s,e.eachTask=e.ext.export_api._eachTaskTimed(e.config.start_date,e.config.end_date)}else n.visual==="base-colors"&&(e.render(),e.config.smart_rendering=s);e._no_progress_colors=n.visual==="base-colors",(n=e.mixin(n,{name:"gantt.xlsx",title:"Tasks",data:e.ext.export_api._serializeTimeline(n).data,columns:e.ext.export_api._serializeGrid({rawDates:!0}),version:e.version})).visual&&(n.scales=e.ext.export_api._serializeScales(n)),e.ext.export_api._sendToExport(n,"excel"),(n.start||n.end)&&(e.config.start_date=r.min_date,e.config.end_date=r.max_date,e.eachTask=t,e.render(),e.scrollTo(o.x,o.y),e.config.start_date=i[0],e.config.end_date=i[1])},exportToJSON(n){n=e.mixin(n||{},{name:"gantt.json",data:e.ext.export_api._serializeAll(),config:e.config,columns:e.ext.export_api._serializeGrid(),worktime:e.ext.export_api._getWorktimeSettings(),version:e.version}),e.ext.export_api._sendToExport(n,"json")},importFromExcel(n){try{let t=n.data;if(t instanceof File){let i=new FormData;i.append("file",t),n.data=i}}catch{}e.ext.export_api._sendImportAjaxExcel(n)},importFromMSProject(n){let t=n.data;try{if(t instanceof File){let i=new FormData;i.append("file",t),n.data=i}}catch{}e.ext.export_api._sendImportAjaxMSP(n)},importFromPrimaveraP6:n=>(n.type="primaveraP6-parse",e.importFromMSProject(n)),exportToMSProject(n){(n=n||{}).skip_circular_links=n.skip_circular_links===void 0||!!n.skip_circular_links;let t=e.templates.xml_format,i=e.templates.format_date,r=e.config.xml_date,o=e.config.date_format,s="%d-%m-%Y %H:%i:%s";e.config.xml_date=s,e.config.date_format=s,e.templates.xml_format=e.date.date_to_str(s),e.templates.format_date=e.date.date_to_str(s);let a=e.ext.export_api._serializeAll();e.ext.export_api._customProjectProperties(a,n),e.ext.export_api._customTaskProperties(a,n),n.skip_circular_links&&e.ext.export_api._clearRecLinks(a),n=e.ext.export_api._exportConfig(a,n),e.ext.export_api._sendToExport(n,n.type||"msproject"),e.config.xml_date=r,e.config.date_format=o,e.templates.xml_format=t,e.templates.format_date=i,e.config.$custom_data=null,e.config.custom=null},exportToPrimaveraP6:n=>((n=n||{}).type="primaveraP6",e.exportToMSProject(n)),_fixColumns(n){for(let t=0;t<n.length;t++)n[t].label=n[t].label||e.locale.labels["column_"+n[t].name],typeof n[t].width=="string"&&(n[t].width=1*n[t].width)},_xdr(n,t,i){e.ajax.post(n,t,i)},_markColumns(n){let t=n.config.columns;if(t)for(let i=0;i<t.length;i++)t[i].template&&(t[i].$template=!0)},_sendImportAjaxExcel(n){let t=n.server||e.ext.export_api._apiUrl,i=n.store||0,r=n.data,o=n.callback;r.append("type","excel-parse"),r.append("data",JSON.stringify({sheet:n.sheet||0})),i&&r.append("store",i);let s=new XMLHttpRequest;s.onreadystatechange=function(a){s.readyState===4&&s.status===0&&o&&o(null)},s.onload=function(){let a=null;if(!(s.status>400))try{a=JSON.parse(s.responseText)}catch{}o&&o(a)},s.open("POST",t,!0),s.setRequestHeader("X-Requested-With","XMLHttpRequest"),s.send(r)},_ajaxToExport(n,t,i){delete n.callback;let r=n.server||e.ext.export_api._apiUrl,o="type="+t+"&store=1&data="+encodeURIComponent(JSON.stringify(n));e.ext.export_api._xdr(r,o,function(s){let a=s.xmlDoc||s,l=null;if(!(a.status>400))try{l=JSON.parse(a.responseText)}catch{}i(l)})},_serializableGanttConfig(n){let t=e.mixin({},n);return t.columns&&(t.columns=t.columns.map(function(i){let r=e.mixin({},i);return delete r.editor,r})),delete t.editor_types,t},_sendToExport(n,t){let i=e.date.date_to_str(e.config.date_format||e.config.xml_date);if(n.skin||(n.skin=e.skin),n.config&&(n.config=e.copy(e.ext.export_api._serializableGanttConfig(n.config)),e.ext.export_api._markColumns(n,t),n.config.start_date&&n.config.end_date&&(n.config.start_date instanceof Date&&(n.config.start_date=i(n.config.start_date)),n.config.end_date instanceof Date&&(n.config.end_date=i(n.config.end_date)))),n.callback)return e.ext.export_api._ajaxToExport(n,t,n.callback);let r=e.ext.export_api._createHiddenForm();r.firstChild.action=n.server||e.ext.export_api._apiUrl,r.firstChild.childNodes[0].value=JSON.stringify(n),r.firstChild.childNodes[1].value=t,r.firstChild.submit()},_createHiddenForm(){if(!e.ext.export_api._hidden_export_form){let n=e.ext.export_api._hidden_export_form=document.createElement("div");n.style.display="none",n.innerHTML="<form method='POST' target='_blank'><textarea name='data' style='width:0px; height:0px;' readonly='true'></textarea><input type='hidden' name='type' value=''></form>",document.body.appendChild(n)}return e.ext.export_api._hidden_export_form},_copyObjectBase(n){let t={start_date:void 0,end_date:void 0,constraint_date:void 0,deadline:void 0};for(let r in n)r.charAt(0)!=="$"&&r!=="baselines"&&(t[r]=n[r]);let i=e.templates.xml_format||e.templates.format_date;return t.start_date=i(t.start_date),t.end_date&&(t.end_date=i(t.end_date)),t.constraint_date&&(t.constraint_date=i(t.constraint_date)),t.deadline&&(t.deadline=i(t.deadline)),t},_color_box:null,_color_hash:{},_getStyles(n){if(e.ext.export_api._color_box||(e.ext.export_api._color_box=document.createElement("DIV"),e.ext.export_api._color_box.style.cssText="position:absolute; display:none;",document.body.appendChild(e.ext.export_api._color_box)),e.ext.export_api._color_hash[n])return e.ext.export_api._color_hash[n];e.ext.export_api._color_box.className=n;let t=e.ext.export_api._getColor(e.ext.export_api._color_box,"color"),i=e.ext.export_api._getColor(e.ext.export_api._color_box,"backgroundColor");return e.ext.export_api._color_hash[n]=t+";"+i},_getMinutesWorktimeSettings(n){let t=[];return n.forEach(function(i){t.push(i.startMinute),t.push(i.endMinute)}),t},_getWorktimeSettings(){let n={hours:[0,24],minutes:null,dates:{0:!0,1:!0,2:!0,3:!0,4:!0,5:!0,6:!0}},t;if(e.config.work_time){let i=e._working_time_helper;if(i&&i.get_calendar)t=i.get_calendar();else if(i)t={hours:i.hours,minutes:null,dates:i.dates};else if(e.config.worktimes&&e.config.worktimes.global){let r=e.config.worktimes.global;if(r.parsed){t={hours:null,minutes:e.ext.export_api._getMinutesWorktimeSettings(r.parsed.hours),dates:{}};for(let o in r.parsed.dates)Array.isArray(r.parsed.dates[o])?t.dates[o]=e.ext.export_api._getMinutesWorktimeSettings(r.parsed.dates[o]):t.dates[o]=r.parsed.dates[o]}else t={hours:r.hours,minutes:null,dates:r.dates}}else t=n}else t=n;return t},_eachTaskTimed:(n,t)=>function(i,r,o){r=r||e.config.root_id,o=o||e;let s=e.getChildren(r);if(s)for(let a=0;a<s.length;a++){let l=e._pull[s[a]];(!n||l.end_date>n)&&(!t||l.start_date<t)&&i.call(o,l),e.hasChild(l.id)&&e.eachTask(i,l.id,o)}},_originalCopyObject:e.json._copyObject,_copyObjectPlain(n){let t=e.templates.task_text(n.start_date,n.end_date,n),i=e.ext.export_api._copyObjectBase(n);return i.text=t||i.text,i},_getColor(n,t){let i=n.currentStyle?n.currentStyle[t]:getComputedStyle(n,null)[t],r=i.replace(/\s/g,"").match(/^rgba?\((\d+),(\d+),(\d+)/i);return(r&&r.length===4?("0"+parseInt(r[1],10).toString(16)).slice(-2)+("0"+parseInt(r[2],10).toString(16)).slice(-2)+("0"+parseInt(r[3],10).toString(16)).slice(-2):i).replace("#","")},_copyObjectTable(n){let t=e.date.date_to_str("%Y-%m-%dT%H:%i:%s.000Z"),i=e.ext.export_api._copyObjectColumns(n,e.ext.export_api._copyObjectPlain(n));i.start_date&&(i.start_date=t(n.start_date)),i.end_date&&(i.end_date=t(n.end_date));let r=e._day_index_by_date?e._day_index_by_date:e.columnIndexByDate;i.$start=r.call(e,n.start_date),i.$end=r.call(e,n.end_date);let o=0,s=e.getScale().width;if(s.indexOf(0)>-1){let l=0;for(;l<i.$start;l++)s[l]||o++;for(i.$start-=o;l<i.$end;l++)s[l]||o++;i.$end-=o}i.$level=n.$level,i.$type=n.$rendered_type;let a=e.templates;return i.$text=a.task_text(n.start,n.end_date,n),i.$left=a.leftside_text?a.leftside_text(n.start,n.end_date,n):"",i.$right=a.rightside_text?a.rightside_text(n.start,n.end_date,n):"",i},_copyObjectColors(n){let t=e.ext.export_api._copyObjectTable(n),i=e.getTaskNode(n.id);if(i&&i.firstChild){let r=e.ext.export_api._getColor(e._no_progress_colors?i:i.firstChild,"backgroundColor");r==="363636"&&(r=e.ext.export_api._getColor(i,"backgroundColor")),t.$color=r}else n.color&&(t.$color=n.color);return t},_copyObjectColumns(n,t){for(let i=0;i<e.config.columns.length;i++){let r=e.config.columns[i].template;if(r){let o=r(n);o instanceof Date&&(o=e.templates.date_grid(o,n)),t["_"+i]=o}}return t},_copyObjectAll(n){let t=e.ext.export_api._copyObjectBase(n),i=["leftside_text","rightside_text","task_text","progress_text","task_class"];for(let r=0;r<i.length;r++){let o=e.templates[i[r]];o&&(t["$"+r]=o(n.start_date,n.end_date,n))}return e.ext.export_api._copyObjectColumns(n,t),t.open=n.$open,t},_serializeHtml(){let n=e.config.smart_scales,t=e.config.smart_rendering;(n||t)&&(e.config.smart_rendering=!1,e.config.smart_scales=!1,e.render());let i=e.$container.parentNode.innerHTML;return(n||t)&&(e.config.smart_scales=n,e.config.smart_rendering=t,e.render()),i},_serializeAll(){e.json._copyObject=e.ext.export_api._copyObjectAll;let n=e.ext.export_api._exportSerialize();return e.json._copyObject=e.ext.export_api._originalCopyObject,n},_serializePlain(){let n=e.templates.xml_format,t=e.templates.format_date;e.templates.xml_format=e.date.date_to_str("%Y%m%dT%H%i%s",!0),e.templates.format_date=e.date.date_to_str("%Y%m%dT%H%i%s",!0),e.json._copyObject=e.ext.export_api._copyObjectPlain;let i=e.ext.export_api._exportSerialize();return e.templates.xml_format=n,e.templates.format_date=t,e.json._copyObject=e.ext.export_api._originalCopyObject,delete i.links,i},_getRaw(){if(e._scale_helpers){let n=e._get_scales(),t=e.config.min_column_width,i=e._get_resize_options().x?Math.max(e.config.autosize_min_width,0):e.config.$task.offsetWidth,r=e.config.config.scale_height-1;return e._scale_helpers.prepareConfigs(n,t,i,r)}{let n=e.$ui.getView("timeline");if(n){let t=n.$config.width;e.config.autosize!=="x"&&e.config.autosize!=="xy"||(t=Math.max(e.config.autosize_min_width,0));let i=e.getState(),r=n._getScales(),o=e.config.min_column_width,s=e.config.scale_height-1,a=e.config.rtl;return n.$scaleHelper.prepareConfigs(r,o,t,s,i.min_date,i.max_date,a)}}},_serializeTimeline(n){e.json._copyObject=n.visual?e.ext.export_api._copyObjectColors:e.ext.export_api._copyObjectTable;let t=e.ext.export_api._exportSerialize();if(e.json._copyObject=e.ext.export_api._originalCopyObject,delete t.links,n.cellColors){let i=e.templates.timeline_cell_class||e.templates.task_cell_class;if(i){let r=e.ext.export_api._getRaw(),o=r[0].trace_x;for(let s=1;s<r.length;s++)r[s].trace_x.length>o.length&&(o=r[s].trace_x);for(let s=0;s<t.data.length;s++){t.data[s].styles=[];let a=e.getTask(t.data[s].id);for(let l=0;l<o.length;l++){let d=i(a,o[l]);d&&t.data[s].styles.push({index:l,styles:e.ext.export_api._getStyles(d)})}}}}return t},_serializeScales(n){let t=[],i=e.ext.export_api._getRaw(),r=1/0,o=0;for(let s=0;s<i.length;s++)r=Math.min(r,i[s].col_width);for(let s=0;s<i.length;s++){let a=0,l=0,d=[];t.push(d);let u=i[s];o=Math.max(o,u.trace_x.length);let f=u.format||u.template||(u.date?e.date.date_to_str(u.date):e.config.date_scale);for(let g=0;g<u.trace_x.length;g++){let p=u.trace_x[g];l=a+Math.round(u.width[g]/r);let v={text:f(p),start:a,end:l,styles:""};if(n.cellColors){let k=u.css||e.templates.scaleCell_class;if(k){let x=k(p);x&&(v.styles=e.ext.export_api._getStyles(x))}}d.push(v),a=l}}return{width:o,height:t.length,data:t}},_serializeGrid(n){e.exportMode=!0;let t=[],i=e.config.columns,r=0;for(let o=0;o<i.length;o++)i[o].name!=="add"&&i[o].name!=="buttons"&&(t[r]={id:i[o].template?"_"+o:i[o].name,header:i[o].label||e.locale.labels["column_"+i[o].name],width:i[o].width?Math.floor(i[o].width/4):"",tree:i[o].tree||!1},i[o].name==="duration"&&(t[r].type="number"),i[o].name!=="start_date"&&i[o].name!=="end_date"||(t[r].type="date",n&&n.rawDates&&(t[r].id=i[o].name)),r++);return e.exportMode=!1,t},_exportSerialize(){e.exportMode=!0;let n=e.templates.xml_format,t=e.templates.format_date;e.templates.xml_format=e.templates.format_date=e.date.date_to_str(e.config.date_format||e.config.xml_date);let i=e.serialize();return e.templates.xml_format=n,e.templates.format_date=t,e.exportMode=!1,i},_setLevel(n){for(let t=0;t<n.length;t++){n[t].parent==0&&(n[t]._lvl=1);for(let i=t+1;i<n.length;i++)n[t].id==n[i].parent&&(n[i]._lvl=n[t]._lvl+1)}},_clearLevel(n){for(let t=0;t<n.length;t++)delete n[t]._lvl},_clearRecLinks(n){e.ext.export_api._setLevel(n.data);let t={};for(let o=0;o<n.data.length;o++)t[n.data[o].id]=n.data[o];let i={};for(let o=0;o<n.links.length;o++){let s=n.links[o];e.isTaskExists(s.source)&&e.isTaskExists(s.target)&&t[s.source]&&t[s.target]&&(i[s.id]=s)}for(let o in i)e.ext.export_api._makeLinksSameLevel(i[o],t);let r={};for(let o in t)e.ext.export_api._clearCircDependencies(t[o],i,t,{},r,null);Object.keys(i)&&e.ext.export_api._clearLinksSameLevel(i,t);for(let o=0;o<n.links.length;o++)i[n.links[o].id]||(n.links.splice(o,1),o--);e.ext.export_api._clearLevel(n.data)},_clearCircDependencies(n,t,i,r,o,s){let a=n.$_source;if(!a)return;r[n.id]&&e.ext.export_api._onCircDependencyFind(s,t,r,o),r[n.id]=!0;let l={};for(let d=0;d<a.length;d++){if(o[a[d]])continue;let u=t[a[d]],f=i[u._target];l[f.id]&&e.ext.export_api._onCircDependencyFind(u,t,r,o),l[f.id]=!0,e.ext.export_api._clearCircDependencies(f,t,i,r,o,u)}r[n.id]=!1},_onCircDependencyFind(n,t,i,r){n&&(e.callEvent("onExportCircularDependency",[n.id,n])&&delete t[n.id],delete i[n._source],delete i[n._target],r[n.id]=!0)},_makeLinksSameLevel(n,t){let i,r,o={target:t[n.target],source:t[n.source]};if(o.target._lvl!=o.source._lvl){o.target._lvl<o.source._lvl?(i="source",r=o.target._lvl):(i="target",r=o.source._lvl);do{let l=t[o[i].parent];if(!l)break;o[i]=l}while(o[i]._lvl<r);let s=t[o.source.parent],a=t[o.target.parent];for(;s&&a&&s.id!=a.id;)o.source=s,o.target=a,s=t[o.source.parent],a=t[o.target.parent]}n._target=o.target.id,n._source=o.source.id,o.target.$_target||(o.target.$_target=[]),o.target.$_target.push(n.id),o.source.$_source||(o.source.$_source=[]),o.source.$_source.push(n.id)},_clearLinksSameLevel(n,t){for(let i in n)delete n[i]._target,delete n[i]._source;for(let i in t)delete t[i].$_source,delete t[i].$_target},_customProjectProperties(n,t){if(t&&t.project){for(let i in t.project)e.config.$custom_data||(e.config.$custom_data={}),e.config.$custom_data[i]=typeof t.project[i]=="function"?t.project[i](e.config):t.project[i];delete t.project}},_customTaskProperties(n,t){t&&t.tasks&&(n.data.forEach(function(i){for(let r in t.tasks)i.$custom_data||(i.$custom_data={}),i.$custom_data[r]=typeof t.tasks[r]=="function"?t.tasks[r](i,e.config):t.tasks[r]}),delete t.tasks)},_exportConfig(n,t){let i=t.name||"gantt.xml";delete t.name,e.config.custom=t;let r=e.ext.export_api._getWorktimeSettings(),o=e.getSubtaskDates();if(o.start_date&&o.end_date){let l=e.templates.format_date||e.templates.xml_format;e.config.start_end={start_date:l(o.start_date),end_date:l(o.end_date)}}let s=t.auto_scheduling!==void 0&&!!t.auto_scheduling,a={callback:t.callback||null,config:e.config,data:n,manual:s,name:i,worktime:r};for(let l in t)a[l]=t[l];return a},_sendImportAjaxMSP(n){let t=n.server||e.ext.export_api._apiUrl,i=n.store||0,r=n.data,o=n.callback,s={durationUnit:n.durationUnit||void 0,projectProperties:n.projectProperties||void 0,taskProperties:n.taskProperties||void 0};r.append("type",n.type||"msproject-parse"),r.append("data",JSON.stringify(s)),i&&r.append("store",i);let a=new XMLHttpRequest;a.onreadystatechange=function(l){a.readyState===4&&a.status===0&&o&&o(null)},a.onload=function(){let l=null;if(!(a.status>400))try{l=JSON.parse(a.responseText)}catch{}o&&o(l)},a.open("POST",t,!0),a.setRequestHeader("X-Requested-With","XMLHttpRequest"),a.send(r)}},e.exportToPDF=e.ext.export_api.exportToPDF,e.exportToPNG=e.ext.export_api.exportToPNG,e.exportToICal=e.ext.export_api.exportToICal,e.exportToExcel=e.ext.export_api.exportToExcel,e.exportToJSON=e.ext.export_api.exportToJSON,e.importFromExcel=e.ext.export_api.importFromExcel,e.importFromMSProject=e.ext.export_api.importFromMSProject,e.exportToMSProject=e.ext.export_api.exportToMSProject,e.importFromPrimaveraP6=e.ext.export_api.importFromPrimaveraP6,e.exportToPrimaveraP6=e.ext.export_api.exportToPrimaveraP6,e.ext.export_api}},Fj={KEY_CODES:{UP:38,DOWN:40,LEFT:37,RIGHT:39,SPACE:32,ENTER:13,DELETE:46,ESC:27,TAB:9}},eb=class{constructor(n){this.addExtension=(t,i)=>{this._extensions[t]=i},this.getExtension=t=>this._extensions[t],this._extensions={};for(let t in n)this._extensions[t]=n[t]}},mr=typeof window<"u",Kr={isIE:mr&&(navigator.userAgent.indexOf("MSIE")>=0||navigator.userAgent.indexOf("Trident")>=0),isOpera:mr&&(navigator.userAgent.indexOf("Opera")>=0||navigator.userAgent.indexOf("OPR")>=0),isChrome:mr&&navigator.userAgent.indexOf("Chrome")>=0,isSafari:mr&&(navigator.userAgent.indexOf("Safari")>=0||navigator.userAgent.indexOf("Konqueror")>=0),isFF:mr&&navigator.userAgent.indexOf("Firefox")>=0,isIPad:mr&&navigator.userAgent.search(/iPad/gi)>=0,isEdge:mr&&navigator.userAgent.indexOf("Edge")!=-1,isNode:!mr||typeof navigator>"u"||!1,isSalesforce:mr&&(!!Sn.Sfdc||!!Sn.$A||Sn.Aura)};function QT(e){if(typeof e=="string"||typeof e=="number")return e;let n="";for(let t in e){let i="";e.hasOwnProperty(t)&&(i=typeof e[t]=="string"?encodeURIComponent(e[t]):typeof e[t]=="number"?String(e[t]):encodeURIComponent(JSON.stringify(e[t])),i=t+"="+i,n.length&&(i="&"+i),n+=i)}return n}function Sa(e,n){var t={method:e};if(n.length===0)throw new Error("Arguments list of query is wrong.");if(n.length===1)return typeof n[0]=="string"?(t.url=n[0],t.async=!0):(t.url=n[0].url,t.async=n[0].async||!0,t.callback=n[0].callback,t.headers=n[0].headers),n[0].data?typeof n[0].data!="string"?t.data=QT(n[0].data):t.data=n[0].data:t.data="",t;switch(t.url=n[0],e){case"GET":case"DELETE":t.callback=n[1],t.headers=n[2];break;case"POST":case"PUT":n[1]?typeof n[1]!="string"?t.data=QT(n[1]):t.data=n[1]:t.data="",t.callback=n[2],t.headers=n[3]}return t}var eD={date_to_str:(e,n,t)=>{e=e.replace(/%[a-zA-Z]/g,r=>{switch(r){case"%d":return`"+to_fixed(date.get${n?"UTC":""}Date())+"`;case"%m":return`"+to_fixed((date.get${n?"UTC":""}Month()+1))+"`;case"%j":return`"+date.get${n?"UTC":""}Date()+"`;case"%n":return`"+(date.get${n?"UTC":""}Month()+1)+"`;case"%y":return`"+to_fixed(date.get${n?"UTC":""}FullYear()%100)+"`;case"%Y":return`"+date.get${n?"UTC":""}FullYear()+"`;case"%D":return`"+locale.date.day_short[date.get${n?"UTC":""}Day()]+"`;case"%l":return`"+locale.date.day_full[date.get${n?"UTC":""}Day()]+"`;case"%M":return`"+locale.date.month_short[date.get${n?"UTC":""}Month()]+"`;case"%F":return`"+locale.date.month_full[date.get${n?"UTC":""}Month()]+"`;case"%h":return`"+to_fixed((date.get${n?"UTC":""}Hours()+11)%12+1)+"`;case"%g":return`"+((date.get${n?"UTC":""}Hours()+11)%12+1)+"`;case"%G":return`"+date.get${n?"UTC":""}Hours()+"`;case"%H":return`"+to_fixed(date.get${n?"UTC":""}Hours())+"`;case"%i":return`"+to_fixed(date.get${n?"UTC":""}Minutes())+"`;case"%a":return`"+(date.get${n?"UTC":""}Hours()>11?"pm":"am")+"`;case"%A":return`"+(date.get${n?"UTC":""}Hours()>11?"PM":"AM")+"`;case"%s":return`"+to_fixed(date.get${n?"UTC":""}Seconds())+"`;case"%W":return'"+to_fixed(getISOWeek(date))+"';case"%w":return'"+to_fixed(getWeek(date))+"';default:return r}});let i=new Function("date","to_fixed","locale","getISOWeek","getWeek",`return "${e}";`);return r=>i(r,t.date.to_fixed,t.locale,t.date.getISOWeek,t.date.getWeek)},str_to_date:(e,n,t)=>{let i="var temp=date.match(/[a-zA-Z]+|[0-9]+/g);",r=e.match(/%[a-zA-Z]/g);for(let a=0;a<r.length;a++)switch(r[a]){case"%j":case"%d":i+=`set[2]=temp[${a}]||1;`;break;case"%n":case"%m":i+=`set[1]=(temp[${a}]||1)-1;`;break;case"%y":i+=`set[0]=temp[${a}]*1+(temp[${a}]>50?1900:2000);`;break;case"%g":case"%G":case"%h":case"%H":i+=`set[3]=temp[${a}]||0;`;break;case"%i":i+=`set[4]=temp[${a}]||0;`;break;case"%Y":i+=`set[0]=temp[${a}]||0;`;break;case"%a":case"%A":i+=`set[3]=set[3]%12+((temp[${a}]||'').toLowerCase()=='am'?0:12);`;break;case"%s":i+=`set[5]=temp[${a}]||0;`;break;case"%M":i+=`set[1]=locale.date.month_short_hash[temp[${a}]]||0;`;break;case"%F":i+=`set[1]=locale.date.month_full_hash[temp[${a}]]||0;`}let o="set[0],set[1],set[2],set[3],set[4],set[5]";n&&(o=` Date.UTC(${o})`);let s=new Function("date","locale",`var set=[0,0,1,0,0,0]; ${i} return new Date(${o});`);return a=>s(a,t.locale)}},tD={date_to_str:(e,n,t)=>i=>e.replace(/%[a-zA-Z]/g,r=>{switch(r){case"%d":return n?t.date.to_fixed(i.getUTCDate()):t.date.to_fixed(i.getDate());case"%m":return n?t.date.to_fixed(i.getUTCMonth()+1):t.date.to_fixed(i.getMonth()+1);case"%j":return n?i.getUTCDate():i.getDate();case"%n":return n?i.getUTCMonth()+1:i.getMonth()+1;case"%y":return n?t.date.to_fixed(i.getUTCFullYear()%100):t.date.to_fixed(i.getFullYear()%100);case"%Y":return n?i.getUTCFullYear():i.getFullYear();case"%D":return n?t.locale.date.day_short[i.getUTCDay()]:t.locale.date.day_short[i.getDay()];case"%l":return n?t.locale.date.day_full[i.getUTCDay()]:t.locale.date.day_full[i.getDay()];case"%M":return n?t.locale.date.month_short[i.getUTCMonth()]:t.locale.date.month_short[i.getMonth()];case"%F":return n?t.locale.date.month_full[i.getUTCMonth()]:t.locale.date.month_full[i.getMonth()];case"%h":return n?t.date.to_fixed((i.getUTCHours()+11)%12+1):t.date.to_fixed((i.getHours()+11)%12+1);case"%g":return n?(i.getUTCHours()+11)%12+1:(i.getHours()+11)%12+1;case"%G":return n?i.getUTCHours():i.getHours();case"%H":return n?t.date.to_fixed(i.getUTCHours()):t.date.to_fixed(i.getHours());case"%i":return n?t.date.to_fixed(i.getUTCMinutes()):t.date.to_fixed(i.getMinutes());case"%a":return n?i.getUTCHours()>11?"pm":"am":i.getHours()>11?"pm":"am";case"%A":return n?i.getUTCHours()>11?"PM":"AM":i.getHours()>11?"PM":"AM";case"%s":return n?t.date.to_fixed(i.getUTCSeconds()):t.date.to_fixed(i.getSeconds());case"%W":return n?t.date.to_fixed(t.date.getUTCISOWeek(i)):t.date.to_fixed(t.date.getISOWeek(i));default:return r}}),str_to_date:(e,n,t)=>i=>{let r=[0,0,1,0,0,0],o=i.match(/[a-zA-Z]+|[0-9]+/g),s=e.match(/%[a-zA-Z]/g);for(let a=0;a<s.length;a++)switch(s[a]){case"%j":case"%d":r[2]=o[a]||1;break;case"%n":case"%m":r[1]=(o[a]||1)-1;break;case"%y":r[0]=1*o[a]+(o[a]>50?1900:2e3);break;case"%g":case"%G":case"%h":case"%H":r[3]=o[a]||0;break;case"%i":r[4]=o[a]||0;break;case"%Y":r[0]=o[a]||0;break;case"%a":case"%A":r[3]=r[3]%12+((o[a]||"").toLowerCase()==="am"?0:12);break;case"%s":r[5]=o[a]||0;break;case"%M":r[1]=t.locale.date.month_short_hash[o[a]]||0;break;case"%F":r[1]=t.locale.date.month_full_hash[o[a]]||0}return n?new Date(Date.UTC(r[0],r[1],r[2],r[3],r[4],r[5])):new Date(r[0],r[1],r[2],r[3],r[4],r[5])}};function $j(e){var n=null;function t(){var r=!1;return e.config.csp==="auto"?(n===null&&function(){try{new Function("canUseCsp = false;")}catch{n=!0}}(),r=n):r=e.config.csp,r}var i={init:function(){for(var r=e.locale,o=r.date.month_short,s=r.date.month_short_hash={},a=0;a<o.length;a++)s[o[a]]=a;for(o=r.date.month_full,s=r.date.month_full_hash={},a=0;a<o.length;a++)s[o[a]]=a},date_part:function(r){var o=new Date(r);return r.setHours(0),this.hour_start(r),r.getHours()&&(r.getDate()<o.getDate()||r.getMonth()<o.getMonth()||r.getFullYear()<o.getFullYear())&&r.setTime(r.getTime()+36e5*(24-r.getHours())),r},time_part:function(r){return(r.valueOf()/1e3-60*r.getTimezoneOffset())%86400},week_start:function(r){var o=r.getDay();return e.config.start_on_monday&&(o===0?o=6:o--),this.date_part(this.add(r,-1*o,"day"))},month_start:function(r){return r.setDate(1),this.date_part(r)},quarter_start:function(r){this.month_start(r);var o,s=r.getMonth();return o=s>=9?9:s>=6?6:s>=3?3:0,r.setMonth(o),r},year_start:function(r){return r.setMonth(0),this.month_start(r)},day_start:function(r){return this.date_part(r)},hour_start:function(r){return r.getMinutes()&&r.setMinutes(0),this.minute_start(r),r},minute_start:function(r){return r.getSeconds()&&r.setSeconds(0),r.getMilliseconds()&&r.setMilliseconds(0),r},_add_days:function(r,o,s){r.setDate(r.getDate()+o);var a=o>=0,l=!s.getHours()&&r.getHours(),d=r.getDate()<=s.getDate()||r.getMonth()<s.getMonth()||r.getFullYear()<s.getFullYear();return a&&l&&d&&r.setTime(r.getTime()+36e5*(24-r.getHours())),o>1&&l&&r.setHours(0),r},add:function(r,o,s){var a=new Date(r.valueOf());switch(s){case"day":a=this._add_days(a,o,r);break;case"week":a=this._add_days(a,7*o,r);break;case"month":a.setMonth(a.getMonth()+o);break;case"year":a.setYear(a.getFullYear()+o);break;case"hour":a.setTime(a.getTime()+60*o*60*1e3);break;case"minute":a.setTime(a.getTime()+60*o*1e3);break;default:return this["add_"+s](r,o,s)}return a},add_quarter:function(r,o){return this.add(r,3*o,"month")},to_fixed:function(r){return r<10?"0"+r:r},copy:function(r){return new Date(r.valueOf())},date_to_str:function(r,o){var s=eD;return t()&&(s=tD),s.date_to_str(r,o,e)},str_to_date:function(r,o){var s=eD;return t()&&(s=tD),s.str_to_date(r,o,e)},getISOWeek:function(r){return e.date._getWeekNumber(r,!0)},_getWeekNumber:function(r,o){if(!r)return!1;var s=r.getDay();o&&s===0&&(s=7);var a=new Date(r.valueOf());a.setDate(r.getDate()+(4-s));var l=a.getFullYear(),d=Math.round((a.getTime()-new Date(l,0,1).getTime())/864e5);return 1+Math.floor(d/7)},getWeek:function(r){return e.date._getWeekNumber(r,e.config.start_on_monday)},getUTCISOWeek:function(r){return e.date.getISOWeek(r)},convert_to_utc:function(r){return new Date(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate(),r.getUTCHours(),r.getUTCMinutes(),r.getUTCSeconds())},parseDate:function(r,o){return r&&!r.getFullYear&&(typeof o!="function"&&(o=typeof o=="string"?o==="parse_date"||o==="xml_date"?e.defined(e.templates.xml_date)?e.templates.xml_date:e.templates.parse_date:e.defined(e.templates[o])?e.templates[o]:e.date.str_to_date(o):e.defined(e.templates.xml_date)?e.templates.xml_date:e.templates.parse_date),r=r?o(r):null),r}};return i}var tb=class{constructor(n){let{url:t,token:i}=n;this._url=t,this._token=i,this._mode=1,this._seed=1,this._queue=[],this.data={},this.api={},this._events={}}headers(){return{Accept:"application/json","Content-Type":"application/json","Remote-Token":this._token}}fetch(n,t){let i={credentials:"include",headers:this.headers()};return t&&(i.method="POST",i.body=t),fetch(n,i).then(r=>r.json())}load(n){return n&&(this._url=n),this.fetch(this._url).then(t=>this.parse(t))}parse(n){let{key:t,websocket:i}=n;t&&(this._token=n.key);for(let r in n.data)this.data[r]=n.data[r];for(let r in n.api){let o=this.api[r]={},s=n.api[r];for(let a in s)o[a]=this._wrapper(r+"."+a)}return i&&this.connect(),this}connect(){let n=this._socket;n&&(this._socket=null,n.onclose=function(){},n.close()),this._mode=2,this._socket=function(t,i,r,o){let s=i;s[0]==="/"&&(s=document.location.protocol+"//"+document.location.host+i),s=s.replace(/^http(s|):/,"ws$1:");let a=s.indexOf("?")!=-1?"&":"?";s=`${s}${a}token=${r}&ws=1`;let l=new WebSocket(s);return l.onclose=()=>setTimeout(()=>t.connect(),2e3),l.onmessage=d=>{let u=JSON.parse(d.data);switch(u.action){case"result":t.result(u.body,[]);break;case"event":t.fire(u.body.name,u.body.value);break;case"start":o();break;default:t.onError(u.data)}},l}(this,this._url,this._token,()=>(this._mode=3,this._send(),this._resubscribe(),this))}_wrapper(n){return(function(){let t=[].slice.call(arguments),i=null,r=new Promise((o,s)=>{i={data:{id:this._uid(),name:n,args:t},status:1,resolve:o,reject:s},this._queue.push(i)});return this.onCall(i,r),this._mode===3?this._send(i):setTimeout(()=>this._send(),1),r}).bind(this)}_uid(){return(this._seed++).toString()}_send(n){if(this._mode==2)return void setTimeout(()=>this._send(),100);let t=n?[n]:this._queue.filter(r=>r.status===1);if(!t.length)return;let i=t.map(r=>(r.status=2,r.data));this._mode!==3?this.fetch(this._url,JSON.stringify(i)).catch(r=>this.onError(r)).then(r=>this.result(r,i)):this._socket.send(JSON.stringify({action:"call",body:i}))}result(n,t){let i={};if(n)for(let r=0;r<n.length;r++)i[n[r].id]=n[r];else for(let r=0;r<t.length;r++)i[t[r].id]={id:t[r].id,error:"Network Error",data:null};for(let r=this._queue.length-1;r>=0;r--){let o=this._queue[r],s=i[o.data.id];s&&(this.onResponse(o,s),s.error?o.reject(s.error):o.resolve(s.data),this._queue.splice(r,1))}}on(n,t){let i=this._uid(),r=this._events[n],o=!!r;return o||(r=this._events[n]=[]),r.push({id:i,handler:t}),o||this._mode!=3||this._socket.send(JSON.stringify({action:"subscribe",name:n})),{name:n,id:i}}_resubscribe(){if(this._mode==3)for(let n in this._events)this._socket.send(JSON.stringify({action:"subscribe",name:n}))}detach(n){if(!n){if(this._mode==3)for(let o in this._events)this._socket.send(JSON.stringify({action:"unsubscribe",key:o}));return void(this._events={})}let{id:t,name:i}=n,r=this._events[i];if(r){let o=r.filter(s=>s.id!=t);o.length?this._events[i]=o:(delete this._events[i],this._mode==3&&this._socket.send(JSON.stringify({action:"unsubscribe",name:i})))}}fire(n,t){let i=this._events[n];if(i)for(let r=0;r<i.length;r++)i[r].handler(t)}onError(n){return null}onCall(n,t){}onResponse(n,t){}},jj=function(e,n){let t=new tb({url:e,token:n});t.fetch=function(i,r){let o={headers:this.headers()};return r&&(o.method="POST",o.body=r),fetch(i,o).then(s=>s.json())},this._ready=t.load().then(i=>this._remote=i),this.ready=function(){return this._ready},this.on=function(i,r){this.ready().then(o=>{if(typeof i=="string")o.on(i,r);else for(let s in i)o.on(s,i[s])})}};function ID(e,n){if(!n)return!0;if(e._on_timeout)return!1;var t=Math.ceil(1e3/n);return t<2||(setTimeout(function(){delete e._on_timeout},t),e._on_timeout=!0),!0}var Bj=function(){var e={};return{getState:function(n){if(e[n])return e[n].method();var t={};for(var i in e)e[i].internal||$e(t,e[i].method(),!0);return t},registerProvider:function(n,t,i){e[n]={method:t,internal:i}},unregisterProvider:function(n){delete e[n]}}},Vj=Promise,Wn={$create:function(e){return $e(e||[],this)},$removeAt:function(e,n){e>=0&&this.splice(e,n||1)},$remove:function(e){this.$removeAt(this.$find(e))},$insertAt:function(e,n){if(n||n===0){var t=this.splice(n,this.length-n);this[n]=e,this.push.apply(this,t)}else this.push(e)},$find:function(e){for(var n=0;n<this.length;n++)if(e==this[n])return n;return-1},$each:function(e,n){for(var t=0;t<this.length;t++)e.call(n||this,this[t])},$map:function(e,n){for(var t=0;t<this.length;t++)this[t]=e.call(n||this,this[t]);return this},$filter:function(e,n){for(var t=0;t<this.length;t++)e.call(n||this,this[t])||(this.splice(t,1),t--);return this}};function Jc(e,n,t,i){return(i=n?n.config:i)&&i.placeholder_task&&t.exists(e)?t.getItem(e).type===i.types.placeholder:!1}var ci=function(e){return this.pull={},this.$initItem=e.initItem,this.visibleOrder=Wn.$create(),this.fullOrder=Wn.$create(),this._skip_refresh=!1,this._filterRule=null,this._searchVisibleOrder={},this._indexRangeCache={},this._getItemsCache=null,this.$config=e,fi(this),this._attachDataChange(function(){return this._indexRangeCache={},this._getItemsCache=null,!0}),this};ci.prototype={_attachDataChange:function(e){this.attachEvent("onClearAll",e),this.attachEvent("onBeforeParse",e),this.attachEvent("onBeforeUpdate",e),this.attachEvent("onBeforeDelete",e),this.attachEvent("onBeforeAdd",e),this.attachEvent("onParse",e),this.attachEvent("onBeforeFilter",e)},_parseInner:function(e){for(var n=null,t=[],i=0,r=e.length;i<r;i++)n=e[i],this.$initItem&&(this.$config.copyOnParse()&&(n=ln(n)),n=this.$initItem(n)),this.callEvent("onItemLoading",[n])&&(this.pull.hasOwnProperty(n.id)||this.fullOrder.push(n.id),t.push(n),this.pull[n.id]=n);return t},parse:function(e){this.isSilent()||this.callEvent("onBeforeParse",[e]);var n=this._parseInner(e);this.isSilent()||(this.refresh(),this.callEvent("onParse",[n]))},getItem:function(e){return this.pull[e]},_updateOrder:function(e){e.call(this.visibleOrder),e.call(this.fullOrder)},updateItem:function(e,n){if(Dt(n)||(n=this.getItem(e)),!this.isSilent()&&this.callEvent("onBeforeUpdate",[n.id,n])===!1)return!1;$e(this.pull[e],n,!0),this.isSilent()||(this.callEvent("onAfterUpdate",[n.id,n]),this.callEvent("onStoreUpdated",[n.id,n,"update"]))},_removeItemInner:function(e){this._updateOrder(function(){this.$remove(e)}),delete this.pull[e]},removeItem:function(e){var n=this.getItem(e);if(!this.isSilent()&&this.callEvent("onBeforeDelete",[n.id,n])===!1)return!1;this.callEvent("onAfterDeleteConfirmed",[n.id,n]),this._removeItemInner(e),this.isSilent()&&this.callEvent("onAfterSilentDelete",[n.id,n]),this.isSilent()||(this.filter(),this.callEvent("onAfterDelete",[n.id,n]),this.callEvent("onStoreUpdated",[n.id,n,"delete"]))},_addItemInner:function(e,n){if(this.exists(e.id))this.silent(function(){this.updateItem(e.id,e)});else{var t=this.visibleOrder,i=t.length;(!Dt(n)||n<0)&&(n=i),n>i&&(n=Math.min(t.length,n))}this.pull[e.id]=e,this._updateOrder(function(){this.$find(e.id)===-1&&this.$insertAt(e.id,n)}),this.filter()},isVisible:function(e){return this.visibleOrder.$find(e)>-1},getVisibleItems:function(){return this.getIndexRange()},addItem:function(e,n){return Dt(e.id)||(e.id=hi()),this.$initItem&&(e=this.$initItem(e)),!(!this.isSilent()&&this.callEvent("onBeforeAdd",[e.id,e])===!1)&&(this._addItemInner(e,n),this.isSilent()||(this.callEvent("onAfterAdd",[e.id,e]),this.callEvent("onStoreUpdated",[e.id,e,"add"])),e.id)},_changeIdInner:function(e,n){this.pull[e]&&(this.pull[n]=this.pull[e]);var t=this._searchVisibleOrder[e];this.pull[n].id=n,this._updateOrder(function(){this[this.$find(e)]=n}),this._searchVisibleOrder[n]=t,delete this._searchVisibleOrder[e],delete this.pull[e]},changeId:function(e,n){this._changeIdInner(e,n),this.callEvent("onIdChange",[e,n])},exists:function(e){return!!this.pull[e]},_moveInner:function(e,n){var t=this.getIdByIndex(e);this._updateOrder(function(){this.$removeAt(e),this.$insertAt(t,Math.min(this.length,n))})},move:function(e,n){var t=this.getIdByIndex(e),i=this.getItem(t);this._moveInner(e,n),this.isSilent()||this.callEvent("onStoreUpdated",[i.id,i,"move"])},clearAll:function(){this.$destroyed||(this.silent(function(){this.unselect()}),this.pull={},this.visibleOrder=Wn.$create(),this.fullOrder=Wn.$create(),this.isSilent()||(this.callEvent("onClearAll",[]),this.refresh()))},silent:function(e,n){var t=!1;this.isSilent()&&(t=!0),this._skip_refresh=!0,e.call(n||this),t||(this._skip_refresh=!1)},isSilent:function(){return!!this._skip_refresh},arraysEqual:function(e,n){if(e.length!==n.length)return!1;for(var t=0;t<e.length;t++)if(e[t]!==n[t])return!1;return!0},refresh:function(e,n){var t,i;if(!this.$destroyed&&!this.isSilent()&&(e&&(t=this.getItem(e)),i=e?[e,t,"paint"]:[null,null,null],this.callEvent("onBeforeStoreUpdate",i)!==!1)){var r=this._quick_refresh&&!this._mark_recompute;if(this._mark_recompute=!1,e){if(!n&&!r){var o=this.visibleOrder;this.filter(),this.arraysEqual(o,this.visibleOrder)||(e=void 0)}}else r||this.filter();i=e?[e,t,"paint"]:[null,null,null],this.callEvent("onStoreUpdated",i)}},count:function(){return this.fullOrder.length},countVisible:function(){return this.visibleOrder.length},sort:function(e){},serialize:function(){},eachItem:function(e){for(var n=0;n<this.fullOrder.length;n++){var t=this.getItem(this.fullOrder[n]);e.call(this,t)}},find:function(e){var n=[];return this.eachItem(function(t){e(t)&&n.push(t)}),n},filter:function(e){this.isSilent()||this.callEvent("onBeforeFilter",[]),this.callEvent("onPreFilter",[]);var n=Wn.$create(),t=[];this.eachItem(function(r){this.callEvent("onFilterItem",[r.id,r])&&(Jc(r.id,null,this,this._ganttConfig)?t.push(r.id):n.push(r.id))});for(var i=0;i<t.length;i++)n.push(t[i]);for(this.visibleOrder=n,this._searchVisibleOrder={},i=0;i<this.visibleOrder.length;i++)this._searchVisibleOrder[this.visibleOrder[i]]=i;this.isSilent()||this.callEvent("onFilter",[])},getIndexRange:function(e,n){var t=Math.min(n||1/0,this.countVisible()-1),i=e||0,r=i+"-"+t;if(this._indexRangeCache[r])return this._indexRangeCache[r].slice();for(var o=[],s=i;s<=t;s++)o.push(this.getItem(this.visibleOrder[s]));return this._indexRangeCache[r]=o.slice(),o},getItems:function(){if(this._getItemsCache)return this._getItemsCache.slice();var e=[];for(var n in this.pull)e.push(this.pull[n]);return this._getItemsCache=e.slice(),e},getIdByIndex:function(e){return this.visibleOrder[e]},getIndexById:function(e){var n=this._searchVisibleOrder[e];return n===void 0&&(n=-1),n},_getNullIfUndefined:function(e){return e===void 0?null:e},getFirst:function(){return this._getNullIfUndefined(this.visibleOrder[0])},getLast:function(){return this._getNullIfUndefined(this.visibleOrder[this.visibleOrder.length-1])},getNext:function(e){return this._getNullIfUndefined(this.visibleOrder[this.getIndexById(e)+1])},getPrev:function(e){return this._getNullIfUndefined(this.visibleOrder[this.getIndexById(e)-1])},destructor:function(){this.callEvent("onDestroy",[]),this.detachAllEvents(),this.$destroyed=!0,this.pull=null,this.$initItem=null,this.visibleOrder=null,this.fullOrder=null,this._skip_refresh=null,this._filterRule=null,this._searchVisibleOrder=null,this._indexRangeCache={}}};var MD=function(e){var n;ci.apply(this,[e]),this._branches={},this.pull={},this.$initItem=function(a){var l=a;e.initItem&&(l=e.initItem(l));var d=this.getItem(a.id);return d&&!Fi(d.parent,l.parent)&&this.move(l.id,l.$index||-1,l.parent||this._ganttConfig.root_id),l},this.$parentProperty=e.parentProperty||"parent",typeof e.rootId!="function"?this.$getRootId=(n=e.rootId||0,function(){return n}):this.$getRootId=e.rootId,this.$openInitially=e.openInitially,this.visibleOrder=Wn.$create(),this.fullOrder=Wn.$create(),this._searchVisibleOrder={},this._indexRangeCache={},this._eachItemMainRangeCache=null,this._getItemsCache=null,this._skip_refresh=!1,this._ganttConfig=null,e.getConfig&&(this._ganttConfig=e.getConfig());var t={},i={},r={},o={},s=!1;return this._attachDataChange(function(){return this._indexRangeCache={},this._eachItemMainRangeCache=null,this._getItemsCache=null,!0}),this.attachEvent("onPreFilter",function(){this._indexRangeCache={},this._eachItemMainRangeCache=null,t={},i={},r={},o={},s=!1,this.eachItem(function(a){var l=this.getParent(a.id);a.$open&&r[l]!==!1?r[a.id]=!0:r[a.id]=!1,this._isSplitItem(a)&&(s=!0,t[a.id]=!0,i[a.id]=!0),s&&i[l]&&(i[a.id]=!0),r[l]||r[l]===void 0?o[a.id]=!0:o[a.id]=!1})}),this.attachEvent("onFilterItem",function(a,l){var d=!1;this._ganttConfig&&(d=this._ganttConfig.open_split_tasks);var u=o[l.id];return s&&(u&&i[l.id]&&!t[l.id]&&(u=!!d),i[l.id]&&!t[l.id]&&(l.$split_subtask=!0)),l.$expanded_branch=!!o[l.id],!!u}),this.attachEvent("onFilter",function(){t={},i={},r={},o={}}),this};function Fi(e,n){return String(e)===String(n)}function Ht(e){return Kr.isNode||!e.$root}MD.prototype=$e({_buildTree:function(e){for(var n=null,t=this.$getRootId(),i=0,r=e.length;i<r;i++)n=e[i],this.setParent(n,di(this.getParent(n),t)||t);for(i=0,r=e.length;i<r;i++)n=e[i],this._add_branch(n),n.$level=this.calculateItemLevel(n),n.$local_index=this.getBranchIndex(n.id),Dt(n.$open)||(n.$open=Dt(n.open)?n.open:this.$openInitially());this._updateOrder()},_isSplitItem:function(e){return e.render=="split"&&this.hasChild(e.id)},parse:function(e){this._skip_refresh||this.callEvent("onBeforeParse",[e]);var n=this._parseInner(e);this._buildTree(n),this.filter(),this._skip_refresh||this.callEvent("onParse",[n])},_addItemInner:function(e,n){var t=this.getParent(e);Dt(t)||(t=this.$getRootId(),this.setParent(e,t));var i=this.getIndexById(t)+Math.min(Math.max(n,0),this.visibleOrder.length);1*i!==i&&(i=void 0),ci.prototype._addItemInner.call(this,e,i),this.setParent(e,t),e.hasOwnProperty("$rendered_parent")&&this._move_branch(e,e.$rendered_parent),this._add_branch(e,n)},_changeIdInner:function(e,n){var t=this.getChildren(e),i=this._searchVisibleOrder[e];ci.prototype._changeIdInner.call(this,e,n);var r=this.getParent(n);this._replace_branch_child(r,e,n),this._branches[e]&&(this._branches[n]=this._branches[e]);for(var o=0;o<t.length;o++){var s=this.getItem(t[o]);s[this.$parentProperty]=n,s.$rendered_parent=n}this._searchVisibleOrder[n]=i,delete this._branches[e]},_traverseBranches:function(e,n){Dt(n)||(n=this.$getRootId());var t=this._branches[n];if(t)for(var i=0;i<t.length;i++){var r=t[i];e.call(this,r),this._branches[r]&&this._traverseBranches(e,r)}},_updateOrder:function(e){this.fullOrder=Wn.$create(),this._traverseBranches(function(n){this.fullOrder.push(n)}),e&&ci.prototype._updateOrder.call(this,e)},_removeItemInner:function(e){var n=[];this.eachItem(function(i){n.push(i)},e),n.push(this.getItem(e));for(var t=0;t<n.length;t++)this._move_branch(n[t],this.getParent(n[t]),null),ci.prototype._removeItemInner.call(this,n[t].id),this._move_branch(n[t],this.getParent(n[t]),null)},move:function(e,n,t){var i=arguments[3],r=(this._ganttConfig||{}).root_id||0;if(i=di(i,r)){if(i===e)return;t=this.getParent(i),n=this.getBranchIndex(i)}if(!Fi(e,t)){Dt(t)||(t=this.$getRootId());var o=this.getItem(e),s=this.getParent(o.id),a=this.getChildren(t);if(n==-1&&(n=a.length+1),Fi(s,t)&&this.getBranchIndex(e)==n)return;if(this.callEvent("onBeforeItemMove",[e,t,n])===!1)return!1;for(var l=[],d=0;d<a.length;d++)Jc(a[d],null,this,this._ganttConfig)&&(l.push(a[d]),a.splice(d,1),d--);this._replace_branch_child(s,e);var u=(a=this.getChildren(t))[n];(u=di(u,r))?a=a.slice(0,n).concat([e]).concat(a.slice(n)):a.push(e),l.length&&(a=a.concat(l)),Fi(o.$rendered_parent,s)||Fi(s,t)||(o.$rendered_parent=s),this.setParent(o,t),this._branches[t]=a;var f=this.calculateItemLevel(o)-o.$level;o.$level+=f,this.eachItem(function(g){g.$level+=f},o.id,this),this._moveInner(this.getIndexById(e),this.getIndexById(t)+n),this.callEvent("onAfterItemMove",[e,t,n]),this.refresh()}},getBranchIndex:function(e){var n=this.getChildren(this.getParent(e));let t=n.indexOf(e+"");return t==-1&&(t=n.indexOf(+e)),t},hasChild:function(e){var n=this._branches[e];return n&&n.length},getChildren:function(e){var n=this._branches[e];return n||Wn.$create()},isChildOf:function(e,n){if(!this.exists(e))return!1;if(n===this.$getRootId())return!0;if(!this.hasChild(n))return!1;var t=this.getItem(e),i=this.getParent(e);if(this.getItem(n).$level>=t.$level)return!1;for(;t&&this.exists(i);){if((t=this.getItem(i))&&Fi(t.id,n))return!0;i=this.getParent(t)}return!1},getSiblings:function(e){if(!this.exists(e))return Wn.$create();var n=this.getParent(e);return this.getChildren(n)},getNextSibling:function(e){for(var n=this.getSiblings(e),t=0,i=n.length;t<i;t++)if(Fi(n[t],e)){var r=n[t+1];return r===0&&t>0&&(r="0"),r||null}return null},getPrevSibling:function(e){for(var n=this.getSiblings(e),t=0,i=n.length;t<i;t++)if(Fi(n[t],e)){var r=n[t-1];return r===0&&t>0&&(r="0"),r||null}return null},getParent:function(e){var n=null;return(n=e.id!==void 0?e:this.getItem(e))?n[this.$parentProperty]:this.$getRootId()},clearAll:function(){this._branches={},ci.prototype.clearAll.call(this)},calculateItemLevel:function(e){var n=0;return this.eachParent(function(){n++},e),n},_setParentInner:function(e,n,t){t||(e.hasOwnProperty("$rendered_parent")?this._move_branch(e,e.$rendered_parent,n):this._move_branch(e,e[this.$parentProperty],n))},setParent:function(e,n,t){this._setParentInner(e,n,t),e[this.$parentProperty]=n},_eachItemCached:function(e,n){for(var t=0,i=n.length;t<i;t++)e.call(this,n[t])},_eachItemIterate:function(e,n,t){var i=this.getChildren(n);for(i.length&&(i=i.slice().reverse());i.length;){var r=i.pop(),o=this.getItem(r);if(e.call(this,o),t&&t.push(o),this.hasChild(o.id))for(var s=this.getChildren(o.id),a=s.length-1;a>=0;a--)i.push(s[a])}},eachItem:function(e,n){var t=this.$getRootId();Dt(n)||(n=t);var i=di(n,t)||t,r=!1,o=!1,s=null;i===t&&(this._eachItemMainRangeCache?(r=!0,s=this._eachItemMainRangeCache):(o=!0,s=this._eachItemMainRangeCache=[])),r?this._eachItemCached(e,s):this._eachItemIterate(e,i,o?s:null)},eachParent:function(e,n){for(var t={},i=n,r=this.getParent(i);this.exists(r);){if(t[r])throw new Error("Invalid tasks tree. Cyclic reference has been detected on task "+r);t[r]=!0,i=this.getItem(r),e.call(this,i),r=this.getParent(i)}},_add_branch:function(e,n,t){var i=t===void 0?this.getParent(e):t;this.hasChild(i)||(this._branches[i]=Wn.$create());var r=this.getChildren(i);r.indexOf(e.id+"")>-1||r.indexOf(+e.id)>-1||(1*n==n?r.splice(n,0,e.id):r.push(e.id),e.$rendered_parent=i)},_move_branch:function(e,n,t){this._eachItemMainRangeCache=null,this._replace_branch_child(n,e.id),this.exists(t)||Fi(t,this.$getRootId())?this._add_branch(e,void 0,t):delete this._branches[e.id],e.$level=this.calculateItemLevel(e),this.eachItem(function(i){i.$level=this.calculateItemLevel(i)},e.id)},_replace_branch_child:function(e,n,t){var i=this.getChildren(e);if(i&&e!==void 0){var r=Wn.$create();let o=i.indexOf(n+"");o!=-1||isNaN(+n)||(o=i.indexOf(+n)),o>-1&&(t?i.splice(o,1,t):i.splice(o,1)),r=i,this._branches[e]=r}},sort:function(e,n,t){this.exists(t)||(t=this.$getRootId()),e||(e="order");var i=typeof e=="string"?function(l,d){return l[e]==d[e]||Tn(l[e])&&Tn(d[e])&&l[e].valueOf()==d[e].valueOf()?0:l[e]>d[e]?1:-1}:e;if(n){var r=i;i=function(l,d){return r(d,l)}}var o=this.getChildren(t);if(o){for(var s=[],a=o.length-1;a>=0;a--)s[a]=this.getItem(o[a]);for(s.sort(i),a=0;a<s.length;a++)o[a]=s[a].id,this.sort(e,n,o[a])}},filter:function(e){for(let n in this.pull){let t=this.pull[n].$rendered_parent,i=this.getParent(this.pull[n]);Fi(t,i)||this._move_branch(this.pull[n],t,i)}return ci.prototype.filter.apply(this,arguments)},open:function(e){this.exists(e)&&(this.getItem(e).$open=!0,this._skipTaskRecalculation=!0,this.callEvent("onItemOpen",[e]))},close:function(e){this.exists(e)&&(this.getItem(e).$open=!1,this._skipTaskRecalculation=!0,this.callEvent("onItemClose",[e]))},destructor:function(){ci.prototype.destructor.call(this),this._branches=null,this._indexRangeCache={},this._eachItemMainRangeCache=null}},ci.prototype);var zj=function(e,n){let t=n.getDatastore(e),i=function(a,l){let d=l.getLayers(),u=t.getItem(a);if(u&&t.isVisible(a))for(let f=0;f<d.length;f++)d[f].render_item(u)},r=function(a){let l=a.getLayers();for(let p=0;p<l.length;p++)l[p].clear();let d=null,u={};for(let p=0;p<l.length;p++){let v=l[p],k;if(v.get_visible_range){var f=v.get_visible_range(t);if(f.start!==void 0&&f.end!==void 0){var g=f.start+" - "+f.end;u[g]?k=u[g]:(k=t.getIndexRange(f.start,f.end),u[g]=k)}else{if(f.ids===void 0)throw new Error("Invalid range returned from 'getVisibleRange' of the layer");k=f.ids.map(function(x){return t.getItem(x)})}}else d||(d=t.getVisibleItems()),k=d;v.prepare_data&&v.prepare_data(k),l[p].render_items(k)}},o=function(a){if(a.update_items){let d=[];if(a.get_visible_range){var l=a.get_visible_range(t);if(l.start!==void 0&&l.end!==void 0&&(d=t.getIndexRange(l.start,l.end)),l.ids!==void 0){let u=l.ids.map(function(f){return t.getItem(f)});u.length>0&&(u=u.filter(f=>f!==void 0),d=d.concat(u))}if((l.start==null||l.end==null)&&l.ids==null)throw new Error("Invalid range returned from 'getVisibleRange' of the layer")}else d=t.getVisibleItems();a.prepare_data&&a.prepare_data(d,a),a.update_items(d)}};function s(a){return!!a.$services.getService("state").getState("batchUpdate").batch_update}t.attachEvent("onStoreUpdated",function(a,l,d){if(Ht(n))return!0;let u=n.$services.getService("layers").getDataRender(e);u&&(u.onUpdateRequest=function(f){o(f)})}),t.attachEvent("onStoreUpdated",function(a,l,d){s(n)||(a&&d!="move"&&d!="delete"?(t.callEvent("onBeforeRefreshItem",[l.id]),t.callEvent("onAfterRefreshItem",[l.id])):(t.callEvent("onBeforeRefreshAll",[]),t.callEvent("onAfterRefreshAll",[])))}),t.attachEvent("onAfterRefreshAll",function(){if(Ht(n))return!0;let a=n.$services.getService("layers").getDataRender(e);a&&!s(n)&&r(a)}),t.attachEvent("onAfterRefreshItem",function(a){if(Ht(n))return!0;let l=n.$services.getService("layers").getDataRender(e);l&&i(a,l)}),t.attachEvent("onItemOpen",function(){if(Ht(n)||t.isSilent())return!0;n.render()}),t.attachEvent("onItemClose",function(){if(Ht(n)||t.isSilent())return!0;n.render()}),t.attachEvent("onIdChange",function(a,l){if(Ht(n))return!0;if(t.callEvent("onBeforeIdChange",[a,l]),!s(n)&&!t.isSilent()){let d=n.$services.getService("layers").getDataRender(e);d?(function(u,f,g){for(let p=0;p<u.length;p++)u[p].change_id(f,g)}(d.getLayers(),a,l,t.getItem(l)),i(l,d)):n.render()}})};function Ry(){for(var e=this.$services.getService("datastores"),n=[],t=0;t<e.length;t++){var i=this.getDatastore(e[t]);i.$destroyed||n.push(i)}return n}var Hj={create:function(){var e=$e({},{createDatastore:function(n){var t=(n.type||"").toLowerCase()=="treedatastore"?MD:ci;if(n){var i=this;n.openInitially=function(){return i.config.open_tree_initially},n.copyOnParse=function(){return i.config.deepcopy_on_parse}}var r=new t(n);if(this.mixin(r,function(a){var l=null,d=a._removeItemInner;function u(f){l=null,this.callEvent("onAfterUnselect",[f])}return a._removeItemInner=function(f){return l==f&&u.call(this,f),l&&this.eachItem&&this.eachItem(function(g){g.id==l&&u.call(this,g.id)},f),d.apply(this,arguments)},a.attachEvent("onIdChange",function(f,g){a.getSelectedId()==f&&a.silent(function(){a.unselect(f),a.select(g)})}),{select:function(f){if(f){if(l==f)return l;if(!this._skip_refresh&&!this.callEvent("onBeforeSelect",[f]))return!1;this.unselect(),l=f,this._skip_refresh||(this.refresh(f),this.callEvent("onAfterSelect",[f]))}return l},getSelectedId:function(){return l},isSelected:function(f){return f==l},unselect:function(f){(f=f||l)&&(l=null,this._skip_refresh||(this.refresh(f),u.call(this,f)))}}}(r)),n.name){var o="datastore:"+n.name;r.attachEvent("onDestroy",(function(){this.$services.dropService(o);for(var a=this.$services.getService("datastores"),l=0;l<a.length;l++)if(a[l]===n.name){a.splice(l,1);break}}).bind(this)),this.$services.dropService(o),this.$services.setService(o,function(){return r});var s=this.$services.getService("datastores");s?s.indexOf(n.name)<0&&s.push(n.name):(s=[],this.$services.setService("datastores",function(){return s}),s.push(n.name)),zj(n.name,this)}return r},getDatastore:function(n){return this.$services.getService("datastore:"+n)},_getDatastores:Ry,refreshData:function(){var n;Ht(this)||(n=this.getScrollState()),this.callEvent("onBeforeDataRender",[]);for(var t=Ry.call(this),i=0;i<t.length;i++)t[i].refresh();this.config.preserve_scroll&&!Ht(this)&&(n.x||n.y)&&this.scrollTo(n.x,n.y),this.callEvent("onDataRender",[])},isChildOf:function(n,t){return this.$data.tasksStore.isChildOf(n,t)},refreshTask:function(n,t){var i=this.getTask(n),r=this;function o(){if(t===void 0||t){for(var a=0;a<i.$source.length;a++)r.refreshLink(i.$source[a]);for(a=0;a<i.$target.length;a++)r.refreshLink(i.$target[a])}}if(i&&this.isTaskVisible(n))this.$data.tasksStore.refresh(n,!!this.getState("tasksDnd").drag_id||t===!1),o();else if(this.isTaskExists(n)&&this.isTaskExists(this.getParent(n))&&!this._bulk_dnd){this.refreshTask(this.getParent(n));var s=!1;this.eachParent(function(a){(s||this.isSplitTask(a))&&(s=!0)},n),s&&o()}},refreshLink:function(n){this.$data.linksStore.refresh(n,!!this.getState("tasksDnd").drag_id)},silent:function(n){var t=this;t.$data.tasksStore.silent(function(){t.$data.linksStore.silent(function(){n()})})},clearAll:function(){for(var n=Ry.call(this),t=0;t<n.length;t++)n[t].silent(function(){n[t].clearAll()});for(t=0;t<n.length;t++)n[t].clearAll();this._update_flags(),this.userdata={},this.callEvent("onClear",[]),this.render()},_clear_data:function(){this.$data.tasksStore.clearAll(),this.$data.linksStore.clearAll(),this._update_flags(),this.userdata={}},selectTask:function(n){var t=this.$data.tasksStore;if(!this.config.select_task)return!1;if(n=di(n,this.config.root_id)){let i=this.getSelectedId();t._skipResourceRepaint=!0,t.select(n),t._skipResourceRepaint=!1,i&&t.pull[i].$split_subtask&&i!=n&&this.refreshTask(i),t.pull[n].$split_subtask&&i!=n&&this.refreshTask(n)}return t.getSelectedId()},unselectTask:function(n){var t=this.$data.tasksStore;t.unselect(n),n&&t.pull[n].$split_subtask&&this.refreshTask(n)},isSelectedTask:function(n){return this.$data.tasksStore.isSelected(n)},getSelectedId:function(){return this.$data.tasksStore.getSelectedId()}});return $e(e,{getTask:function(n){n=di(n,this.config.root_id),this.assert(n,"Invalid argument for gantt.getTask");var t=this.$data.tasksStore.getItem(n);return this.assert(t,"Task not found id="+n),t},getTaskByTime:function(n,t){var i=this.$data.tasksStore.getItems(),r=[];if(n||t){n=+n||-1/0,t=+t||1/0;for(var o=0;o<i.length;o++){var s=i[o];+s.start_date<t&&+s.end_date>n&&r.push(s)}}else r=i;return r},isTaskExists:function(n){return!(!this.$data||!this.$data.tasksStore)&&this.$data.tasksStore.exists(n)},updateTask:function(n,t){Dt(t)||(t=this.getTask(n)),this.$data.tasksStore.updateItem(n,t),this.isTaskExists(n)&&this.refreshTask(n)},addTask:function(n,t,i){if(Dt(n.id)||(n.id=hi()),this.isTaskExists(n.id)&&this.getTask(n.id).$index!=n.$index)return n.start_date&&typeof n.start_date=="string"&&(n.start_date=this.date.parseDate(n.start_date,"parse_date")),n.end_date&&typeof n.end_date=="string"&&(n.end_date=this.date.parseDate(n.end_date,"parse_date")),this.$data.tasksStore.updateItem(n.id,n);if(Dt(t)||(t=this.getParent(n)||0),this.isTaskExists(t)||(t=this.config.root_id),this.setParent(n,t),this.getState().lightbox&&this.isTaskExists(t)){var r=this.getTask(t);this.callEvent("onAfterParentExpand",[t,r])}return this.$data.tasksStore.addItem(n,i,t)},deleteTask:function(n){return n=di(n,this.config.root_id),this.$data.tasksStore.removeItem(n)},getTaskCount:function(){return this.$data.tasksStore.count()},getVisibleTaskCount:function(){return this.$data.tasksStore.countVisible()},getTaskIndex:function(n){return this.$data.tasksStore.getBranchIndex(n)},getGlobalTaskIndex:function(n){return n=di(n,this.config.root_id),this.assert(n,"Invalid argument"),this.$data.tasksStore.getIndexById(n)},eachTask:function(n,t,i){return this.$data.tasksStore.eachItem(Ye(n,i||this),t)},eachParent:function(n,t,i){return this.$data.tasksStore.eachParent(Ye(n,i||this),t)},changeTaskId:function(n,t){this.$data.tasksStore.changeId(n,t);var i=this.$data.tasksStore.getItem(t),r=[];i.$source&&(r=r.concat(i.$source)),i.$target&&(r=r.concat(i.$target));for(var o=0;o<r.length;o++){var s=this.getLink(r[o]);s.source==n&&(s.source=t),s.target==n&&(s.target=t)}},calculateTaskLevel:function(n){return this.$data.tasksStore.calculateItemLevel(n)},getNext:function(n){return this.$data.tasksStore.getNext(n)},getPrev:function(n){return this.$data.tasksStore.getPrev(n)},getParent:function(n){return this.$data.tasksStore.getParent(n)},setParent:function(n,t,i){return this.$data.tasksStore.setParent(n,t,i)},getSiblings:function(n){return this.$data.tasksStore.getSiblings(n).slice()},getNextSibling:function(n){return this.$data.tasksStore.getNextSibling(n)},getPrevSibling:function(n){return this.$data.tasksStore.getPrevSibling(n)},getTaskByIndex:function(n){var t=this.$data.tasksStore.getIdByIndex(n);return this.isTaskExists(t)?this.getTask(t):null},getChildren:function(n){return this.hasChild(n)?this.$data.tasksStore.getChildren(n).slice():[]},hasChild:function(n){return this.$data.tasksStore.hasChild(n)},open:function(n){this.$data.tasksStore.open(n)},close:function(n){this.$data.tasksStore.close(n)},moveTask:function(n,t,i){return i=di(i,this.config.root_id),this.$data.tasksStore.move.apply(this.$data.tasksStore,arguments)},sort:function(n,t,i,r){var o=!r;this.$data.tasksStore.sort(n,t,i),this.callEvent("onAfterSort",[n,t,i]),o&&this.render()}}),$e(e,{getLinkCount:function(){return this.$data.linksStore.count()},getLink:function(n){return this.$data.linksStore.getItem(n)},getLinks:function(){return this.$data.linksStore.getItems()},isLinkExists:function(n){return this.$data.linksStore.exists(n)},addLink:function(n){let t=this.$data.linksStore.addItem(n);return this.$data.linksStore.isSilent()&&this.$data.linksStore.fullOrder.push(t),t},updateLink:function(n,t){Dt(t)||(t=this.getLink(n)),this.$data.linksStore.updateItem(n,t)},deleteLink:function(n){return this.$data.linksStore.removeItem(n)},changeLinkId:function(n,t){return this.$data.linksStore.changeId(n,t)}}),e}};function nb(e){var n=e.date,t=e.$services;return{getSum:function(i,r,o){o===void 0&&(o=i.length-1),r===void 0&&(r=0);for(var s=0,a=r;a<=o;a++)s+=i[a];return s},setSumWidth:function(i,r,o,s){var a=r.width;s===void 0&&(s=a.length-1),o===void 0&&(o=0);var l=s-o+1;if(!(o>a.length-1||l<=0||s>a.length-1)){var d=i-this.getSum(a,o,s);this.adjustSize(d,a,o,s),this.adjustSize(-d,a,s+1),r.full_width=this.getSum(a)}},splitSize:function(i,r){for(var o=[],s=0;s<r;s++)o[s]=0;return this.adjustSize(i,o),o},adjustSize:function(i,r,o,s){o||(o=0),s===void 0&&(s=r.length-1);for(var a=s-o+1,l=this.getSum(r,o,s),d=o;d<=s;d++){var u=Math.floor(i*(l?r[d]/l:1/a));l-=r[d],i-=u,a--,r[d]+=u}r[r.length-1]+=i},sortScales:function(i){function r(s,a){var l=new Date(1970,0,1);return n.add(l,a,s)-l}i.sort(function(s,a){return r(s.unit,s.step)<r(a.unit,a.step)?1:r(s.unit,s.step)>r(a.unit,a.step)?-1:0});for(var o=0;o<i.length;o++)i[o].index=o},_isLegacyMode:function(i){var r=i||e.config;return r.scale_unit||r.date_scale||r.subscales},_prepareScaleObject:function(i){var r=i.format;return r||(r=i.template||i.date||"%d %M"),typeof r=="string"&&(r=e.date.date_to_str(r)),{unit:i.unit||"day",step:i.step||1,format:r,css:i.css}},primaryScale:function(i){var r,o=t.getService("templateLoader"),s=this._isLegacyMode(i),a=i||e.config;if(s)o.initTemplate("date_scale",void 0,void 0,a,e.config.templates),r={unit:e.config.scale_unit,step:e.config.step,template:e.templates.date_scale,date:e.config.date_scale,css:e.templates.scale_cell_class};else{var l=a.scales[0];r={unit:l.unit,step:l.step,template:l.template,format:l.format,date:l.date,css:l.css||e.templates.scale_cell_class}}return this._prepareScaleObject(r)},getSubScales:function(i){var r,o=this._isLegacyMode(i),s=i||e.config;if(o){let a="https://docs.dhtmlx.com/gantt/migrating.html#:~:text=%3D%20false%3B-,Time%20scale%20settings,-Configuration%20of%20time";e.env.isFF&&(a="https://docs.dhtmlx.com/gantt/migrating.html#6162"),console.warn(`You are using the obsolete scale configuration.
It will stop working in the future versions.
Please migrate the configuration to the newer version:
${a}`),r=s.subscales||[]}else r=s.scales.slice(1);return r.map((function(a){return this._prepareScaleObject(a)}).bind(this))},prepareConfigs:function(i,r,o,s,a,l,d){for(var u=this.splitSize(s,i.length),f=o,g=[],p=i.length-1;p>=0;p--){var v=p==i.length-1,k=this.initScaleConfig(i[p],a,l);v&&this.processIgnores(k),this.initColSizes(k,r,f,u[p]),this.limitVisibleRange(k),v&&(f=k.full_width),g.unshift(k)}for(p=0;p<g.length-1;p++)this.alineScaleColumns(g[g.length-1],g[p]);for(p=0;p<g.length;p++)d&&this.reverseScale(g[p]),this.setPosSettings(g[p]);return g},reverseScale:function(i){i.width=i.width.reverse(),i.trace_x=i.trace_x.reverse();var r=i.trace_indexes;i.trace_indexes={},i.trace_index_transition={},i.rtl=!0;for(var o=0;o<i.trace_x.length;o++)i.trace_indexes[i.trace_x[o].valueOf()]=o,i.trace_index_transition[r[i.trace_x[o].valueOf()]]=o;return i},setPosSettings:function(i){for(var r=0,o=i.trace_x.length;r<o;r++)i.left.push((i.width[r-1]||0)+(i.left[r-1]||0))},_ignore_time_config:function(i,r){if(e.config.skip_off_time){for(var o=!0,s=i,a=0;a<r.step;a++)a&&(s=n.add(i,a,r.unit)),o=o&&!this.isWorkTime(s,r.unit);return o}return!1},processIgnores:function(i){i.ignore_x={},i.display_count=i.count},initColSizes:function(i,r,o,s){var a=o;i.height=s;var l=i.display_count===void 0?i.count:i.display_count;l||(l=1),i.col_width=Math.floor(a/l),r&&i.col_width<r&&(i.col_width=r,a=i.col_width*l),i.width=[];for(var d=i.ignore_x||{},u=0;u<i.trace_x.length;u++)if(d[i.trace_x[u].valueOf()]||i.display_count==i.count)i.width[u]=0;else{var f=1;i.unit=="month"&&(f=Math.round((n.add(i.trace_x[u],i.step,i.unit)-i.trace_x[u])/864e5)),i.width[u]=f}this.adjustSize(a-this.getSum(i.width),i.width),i.full_width=this.getSum(i.width)},initScaleConfig:function(i,r,o){var s=$e({count:0,col_width:0,full_width:0,height:0,width:[],left:[],trace_x:[],trace_indexes:{},min_date:new Date(r),max_date:new Date(o)},i);return this.eachColumn(i.unit,i.step,r,o,function(a){s.count++,s.trace_x.push(new Date(a)),s.trace_indexes[a.valueOf()]=s.trace_x.length-1}),s.trace_x_ascending=s.trace_x.slice(),s},iterateScales:function(i,r,o,s,a){for(var l=r.trace_x,d=i.trace_x,u=o||0,f=s||d.length-1,g=0,p=1;p<l.length;p++){var v=i.trace_indexes[+l[p]];v!==void 0&&v<=f&&(a&&a.apply(this,[g,p,u,v]),u=v,g=p)}},alineScaleColumns:function(i,r,o,s){this.iterateScales(i,r,o,s,function(a,l,d,u){var f=this.getSum(i.width,d,u-1);this.getSum(r.width,a,l-1)!=f&&this.setSumWidth(f,r,a,l-1)})},eachColumn:function(i,r,o,s,a){var l=new Date(o),d=new Date(s);n[i+"_start"]&&(l=n[i+"_start"](l));var u=new Date(l);for(+u>=+d&&(d=n.add(u,r,i));+u<+d;){a.call(this,new Date(u));var f=u.getTimezoneOffset();u=n.add(u,r,i),u=e._correct_dst_change(u,f,r,i),n[i+"_start"]&&(u=n[i+"_start"](u))}},limitVisibleRange:function(i){var r=i.trace_x,o=i.width.length-1,s=0;if(+r[0]<+i.min_date&&o!=0){var a=Math.floor(i.width[0]*((r[1]-i.min_date)/(r[1]-r[0])));s+=i.width[0]-a,i.width[0]=a,r[0]=new Date(i.min_date)}var l=r.length-1,d=r[l],u=n.add(d,i.step,i.unit);if(+u>+i.max_date&&l>0&&(a=i.width[l]-Math.floor(i.width[l]*((u-i.max_date)/(u-d))),s+=i.width[l]-a,i.width[l]=a),s){for(var f=this.getSum(i.width),g=0,p=0;p<i.width.length;p++){var v=Math.floor(s*(i.width[p]/f));i.width[p]+=v,g+=v}this.adjustSize(s-g,i.width)}}}}function Uj(e){var n=function(u){var f=new nb(u).primaryScale(),g=f.unit,p=f.step;if(u.config.scale_offset_minimal){var v=new nb(u),k=[v.primaryScale()].concat(v.getSubScales());v.sortScales(k),g=k[k.length-1].unit,p=k[k.length-1].step||1}return{unit:g,step:p}}(e),t=n.unit,i=n.step,r=function(u,f){var g={start_date:null,end_date:null};if(f.config.start_date&&f.config.end_date){g.start_date=f.date[u+"_start"](new Date(f.config.start_date));var p=new Date(f.config.end_date),v=f.date[u+"_start"](new Date(p));p=+p!=+v?f.date.add(v,1,u):v,g.end_date=p}return g}(t,e);if(!r.start_date||!r.end_date){for(var o=!0,s=e.getTaskByTime(),a=0;a<s.length;a++)if(s[a].type!==e.config.types.project){o=!1;break}if(s.length&&o){var l=s[0].start_date,d=e.date.add(l,1,e.config.duration_unit);r={start_date:new Date(l),end_date:new Date(d)}}else r=e.getSubtaskDates();r.start_date&&r.end_date||(r={start_date:new Date,end_date:new Date}),e.eachTask(function(u){e.config.deadlines&&u.deadline&&Oy(r,u.deadline,u.deadline),u.constraint_date&&u.constraint_type&&e.config.constraint_types&&u.constraint_type!==e.config.constraint_types.ASAP&&u.constraint_type!==e.config.constraint_types.ALAP&&Oy(r,u.constraint_date,u.constraint_date),e.config.baselines&&u.baselines&&u.baselines.forEach(function(f){Oy(r,f.start_date,f.end_date)})}),r.start_date=e.date[t+"_start"](r.start_date),r.start_date=e.calculateEndDate({start_date:e.date[t+"_start"](r.start_date),duration:-1,unit:t,step:i}),r.end_date=e.date[t+"_start"](r.end_date),r.end_date=e.calculateEndDate({start_date:r.end_date,duration:2,unit:t,step:i})}e._min_date=r.start_date,e._max_date=r.end_date}function Oy(e,n,t){n<e.start_date&&(e.start_date=new Date(n)),t>e.end_date&&(e.end_date=new Date(t))}function ib(e){Uj(e),function(n){if(n.config.fit_tasks){var t=+n._min_date,i=+n._max_date;if(+n._min_date!=t||+n._max_date!=i)return n.render(),n.callEvent("onScaleAdjusted",[]),!0}}(e)}function nD(e,n,t){for(var i=0;i<n.length;i++)e.isLinkExists(n[i])&&(t[n[i]]=e.getLink(n[i]))}function iD(e,n,t){nD(e,n.$source,t),nD(e,n.$target,t)}var rb={getSubtreeLinks:function(e,n){var t={};return e.isTaskExists(n)&&iD(e,e.getTask(n),t),e.eachTask(function(i){iD(e,i,t)},n),t},getSubtreeTasks:function(e,n){var t={};return e.eachTask(function(i){t[i.id]=i},n),t}},ob=class{constructor(n,t){this.$gantt=n,this.$dp=t,this._dataProcessorHandlers=[]}attach(){let n=this.$dp,t=this.$gantt,i={},r=a=>this.clientSideDelete(a,n,t);this._dataProcessorHandlers.push(t.attachEvent("onAfterTaskAdd",function(a,l){t.isTaskExists(a)&&(n.setGanttMode("tasks"),n.setUpdated(a,!0,"inserted"))})),this._dataProcessorHandlers.push(t.attachEvent("onAfterTaskUpdate",function(a,l){t.isTaskExists(a)&&(n.setGanttMode("tasks"),n.setUpdated(a,!0),t._sendTaskOrder&&t._sendTaskOrder(a,l))})),this._dataProcessorHandlers.push(t.attachEvent("onBeforeTaskDelete",function(a,l){return t.config.cascade_delete&&(i[a]={tasks:rb.getSubtreeTasks(t,a),links:rb.getSubtreeLinks(t,a)}),!n.deleteAfterConfirmation||(n.setGanttMode("tasks"),n.setUpdated(a,!0,"deleted"),!1)})),this._dataProcessorHandlers.push(t.attachEvent("onAfterTaskDelete",function(a,l){n.setGanttMode("tasks");let d=!r(a),u=t.config.cascade_delete&&i[a];if(d||u){if(u){let f=n.updateMode;n.setUpdateMode("off");let g=i[a];for(let p in g.tasks)r(p)||(n.storeItem(g.tasks[p]),n.setUpdated(p,!0,"deleted"));n.setGanttMode("links");for(let p in g.links)r(p)||(n.storeItem(g.links[p]),n.setUpdated(p,!0,"deleted"));i[a]=null,f!=="off"&&n.sendAllData(),n.setGanttMode("tasks"),n.setUpdateMode(f)}d&&(n.storeItem(l),n.deleteAfterConfirmation||n.setUpdated(a,!0,"deleted")),n.updateMode==="off"||n._tSend||n.sendAllData()}})),this._dataProcessorHandlers.push(t.attachEvent("onAfterLinkUpdate",function(a,l){t.isLinkExists(a)&&(n.setGanttMode("links"),n.setUpdated(a,!0))})),this._dataProcessorHandlers.push(t.attachEvent("onAfterLinkAdd",function(a,l){t.isLinkExists(a)&&(n.setGanttMode("links"),n.setUpdated(a,!0,"inserted"))})),this._dataProcessorHandlers.push(t.attachEvent("onAfterLinkDelete",function(a,l){n.setGanttMode("links"),!r(a)&&(n.storeItem(l),n.setUpdated(a,!0,"deleted"))})),this._dataProcessorHandlers.push(t.attachEvent("onRowDragEnd",function(a,l){t._sendTaskOrder(a,t.getTask(a))}));let o=null,s=null;this._dataProcessorHandlers.push(t.attachEvent("onTaskIdChange",function(a,l){if(!n._waitMode)return;let d=t.getChildren(l);if(d.length){o=o||{};for(let f=0;f<d.length;f++){let g=this.getTask(d[f]);o[g.id]=g}}let u=function(f){let g=[];return f.$source&&(g=g.concat(f.$source)),f.$target&&(g=g.concat(f.$target)),g}(this.getTask(l));if(u.length){s=s||{};for(let f=0;f<u.length;f++){let g=this.getLink(u[f]);s[g.id]=g}}})),n.attachEvent("onAfterUpdateFinish",function(){(o||s)&&(t.batchUpdate(function(){for(let a in o)t.updateTask(o[a].id);for(let a in s)t.updateLink(s[a].id);o=null,s=null}),o?t._dp.setGanttMode("tasks"):t._dp.setGanttMode("links"))}),n.attachEvent("onBeforeDataSending",function(){if(this._tMode==="CUSTOM")return!0;let a=this._serverProcessor;if(this._tMode==="REST-JSON"||this._tMode==="REST"){let l=this._ganttMode;a=a.substring(0,a.indexOf("?")>-1?a.indexOf("?"):a.length),this.serverProcessor=a+(a.slice(-1)==="/"?"":"/")+l}else{let l=this._ganttMode+"s";this.serverProcessor=a+t.ajax.urlSeparator(a)+"gantt_mode="+l}return!0}),n.attachEvent("insertCallback",function(a,l,d,u){let f=a.data||t.xml._xmlNodeToJSON(a.firstChild),g={add:t.addTask,isExist:t.isTaskExists};u==="links"&&(g.add=t.addLink,g.isExist=t.isLinkExists),g.isExist.call(t,l)||(f.id=l,g.add.call(t,f))}),n.attachEvent("updateCallback",function(a,l){let d=a.data||t.xml._xmlNodeToJSON(a.firstChild);if(!t.isTaskExists(l))return;let u=t.getTask(l);for(let f in d){let g=d[f];switch(f){case"id":continue;case"start_date":case"end_date":g=t.defined(t.templates.xml_date)?t.templates.xml_date(g):t.templates.parse_date(g);break;case"duration":u.end_date=t.calculateEndDate({start_date:u.start_date,duration:g,task:u})}u[f]=g}t.updateTask(l),t.refreshData()}),n.attachEvent("deleteCallback",function(a,l,d,u){let f={delete:t.deleteTask,isExist:t.isTaskExists};u==="links"?(f.delete=t.deleteLink,f.isExist=t.isLinkExists):u==="assignment"&&(f.delete=function(g){t.$data.assignmentsStore.remove(g)},f.isExist=function(g){return t.$data.assignmentsStore.exists(g)}),f.isExist.call(t,l)&&f.delete.call(t,l)}),this.handleResourceCRUD(n,t),this.handleResourceAssignmentCRUD(n,t),this.handleBaselineCRUD(n,t)}clientSideDelete(n,t,i){let r=t.updatedRows.slice(),o=!1;i.getUserData(n,"!nativeeditor_status",t._ganttMode)==="true_deleted"&&(o=!0,t.setUpdated(n,!1));for(let s=0;s<r.length&&!t._in_progress[n];s++)r[s]===n&&(i.getUserData(n,"!nativeeditor_status",t._ganttMode)==="inserted"&&(o=!0),t.setUpdated(n,!1));return o}handleResourceAssignmentCRUD(n,t){if(!t.config.resources||t.config.resources.dataprocessor_assignments!==!0)return;let i=t.getDatastore(t.config.resource_assignment_store),r={},o={};function s(a){let l=a.id;i.exists(l)&&(n.setGanttMode("assignment"),n.setUpdated(l,!0,"inserted")),delete o[l]}t.attachEvent("onBeforeTaskAdd",function(a,l){return r[a]=!0,!0}),t.attachEvent("onTaskIdChange",function(a,l){delete r[a]}),i.attachEvent("onAfterAdd",(a,l)=>{r[l.task_id]?function(d){o[d.id]=d,r[d.task_id]=!0}(l):s(l)}),i.attachEvent("onAfterUpdate",(a,l)=>{i.exists(a)&&(o[a]?s(l):(n.setGanttMode("assignment"),n.setUpdated(a,!0)))}),i.attachEvent("onAfterDelete",(a,l)=>{n.setGanttMode("assignment"),!this.clientSideDelete(a,n,t)&&(n.storeItem(l),n.setUpdated(a,!0,"deleted"))})}handleResourceCRUD(n,t){if(!t.config.resources||t.config.resources.dataprocessor_resources!==!0)return;let i=t.getDatastore(t.config.resource_store);i.attachEvent("onAfterAdd",(r,o)=>{(function(s){let a=s.id;i.exists(a)&&(n.setGanttMode("resource"),n.setUpdated(a,!0,"inserted"))})(o)}),i.attachEvent("onAfterUpdate",(r,o)=>{i.exists(r)&&(n.setGanttMode("resource"),n.setUpdated(r,!0))}),i.attachEvent("onAfterDelete",(r,o)=>{n.setGanttMode("resource"),!this.clientSideDelete(r,n,t)&&(n.storeItem(o),n.setUpdated(r,!0,"deleted"))})}handleBaselineCRUD(n,t){if(!t.config.baselines||t.config.baselines.dataprocessor_baselines!==!0)return;let i=t.getDatastore(t.config.baselines.datastore);i.attachEvent("onAfterAdd",(r,o)=>{(function(s){let a=s.id;i.exists(a)&&(n.setGanttMode("baseline"),n.setUpdated(a,!0,"inserted"))})(o)}),i.attachEvent("onAfterUpdate",(r,o)=>{i.exists(r)&&(n.setGanttMode("baseline"),n.setUpdated(r,!0))}),i.attachEvent("onAfterDelete",(r,o)=>{n.setGanttMode("baseline"),!this.clientSideDelete(r,n,t)&&(n.storeItem(o),n.setUpdated(r,!0,"deleted"))})}detach(){is(this._dataProcessorHandlers,n=>{this.$gantt.detachEvent(n)}),this._dataProcessorHandlers=[]}},Wj=(()=>{let e=class{constructor(){this.clear=()=>{this._storage={}},this.storeItem=t=>{this._storage[t.id]=ln(t)},this.getStoredItem=t=>this._storage[t]||null,this._storage={}}};return e.create=()=>new e,e})(),rD=Wj,AD=class{constructor(e){this.serverProcessor=e,this.action_param="!nativeeditor_status",this.updatedRows=[],this.autoUpdate=!0,this.updateMode="cell",this._headers=null,this._payload=null,this._postDelim="_",this._routerParametersFormat="parameters",this._waitMode=0,this._in_progress={},this._storage=rD.create(),this._invalid={},this.messages=[],this.styles={updated:"font-weight:bold;",inserted:"font-weight:bold;",deleted:"text-decoration : line-through;",invalid:"background-color:FFE0E0;",invalid_cell:"border-bottom:2px solid red;",error:"color:red;",clear:"font-weight:normal;text-decoration:none;"},this.enableUTFencoding(!0),fi(this)}setTransactionMode(e,n){typeof e=="object"?(this._tMode=e.mode||this._tMode,Dt(e.headers)&&(this._headers=e.headers),Dt(e.payload)&&(this._payload=e.payload),this._tSend=!!n):(this._tMode=e,this._tSend=n),this._tMode==="REST"&&(this._tSend=!1),this._tMode==="JSON"||this._tMode==="REST-JSON"?(this._tSend=!1,this._serializeAsJson=!0,this._headers=this._headers||{},this._headers["Content-Type"]="application/json"):this._headers&&!this._headers["Content-Type"]&&(this._headers["Content-Type"]="application/x-www-form-urlencoded"),this._tMode==="CUSTOM"&&(this._tSend=!1,this._router=e.router)}escape(e){return this._utf?encodeURIComponent(e):escape(e)}enableUTFencoding(e){this._utf=!!e}getSyncState(){return!this.updatedRows.length}setUpdateMode(e,n){this.autoUpdate=e==="cell",this.updateMode=e,this.dnd=n}ignore(e,n){this._silent_mode=!0,e.call(n||Sn),this._silent_mode=!1}setUpdated(e,n,t){if(this._silent_mode)return;let i=this.findRow(e);t=t||"updated";let r=this.$gantt.getUserData(e,this.action_param,this._ganttMode);r&&t==="updated"&&(t=r),n?(this.set_invalid(e,!1),this.updatedRows[i]=e,this.$gantt.setUserData(e,this.action_param,t,this._ganttMode),this._in_progress[e]&&(this._in_progress[e]="wait")):this.is_invalid(e)||(this.updatedRows.splice(i,1),this.$gantt.setUserData(e,this.action_param,"",this._ganttMode)),this.markRow(e,n,t),n&&this.autoUpdate&&this.sendData(e)}markRow(e,n,t){let i="",r=this.is_invalid(e);if(r&&(i=this.styles[r],n=!0),this.callEvent("onRowMark",[e,n,t,r])&&(i=this.styles[n?t:"clear"]+" "+i,this.$gantt[this._methods[0]](e,i),r&&r.details)){i+=this.styles[r+"_cell"];for(let o=0;o<r.details.length;o++)r.details[o]&&this.$gantt[this._methods[1]](e,o,i)}}getActionByState(e){return e==="inserted"?"create":e==="updated"?"update":e==="deleted"?"delete":"update"}getState(e){return this.$gantt.getUserData(e,this.action_param,this._ganttMode)}is_invalid(e){return this._invalid[e]}set_invalid(e,n,t){t&&(n={value:n,details:t,toString:function(){return this.value.toString()}}),this._invalid[e]=n}checkBeforeUpdate(e){return!0}sendData(e){if(this.$gantt.editStop&&this.$gantt.editStop(),e===void 0||this._tSend){let n=[];if(this.modes&&["task","link","assignment","baseline"].forEach(t=>{this.modes[t]&&this.modes[t].updatedRows.length&&n.push(t)}),n.length){for(let t=0;t<n.length;t++)this.setGanttMode(n[t]),this.sendAllData();return}return this.sendAllData()}return!this._in_progress[e]&&(this.messages=[],!(!this.checkBeforeUpdate(e)&&this.callEvent("onValidationError",[e,this.messages]))&&void this._beforeSendData(this._getRowData(e),e))}serialize(e,n){if(this._serializeAsJson)return this._serializeAsJSON(e);if(typeof e=="string")return e;if(n!==void 0)return this.serialize_one(e,"");{let t=[],i=[];for(let r in e)e.hasOwnProperty(r)&&(t.push(this.serialize_one(e[r],r+this._postDelim)),i.push(r));return t.push("ids="+this.escape(i.join(","))),this.$gantt.security_key&&t.push("dhx_security="+this.$gantt.security_key),t.join("&")}}serialize_one(e,n){if(typeof e=="string")return e;let t=[],i="";for(let r in e)if(e.hasOwnProperty(r)){if((r==="id"||r==this.action_param)&&this._tMode==="REST")continue;i=typeof e[r]=="string"||typeof e[r]=="number"?String(e[r]):JSON.stringify(e[r]),t.push(this.escape((n||"")+r)+"="+this.escape(i))}return t.join("&")}sendAllData(){if(!this.updatedRows.length)return;this.messages=[];let e=!0;if(this._forEachUpdatedRow(function(n){e=e&&this.checkBeforeUpdate(n)}),!e&&!this.callEvent("onValidationError",["",this.messages]))return!1;this._tSend?this._sendData(this._getAllData()):this._forEachUpdatedRow(function(n){if(!this._in_progress[n]){if(this.is_invalid(n))return;this._beforeSendData(this._getRowData(n),n)}})}findRow(e){let n=0;for(n=0;n<this.updatedRows.length&&e!=this.updatedRows[n];n++);return n}defineAction(e,n){this._uActions||(this._uActions={}),this._uActions[e]=n}afterUpdateCallback(e,n,t,i,r){if(!this.$gantt)return;this.setGanttMode(r);let o=e,s=t!=="error"&&t!=="invalid";if(s||this.set_invalid(e,t),this._uActions&&this._uActions[t]&&!this._uActions[t](i))return delete this._in_progress[o];this._in_progress[o]!=="wait"&&this.setUpdated(e,!1);let a=e;switch(t){case"inserted":case"insert":n!=e&&(this.setUpdated(e,!1),this.$gantt[this._methods[2]](e,n),e=n);break;case"delete":case"deleted":if(this.deleteAfterConfirmation&&this._ganttMode==="task"){if(this._ganttMode==="task"&&this.$gantt.isTaskExists(e)){this.$gantt.setUserData(e,this.action_param,"true_deleted",this._ganttMode);let l=this.$gantt.getTask(e);this.$gantt.silent(()=>{this.$gantt.deleteTask(e)}),this.$gantt.callEvent("onAfterTaskDelete",[e,l]),this.$gantt.render(),delete this._in_progress[o]}return this.callEvent("onAfterUpdate",[e,t,n,i])}return this.$gantt.setUserData(e,this.action_param,"true_deleted",this._ganttMode),this.$gantt[this._methods[3]](e),delete this._in_progress[o],this.callEvent("onAfterUpdate",[e,t,n,i])}this._in_progress[o]!=="wait"?(s&&this.$gantt.setUserData(e,this.action_param,"",this._ganttMode),delete this._in_progress[o]):(delete this._in_progress[o],this.setUpdated(n,!0,this.$gantt.getUserData(e,this.action_param,this._ganttMode))),this.callEvent("onAfterUpdate",[a,t,n,i])}afterUpdate(e,n,t){let i;i=arguments.length===3?arguments[1]:arguments[4];let r=this.getGanttMode(),o=i.filePath||i.url;r=this._tMode!=="REST"&&this._tMode!=="REST-JSON"?o.indexOf("gantt_mode=links")!==-1?"link":o.indexOf("gantt_mode=assignments")!==-1?"assignment":o.indexOf("gantt_mode=baselines")!==-1?"baseline":"task":o.indexOf("/link")>=0?"link":o.indexOf("/assignment")>=0?"assignment":o.indexOf("/baseline")>=0?"baseline":"task",this.setGanttMode(r);let s=this.$gantt.ajax,a;try{a=JSON.parse(n.xmlDoc.responseText)}catch{n.xmlDoc.responseText.length||(a={})}let l=f=>{let g=a.action||this.getState(f)||"updated",p=a.sid||f[0],v=a.tid||f[0];e.afterUpdateCallback(p,v,g,a,r)};if(a)return Array.isArray(t)&&t.length>1?t.forEach(f=>l(f)):l(t),e.finalizeUpdate(),void this.setGanttMode(r);let d=s.xmltop("data",n.xmlDoc);if(!d)return this.cleanUpdate(t);let u=s.xpath("//data/action",d);if(!u.length)return this.cleanUpdate(t);for(let f=0;f<u.length;f++){let g=u[f],p=g.getAttribute("type"),v=g.getAttribute("sid"),k=g.getAttribute("tid");e.afterUpdateCallback(v,k,p,g,r)}e.finalizeUpdate()}cleanUpdate(e){if(e)for(let n=0;n<e.length;n++)delete this._in_progress[e[n]]}finalizeUpdate(){this._waitMode&&this._waitMode--,this.callEvent("onAfterUpdateFinish",[]),this.updatedRows.length||this.callEvent("onFullSync",[])}init(e){if(this._initialized)return;this.$gantt=e,this.$gantt._dp_init&&this.$gantt._dp_init(this),this._setDefaultTransactionMode(),this.styles={updated:"gantt_updated",order:"gantt_updated",inserted:"gantt_inserted",deleted:"gantt_deleted",delete_confirmation:"gantt_deleted",invalid:"gantt_invalid",error:"gantt_error",clear:""},this._methods=["_row_style","setCellTextStyle","_change_id","_delete_task"],function(t,i){t.getUserData=function(r,o,s){return this.userdata||(this.userdata={}),this.userdata[s]=this.userdata[s]||{},this.userdata[s][r]&&this.userdata[s][r][o]?this.userdata[s][r][o]:""},t.setUserData=function(r,o,s,a){this.userdata||(this.userdata={}),this.userdata[a]=this.userdata[a]||{},this.userdata[a][r]=this.userdata[a][r]||{},this.userdata[a][r][o]=s},t._change_id=function(r,o){switch(this._dp._ganttMode){case"task":this.changeTaskId(r,o);break;case"link":this.changeLinkId(r,o);break;case"assignment":this.$data.assignmentsStore.changeId(r,o);break;case"resource":this.$data.resourcesStore.changeId(r,o);break;case"baseline":this.$data.baselineStore.changeId(r,o);break;default:throw new Error(`Invalid mode of the dataProcessor after database id is received: ${this._dp._ganttMode}, new id: ${o}`)}},t._row_style=function(r,o){this._dp._ganttMode==="task"&&t.isTaskExists(r)&&(t.getTask(r).$dataprocessor_class=o,t.refreshTask(r))},t._delete_task=function(r,o){},t._sendTaskOrder=function(r,o){o.$drop_target&&(this._dp.setGanttMode("task"),this.getTask(r).target=o.$drop_target,this._dp.setUpdated(r,!0,"order"),delete this.getTask(r).$drop_target)},t.setDp=function(){this._dp=i},t.setDp()}(this.$gantt,this);let n=new ob(this.$gantt,this);n.attach(),this.attachEvent("onDestroy",function(){delete this.setGanttMode,delete this._getRowData,delete this.$gantt._dp,delete this.$gantt._change_id,delete this.$gantt._row_style,delete this.$gantt._delete_task,delete this.$gantt._sendTaskOrder,delete this.$gantt,n.detach()}),this.$gantt.callEvent("onDataProcessorReady",[this]),this._initialized=!0}setOnAfterUpdate(e){this.attachEvent("onAfterUpdate",e)}setOnBeforeUpdateHandler(e){this.attachEvent("onBeforeDataSending",e)}setAutoUpdate(e,n){e=e||2e3,this._user=n||new Date().valueOf(),this._needUpdate=!1,this._updateBusy=!1,this.attachEvent("onAfterUpdate",this.afterAutoUpdate),this.attachEvent("onFullSync",this.fullSync),setInterval(()=>{this.loadUpdate()},e)}afterAutoUpdate(e,n,t,i){return n!=="collision"||(this._needUpdate=!0,!1)}fullSync(){return this._needUpdate&&(this._needUpdate=!1,this.loadUpdate()),!0}getUpdates(e,n){let t=this.$gantt.ajax;if(this._updateBusy)return!1;this._updateBusy=!0,t.get(e,n)}loadUpdate(){let e=this.$gantt.ajax,n=this.$gantt.getUserData(0,"version",this._ganttMode),t=this.serverProcessor+e.urlSeparator(this.serverProcessor)+["dhx_user="+this._user,"dhx_version="+n].join("&");t=t.replace("editing=true&",""),this.getUpdates(t,i=>{let r=e.xpath("//userdata",i);this.$gantt.setUserData(0,"version",this._getXmlNodeValue(r[0]),this._ganttMode);let o=e.xpath("//update",i);if(o.length){this._silent_mode=!0;for(let s=0;s<o.length;s++){let a=o[s].getAttribute("status"),l=o[s].getAttribute("id"),d=o[s].getAttribute("parent");switch(a){case"inserted":this.callEvent("insertCallback",[o[s],l,d]);break;case"updated":this.callEvent("updateCallback",[o[s],l,d]);break;case"deleted":this.callEvent("deleteCallback",[o[s],l,d])}}this._silent_mode=!1}this._updateBusy=!1})}destructor(){this.callEvent("onDestroy",[]),this.detachAllEvents(),this.updatedRows=[],this._in_progress={},this._invalid={},this._storage.clear(),this._storage=null,this._headers=null,this._payload=null,delete this._initialized}setGanttMode(e){e==="tasks"?e="task":e==="links"&&(e="link");let n=this.modes||{},t=this.getGanttMode();t&&(n[t]={_in_progress:this._in_progress,_invalid:this._invalid,_storage:this._storage,updatedRows:this.updatedRows});let i=n[e];i||(i=n[e]={_in_progress:{},_invalid:{},_storage:rD.create(),updatedRows:[]}),this._in_progress=i._in_progress,this._invalid=i._invalid,this._storage=i._storage,this.updatedRows=i.updatedRows,this.modes=n,this._ganttMode=e}getGanttMode(){return this._ganttMode}storeItem(e){this._storage.storeItem(e)}url(e){this.serverProcessor=this._serverProcessor=e}_beforeSendData(e,n){if(!this.callEvent("onBeforeUpdate",[n,this.getState(n),e]))return!1;this._sendData(e,n)}_serializeAsJSON(e){if(typeof e=="string")return e;let n=ln(e);return this._tMode==="REST-JSON"&&(delete n.id,delete n[this.action_param]),JSON.stringify(n)}_applyPayload(e){let n=this.$gantt.ajax;if(this._payload)for(let t in this._payload)e=e+n.urlSeparator(e)+this.escape(t)+"="+this.escape(this._payload[t]);return e}_cleanupArgumentsBeforeSend(e){let n;if(e[this.action_param]===void 0){n={};for(let t in e)n[t]=this._cleanupArgumentsBeforeSend(e[t])}else n=this._cleanupItemBeforeSend(e);return n}_cleanupItemBeforeSend(e){let n=null;return e&&(e[this.action_param]==="deleted"?(n={},n.id=e.id,n[this.action_param]=e[this.action_param]):n=e),n}_sendData(e,n){if(!e)return;if(!this.callEvent("onBeforeDataSending",n?[n,this.getState(n),e]:[null,null,e]))return!1;n&&(this._in_progress[n]=new Date().valueOf());let t=this.$gantt.ajax;if(this._tMode==="CUSTOM"){let l=this.getState(n),d=this.getActionByState(l),u=this.getGanttMode(),f=p=>{let v=l||"updated",k=n,x=n;p&&(v=p.action||l,k=p.sid||k,x=p.id||p.tid||x),this.afterUpdateCallback(k,x,v,p,u)},g;if(this._router instanceof Function)if(this._routerParametersFormat==="object"){let p={entity:u,action:d,data:e,id:n};g=this._router(p)}else g=this._router(u,d,e,n);else if(this._router[u]instanceof Function)g=this._router[u](d,e,n);else{let p="Incorrect configuration of gantt.createDataProcessor",v=`
You need to either add missing properties to the dataProcessor router object or to use a router function.
See https://docs.dhtmlx.com/gantt/desktop__server_side.html#customrouting and https://docs.dhtmlx.com/gantt/api__gantt_createdataprocessor.html for details.`;if(!this._router[u])throw new Error(`${p}: router for the **${u}** entity is not defined. ${v}`);switch(l){case"inserted":if(!this._router[u].create)throw new Error(`${p}: **create** action for the **${u}** entity is not defined. ${v}`);g=this._router[u].create(e);break;case"deleted":if(!this._router[u].delete)throw new Error(`${p}: **delete** action for the **${u}** entity is not defined. ${v}`);g=this._router[u].delete(n);break;default:if(!this._router[u].update)throw new Error(`${p}: **update**" action for the **${u}** entity is not defined. ${v}`);g=this._router[u].update(e,n)}}if(g){if(!g.then&&g.id===void 0&&g.tid===void 0&&g.action===void 0)throw new Error("Incorrect router return value. A Promise or a response object is expected");g.then?g.then(f).catch(p=>{p&&p.action?f(p):f({action:"error",value:p})}):f(g)}else f(null);return}let i;i={callback:l=>{let d=[];if(n)d.push(n);else if(e)for(let u in e)d.push(u);return this.afterUpdate(this,l,d)},headers:this._headers};let r="dhx_version="+this.$gantt.getUserData(0,"version",this._ganttMode),o=this.serverProcessor+(this._user?t.urlSeparator(this.serverProcessor)+["dhx_user="+this._user,r].join("&"):""),s,a=this._applyPayload(o);switch(this._tMode){case"GET":s=this._cleanupArgumentsBeforeSend(e),i.url=a+t.urlSeparator(a)+this.serialize(s,n),i.method="GET";break;case"POST":s=this._cleanupArgumentsBeforeSend(e),i.url=a,i.method="POST",i.data=this.serialize(s,n);break;case"JSON":s={};let l=this._cleanupItemBeforeSend(e);for(let d in l)d!==this.action_param&&d!=="id"&&d!=="gr_id"&&(s[d]=l[d]);i.url=a,i.method="POST",i.data=JSON.stringify({id:n,action:e[this.action_param],data:s});break;case"REST":case"REST-JSON":switch(a=o.replace(/(&|\?)editing=true/,""),s="",this.getState(n)){case"inserted":i.method="POST",i.data=this.serialize(e,n);break;case"deleted":i.method="DELETE",a=a+(a.slice(-1)==="/"?"":"/")+n;break;default:i.method="PUT",i.data=this.serialize(e,n),a=a+(a.slice(-1)==="/"?"":"/")+n}i.url=this._applyPayload(a)}return this._waitMode++,t.query(i)}_forEachUpdatedRow(e){let n=this.updatedRows.slice();for(let t=0;t<n.length;t++){let i=n[t];this.$gantt.getUserData(i,this.action_param,this._ganttMode)&&e.call(this,i)}}_setDefaultTransactionMode(){this.serverProcessor&&(this.setTransactionMode("POST",!0),this.serverProcessor+=(this.serverProcessor.indexOf("?")!==-1?"&":"?")+"editing=true",this._serverProcessor=this.serverProcessor)}_getXmlNodeValue(e){return e.firstChild?e.firstChild.nodeValue:""}_getAllData(){let e={},n=!1;return this._forEachUpdatedRow(function(t){if(this._in_progress[t]||this.is_invalid(t))return;let i=this._getRowData(t);this.callEvent("onBeforeUpdate",[t,this.getState(t),i])&&(e[t]=i,n=!0,this._in_progress[t]=new Date().valueOf())}),n?e:null}_prepareDate(e){return this.$gantt.defined(this.$gantt.templates.xml_format)?this.$gantt.templates.xml_format(e):this.$gantt.templates.format_date(e)}_prepareArray(e,n){return n.push(e),e.map(t=>Tn(t)?this._prepareDate(t):Array.isArray(t)&&!cg(n,t)?this._prepareArray(t,n):t&&typeof t=="object"&&!cg(n,t)?this._prepareObject(t,n):t)}_prepareObject(e,n){let t={};n.push(e);for(let i in e){if(i.substr(0,1)==="$")continue;let r=e[i];Tn(r)?t[i]=this._prepareDate(r):r===null?t[i]="":Array.isArray(r)&&!cg(n,r)?t[i]=this._prepareArray(r,n):r&&typeof r=="object"&&!cg(n,r)?t[i]=this._prepareObject(r,n):t[i]=r}return t}_prepareDataItem(e){let n=this._prepareObject(e,[]);return n[this.action_param]=this.$gantt.getUserData(e.id,this.action_param,this._ganttMode),n}getStoredItem(e){return this._storage.getStoredItem(e)}_getRowData(e){let n,t=this.$gantt;return this.getGanttMode()==="task"?t.isTaskExists(e)&&(n=this.$gantt.getTask(e)):this.getGanttMode()==="assignment"?this.$gantt.$data.assignmentsStore.exists(e)&&(n=this.$gantt.$data.assignmentsStore.getItem(e)):this.getGanttMode()==="baseline"?this.$gantt.$data.baselineStore.exists(e)&&(n=this.$gantt.$data.baselineStore.getItem(e)):t.isLinkExists(e)&&(n=this.$gantt.getLink(e)),n||(n=this.getStoredItem(e)),n||(n={id:e}),this._prepareDataItem(n)}},Gj=function(e){return new AD(e)},qj=function(e){let n,t,i;e instanceof Function?n=e:e.hasOwnProperty("router")?n=e.router:e.hasOwnProperty("assignment")||e.hasOwnProperty("baseline")||e.hasOwnProperty("link")||e.hasOwnProperty("task")?n=e:e.hasOwnProperty("headers")&&(i=e.headers),t=n?"CUSTOM":e.mode||"REST-JSON";let r=new AD(e.url);return r.init(this),r.setTransactionMode({mode:t,router:n,headers:i},e.batchUpdate),e.deleteAfterConfirmation&&(r.deleteAfterConfirmation=e.deleteAfterConfirmation),r};function Zj(e){var n={},t=!1;function i(l,d){d=typeof d=="function"?d:function(){},n[l]||(n[l]=this[l],this[l]=d)}function r(l){n[l]&&(this[l]=n[l],n[l]=null)}function o(l){for(var d in l)i.call(this,d,l[d])}function s(){for(var l in n)r.call(this,l)}function a(l){try{l()}catch(d){Sn.console.error(d)}}return e.$services.getService("state").registerProvider("batchUpdate",function(){return{batch_update:t}},!1),function(l,d){if(t)a(l);else{var u,f=this._dp&&this._dp.updateMode!="off";f&&(u=this._dp.updateMode,this._dp.setUpdateMode("off"));var g={},p={render:!0,refreshData:!0,refreshTask:!0,refreshLink:!0,resetProjectDates:function(k){g[k.id]=k}};for(var v in o.call(this,p),t=!0,this.callEvent("onBeforeBatchUpdate",[]),a(l),this.callEvent("onAfterBatchUpdate",[]),s.call(this),g)this.resetProjectDates(g[v]);t=!1,d||this.render(),f&&(this._dp.setUpdateMode(u),this._dp.setGanttMode("task"),this._dp.sendData(),this._dp.setGanttMode("link"),this._dp.sendData())}}}function Yj(e){e.batchUpdate=Zj(e)}function Kj(e){let n=function(i){return{_needRecalc:!0,reset:function(){this._needRecalc=!0},_isRecalcNeeded:function(){return!this._isGroupSort()&&this._needRecalc},_isGroupSort:function(){return!!i.getState().group_mode},_getWBSCode:function(r){return r?(this._isRecalcNeeded()&&this._calcWBS(),r.$virtual?"":this._isGroupSort()?r.$wbs||"":(r.$wbs||(this.reset(),this._calcWBS()),r.$wbs)):""},_setWBSCode:function(r,o){r.$wbs=o},getWBSCode:function(r){return this._getWBSCode(r)},getByWBSCode:function(r){let o=r.split("."),s=i.config.root_id;for(let a=0;a<o.length;a++){let l=i.getChildren(s),d=1*o[a]-1;if(!i.isTaskExists(l[d]))return null;s=l[d]}return i.isTaskExists(s)?i.getTask(s):null},_calcWBS:function(){if(!this._isRecalcNeeded())return;let r=!0;i.eachTask(function(o){if(o.type==i.config.types.placeholder)return;if(r)return r=!1,void this._setWBSCode(o,"1");let s=this._getPrevNonPlaceholderSibling(o.id);if(s!==null)this._increaseWBS(o,s);else{let a=i.getParent(o.id);this._setWBSCode(o,i.getTask(a).$wbs+".1")}},i.config.root_id,this),this._needRecalc=!1},_increaseWBS:function(r,o){let s=i.getTask(o).$wbs;s&&(s=s.split("."),s[s.length-1]++,this._setWBSCode(r,s.join(".")))},_getPrevNonPlaceholderSibling:function(r){let o,s=r;do o=i.getPrevSibling(s),s=o;while(o!==null&&i.getTask(o).type==i.config.types.placeholder);return o}}}(e);function t(){return n.reset(),!0}e.getWBSCode=function(i){return n.getWBSCode(i)},e.getTaskByWBSCode=function(i){return n.getByWBSCode(i)},e.attachEvent("onAfterTaskMove",t),e.attachEvent("onBeforeParse",t),e.attachEvent("onAfterTaskDelete",t),e.attachEvent("onAfterTaskAdd",t),e.attachEvent("onAfterSort",t)}function Jj(e){var n={},t=!1;e.$data.tasksStore.attachEvent("onStoreUpdated",function(){n={},t=!1}),e.attachEvent("onBeforeGanttRender",function(){n={}});var i=String(Math.random());function r(l){return l===null?i+String(l):String(l)}function o(l,d,u){return Array.isArray(l)?l.map(function(f){return r(f)}).join("_")+`_${d}_${u}`:r(l)+`_${d}_${u}`}function s(l,d,u){var f,g=o(d,l,JSON.stringify(u)),p={};return is(d,function(v){p[r(v)]=!0}),n[g]?f=n[g]:(f=n[g]=[],e.eachTask(function(v){if(u){if(!u[e.getTaskType(v)])return}else if(v.type==e.config.types.project)return;l in v&&is(qy(v[l])?v[l]:[v[l]],function(k){var x=k&&k.resource_id?k.resource_id:k;if(p[r(x)])f.push(v);else if(!t){var S=o(k,l);n[S]||(n[S]=[]),n[S].push(v)}})}),t=!0),f}function a(l,d,u){var f=e.config.resource_property,g=[];if(e.getDatastore("task").exists(d)){var p=e.getTask(d);g=p[f]||[]}Array.isArray(g)||(g=[g]);for(var v=0;v<g.length;v++)g[v].resource_id==l&&u.push({task_id:p.id,resource_id:g[v].resource_id,value:g[v].value})}return{getTaskBy:function(l,d,u){return typeof l=="function"?(f=l,g=[],e.eachTask(function(p){f(p)&&g.push(p)}),g):qy(d)?s(l,d,u):s(l,[d],u);var f,g},getResourceAssignments:function(l,d){var u=[],f=e.config.resource_property;return d!==void 0?a(l,d,u):e.getTaskBy(f,l).forEach(function(g){a(l,g.id,u)}),u}}}function Xj(e){var n=Jj(e);e.ext.resources=function(r){let o={renderEditableLabel:function(s,a,l,d,u){let f=r.config.readonly?"":"contenteditable";if(s<l.end_date&&a>l.start_date){for(let g=0;g<u.length;g++){let p=u[g];return"<div "+f+" data-assignment-cell data-assignment-id='"+p.id+"' data-row-id='"+l.id+"' data-task='"+l.$task_id+"' data-start-date='"+r.templates.format_date(s)+"' data-end-date='"+r.templates.format_date(a)+"'>"+p.value+"</div>"}return"<div "+f+" data-assignment-cell data-empty  data-row-id='"+l.id+"' data-resource-id='"+l.$resource_id+"' data-task='"+l.$task_id+"' data-start-date='"+r.templates.format_date(s)+"''  data-end-date='"+r.templates.format_date(a)+"'>-</div>"}return""},renderSummaryLabel:function(s,a,l,d,u){let f=u.reduce(function(g,p){return g+Number(p.value)},0);return f%1&&(f=Math.round(10*f)/10),f?"<div>"+f+"</div>":""},editableResourceCellTemplate:function(s,a,l,d,u){return l.$role==="task"?o.renderEditableLabel(s,a,l,d,u):o.renderSummaryLabel(s,a,l,d,u)},editableResourceCellClass:function(s,a,l,d,u){let f=[];f.push("resource_marker"),l.$role==="task"?f.push("task_cell"):f.push("resource_cell");let g=u.reduce(function(v,k){return v+Number(k.value)},0),p=Number(l.capacity);return isNaN(p)&&(p=8),g<=p?f.push("workday_ok"):f.push("workday_over"),f.join(" ")},getSummaryResourceAssignments:function(s){let a,l=r.getDatastore(r.config.resource_store),d=l.getItem(s);return d.$role==="task"?a=r.getResourceAssignments(d.$resource_id,d.$task_id):(a=r.getResourceAssignments(s),l.eachItem&&l.eachItem(function(u){u.$role!=="task"&&(a=a.concat(r.getResourceAssignments(u.id)))},s)),a},initEditableDiagram:function(){r.config.resource_render_empty_cells=!0,function(){let l=null;function d(){return l&&cancelAnimationFrame(l),l=requestAnimationFrame(function(){r.$container&&Array.prototype.slice.call(r.$container.querySelectorAll(".resourceTimeline_cell [data-assignment-cell]")).forEach(function(u){u.contentEditable=!0})}),!0}r.attachEvent("onGanttReady",function(){r.getDatastore(r.config.resource_assignment_store).attachEvent("onStoreUpdated",d),r.getDatastore(r.config.resource_store).attachEvent("onStoreUpdated",d)},{once:!0}),r.attachEvent("onGanttLayoutReady",function(){r.$layout.getCellsByType("viewCell").forEach(function(u){u.$config&&u.$config.view==="resourceTimeline"&&u.$content&&u.$content.attachEvent("onScroll",d)})})}();let s=null;function a(){setTimeout(function(){let l=Kc(r.$container);s>-1&&l[s+1].focus()},300)}r.attachEvent("onGanttReady",function(){let l=!1;r.event(r.$container,"keypress",function(d){var u=d.target.closest(".resourceTimeline_cell [data-assignment-cell]");u&&(d.keyCode!==13&&d.keyCode!==27||u.blur())}),r.event(r.$container,"keydown",function(d){d.key==="Tab"&&(s=Kc(r.$container).indexOf(document.activeElement))}),r.event(r.$container,"focusout",function(d){if(!l){l=!0,setTimeout(function(){l=!1},300);var u=d.target.closest(".resourceTimeline_cell [data-assignment-cell]");if(u){var f=(u.innerText||"").trim();f=="-"&&(f="0");var g=Number(f),p=u.getAttribute("data-row-id"),v=u.getAttribute("data-assignment-id"),k=u.getAttribute("data-task"),x=u.getAttribute("data-resource-id"),S=r.templates.parse_date(u.getAttribute("data-start-date")),_=r.templates.parse_date(u.getAttribute("data-end-date")),w=r.getDatastore(r.config.resource_assignment_store);if(isNaN(g))r.getDatastore(r.config.resource_store).refresh(p);else{var y=r.getTask(k);if(r.plugins().undo&&r.ext.undo.saveState(k,"task"),v){if(g===(D=w.getItem(v)).value)return;if(D.start_date.valueOf()===S.valueOf()&&D.end_date.valueOf()===_.valueOf())D.value=g,g?w.updateItem(D.id):w.removeItem(D.id);else{if(D.end_date.valueOf()>_.valueOf()){var C=r.copy(D);C.id=r.uid(),C.start_date=_,C.duration=r.calculateDuration({start_date:C.start_date,end_date:C.end_date,task:y}),C.delay=r.calculateDuration({start_date:y.start_date,end_date:C.start_date,task:y}),C.mode=D.mode||"default",C.duration!==0&&w.addItem(C)}D.start_date.valueOf()<S.valueOf()?(D.end_date=S,D.duration=r.calculateDuration({start_date:D.start_date,end_date:D.end_date,task:y}),D.mode="fixedDuration",D.duration===0?w.removeItem(D.id):w.updateItem(D.id)):w.removeItem(D.id),g&&w.addItem({task_id:D.task_id,resource_id:D.resource_id,value:g,start_date:S,end_date:_,duration:r.calculateDuration({start_date:S,end_date:_,task:y}),delay:r.calculateDuration({start_date:y.start_date,end_date:S,task:y}),mode:"fixedDuration"})}r.updateTaskAssignments(y.id),r.updateTask(y.id),a()}else if(g){var D={task_id:k,resource_id:x,value:g,start_date:S,end_date:_,duration:r.calculateDuration({start_date:S,end_date:_,task:y}),delay:r.calculateDuration({start_date:y.start_date,end_date:S,task:y}),mode:"fixedDuration"};w.addItem(D),r.updateTaskAssignments(y.id),r.updateTask(y.id),a()}}}}})},{once:!0})}};return o}(e),e.config.resources={dataprocessor_assignments:!1,dataprocessor_resources:!1,editable_resource_diagram:!1,resource_store:{type:"treeDataStore",fetchTasks:!1,initItem:function(r){return r.parent=r.parent||e.config.root_id,r[e.config.resource_property]=r.parent,r.open=!0,r}},lightbox_resources:function(r){let o=[],s=e.getDatastore(e.config.resource_store);return r.forEach(function(a){if(!s.hasChild(a.id)){let l=e.copy(a);l.key=a.id,l.label=a.text,o.push(l)}}),o}},e.attachEvent("onBeforeGanttReady",function(){if(e.getDatastore(e.config.resource_store))return;let r=e.config.resources?e.config.resources.resource_store:void 0,o=r?r.fetchTasks:void 0;e.config.resources&&e.config.resources.editable_resource_diagram&&(o=!0);let s=function(l){return l.parent=l.parent||e.config.root_id,l[e.config.resource_property]=l.parent,l.open=!0,l};r&&r.initItem&&(s=r.initItem);let a=r&&r.type?r.type:"treeDatastore";e.$resourcesStore=e.createDatastore({name:e.config.resource_store,type:a,fetchTasks:o!==void 0&&o,initItem:s}),e.$data.resourcesStore=e.$resourcesStore,e.$resourcesStore.attachEvent("onParse",function(){let l,d=function(u){let f=[];return u.forEach(function(g){let p=e.copy(g);p.key=g.id,p.label=g.text,f.push(p)}),f};e.config.resources&&e.config.resources.lightbox_resources&&(d=e.config.resources.lightbox_resources),e.config.resources&&e.config.resources.editable_resource_diagram?l=d(e.$resourcesStore.getItems().filter(u=>{let f=e.getResourceAssignments(u.id);if(!e.$resourcesStore.hasChild(u.id)||f&&f.length)return!u.$resource_id||!u.$task_id})):l=d(e.$resourcesStore.getItems()),e.updateCollection("resourceOptions",l)})}),e.getTaskBy=n.getTaskBy,e.getResourceAssignments=n.getResourceAssignments,e.config.resource_property="owner_id",e.config.resource_store="resource",e.config.resource_render_empty_cells=!1,e.templates.histogram_cell_class=function(r,o,s,a,l){},e.templates.histogram_cell_label=function(r,o,s,a,l){return a.length+"/3"},e.templates.histogram_cell_allocated=function(r,o,s,a,l){return a.length/3},e.templates.histogram_cell_capacity=function(r,o,s,a,l){return 0};let t=function(r,o,s,a,l){return a.length<=1?"gantt_resource_marker_ok":"gantt_resource_marker_overtime"},i=function(r,o,s,a,l){return 8*a.length};e.templates.resource_cell_value=i,e.templates.resource_cell_class=t,e.attachEvent("onBeforeGanttReady",function(){e.config.resources&&e.config.resources.editable_resource_diagram&&(e.config.resource_render_empty_cells=!0,e.templates.resource_cell_value===i&&(e.templates.resource_cell_value=e.ext.resources.editableResourceCellTemplate),e.templates.resource_cell_class===t&&(e.templates.resource_cell_class=e.ext.resources.editableResourceCellClass),e.ext.resources.initEditableDiagram(e))})}function Qj(e){var n="$resourceAssignments";e.config.resource_assignment_store="resourceAssignments",e.config.process_resource_assignments=!0;var t="auto",i="singleValue",r="valueArray",o="resourceValueArray",s="assignmentsArray",a=t,l="fixedDates",d="fixedDuration",u="default";function f(y,C){y.start_date?y.start_date=e.date.parseDate(y.start_date,"parse_date"):y.start_date=null,y.end_date?y.end_date=e.date.parseDate(y.end_date,"parse_date"):y.end_date=null;var D=Number(y.delay),I=!1;if(isNaN(D)?(y.delay=0,I=!0):y.delay=D,e.defined(y.value)||(y.value=null),!y.task_id||!y.resource_id)return!1;if(y.mode=y.mode||u,y.mode===d&&(isNaN(Number(y.duration))&&(C=C||e.getTask(y.task_id),y.duration=e.calculateDuration({start_date:y.start_date,end_date:y.end_date,id:C})),I&&(C=C||e.getTask(y.task_id),y.delay=e.calculateDuration({start_date:C.start_date,end_date:y.start_date,id:C}))),y.mode!==l&&(C||e.isTaskExists(y.task_id))){var M=p(y,C=C||e.getTask(y.task_id));y.start_date=M.start_date,y.end_date=M.end_date,y.duration=M.duration}}var g=e.createDatastore({name:e.config.resource_assignment_store,initItem:function(y){return y.id||(y.id=e.uid()),f(y),y}});function p(y,C){if(y.mode===l)return{start_date:y.start_date,end_date:y.end_date,duration:y.duration};var D,I,M=y.delay?e.calculateEndDate({start_date:C.start_date,duration:y.delay,task:C}):new Date(C.start_date);return y.mode===d?(D=e.calculateEndDate({start_date:M,duration:y.duration,task:C}),I=y.duration):(D=new Date(C.end_date),I=C.duration-y.delay),{start_date:M,end_date:D,duration:I}}function v(y){let C=e.config.resource_property,D=y[C],I=[],M=a===t;if(e.defined(D)&&D){Array.isArray(D)||(D=[D],M&&(a=i,M=!1));let P={};D.forEach(function(R){R.resource_id||(R={resource_id:R},M&&(a=r,M=!1)),M&&(R.id&&R.resource_id?(a=s,M=!1):(a=o,M=!1));let F,j=u;R.mode||(R.start_date&&R.end_date||R.start_date&&R.duration)&&(j=d),F=R.id||!R.$id||P[R.$id]?R.id&&!P[R.id]?R.id:e.uid():R.$id,P[F]=!0;let H={id:F,start_date:R.start_date,duration:R.duration,end_date:R.end_date,delay:R.delay,task_id:y.id,resource_id:R.resource_id,value:R.value,mode:R.mode||j};Object.keys(R).forEach(G=>{G!="$id"&&(H[G]=R[G])}),H.start_date&&H.start_date.getMonth&&H.end_date&&H.end_date.getMonth&&typeof H.duration=="number"||f(H,y),I.push(H)})}return I}function k(y){if(e.isTaskExists(y)){var C=e.getTask(y);x(C,e.getTaskAssignments(C.id))}}function x(y,C){C.sort(function(D,I){return D.start_date&&I.start_date&&D.start_date.valueOf()!=I.start_date.valueOf()?D.start_date-I.start_date:0}),a==s?y[e.config.resource_property]=C:a==o&&(y[e.config.resource_property]=C.map(function(D){return{$id:D.id,start_date:D.start_date,duration:D.duration,end_date:D.end_date,delay:D.delay,resource_id:D.resource_id,value:D.value,mode:D.mode}})),y[n]=C}function S(y){var C=v(y);return C.forEach(function(D){D.id=D.id||e.uid()}),C}function _(y,C){var D=function(I,M){var P={inBoth:[],inTaskNotInStore:[],inStoreNotInTask:[]};if(a==i){var R=I[0],F=R?R.resource_id:null,j=!1;M.forEach(function(V){V.resource_id!=F?P.inStoreNotInTask.push(V):V.resource_id==F&&(P.inBoth.push({store:V,task:R}),j=!0)}),!j&&R&&P.inTaskNotInStore.push(R)}else if(a==r){var H={},G={},q={};I.forEach(function(V){H[V.resource_id]=V}),M.forEach(function(V){G[V.resource_id]=V}),I.concat(M).forEach(function(V){if(!q[V.resource_id]){q[V.resource_id]=!0;var ue=H[V.resource_id],J=G[V.resource_id];ue&&J?P.inBoth.push({store:J,task:ue}):ue&&!J?P.inTaskNotInStore.push(ue):!ue&&J&&P.inStoreNotInTask.push(J)}})}else a!=s&&a!=o||(H={},G={},q={},I.forEach(function(V){H[V.id||V.$id]=V}),M.forEach(function(V){G[V.id]=V}),I.concat(M).forEach(function(V){var ue=V.id||V.$id;if(!q[ue]){q[ue]=!0;var J=H[ue],he=G[ue];J&&he?P.inBoth.push({store:he,task:J}):J&&!he?P.inTaskNotInStore.push(J):!J&&he&&P.inStoreNotInTask.push(he)}}));return P}(v(y),C);D.inStoreNotInTask.forEach(function(I){g.removeItem(I.id)}),D.inTaskNotInStore.forEach(function(I){g.addItem(I)}),D.inBoth.forEach(function(I){if(function(P,R){var F={id:!0};for(var j in P)if(!F[j]&&String(P[j])!==String(R[j]))return!0;return!1}(I.task,I.store))(function(P,R){var F={id:!0};for(var j in P)F[j]||(R[j]=P[j])})(I.task,I.store),g.updateItem(I.store.id);else if(I.task.start_date&&I.task.end_date&&I.task.mode!==l){var M=p(I.store,y);I.store.start_date.valueOf()==M.start_date.valueOf()&&I.store.end_date.valueOf()==M.end_date.valueOf()||(I.store.start_date=M.start_date,I.store.end_date=M.end_date,I.store.duration=M.duration,g.updateItem(I.store.id))}}),k(y.id)}function w(y){var C=y[n]||g.find(function(D){return D.task_id==y.id});_(y,C)}e.$data.assignmentsStore=g,e.attachEvent("onGanttReady",function(){if(e.config.process_resource_assignments){e.attachEvent("onParse",function(){e.silent(function(){g.clearAll();var F=[];e.eachTask(function(j){if(j.type!==e.config.types.project){var H=S(j);x(j,H),H.forEach(function(G){F.push(G)})}}),g.parse(F)})});var y=!1,C=!1,D={},I=!1;e.attachEvent("onBeforeBatchUpdate",function(){y=!0}),e.attachEvent("onAfterBatchUpdate",function(){if(C){var F={};for(var j in D)F[j]=e.getTaskAssignments(D[j].id);for(var j in e.config.process_resource_assignments&&a==="resourceValueArray"&&(R=null),D)_(D[j],F[j])}C=!1,y=!1,D={}}),e.attachEvent("onTaskCreated",function(F){var j=S(F);return g.parse(j),x(F,j),!0}),e.attachEvent("onAfterTaskUpdate",function(F,j){y?(C=!0,D[F]=j):j.unscheduled||w(j)}),e.attachEvent("onAfterTaskAdd",function(F,j){y?(C=!0,D[F]=j):w(j)}),e.attachEvent("onRowDragEnd",function(F){w(e.getTask(F))}),e.$data.tasksStore.attachEvent("onAfterDeleteConfirmed",function(F,j){var H,G=[F];e.eachTask(function(q){G.push(q.id)},F),H={},G.forEach(function(q){H[q]=!0}),g.find(function(q){return H[q.task_id]}).forEach(function(q){g.removeItem(q.id)})}),e.$data.tasksStore.attachEvent("onClearAll",function(){return M=null,P=null,R=null,g.clearAll(),!0}),e.attachEvent("onTaskIdChange",function(F,j){g.find(function(H){return H.task_id==F}).forEach(function(H){H.task_id=j,g.updateItem(H.id)}),k(j)}),e.attachEvent("onBeforeUndo",function(F){return I=!0,!0}),e.attachEvent("onAfterUndo",function(F){I=!0});var M=null,P=null,R=null;g.attachEvent("onStoreUpdated",function(){return y&&!I||(M=null,P=null,R=null),!0}),e.getResourceAssignments=function(F,j){var H=e.defined(j)&&j!==null;return M===null&&(M={},P={},g.eachItem(function(G){M[G.resource_id]||(M[G.resource_id]=[]),M[G.resource_id].push(G);var q=G.resource_id+"-"+G.task_id;P[q]||(P[q]=[]),P[q].push(G)})),H?(P[F+"-"+j]||[]).slice():(M[F]||[]).slice()},e.getTaskAssignments=function(F){if(R===null){var j=[];R={},g.eachItem(function(H){R[H.task_id]||(R[H.task_id]=[]),R[H.task_id].push(H),H.task_id==F&&j.push(H)})}return(R[F]||[]).slice()},e.getTaskResources=function(F){let j=e.getDatastore("resource"),H=e.getTaskAssignments(F),G={};H.forEach(function(V){G[V.resource_id]||(G[V.resource_id]=V.resource_id)});let q=[];for(let V in G){let ue=j.getItem(G[V]);ue&&q.push(ue)}return q},e.updateTaskAssignments=k}},{once:!0})}function e2(e){function n(a){return function(){return!e.config.placeholder_task||a.apply(this,arguments)}}function t(){var a=e.getTaskBy("type",e.config.types.placeholder);if(!a.length||!e.isTaskExists(a[0].id)){var l={unscheduled:!0,type:e.config.types.placeholder,duration:0,text:e.locale.labels.new_task};if(e.callEvent("onTaskCreated",[l])===!1)return;e.addTask(l)}}function i(a){var l=e.getTask(a);l.type==e.config.types.placeholder&&(l.start_date&&l.end_date&&l.unscheduled&&(l.unscheduled=!1),e.batchUpdate(function(){var d=e.copy(l);e.silent(function(){e.deleteTask(l.id)}),delete d["!nativeeditor_status"],d.type=e.config.types.task,d.id=e.uid(),e.addTask(d)}))}e.config.types.placeholder="placeholder",e.attachEvent("onDataProcessorReady",n(function(a){a&&!a._silencedPlaceholder&&(a._silencedPlaceholder=!0,a.attachEvent("onBeforeUpdate",n(function(l,d,u){return u.type!=e.config.types.placeholder||(a.setUpdated(l,!1),!1)})))}));var r=!1;function o(a){return!!(e.config.types.placeholder&&e.isTaskExists(a)&&e.getTask(a).type==e.config.types.placeholder)}function s(a){return!(!o(a.source)&&!o(a.target))}e.attachEvent("onGanttReady",function(){r||(r=!0,e.attachEvent("onAfterTaskUpdate",n(i)),e.attachEvent("onAfterTaskAdd",n(function(a,l){l.type!=e.config.types.placeholder&&(e.getTaskBy("type",e.config.types.placeholder).forEach(function(d){e.silent(function(){e.isTaskExists(d.id)&&e.deleteTask(d.id)})}),t())})),e.attachEvent("onParse",n(t)))}),e.attachEvent("onLinkValidation",function(a){return!s(a)}),e.attachEvent("onBeforeLinkAdd",function(a,l){return!s(l)}),e.attachEvent("onBeforeUndoStack",function(a){for(var l=0;l<a.commands.length;l++){var d=a.commands[l];d.entity==="task"&&d.value.type===e.config.types.placeholder&&(a.commands.splice(l,1),l--)}return!0})}function t2(e){function n(u){return function(){return!e.config.auto_types||e.getTaskType(e.config.types.project)!=e.config.types.project||u.apply(this,arguments)}}function t(u,f){var g=e.getTask(u),p=o(g);p!==!1&&e.getTaskType(g)!==p&&(f.$needsUpdate=!0,f[g.id]={task:g,type:p})}function i(u){if(!e.getState().group_mode){var f=function(g,p){return t(g,p=p||{}),e.eachParent(function(v){t(v.id,p)},g),p}(u);f.$needsUpdate&&e.batchUpdate(function(){(function(g){for(var p in g)if(g[p]&&g[p].task){var v=g[p].task;v.type=g[p].type,e.updateTask(v.id)}})(f)})}}var r;function o(u){var f=e.config.types,g=e.hasChild(u.id),p=e.getTaskType(u.type);return g&&p===f.task?f.project:!g&&p===f.project&&f.task}var s,a,l=!0;function d(u){u!=e.config.root_id&&e.isTaskExists(u)&&i(u)}e.attachEvent("onParse",n(function(){l=!1,e.getState().group_mode||(e.batchUpdate(function(){e.eachTask(function(u){var f=o(u);f!==!1&&function(g,p){e.getState().group_mode||(g.type=p,e.updateTask(g.id))}(u,f)})}),l=!0)})),e.attachEvent("onAfterTaskAdd",n(function(u){l&&i(u)})),e.attachEvent("onAfterTaskUpdate",n(function(u){l&&i(u)})),e.attachEvent("onBeforeTaskDelete",n(function(u,f){return r=e.getParent(u),!0})),e.attachEvent("onAfterTaskDelete",n(function(u,f){d(r)})),e.attachEvent("onRowDragStart",n(function(u,f,g){return s=e.getParent(u),!0})),e.attachEvent("onRowDragEnd",n(function(u,f){d(s),i(u)})),e.attachEvent("onBeforeTaskMove",n(function(u,f,g){return a=e.getParent(u),!0})),e.attachEvent("onAfterTaskMove",n(function(u,f,g){document.querySelector(".gantt_drag_marker")||(d(a),i(u))}))}var n2=(()=>{let e=class{constructor(){this.canParse=t=>!isNaN(this.parse(t)),this.format=t=>String(t),this.parse=t=>parseInt(t,10)}};return e.create=(n=null)=>new e,e})(),sb=n2,i2=(()=>{let e=class{constructor(t){this.format=i=>this._getWBSCode(i.source),this.canParse=i=>this._linkReg.test(i),this.parse=i=>{if(!this.canParse(i))return null;let r=this._linkReg.exec(i)[0].trim();return{id:void 0,source:this._findSource(r)||null,target:null,type:this._gantt.config.links.finish_to_start,lag:0}},this._getWBSCode=i=>{let r=this._gantt.getTask(i);return this._gantt.getWBSCode(r)},this._findSource=i=>{let r=new RegExp("^[0-9.]+","i");if(r.exec(i)){let o=r.exec(i)[0],s=this._gantt.getTaskByWBSCode(o);if(s)return s.id}return null},this._linkReg=/^[0-9\.]+/,this._gantt=t}};return e.create=(n=null,t)=>new e(t),e})(),r2=i2;function o2(e){e.ext.formatters={durationFormatter:function(n){return n||(n={}),n.store||(n.store=e.config.duration_unit),n.enter||(n.enter=e.config.duration_unit),sb.create(n,e)},linkFormatter:function(n){return r2.create(n,e)}}}function s2(e){e.ext=e.ext||{},e.config.show_empty_state=!1,e.ext.emptyStateElement=e.ext.emptyStateElement||{isEnabled:()=>e.config.show_empty_state===!0,isGanttEmpty:()=>!e.getTaskByTime().length,renderContent(n){let t=`<div class='gantt_empty_state'><div class='gantt_empty_state_image'></div>${`<div class='gantt_empty_state_text'>
    <div class='gantt_empty_state_text_link' data-empty-state-create-task>${e.locale.labels.empty_state_text_link}</div>
    <div class='gantt_empty_state_text_description'>${e.locale.labels.empty_state_text_description}</div>
    </div>`}</div>`;n.innerHTML=t},clickEvents:[],attachAddTaskEvent(){let n=e.attachEvent("onEmptyClick",function(t){e.utils.dom.closest(t.target,"[data-empty-state-create-task]")&&e.createTask({id:e.uid(),text:"New Task"})});this.clickEvents.push(n)},detachAddTaskEvents(){this.clickEvents.forEach(function(n){e.detachEvent(n)}),this.clickEvents=[]},getContainer(){if(e.$container){let n=e.utils.dom;if(e.$container.contains(e.$grid_data))return n.closest(e.$grid_data,".gantt_layout_content");if(e.$container.contains(e.$task_data))return n.closest(e.$task_data,".gantt_layout_content")}return null},getNode(){let n=this.getContainer();return n?n.querySelector(".gantt_empty_state_wrapper"):null},show(){let n=this.getContainer();if(!n&&this.isGanttEmpty())return null;let t=document.createElement("div");t.className="gantt_empty_state_wrapper",t.style.marginTop=e.config.scale_height-n.offsetHeight+"px";let i=e.$container.querySelectorAll(".gantt_empty_state_wrapper");Array.prototype.forEach.call(i,function(r){r.parentNode.removeChild(r)}),this.detachAddTaskEvents(),this.attachAddTaskEvent(),n.appendChild(t),this.renderContent(t)},hide(){let n=this.getNode();if(!n)return!1;n.parentNode.removeChild(n)},init(){}},e.attachEvent("onDataRender",function(){let n=e.ext.emptyStateElement;n.isEnabled()&&n.isGanttEmpty()?n.show():n.hide()})}var ND=function(e,n){let t=n.baselines&&n.baselines.length,i=e.config.baselines.render_mode=="separateRow"||e.config.baselines.render_mode=="individualRow";if(t&&i)return!0},Ta=function(e){return e.render&&e.render=="split"&&!e.$open};function a2(e){e.config.baselines={datastore:"baselines",render_mode:!1,dataprocessor_baselines:!1,row_height:16,bar_height:8};let n=e.createDatastore({name:e.config.baselines.datastore,initItem:function(r){return r.id||(r.id=e.uid()),function(o){if(!o.task_id||!o.start_date&&!o.end_date)return!1;o.start_date?o.start_date=e.date.parseDate(o.start_date,"parse_date"):o.start_date=null,o.end_date?o.end_date=e.date.parseDate(o.end_date,"parse_date"):o.end_date=null,o.duration=o.duration||1,o.start_date&&!o.end_date?o.end_date=e.calculateEndDate(o.start_date,o.duration):o.end_date&&!o.start_date&&(o.start_date=e.calculateEndDate(o.end_date,-o.duration))}(r),r}});function t(r){let o=0;e.adjustTaskHeightForBaselines(r),e.eachTask(function(s){let a=s.row_height||e.config.row_height;o=o||a,a>o&&(o=a)},r.id),r.row_height<o&&(r.row_height=o)}function i(r){e.eachParent(function(o){if(Ta(o)){let s=o.row_height||e.getLayoutView("timeline").getBarHeight(o.id),a=r.row_height;e.getChildren(o.id).forEach(function(l){let d=e.getTask(l);if(d.id==r.id)return;let u=d.row_height||e.getLayoutView("timeline").getBarHeight(d.id);a=a||u,u>a&&(a=u)}),o.row_height=a,o.bar_height=o.bar_height||s}},r.id)}e.$data.baselineStore=n,e.adjustTaskHeightForBaselines=function(r){let o,s,a=r.baselines&&r.baselines.length||0,l=e.config.baselines.row_height,d=e.getLayoutView("timeline");if(d&&e.config.show_chart)switch(e.config.baselines.render_mode){case"taskRow":default:r.row_height=r.bar_height+8;break;case"separateRow":o=d.getBarHeight(r.id),a?(r.bar_height=r.bar_height||o,r.bar_height>o&&(o=r.bar_height),r.row_height=o+l):r.bar_height&&(r.row_height=r.bar_height+4),i(r);break;case"individualRow":o=d.getBarHeight(r.id),a?(r.bar_height=r.bar_height||o,r.bar_height>o&&(o=r.bar_height),s=l*a,r.row_height=o+s+2):r.bar_height&&(r.row_height=r.bar_height+4),i(r)}},e.attachEvent("onGanttReady",function(){e.config.baselines&&(e.attachEvent("onParse",function(){n.eachItem(function(r){let o=r.task_id;if(e.isTaskExists(o)){let s=e.getTask(o);s.baselines=s.baselines||[];let a=!0;for(let l=0;l<s.baselines.length;l++){let d=s.baselines[l];if(d.id==r.id){a=!1,e.mixin(d,r,!0);break}}a&&s.baselines.push(r),Ht(e)||(Ta(s)?t(s):e.adjustTaskHeightForBaselines(s))}})}),e.attachEvent("onBeforeTaskUpdate",function(r,o){return function(s){let a=!1,l={},d=s.baselines||[],u=e.getTaskBaselines(s.id);d.length!=u.length&&(a=!0),d.forEach(function(f){l[f.id]=!0;let g=n.getItem(f.id);if(g){let p=+g.start_date!=+f.start_date,v=+g.end_date!=+f.end_date;(p||v)&&n.updateItem(f.id,f)}else n.addItem(f)}),u.forEach(function(f){l[f.id]||n.removeItem(f.id)}),a&&(Ta(s)?t(s):e.adjustTaskHeightForBaselines(s),e.render())}(o),!0}),e.attachEvent("onAfterUndo",function(r){if((e.config.baselines.render_mode=="separateRow"||e.config.baselines.render_mode=="individualRow")&&r){let o=!1;r.commands.forEach(function(s){if(s.entity=="task"){let a=s.value.id;if(e.isTaskExists(a)){let l=e.getTask(a);if(l.parent&&e.isTaskExists(l.parent)){let d=e.getTask(l.parent);Ta(d)&&(t(d),o=!0)}}}}),o&&e.render()}}),e.attachEvent("onAfterTaskDelete",function(r,o){if(ND&&o.parent&&e.isTaskExists(o.parent)){let s=e.getTask(o.parent);Ta(s)&&t(s)}n.eachItem(function(s){e.isTaskExists(s.task_id)||n.removeItem(s.id)})}),e.getTaskBaselines=function(r){let o=[];return n.eachItem(function(s){s.task_id==r&&o.push(s)}),o},e.$data.baselineStore.attachEvent("onClearAll",function(){return e.eachTask(function(r){r.baselines&&delete r.baselines}),!0}),e.$data.tasksStore.attachEvent("onClearAll",function(){return n.clearAll(),!0}),e.attachEvent("onTaskIdChange",function(r,o){n.find(function(s){return s.task_id==r}).forEach(function(s){s.task_id=o,n.updateItem(s.id)})}))},{once:!0})}function l2(e){function n(t){throw e.assert(!1,"Can't parse data: incorrect value of gantt.parse or gantt.load method. Actual argument value: "+JSON.stringify(t)),new Error("Invalid argument for gantt.parse or gantt.load. An object or a JSON string of format https://docs.dhtmlx.com/gantt/desktop__supported_data_formats.html#json is expected. Actual argument value: "+JSON.stringify(t))}e.load=function(){throw new Error("gantt.load() method is not available in the node.js, use gantt.parse() instead")},e.parse=function(t,i){this.on_load({xmlDoc:{responseText:t}},i)},e.serialize=function(t){return this[t=t||"json"].serialize()},e.on_load=function(t,i){if(t.xmlDoc&&t.xmlDoc.status===404)this.assert(!1,"Failed to load the data from <a href='"+t.xmlDoc.responseURL+"' target='_blank'>"+t.xmlDoc.responseURL+"</a>, server returns 404");else if(!e.$destroyed){this.callEvent("onBeforeParse",[]),i||(i="json"),this.assert(this[i],"Invalid data type:'"+i+"'");var r=t.xmlDoc.responseText,o=this[i].parse(r,t);this._process_loading(o)}},e._process_loading=function(t){t.collections&&this._load_collections(t.collections),t.resources&&this.$data.resourcesStore&&this.$data.resourcesStore.parse(t.resources),e.config.baselines&&t.baselines&&this.$data.baselineStore&&this.$data.baselineStore.parse(t.baselines);let i=t.data||t.tasks;t.assignments&&function(o,s){let a={};s.forEach(l=>{a[l.task_id]||(a[l.task_id]=[]),a[l.task_id].push(l)}),o.forEach(l=>{l[e.config.resource_property]=a[l.id]||[]})}(i,t.assignments),this.$data.tasksStore.parse(i);var r=t.links||(t.collections&&t.collections.links?t.collections.links:[]);this.$data.linksStore.parse(r),this.callEvent("onParse",[]),this.render()},e._load_collections=function(t){var i=!1;for(var r in t)if(t.hasOwnProperty(r)){i=!0;var o=t[r];this.serverList[r]=this.serverList[r]||[];var s=this.serverList[r];if(!s)continue;s.splice(0,s.length);for(var a=0;a<o.length;a++){var l=o[a],d=this.copy(l);for(var u in d.key=d.value,l)if(l.hasOwnProperty(u)){if(u=="value"||u=="label")continue;d[u]=l[u]}s.push(d)}}i&&this.callEvent("onOptionsLoad",[])},e.attachEvent("onBeforeTaskDisplay",function(t,i){return!i.$ignore}),e.json={parse:function(t){if(t||n(t),typeof t=="string")if(typeof JSON!=null)try{t=JSON.parse(t)}catch{n(t)}else e.assert(!1,"JSON is not supported");return t.data||t.tasks||n(t),t.dhx_security&&(e.security_key=t.dhx_security),t},serializeTask:function(t){return this._copyObject(t)},serializeLink:function(t){return this._copyLink(t)},_copyLink:function(t){var i={};for(var r in t)i[r]=t[r];return i},_copyObject:function(t){var i={};for(var r in t)r.charAt(0)!="$"&&(i[r]=t[r],Tn(i[r])&&(i[r]=e.defined(e.templates.xml_format)?e.templates.xml_format(i[r]):e.templates.format_date(i[r])));return i},serialize:function(){var t=[],i=[];let r=[];e.eachTask(function(a){e.resetProjectDates(a),t.push(this.serializeTask(a))},e.config.root_id,this);for(var o=e.getLinks(),s=0;s<o.length;s++)i.push(this.serializeLink(o[s]));return e.getDatastore("baselines").eachItem(function(a){let l=e.json.serializeTask(a);r.push(l)}),{data:t,links:i,baselines:r}}},e.xml={_xmlNodeToJSON:function(t,i){for(var r={},o=0;o<t.attributes.length;o++)r[t.attributes[o].name]=t.attributes[o].value;if(!i){for(o=0;o<t.childNodes.length;o++){var s=t.childNodes[o];s.nodeType==1&&(r[s.tagName]=s.firstChild?s.firstChild.nodeValue:"")}r.text||(r.text=t.firstChild?t.firstChild.nodeValue:"")}return r},_getCollections:function(t){for(var i={},r=e.ajax.xpath("//coll_options",t),o=0;o<r.length;o++)for(var s=i[r[o].getAttribute("for")]=[],a=e.ajax.xpath(".//item",r[o]),l=0;l<a.length;l++){for(var d=a[l].attributes,u={key:a[l].getAttribute("value"),label:a[l].getAttribute("label")},f=0;f<d.length;f++){var g=d[f];g.nodeName!="value"&&g.nodeName!="label"&&(u[g.nodeName]=g.nodeValue)}s.push(u)}return i},_getXML:function(t,i,r){r=r||"data",i.getXMLTopNode||(i=e.ajax.parse(i));var o=e.ajax.xmltop(r,i.xmlDoc);o&&o.tagName==r||function(a){throw e.assert(!1,"Can't parse data: incorrect value of gantt.parse or gantt.load method. Actual argument value: "+JSON.stringify(a)),new Error("Invalid argument for gantt.parse or gantt.load. An XML of format https://docs.dhtmlx.com/gantt/desktop__supported_data_formats.html#xmldhtmlxgantt20 is expected. Actual argument value: "+JSON.stringify(a))}(t);var s=o.getAttribute("dhx_security");return s&&(e.security_key=s),o},parse:function(t,i){i=this._getXML(t,i);for(var r={},o=r.data=[],s=e.ajax.xpath("//task",i),a=0;a<s.length;a++)o[a]=this._xmlNodeToJSON(s[a]);return r.collections=this._getCollections(i),r},_copyLink:function(t){return"<item id='"+t.id+"' source='"+t.source+"' target='"+t.target+"' type='"+t.type+"' />"},_copyObject:function(t){return"<task id='"+t.id+"' parent='"+(t.parent||"")+"' start_date='"+t.start_date+"' duration='"+t.duration+"' open='"+!!t.open+"' progress='"+t.progress+"' end_date='"+t.end_date+"'><![CDATA["+t.text+"]]></task>"},serialize:function(){for(var t=[],i=[],r=e.json.serialize(),o=0,s=r.data.length;o<s;o++)t.push(this._copyObject(r.data[o]));for(o=0,s=r.links.length;o<s;o++)i.push(this._copyLink(r.links[o]));return"<data>"+t.join("")+"<coll_options for='links'>"+i.join("")+"</coll_options></data>"}},e.oldxml={parse:function(t,i){i=e.xml._getXML(t,i,"projects");for(var r={collections:{links:[]}},o=r.data=[],s=e.ajax.xpath("//task",i),a=0;a<s.length;a++){o[a]=e.xml._xmlNodeToJSON(s[a]);var l=s[a].parentNode;l.tagName=="project"?o[a].parent="project-"+l.getAttribute("id"):o[a].parent=l.parentNode.getAttribute("id")}for(s=e.ajax.xpath("//project",i),a=0;a<s.length;a++)(d=e.xml._xmlNodeToJSON(s[a],!0)).id="project-"+d.id,o.push(d);for(a=0;a<o.length;a++){var d;(d=o[a]).start_date=d.startdate||d.est,d.end_date=d.enddate,d.text=d.name,d.duration=d.duration/8,d.open=1,d.duration||d.end_date||(d.duration=1),d.predecessortasks&&r.collections.links.push({target:d.id,source:d.predecessortasks,type:e.config.links.finish_to_start})}return r},serialize:function(){e.message("Serialization to 'old XML' is not implemented")}},e.serverList=function(t,i){return i?this.serverList[t]=i.slice(0):this.serverList[t]||(this.serverList[t]=[]),this.serverList[t]}}function Ly(e,n,t,i,r){return this.date=e,this.unit=n,this.task=t,this.id=i,this.calendar=r,this}function Fy(e,n,t,i,r,o){return this.date=e,this.dir=n,this.unit=t,this.task=i,this.id=r,this.calendar=o,this}function $y(e,n,t,i,r,o,s){return this.start_date=e,this.duration=n,this.unit=t,this.step=i,this.task=r,this.id=o,this.calendar=s,this}function c2(e,n,t,i){return this.start_date=e,this.end_date=n,this.task=t,this.calendar=i,this.unit=null,this.step=null,this}var PD=function(e){return{getWorkHoursArguments:function(){var n=arguments[0];if(!Ca((n=Tn(n)?{date:n}:$e({},n)).date))throw e.assert(!1,"Invalid date argument for getWorkHours method"),new Error("Invalid date argument for getWorkHours method");return n},setWorkTimeArguments:function(){return arguments[0]},unsetWorkTimeArguments:function(){return arguments[0]},isWorkTimeArguments:function(){var n,t=arguments[0];if(t instanceof Ly)return t;if((n=t.date?new Ly(t.date,t.unit,t.task,null,t.calendar):new Ly(arguments[0],arguments[1],arguments[2],null,arguments[3])).unit=n.unit||e.config.duration_unit,!Ca(n.date))throw e.assert(!1,"Invalid date argument for isWorkTime method"),new Error("Invalid date argument for isWorkTime method");return n},getClosestWorkTimeArguments:function(n){var t,i=arguments[0];if(i instanceof Fy)return i;if(t=Tn(i)?new Fy(i):new Fy(i.date,i.dir,i.unit,i.task,null,i.calendar),i.id&&(t.task=i),t.dir=i.dir||"any",t.unit=i.unit||e.config.duration_unit,!Ca(t.date))throw e.assert(!1,"Invalid date argument for getClosestWorkTime method"),new Error("Invalid date argument for getClosestWorkTime method");return t},_getStartEndConfig:function(n){var t,i=c2;if(n instanceof i)return n;if(Tn(n)?t=new i(arguments[0],arguments[1],arguments[2],arguments[3]):(t=new i(n.start_date,n.end_date,n.task),n.id!==null&&n.id!==void 0&&(t.task=n)),t.unit=t.unit||e.config.duration_unit,t.step=t.step||e.config.duration_step,t.start_date=t.start_date||t.start||t.date,!Ca(t.start_date))throw e.assert(!1,"Invalid start_date argument for getDuration method"),new Error("Invalid start_date argument for getDuration method");if(!Ca(t.end_date))throw e.assert(!1,"Invalid end_date argument for getDuration method"),new Error("Invalid end_date argument for getDuration method");return t},getDurationArguments:function(n,t,i,r){return this._getStartEndConfig.apply(this,arguments)},hasDurationArguments:function(n,t,i,r){return this._getStartEndConfig.apply(this,arguments)},calculateEndDateArguments:function(n,t,i,r){var o,s=arguments[0];if(s instanceof $y)return s;if(o=Tn(s)?new $y(arguments[0],arguments[1],arguments[2],void 0,arguments[3],void 0,arguments[4]):new $y(s.start_date,s.duration,s.unit,s.step,s.task,null,s.calendar),s.id!==null&&s.id!==void 0&&(o.task=s,o.unit=null,o.step=null),o.unit=o.unit||e.config.duration_unit,o.step=o.step||e.config.duration_step,!Ca(o.start_date))throw e.assert(!1,"Invalid start_date argument for calculateEndDate method"),new Error("Invalid start_date argument for calculateEndDate method");return o}}};function RD(){}RD.prototype={_getIntervals:function(e){for(var n=[],t=0;t<e.length;t+=2)n.push({start:e[t],end:e[t+1]});return n},_toHoursArray:function(e){var n=[];function t(r){var o,s=Math.floor(r/3600),a=r-60*s*60,l=Math.floor(a/60);return s+":"+((o=String(l)).length<2&&(o="0"+o),o)}for(var i=0;i<e.length;i++)n.push(t(e[i].start)+"-"+t(e[i].end));return n},_intersectHourRanges:function(e,n){var t=[],i=e.length>n.length?e:n,r=e===i?n:e;i=i.slice(),r=r.slice(),t=[];for(var o=0;o<i.length;o++)for(var s=i[o],a=0;a<r.length;a++){var l=r[a];l.start<s.end&&l.end>s.start&&(t.push({start:Math.max(s.start,l.start),end:Math.min(s.end,l.end)}),s.end>l.end&&(r.splice(a,1),a--,o--))}return t},_mergeAdjacentIntervals:function(e){var n=e.slice();n.sort(function(o,s){return o.start-s.start});for(var t=n[0],i=1;i<n.length;i++){var r=n[i];r.start<=t.end?(r.end>t.end&&(t.end=r.end),n.splice(i,1),i--):t=r}return n},_mergeHoursConfig:function(e,n){return this._mergeAdjacentIntervals(this._intersectHourRanges(e,n))},merge:function(e,n){let t=ln(e.getConfig()),i=ln(n.getConfig()),r=t.parsed,o=i.parsed;r.customWeeks=t.customWeeks,o.customWeeks=i.customWeeks;var s={hours:this._toHoursArray(this._mergeHoursConfig(r.hours,o.hours)),dates:{},customWeeks:{}};let a=(d,u)=>{for(let f in d.dates){let g=d.dates[f];+f>1e3&&(s.dates[f]=!1);for(let p in u.dates){let v=u.dates[p];if(p==f&&(s.dates[f]=!(!g||!v)),Array.isArray(g)){let k=Array.isArray(v)?v:u.hours;s.dates[f]=this._toHoursArray(this._mergeHoursConfig(g,k))}}}};if(a(r,o),a(o,r),r.customWeeks)for(var l in r.customWeeks)s.customWeeks[l]=r.customWeeks[l];if(o.customWeeks)for(var l in o.customWeeks)s.customWeeks[l]?s.customWeeks[l+"_second"]=o.customWeeks[l]:s.customWeeks[l]=o.customWeeks[l];return s}};var ab=class{constructor(){this.clear()}getItem(n,t,i){if(this._cache.has(n)){let r=this._cache.get(n)[i.getFullYear()];if(r&&r.has(t))return r.get(t)}return-1}setItem(n,t,i,r){if(!n||!t)return;let o=this._cache,s=r.getFullYear(),a;o.has(n)?a=o.get(n):(a=[],o.set(n,a));let l=a[s];l||(l=a[s]=new Map),l.set(t,i)}clear(){this._cache=new Map}},lb=class{constructor(){this.clear()}getItem(n,t,i){let r=this._cache;if(r&&r[n]){let o=r[n];if(o===void 0)return-1;let s=o[i.getFullYear()];if(s&&s[t]!==void 0)return s[t]}return-1}setItem(n,t,i,r){if(!n||!t)return;let o=this._cache;if(!o)return;o[n]||(o[n]=[]);let s=o[n],a=r.getFullYear(),l=s[a];l||(l=s[a]={}),l[t]=i}clear(){this._cache={}}},cb=class{constructor(n){this.getMinutesPerWeek=t=>{let i=t.valueOf();if(this._weekCache.has(i))return this._weekCache.get(i);let r=this._calendar,o=this._calendar.$gantt,s=0,a=o.date.week_start(new Date(t));for(let l=0;l<7;l++)s+=60*r.getHoursPerDay(a),a=o.date.add(a,1,"day");return this._weekCache.set(i,s),s},this.getMinutesPerMonth=t=>{let i=t.valueOf();if(this._monthCache.has(i))return this._monthCache.get(i);let r=this._calendar,o=this._calendar.$gantt,s=0,a=o.date.week_start(new Date(t)),l=o.date.add(a,1,"month").valueOf();for(;a.valueOf()<l;)s+=60*r.getHoursPerDay(a),a=o.date.add(a,1,"day");return this._monthCache.set(i,s),s},this.clear=()=>{this._weekCache=new Map,this._monthCache=new Map},this.clear(),this._calendar=n}},db=class{constructor(){this.clear()}_getCacheObject(n,t,i){let r=this._cache;r[t]||(r[t]=[]);let o=r[t];o||(o=r[t]={});let s=o[i];s||(s=o[i]={});let a=n.getFullYear(),l=s[a];return l||(l=s[a]={durations:{},endDates:{}}),l}_endDateCacheKey(n,t){return String(n)+"-"+String(t)}_durationCacheKey(n,t){return String(n)+"-"+String(t)}getEndDate(n,t,i,r,o){let s=this._getCacheObject(n,i,r),a=n.valueOf(),l=this._endDateCacheKey(a,t),d;if(s.endDates[l]===void 0){let u=o(),f=u.valueOf();s.endDates[l]=f,s.durations[this._durationCacheKey(a,f)]=t,d=u}else d=new Date(s.endDates[l]);return d}getDuration(n,t,i,r,o){let s=this._getCacheObject(n,i,r),a=n.valueOf(),l=t.valueOf(),d=this._durationCacheKey(a,l),u;if(s.durations[d]===void 0){let f=o();s.durations[d]=f.valueOf(),u=f}else u=s.durations[d];return u}clear(){this._cache={}}};function ub(e,n){this.argumentsHelper=n,this.$gantt=e,this._workingUnitsCache=typeof Map<"u"?new ab:new lb,this._largeUnitsCache=new cb(this),this._dateDurationCache=new db,this._worktime=null,this._cached_timestamps={},this._cached_timestamps_count=0}ub.prototype={units:["year","month","week","day","hour","minute"],_clearCaches:function(){this._workingUnitsCache.clear(),this._largeUnitsCache.clear(),this._dateDurationCache.clear()},_getUnitOrder:function(e){for(var n=0,t=this.units.length;n<t;n++)if(this.units[n]==e)return n},_resetTimestampCache:function(){this._cached_timestamps={},this._cached_timestamps_count=0},_timestamp:function(e){this._cached_timestamps_count>1e6&&this._resetTimestampCache();var n=null;if(e.day||e.day===0)n=e.day;else if(e.date){var t=String(e.date.valueOf());this._cached_timestamps[t]?n=this._cached_timestamps[t]:(n=Date.UTC(e.date.getFullYear(),e.date.getMonth(),e.date.getDate()),this._cached_timestamps[t]=n,this._cached_timestamps_count++)}return n},_checkIfWorkingUnit:function(e,n){if(!this["_is_work_"+n]){let t=this.$gantt.date[`${n}_start`](new Date(e)),i=this.$gantt.date.add(t,1,n);return this.hasDuration(t,i)}return this["_is_work_"+n](e)},_is_work_day:function(e){var n=this._getWorkHours(e);return!!Array.isArray(n)&&n.length>0},_is_work_hour:function(e){for(var n=this._getWorkHours(e),t=e.getHours(),i=0;i<n.length;i++)if(t>=n[i].startHour&&t<n[i].endHour)return!0;return!1},_getTimeOfDayStamp:function(e,n){var t=e.getHours();return e.getHours()||e.getMinutes()||!n||(t=24),60*t*60+60*e.getMinutes()},_is_work_minute:function(e){for(var n=this._getWorkHours(e),t=this._getTimeOfDayStamp(e),i=0;i<n.length;i++)if(t>=n[i].start&&t<n[i].end)return!0;return!1},_nextDate:function(e,n,t){return this.$gantt.date.add(e,t,n)},_getWorkUnitsBetweenGeneric:function(e,n,t,i){var r=this.$gantt.date,o=new Date(e),s=new Date(n);i=i||1;var a,l,d=0,u=null,f=!1;(a=r[t+"_start"](new Date(o))).valueOf()!=o.valueOf()&&(f=!0);var g=!1;(l=r[t+"_start"](new Date(n))).valueOf()!=n.valueOf()&&(g=!0);for(var p=!1;o.valueOf()<s.valueOf();){if(p=(u=this._nextDate(o,t,i)).valueOf()>s.valueOf(),this._isWorkTime(o,t))(f||g&&p)&&(a=r[t+"_start"](new Date(o)),l=r.add(a,i,t)),f?(f=!1,u=this._nextDate(a,t,i),d+=(l.valueOf()-o.valueOf())/(l.valueOf()-a.valueOf())):g&&p?(g=!1,d+=(s.valueOf()-o.valueOf())/(l.valueOf()-a.valueOf())):d++;else{var v=this._getUnitOrder(t),k=this.units[v-1];k&&!this._isWorkTime(o,k)&&(u=this._getClosestWorkTimeFuture(o,k))}o=u}return d},_getMinutesPerHour:function(e){var n=this._getTimeOfDayStamp(e),t=this._getTimeOfDayStamp(this._nextDate(e,"hour",1));t===0&&(t=86400);for(var i=this._getWorkHours(e),r=0;r<i.length;r++){var o=i[r];if(n>=o.start&&t<=o.end)return 60;if(n<o.end&&t>o.start)return(Math.min(t,o.end)-Math.max(n,o.start))/60}return 0},_getMinutesPerDay:function(e){var n=this._getWorkHours(e),t=0;return n.forEach(function(i){t+=i.durationMinutes}),t},getHoursPerDay:function(e){var n=this._getWorkHours(e),t=0;return n.forEach(function(i){t+=i.durationHours}),t},_getWorkUnitsForRange:function(e,n,t,i){var r,o=0,s=new Date(e),a=new Date(n);for(r=Ye(t=="minute"?this._getMinutesPerDay:this.getHoursPerDay,this);s.valueOf()<a.valueOf();)if(a-s>27648e5&&s.getDate()===0){var l=this._largeUnitsCache.getMinutesPerMonth(s);t=="hour"&&(l/=60),o+=l,s=this.$gantt.date.add(s,1,"month")}else{if(a-s>13824e5){var d=this.$gantt.date.week_start(new Date(s));if(s.valueOf()===d.valueOf()){l=this._largeUnitsCache.getMinutesPerWeek(s),t=="hour"&&(l/=60),o+=l,s=this.$gantt.date.add(s,7,"day");continue}}o+=r(s),s=this._nextDate(s,"day",1)}return o/i},_getMinutesBetweenSingleDay:function(e,n){for(var t=this._getIntervalTimestamp(e,n),i=this._getWorkHours(e),r=0,o=0;o<i.length;o++){var s=i[o];if(t.end>=s.start&&t.start<=s.end){var a=Math.max(s.start,t.start),l=Math.min(s.end,t.end);r+=(l-a)/60,t.start=l}}return Math.floor(r)},_getMinutesBetween:function(e,n,t,i){var r=new Date(e),o=new Date(n);i=i||1;var s=new Date(r),a=this.$gantt.date.add(this.$gantt.date.day_start(new Date(r)),1,"day");if(o.valueOf()<=a.valueOf())return this._getMinutesBetweenSingleDay(e,n);var l=this.$gantt.date.day_start(new Date(o)),d=o,u=this._getMinutesBetweenSingleDay(s,a),f=this._getMinutesBetweenSingleDay(l,d);return u+this._getWorkUnitsForRange(a,l,t,i)+f},_getHoursBetween:function(e,n,t,i){var r=new Date(e),o=new Date(n);i=i||1;var s=new Date(r),a=this.$gantt.date.add(this.$gantt.date.day_start(new Date(r)),1,"day");if(o.valueOf()<=a.valueOf())return Math.round(this._getMinutesBetweenSingleDay(e,n)/60);var l=this.$gantt.date.day_start(new Date(o)),d=o,u=this._getMinutesBetweenSingleDay(s,a,t,i)/60,f=this._getMinutesBetweenSingleDay(l,d,t,i)/60,g=u+this._getWorkUnitsForRange(a,l,t,i)+f;return Math.round(g)},getConfig:function(){return this._worktime},_setConfig:function(e){this._worktime=e,this._parseSettings(),this._clearCaches()},_parseSettings:function(){var e=this.getConfig();for(var n in e.parsed={dates:{},hours:null,haveCustomWeeks:!1,customWeeks:{},customWeeksRangeStart:null,customWeeksRangeEnd:null,customWeeksBoundaries:[]},e.parsed.hours=this._parseHours(e.hours),e.dates)e.parsed.dates[n]=this._parseHours(e.dates[n]);if(e.customWeeks){var t=null,i=null;for(var n in e.customWeeks){var r=e.customWeeks[n];if(r.from&&r.to){var o=r.from,s=r.to;(!t||t>o.valueOf())&&(t=o.valueOf()),(!i||i<s.valueOf())&&(i=s.valueOf()),e.parsed.customWeeksBoundaries.push({from:o.valueOf(),fromReadable:new Date(o),to:s.valueOf(),toReadable:new Date(s),name:n}),e.parsed.haveCustomWeeks=!0;var a=e.parsed.customWeeks[n]={from:r.from,to:r.to,hours:this._parseHours(r.hours),dates:{}};for(var l in r.dates)a.dates[l]=this._parseHours(r.dates[l])}}e.parsed.customWeeksRangeStart=t,e.parsed.customWeeksRangeEnd=i}},_tryChangeCalendarSettings:function(e){var n=JSON.stringify(this.getConfig());return e(),!!this.hasWorkTime()||(this._setConfig(JSON.parse(n)),this._clearCaches(),!1)},_arraysEqual:function(e,n){if(e===n)return!0;if(!e||!n||e.length!=n.length)return!1;for(var t=0;t<e.length;++t)if(e[t]!==n[t])return!1;return!0},_compareSettings:function(e,n){if(!this._arraysEqual(e.hours,n.hours))return!1;var t=Object.keys(e.dates),i=Object.keys(n.dates);if(t.sort(),i.sort(),!this._arraysEqual(t,i))return!1;for(var r=0;r<t.length;r++){var o=t[r],s=e.dates[o],a=e.dates[o];if(s!==a&&!(Array.isArray(s)&&Array.isArray(a)&&this._arraysEqual(s,a)))return!1}return!0},equals:function(e){if(!(e instanceof ub))return!1;var n=this.getConfig(),t=e.getConfig();if(!this._compareSettings(n,t))return!1;if(n.parsed.haveCustomWeeks&&t.parsed.haveCustomWeeks){if(n.parsed.customWeeksBoundaries.length!=t.parsed.customWeeksBoundaries.length)return!1;for(var i in n.parsed.customWeeks){var r=n.parsed.customWeeks[i],o=t.parsed.customWeeks[i];if(!o||!this._compareSettings(r,o))return!1}}else if(n.parse.haveCustomWeeks!==t.parsed.haveCustomWeeks)return!1;return!0},getWorkHours:function(){var e=this.argumentsHelper.getWorkHoursArguments.apply(this.argumentsHelper,arguments);return this._getWorkHours(e.date,!1)},_getWorkHours:function(e,n){var t=this.getConfig();if(n!==!1&&(t=t.parsed),!e)return t.hours;var i=this._timestamp({date:e});if(t.haveCustomWeeks&&t.customWeeksRangeStart<=i&&t.customWeeksRangeEnd>i){for(var r=0;r<t.customWeeksBoundaries.length;r++)if(t.customWeeksBoundaries[r].from<=i&&t.customWeeksBoundaries[r].to>i){t=t.customWeeks[t.customWeeksBoundaries[r].name];break}}var o=!0;return t.dates[i]!==void 0?o=t.dates[i]:t.dates[e.getDay()]!==void 0&&(o=t.dates[e.getDay()]),o===!0?t.hours:o||[]},_getIntervalTimestamp:function(e,n){var t={start:0,end:0};t.start=60*e.getHours()*60+60*e.getMinutes()+e.getSeconds();var i=n.getHours();return!i&&!n.getMinutes()&&!n.getSeconds()&&e.valueOf()<n.valueOf()&&(i=24),t.end=60*i*60+60*n.getMinutes()+n.getSeconds(),t},_parseHours:function(e){if(Array.isArray(e)){var n=[];e.forEach(function(a){typeof a=="number"?n.push(60*a*60):typeof a=="string"&&a.split("-").map(function(l){return l.trim()}).forEach(function(l){var d=l.split(":").map(function(f){return f.trim()}),u=parseInt(60*d[0]*60);d[1]&&(u+=parseInt(60*d[1])),d[2]&&(u+=parseInt(d[2])),n.push(u)})});for(var t=[],i=0;i<n.length;i+=2){var r=n[i],o=n[i+1],s=o-r;t.push({start:r,end:o,startHour:Math.floor(r/3600),startMinute:Math.floor(r/60),endHour:Math.ceil(o/3600),endMinute:Math.ceil(o/60),durationSeconds:s,durationMinutes:s/60,durationHours:s/3600})}return t}return e},setWorkTime:function(e){return this._tryChangeCalendarSettings(Ye(function(){var n=e.hours===void 0||e.hours,t=this._timestamp(e),i=this.getConfig();if(t!==null?i.dates[t]=n:e.customWeeks||(i.hours=n),e.customWeeks){if(i.customWeeks||(i.customWeeks={}),typeof e.customWeeks=="string")t!==null?i.customWeeks[e.customWeeks].dates[t]=n:e.customWeeks||(i.customWeeks[e.customWeeks].hours=n);else if(typeof e.customWeeks=="object"&&Function.prototype.toString.call(e.customWeeks.constructor)==="function Object() { [native code] }")for(var r in e.customWeeks)i.customWeeks[r]=e.customWeeks[r]}this._parseSettings(),this._clearCaches()},this))},unsetWorkTime:function(e){return this._tryChangeCalendarSettings(Ye(function(){if(e){var n=this._timestamp(e);n!==null&&delete this.getConfig().dates[n]}else this.reset_calendar();this._parseSettings(),this._clearCaches()},this))},_isWorkTime:function(e,n){var t,i=-1;return t=String(e.valueOf()),(i=this._workingUnitsCache.getItem(n,t,e))==-1&&(i=this._checkIfWorkingUnit(e,n),this._workingUnitsCache.setItem(n,t,i,e)),i},isWorkTime:function(){var e=this.argumentsHelper.isWorkTimeArguments.apply(this.argumentsHelper,arguments);return this._isWorkTime(e.date,e.unit)},calculateDuration:function(){var e=this.argumentsHelper.getDurationArguments.apply(this.argumentsHelper,arguments);if(!e.unit)return!1;var n=this;return this._dateDurationCache.getDuration(e.start_date,e.end_date,e.unit,e.step,function(){return n._calculateDuration(e.start_date,e.end_date,e.unit,e.step)})},_calculateDuration:function(e,n,t,i){var r=0,o=1;if(e.valueOf()>n.valueOf()){var s=n;n=e,e=s,o=-1}return r=t=="hour"&&i==1?this._getHoursBetween(e,n,t,i):t=="minute"&&i==1?this._getMinutesBetween(e,n,t,i):this._getWorkUnitsBetweenGeneric(e,n,t,i),o*Math.round(r)},hasDuration:function(){var e=this.argumentsHelper.getDurationArguments.apply(this.argumentsHelper,arguments),n=e.start_date,t=e.end_date,i=e.unit,r=e.step;if(!i)return!1;var o=new Date(n),s=new Date(t);for(r=r||1;o.valueOf()<s.valueOf();){if(this._isWorkTime(o,i))return!0;o=this._nextDate(o,i,r)}return!1},calculateEndDate:function(){var e=this.argumentsHelper.calculateEndDateArguments.apply(this.argumentsHelper,arguments),n=e.start_date,t=e.duration,i=e.unit,r=e.step;if(!i)return!1;var o=e.duration>=0?1:-1;t=Math.abs(1*t);var s=this;return this._dateDurationCache.getEndDate(n,t,i,r*o,function(){return s._calculateEndDate(n,t,i,r*o)})},_calculateEndDate:function(e,n,t,i){return!!t&&(i==1&&t=="minute"?this._calculateMinuteEndDate(e,n,i):i==-1&&t=="minute"?this._subtractMinuteDate(e,n,i):i==1&&t=="hour"?this._calculateHourEndDate(e,n,i):this._addInterval(e,n,t,i,null).end)},_addInterval:function(e,n,t,i,r){for(var o=0,s=e,a=!1;o<n&&(!r||!r(s));){var l=this._nextDate(s,t,i);t=="day"&&(a=a||!s.getHours()&&l.getHours())&&(l.setHours(0),l.getHours()||(a=!1));var d=new Date(l.valueOf()+1);i>0&&(d=new Date(l.valueOf()-1)),this._isWorkTime(d,t)&&!a&&o++,s=l}return{end:s,start:e,added:o}},_addHoursUntilDayEnd:function(e,n){for(var t=this.$gantt.date.add(this.$gantt.date.day_start(new Date(e)),1,"day"),i=0,r=n,o=this._getIntervalTimestamp(e,t),s=this._getWorkHours(e),a=0;a<s.length&&i<n;a++){var l=s[a];if(o.end>=l.start&&o.start<=l.end){var d=Math.max(l.start,o.start),u=Math.min(l.end,o.end),f=(u-d)/3600;f>r&&(f=r,u=d+60*r*60);var g=Math.round((u-d)/3600);i+=g,r-=g,o.start=u}}var p=t;return i===n&&(p=new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,0,o.start)),{added:i,end:p}},_calculateHourEndDate:function(e,n,t){var i=new Date(e),r=0;t=t||1,n=Math.abs(1*n);var o=this._addHoursUntilDayEnd(i,n);if(r=o.added,i=o.end,d=n-r){for(var s=i;r<n;){var a=this._nextDate(s,"day",t);a.setHours(0),a.setMinutes(0),a.setSeconds(0);var l=0;if(r+(l=t>0?this.getHoursPerDay(new Date(a.valueOf()-1)):this.getHoursPerDay(new Date(a.valueOf()+1)))>=n)break;r+=l,s=a}i=s}if(r<n){var d=n-r;i=(o=this._addHoursUntilDayEnd(i,d)).end}return i},_addMinutesUntilHourEnd:function(e,n){if(e.getMinutes()===0)return{added:0,end:new Date(e)};for(var t=this.$gantt.date.add(this.$gantt.date.hour_start(new Date(e)),1,"hour"),i=0,r=n,o=this._getIntervalTimestamp(e,t),s=this._getWorkHours(e),a=0;a<s.length&&i<n;a++){var l=s[a];if(o.end>=l.start&&o.start<=l.end){var d=Math.max(l.start,o.start),u=Math.min(l.end,o.end),f=(u-d)/60;f>r&&(f=r,u=d+60*r);var g=Math.round((u-d)/60);r-=g,i+=g,o.start=u}}var p=t;return i===n&&(p=new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,0,o.start)),{added:i,end:p}},_subtractMinutesUntilHourStart:function(e,n){for(var t=this.$gantt.date.hour_start(new Date(e)),i=0,r=n,o=60*t.getHours()*60+60*t.getMinutes()+t.getSeconds(),s=60*e.getHours()*60+60*e.getMinutes()+e.getSeconds(),a=this._getWorkHours(e),l=a.length-1;l>=0&&i<n;l--){var d=a[l];if(s>d.start&&o<=d.end){var u=Math.min(s,d.end),f=Math.max(o,d.start),g=(u-f)/60;g>r&&(g=r,f=u-60*r);var p=Math.abs(Math.round((u-f)/60));r-=p,i+=p,s=f}}var v=t;return i===n&&(v=new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,0,s)),{added:i,end:v}},_subtractMinuteDate:function(e,n,t){var i=this.getClosestWorkTime({date:e,dir:"past",unit:"minute"}),r=0;t=t||-1,n=Math.abs(1*n),n=Math.round(n);let o=this._isMinutePrecision(i),s=this._subtractMinutesUntilHourStart(i,n);r+=s.added,i=s.end;for(var a=0,l=[],d=0;r<n;){var u=this.$gantt.date.day_start(new Date(i)),f=!1;i.valueOf()===u.valueOf()&&(u=this.$gantt.date.add(u,-1,"day"),f=!0);var g=new Date(u.getFullYear(),u.getMonth(),u.getDate(),23,59,59,999).valueOf();g!==a&&(l=this._getWorkHours(u),d=this._getMinutesPerDay(u),a=g);var p=n-r,v=this._getTimeOfDayStamp(i,f);if(l.length&&d)if(l[l.length-1].end<=v&&p>d)r+=d,i=this.$gantt.date.add(i,-1,"day");else{for(var k=!1,x=null,S=null,_=l.length-1;_>=0;_--)if(l[_].start<v-1&&l[_].end>=v-1){k=!0,x=l[_],S=l[_-1];break}if(k)if(v===x.end&&p>=x.durationMinutes)r+=x.durationMinutes,i=this.$gantt.date.add(i,-x.durationMinutes,"minute");else if(!o&&p<=v/60-x.startMinute)r+=p,i=this.$gantt.date.add(i,-p,"minute");else if(o)p<=v/60-x.startMinute?(r+=p,i=this.$gantt.date.add(i,-p,"minute")):(r+=v/60-x.startMinute,i=S?new Date(i.getFullYear(),i.getMonth(),i.getDate(),0,0,S.end):this.$gantt.date.day_start(i));else{var w=this._getMinutesPerHour(i);w<=p?(r+=w,i=this._nextDate(i,"hour",t)):(s=this._subtractMinutesUntilHourStart(i,p),r+=s.added,i=s.end)}else if(i.getHours()===0&&i.getMinutes()===0&&i.getSeconds()===0){if((y=this._getClosestWorkTimePast(i,"hour")).valueOf()===i.valueOf()){var y=this.$gantt.date.add(i,-1,"day"),C=this._getWorkHours(y);if(C.length){var D=C[C.length-1];y.setSeconds(D.durationSeconds)}}i=y}else i=this._getClosestWorkTimePast(new Date(i-1),"hour")}else i=this.$gantt.date.add(i,-1,"day")}if(r<n){var I=n-r;s=this._subtractMinutesUntilHourStart(i,I),r+=s.added,i=s.end}return i},_calculateMinuteEndDate:function(e,n,t){var i=new Date(e),r=0;t=t||1,n=Math.abs(1*n),n=Math.round(n);var o=this._addMinutesUntilHourEnd(i,n);r+=o.added,i=o.end;for(var s=0,a=[],l=0,d=this._isMinutePrecision(i);r<n;){var u=this.$gantt.date.day_start(new Date(i)).valueOf();u!==s&&(a=this._getWorkHours(i),l=this._getMinutesPerDay(i),s=u);var f=n-r,g=this._getTimeOfDayStamp(i);if(a.length&&l)if(a[0].start>=g&&f>=l){if(r+=l,f==l){i=new Date(i.getFullYear(),i.getMonth(),i.getDate(),0,0,a[a.length-1].end);break}i=this.$gantt.date.add(i,1,"day"),i=this.$gantt.date.day_start(i)}else{for(var p=!1,v=null,k=0;k<a.length;k++)if(a[k].start<=g&&a[k].end>g){p=!0,v=a[k];break}if(p)if(g===v.start&&f>=v.durationMinutes)r+=v.durationMinutes,i=this.$gantt.date.add(i,v.durationMinutes,"minute");else if(f<=v.endMinute-g/60)r+=f,i=this.$gantt.date.add(i,f,"minute");else{var x=this._getMinutesPerHour(i);x<=f?(r+=x,i=d?this.$gantt.date.add(i,x,"minute"):this._nextDate(i,"hour",t)):(r+=(o=this._addMinutesUntilHourEnd(i,f)).added,i=o.end)}else i=this._getClosestWorkTimeFuture(i,"hour")}else i=this.$gantt.date.add(this.$gantt.date.day_start(i),1,"day")}if(r<n){var S=n-r;r+=(o=this._addMinutesUntilHourEnd(i,S)).added,i=o.end}return i},getClosestWorkTime:function(){var e=this.argumentsHelper.getClosestWorkTimeArguments.apply(this.argumentsHelper,arguments);return this._getClosestWorkTime(e.date,e.unit,e.dir)},_getClosestWorkTime:function(e,n,t){var i=new Date(e);if(this._isWorkTime(i,n))return i;if(i=this.$gantt.date[n+"_start"](i),t!="any"&&t)i=t=="past"?this._getClosestWorkTimePast(i,n):this._getClosestWorkTimeFuture(i,n);else{var r=this._getClosestWorkTimeFuture(i,n),o=this._getClosestWorkTimePast(i,n);i=Math.abs(r-e)<=Math.abs(e-o)?r:o}return i},_getClosestWorkTimeFuture:function(e,n){return this._getClosestWorkTimeGeneric(e,n,1)},_getClosestWorkTimePast:function(e,n){var t=this._getClosestWorkTimeGeneric(e,n,-1);return this.$gantt.date.add(t,1,n)},_findClosestTimeInDay:function(e,n,t){var i=new Date(e),r=null,o=!1;this._getWorkHours(i).length||(i=this._getClosestWorkTime(i,"day",n<0?"past":"future"),n<0&&(i=new Date(i.valueOf()-1),o=!0),t=this._getWorkHours(i));var s=this._getTimeOfDayStamp(i);if(o&&(s=this._getTimeOfDayStamp(new Date(i.valueOf()+1),o)),n>0){for(var a=0;a<t.length;a++)if(t[a].start>=s){r=new Date(i.getFullYear(),i.getMonth(),i.getDate(),0,0,t[a].start);break}}else for(a=t.length-1;a>=0;a--){if(t[a].end<=s){r=new Date(i.getFullYear(),i.getMonth(),i.getDate(),0,0,t[a].end);break}if(t[a].end>s&&t[a].start<=s){r=new Date(i.getFullYear(),i.getMonth(),i.getDate(),0,0,s);break}}return r},_getClosestWorkMinute:function(e,n,t){var i=new Date(e),r=this._getWorkHours(i),o=this._findClosestTimeInDay(i,t,r);return o||(t>0?(i=this.calculateEndDate(i,t,n),i=this.$gantt.date.day_start(i)):(i=this.calculateEndDate(i,t,"day"),i=this.$gantt.date.day_start(i),i=this.$gantt.date.add(i,1,"day"),i=new Date(i.valueOf()-1)),r=this._getWorkHours(i),o=this._findClosestTimeInDay(i,t,r)),t<0&&(o=this.$gantt.date.add(o,-1,n)),o},_getClosestWorkTimeGeneric:function(e,n,t){if(n==="hour"||n==="minute")return this._getClosestWorkMinute(e,n,t);for(var i=this._getUnitOrder(n),r=this.units[i-1],o=e,s=0;!this._isWorkTime(o,n)&&(!r||this._isWorkTime(o,r)||(o=t>0?this._getClosestWorkTimeFuture(o,r):this._getClosestWorkTimePast(o,r),!this._isWorkTime(o,n)));){if(++s>3e3)return this.$gantt.assert(!1,"Invalid working time check"),!1;var a=o.getTimezoneOffset();o=this.$gantt.date.add(o,t,n),o=this.$gantt._correct_dst_change(o,a,t,n),this.$gantt.date[n+"_start"]&&(o=this.$gantt.date[n+"_start"](o))}return o},hasWorkTime:function(){var e=this.getConfig(),n=e.dates;for(var t in e.dates);var i=this._checkWorkHours(e.hours),r=!1;return[0,1,2,3,4,5,6].forEach((function(o){if(!r){var s=n[o];s===!0?r=i:Array.isArray(s)&&(r=this._checkWorkHours(s))}}).bind(this)),r},_checkWorkHours:function(e){if(e.length===0)return!1;for(var n=!1,t=0;t<e.length;t+=2)e[t]!==e[t+1]&&(n=!0);return n},_isMinutePrecision:function(e){let n=!1;return this._getWorkHours(e).forEach(function(t){(t.startMinute%60||t.endMinute%60)&&(n=!0)}),n}};var qc={isLegacyResourceCalendarFormat:function(e){if(!e)return!1;for(var n in e)if(e[n]&&typeof e[n]=="object")return!0;return!1},getResourceProperty:function(e){var n=e.resource_calendars,t=e.resource_property;if(this.isLegacyResourceCalendarFormat(n))for(var i in e){t=i;break}return t},getCalendarIdFromLegacyConfig:function(e,n){if(n)for(var t in n){var i=n[t];if(e[t]){var r=i[e[t]];if(r)return r}}return null}},d2=(dg={},{getCalendarIdFromMultipleResources:function(e,n){var t=function(r){return r.map(function(o){return o&&o.resource_id?o.resource_id:o}).sort().join("-")}(e);if(e.length){if(e.length===1)return n.getResourceCalendar(t).id;if(dg[t])return dg[t].id;var i=function(r,o){return o.mergeCalendars(r.map(function(s){var a=s&&s.resource_id?s.resource_id:s;return o.getResourceCalendar(a)}))}(e,n);return dg[t]=i,n.addCalendar(i)}return null}}),dg;function OD(e){this.$gantt=e,this._calendars={},this._legacyConfig=void 0,this.$gantt.attachEvent("onGanttReady",(function(){this.$gantt.config.resource_calendars&&(this._isLegacyConfig=qc.isLegacyResourceCalendarFormat(this.$gantt.config.resource_calendars))}).bind(this)),this.$gantt.attachEvent("onBeforeGanttReady",(function(){this.createDefaultCalendars()}).bind(this)),this.$gantt.attachEvent("onBeforeGanttRender",(function(){this.createDefaultCalendars()}).bind(this))}function hb(e,n){this.argumentsHelper=n,this.$gantt=e}function LD(e){this.$gantt=e.$gantt,this.argumentsHelper=PD(this.$gantt),this.calendarManager=e,this.$disabledCalendar=new hb(this.$gantt,this.argumentsHelper)}OD.prototype={_calendars:{},_convertWorkTimeSettings:function(e){var n=e.days;if(n&&!e.dates){e.dates=e.dates||{};for(var t=0;t<n.length;t++)e.dates[t]=n[t],n[t]instanceof Array||(e.dates[t]=!!n[t])}return delete e.days,e},mergeCalendars:function(){var e=[],n=arguments;if(Array.isArray(n[0]))e=n[0].slice();else for(var t=0;t<arguments.length;t++)e.push(arguments[t]);var i,r=new RD;return e.forEach((function(o){i=i?this._createCalendarFromConfig(r.merge(i,o)):o}).bind(this)),this.createCalendar(i)},_createCalendarFromConfig:function(e){var n=new ub(this.$gantt,PD(this.$gantt));n.id=String(hi());var t=this._convertWorkTimeSettings(e);if(t.customWeeks)for(var i in t.customWeeks)t.customWeeks[i]=this._convertWorkTimeSettings(t.customWeeks[i]);return n._setConfig(t),n},createCalendar:function(e){var n;return e||(e={}),$e(n=e.getConfig?ln(e.getConfig()):e.worktime?ln(e.worktime):ln(e),ln(this.defaults.fulltime.worktime)),this._createCalendarFromConfig(n)},getCalendar:function(e){e=e||"global";var n=this._calendars[e];return n||(this.createDefaultCalendars(),n=this._calendars[e]),n},getCalendars:function(){var e=[];for(var n in this._calendars)e.push(this.getCalendar(n));return e},_getOwnCalendar:function(e){var n=this.$gantt.config;if(e[n.calendar_property])return this.getCalendar(e[n.calendar_property]);if(n.resource_calendars){var t;if(t=this._legacyConfig===!1?n.resource_property:qc.getResourceProperty(n),Array.isArray(e[t])&&e[t].length)n.dynamic_resource_calendars?i=d2.getCalendarIdFromMultipleResources(e[t],this):r=this.getResourceCalendar(e[t]);else if(this._legacyConfig===void 0&&(this._legacyConfig=qc.isLegacyResourceCalendarFormat(n.resource_calendars)),this._legacyConfig)var i=qc.getCalendarIdFromLegacyConfig(e,n.resource_calendars);else if(t&&e[t]&&n.resource_calendars[e[t]])var r=this.getResourceCalendar(e[t]);if(i&&(r=this.getCalendar(i)),r)return r}return null},getResourceCalendar:function(e){if(e==null)return this.getCalendar();var n=null;n=typeof e=="number"||typeof e=="string"?e:e.id||e.key;var t=this.$gantt.config,i=t.resource_calendars,r=null;if(Array.isArray(e)&&e.length===1&&(n=typeof e[0]=="object"?e[0].resource_id:e[0]),i){if(this._legacyConfig===void 0&&(this._legacyConfig=qc.isLegacyResourceCalendarFormat(t.resource_calendars)),this._legacyConfig){for(var o in i)if(i[o][n]){r=i[o][n];break}}else r=i[n];if(r)return this.getCalendar(r)}return this.getCalendar()},getTaskCalendar:function(e){var n,t=this.$gantt;if(e==null)return this.getCalendar();if(!(n=typeof e!="number"&&typeof e!="string"||!t.isTaskExists(e)?e:t.getTask(e)))return this.getCalendar();var i=this._getOwnCalendar(n),r=!!t.getState().group_mode;if(!i&&t.config.inherit_calendar&&t.isTaskExists(n.parent)){for(var o=n;t.isTaskExists(o.parent)&&(o=t.getTask(o.parent),!t.isSummaryTask(o)||!(i=this._getOwnCalendar(o))););r&&!i&&e.$effective_calendar&&(i=this.getCalendar(e.$effective_calendar))}return i||this.getCalendar()},addCalendar:function(e){if(!this.isCalendar(e)){var n=e.id;(e=this.createCalendar(e)).id=n}if(e._tryChangeCalendarSettings(function(){})){var t=this.$gantt.config;return e.id=e.id||hi(),this._calendars[e.id]=e,t.worktimes||(t.worktimes={}),t.worktimes[e.id]=e.getConfig(),e.id}return this.$gantt.callEvent("onCalendarError",[{message:"Invalid calendar settings, no worktime available"},e]),null},deleteCalendar:function(e){var n=this.$gantt.config;return!!e&&!!this._calendars[e]&&(delete this._calendars[e],n.worktimes&&n.worktimes[e]&&delete n.worktimes[e],!0)},restoreConfigCalendars:function(e){for(var n in e)if(!this._calendars[n]){var t=e[n],i=this.createCalendar(t);i.id=n,this.addCalendar(i)}},defaults:{global:{id:"global",worktime:{hours:[8,12,13,17],days:[0,1,1,1,1,1,0]}},fulltime:{id:"fulltime",worktime:{hours:[0,24],days:[1,1,1,1,1,1,1]}}},createDefaultCalendars:function(){var e=this.$gantt.config;this.restoreConfigCalendars(this.defaults),this.restoreConfigCalendars(e.worktimes)},isCalendar:function(e){return[e.isWorkTime,e.setWorkTime,e.getWorkHours,e.unsetWorkTime,e.getClosestWorkTime,e.calculateDuration,e.hasDuration,e.calculateEndDate].every(function(n){return n instanceof Function})}},hb.prototype={getWorkHours:function(){return[0,24]},setWorkTime:function(){return!0},unsetWorkTime:function(){return!0},isWorkTime:function(){return!0},getClosestWorkTime:function(e){return this.argumentsHelper.getClosestWorkTimeArguments.apply(this.argumentsHelper,arguments).date},calculateDuration:function(){var e=this.argumentsHelper.getDurationArguments.apply(this.argumentsHelper,arguments),n=e.start_date,t=e.end_date,i=e.unit,r=e.step;return this._calculateDuration(n,t,i,r)},_calculateDuration:function(e,n,t,i){var r=this.$gantt.date,o={week:6048e5,day:864e5,hour:36e5,minute:6e4},s=0;if(o[t])s=Math.round((n-e)/(i*o[t]));else{for(var a=new Date(e),l=new Date(n);a.valueOf()<l.valueOf();)s+=1,a=r.add(a,i,t);a.valueOf()!=n.valueOf()&&(s+=(l-a)/(r.add(a,i,t)-a))}return Math.round(s)},hasDuration:function(){var e=this.argumentsHelper.getDurationArguments.apply(this.argumentsHelper,arguments),n=e.start_date,t=e.end_date;return!!e.unit&&(n=new Date(n),t=new Date(t),n.valueOf()<t.valueOf())},hasWorkTime:function(){return!0},equals:function(e){return e instanceof hb},calculateEndDate:function(){var e=this.argumentsHelper.calculateEndDateArguments.apply(this.argumentsHelper,arguments),n=e.start_date,t=e.duration,i=e.unit,r=e.step;return this.$gantt.date.add(n,r*t,i)}},LD.prototype={_getCalendar:function(e){var n;if(this.$gantt.config.work_time){var t=this.calendarManager;e.task?n=t.getTaskCalendar(e.task):e.id?n=t.getTaskCalendar(e):e.calendar&&(n=e.calendar),n||(n=t.getTaskCalendar())}else n=this.$disabledCalendar;return n},getWorkHours:function(e){return e=this.argumentsHelper.getWorkHoursArguments.apply(this.argumentsHelper,arguments),this._getCalendar(e).getWorkHours(e.date)},setWorkTime:function(e,n){return e=this.argumentsHelper.setWorkTimeArguments.apply(this.argumentsHelper,arguments),n||(n=this.calendarManager.getCalendar()),n.setWorkTime(e)},unsetWorkTime:function(e,n){return e=this.argumentsHelper.unsetWorkTimeArguments.apply(this.argumentsHelper,arguments),n||(n=this.calendarManager.getCalendar()),n.unsetWorkTime(e)},isWorkTime:function(e,n,t,i){var r=this.argumentsHelper.isWorkTimeArguments.apply(this.argumentsHelper,arguments);return(i=this._getCalendar(r)).isWorkTime(r)},getClosestWorkTime:function(e){return e=this.argumentsHelper.getClosestWorkTimeArguments.apply(this.argumentsHelper,arguments),this._getCalendar(e).getClosestWorkTime(e)},calculateDuration:function(){var e=this.argumentsHelper.getDurationArguments.apply(this.argumentsHelper,arguments);return this._getCalendar(e).calculateDuration(e)},hasDuration:function(){var e=this.argumentsHelper.hasDurationArguments.apply(this.argumentsHelper,arguments);return this._getCalendar(e).hasDuration(e)},calculateEndDate:function(e){return e=this.argumentsHelper.calculateEndDateArguments.apply(this.argumentsHelper,arguments),this._getCalendar(e).calculateEndDate(e)}};var u2=function(e,n){return{getWorkHours:function(t){return n.getWorkHours(t)},setWorkTime:function(t){return n.setWorkTime(t)},unsetWorkTime:function(t){n.unsetWorkTime(t)},isWorkTime:function(t,i,r){return n.isWorkTime(t,i,r)},getClosestWorkTime:function(t){return n.getClosestWorkTime(t)},calculateDuration:function(t,i,r){return n.calculateDuration(t,i,r)},_hasDuration:function(t,i,r){return n.hasDuration(t,i,r)},calculateEndDate:function(t,i,r,o){return n.calculateEndDate(t,i,r,o)},mergeCalendars:Ye(e.mergeCalendars,e),createCalendar:Ye(e.createCalendar,e),addCalendar:Ye(e.addCalendar,e),getCalendar:Ye(e.getCalendar,e),getCalendars:Ye(e.getCalendars,e),getResourceCalendar:Ye(e.getResourceCalendar,e),getTaskCalendar:Ye(e.getTaskCalendar,e),deleteCalendar:Ye(e.deleteCalendar,e)}};function h2(e){e.isUnscheduledTask=function(s){return e.assert(s&&s instanceof Object,"Invalid argument <b>task</b>="+s+" of gantt.isUnscheduledTask. Task object was expected"),!!s.unscheduled||!s.start_date},e._isAllowedUnscheduledTask=function(s){return!(!s.unscheduled||!e.config.show_unscheduled)},e._isTaskInTimelineLimits=function(s){var a=s.start_date?s.start_date.valueOf():null,l=s.end_date?s.end_date.valueOf():null;return!!(a&&l&&a<=this._max_date.valueOf()&&l>=this._min_date.valueOf())},e.isTaskVisible=function(s){if(!this.isTaskExists(s))return!1;var a=this.getTask(s);return!(!this._isAllowedUnscheduledTask(a)&&!this._isTaskInTimelineLimits(a))&&this.getGlobalTaskIndex(s)>=0},e._getProjectEnd=function(){if(e.config.project_end)return e.config.project_end;var s=e.getTaskByTime();return(s=s.sort(function(a,l){return+a.end_date>+l.end_date?1:-1})).length?s[s.length-1].end_date:null},e._getProjectStart=function(){if(e.config.project_start)return e.config.project_start;if(e.config.start_date)return e.config.start_date;if(e.getState().min_date)return e.getState().min_date;var s=e.getTaskByTime();return(s=s.sort(function(a,l){return+a.start_date>+l.start_date?1:-1})).length?s[0].start_date:null};var n=function(s,a){var l=!!(a&&a!=e.config.root_id&&e.isTaskExists(a))&&e.getTask(a),d=null;if(l)if(e.config.schedule_from_end)d=e.calculateEndDate({start_date:l.end_date,duration:-e.config.duration_step,task:s});else{if(!l.start_date)return n(l,e.getParent(l));d=l.start_date}else if(e.config.schedule_from_end)d=e.calculateEndDate({start_date:e._getProjectEnd(),duration:-e.config.duration_step,task:s});else{let u=e.getTaskByIndex(0),f=e.config.start_date||e.getState().min_date;d=u?u.start_date?u.start_date:u.end_date?e.calculateEndDate({start_date:u.end_date,duration:-e.config.duration_step,task:s}):f:f}return e.assert(d,"Invalid dates"),new Date(d)};e._set_default_task_timing=function(s){s.start_date=s.start_date||n(s,e.getParent(s)),s.duration=s.duration||e.config.duration_step,s.end_date=s.end_date||e.calculateEndDate(s)},e.createTask=function(s,a,l){if(s=s||{},e.defined(s.id)||(s.id=e.uid()),s.start_date||(s.start_date=n(s,a)),s.text===void 0&&(s.text=e.locale.labels.new_task),s.duration===void 0&&(s.duration=1),this.isTaskExists(a)){this.setParent(s,a,!0);var d=this.getTask(a);d.$open=!0,this.config.details_on_create||this.callEvent("onAfterParentExpand",[a,d])}return this.callEvent("onTaskCreated",[s])?(this.config.details_on_create?(e.isTaskExists(s.id)?e.getTask(s.id).$index!=s.$index&&(s.start_date&&typeof s.start_date=="string"&&(s.start_date=this.date.parseDate(s.start_date,"parse_date")),s.end_date&&typeof s.end_date=="string"&&(s.end_date=this.date.parseDate(s.end_date,"parse_date")),this.$data.tasksStore.updateItem(s.id,s)):(s.$new=!0,this.silent(function(){e.$data.tasksStore.addItem(s,l)})),this.selectTask(s.id),this.refreshData(),this.showLightbox(s.id)):this.addTask(s,a,l)&&(this.showTask(s.id),this.selectTask(s.id)),s.id):null},e._update_flags=function(s,a){var l=e.$data.tasksStore;s===void 0?(this._lightbox_id=null,l.silent(function(){l.unselect()}),this.getSelectedTasks&&this._multiselect.reset(),this._tasks_dnd&&this._tasks_dnd.drag&&(this._tasks_dnd.drag.id=null)):(this._lightbox_id==s&&(this._lightbox_id=a),l.getSelectedId()==s&&l.silent(function(){l.unselect(s),l.select(a)}),this._tasks_dnd&&this._tasks_dnd.drag&&this._tasks_dnd.drag.id==s&&(this._tasks_dnd.drag.id=a))};var t=function(s,a){var l=e.getTaskType(s.type),d={type:l,$no_start:!1,$no_end:!1,scheduled_summary:!1};return l===e.config.types.project&&s.auto_scheduling===!1&&(d.scheduled_summary=!0),a||l!=s.$rendered_type?(l==e.config.types.project?d.$no_end=d.$no_start=!0:l!=e.config.types.milestone&&(d.$no_end=!(s.end_date||s.duration),d.$no_start=!s.start_date,e._isAllowedUnscheduledTask(s)&&(d.$no_end=d.$no_start=!1)),d):(d.$no_start=s.$no_start,d.$no_end=s.$no_end,d)};function i(s){s.$effective_calendar=e.getTaskCalendar(s).id,s.start_date=e.getClosestWorkTime({dir:"future",date:s.start_date,unit:e.config.duration_unit,task:s}),s.end_date=e.calculateEndDate(s)}function r(s,a,l,d){let u={start:"start_date",end:"end_date"},f={start:"$auto_start_date",end:"$auto_end_date"},g;g=s.type===e.config.types.project&&s.auto_scheduling===!1?f:u,a.$no_start&&(s[g.start]=l?new Date(l):n(s,this.getParent(s))),a.$no_end&&(s[g.end]=d?new Date(d):this.calculateEndDate({start_date:s[g.start],duration:this.config.duration_step,task:s})),(a.$no_start||a.$no_end)&&this._init_task_timing(s)}function o(s){var a=null,l=null,d=s!==void 0?s:e.config.root_id,u=[];return e.eachTask(function(f){let g=e.getTaskType(f.type)==e.config.types.project&&f.auto_scheduling===!1;e.getTaskType(f.type)==e.config.types.project&&!g||e.isUnscheduledTask(f)||(f.rollup&&u.push(f.id),!f.start_date||f.$no_start&&!g||a&&!(a>f.start_date.valueOf())||(a=f.start_date.valueOf()),!f.end_date||f.$no_end&&!g||l&&!(l<f.end_date.valueOf())||(l=f.end_date.valueOf()))},d),{start_date:a?new Date(a):null,end_date:l?new Date(l):null,rollup:u}}e._init_task_timing=function(s){var a=t(s,!0),l=s.$rendered_type!=a.type,d=a.type;l&&(s.$no_start=a.$no_start,s.$no_end=a.$no_end,s.$rendered_type=a.type),l&&d!=this.config.types.milestone&&d==this.config.types.project&&(this._set_default_task_timing(s),s.$calculate_duration=!1),d==this.config.types.milestone&&(s.end_date=s.start_date),s.start_date&&s.end_date&&s.$calculate_duration!==!1&&(s.duration=this.calculateDuration(s)),s.$calculate_duration||(s.$calculate_duration=!0),s.end_date||(s.end_date=s.start_date),s.duration=s.duration||0,this.config.min_duration===0&&s.duration===0&&(s.$no_end=!1);var u=this.getTaskCalendar(s);s.$effective_calendar&&s.$effective_calendar!==u.id&&(i(s),this.config.inherit_calendar&&this.isSummaryTask(s)&&this.eachTask(function(f){i(f)},s.id)),s.$effective_calendar=u.id},e.isSummaryTask=function(s){e.assert(s&&s instanceof Object,"Invalid argument <b>task</b>="+s+" of gantt.isSummaryTask. Task object was expected");var a=t(s);return!(!a.$no_end&&!a.$no_start)},e.resetProjectDates=function(s){var a=t(s);if(a.$no_end||a.$no_start){var l=o(s.id);r.call(this,s,a,l.start_date,l.end_date),s.$rollup=l.rollup}},e.getSubtaskDuration=function(s){var a=0,l=s!==void 0?s:e.config.root_id;return this.eachTask(function(d){this.getTaskType(d.type)==e.config.types.project||this.isUnscheduledTask(d)||(a+=d.duration)},l),a},e.getSubtaskDates=function(s){var a=o(s);return{start_date:a.start_date,end_date:a.end_date}},e._update_parents=function(s,a,l){if(s){var d=this.getTask(s);d.rollup&&(l=!0);var u=this.getParent(d),f=t(d),g=!0;if(l||d.start_date&&d.end_date&&(f.$no_start||f.$no_end)){let k=d.$auto_start_date?"$auto_start_date":"start_date",x=d.$auto_end_date?"$auto_end_date":"end_date";var p=d[k].valueOf(),v=d[x].valueOf();e.resetProjectDates(d),l||p!=d[k].valueOf()||v!=d[x].valueOf()||(g=!1),g&&!a&&this.refreshTask(d.id,!0),f.scheduled_summary&&(g=!0)}g&&u&&this.isTaskExists(u)&&this._update_parents(u,a,l)}},e.roundDate=function(s){var a=e.getScale();Tn(s)&&(s={date:s,unit:a?a.unit:e.config.duration_unit,step:a?a.step:e.config.duration_step});var l,d,u,f=s.date,g=s.step,p=s.unit;if(!a)return f;if(p==a.unit&&g==a.step&&+f>=+a.min_date&&+f<=+a.max_date)u=Math.floor(e.columnIndexByDate(f)),a.trace_x[u]||(u-=1,a.rtl&&(u=0)),d=new Date(a.trace_x[u]),l=e.date.add(d,g,p);else{for(u=Math.floor(e.columnIndexByDate(f)),l=e.date[p+"_start"](new Date(a.min_date)),a.trace_x[u]&&(l=e.date[p+"_start"](a.trace_x[u]));+l<+f;){var v=(l=e.date[p+"_start"](e.date.add(l,g,p))).getTimezoneOffset();l=e._correct_dst_change(l,v,l,p),e.date[p+"_start"]&&(l=e.date[p+"_start"](l))}d=e.date.add(l,-1*g,p)}return s.dir&&s.dir=="future"?l:s.dir&&s.dir=="past"||Math.abs(f-d)<Math.abs(l-f)?d:l},e.correctTaskWorkTime=function(s){e.config.work_time&&e.config.correct_work_time&&(this.isWorkTime(s.start_date,void 0,s)?this.isWorkTime(new Date(+s.end_date-1),void 0,s)||(s.end_date=this.calculateEndDate(s)):(s.start_date=this.getClosestWorkTime({date:s.start_date,dir:"future",task:s}),s.end_date=this.calculateEndDate(s)))},e.attachEvent("onBeforeTaskUpdate",function(s,a){return e._init_task_timing(a),!0}),e.attachEvent("onBeforeTaskAdd",function(s,a){return e._init_task_timing(a),!0}),e.attachEvent("onAfterTaskMove",function(s,a,l){return e._init_task_timing(e.getTask(s)),!0})}function oD(e,n){var t,i=e.config.container_resize_timeout||20;let r=sD(e);if(e.config.container_resize_method=="timeout")l();else try{e.event(n,"resize",function(){if(e.$scrollbarRepaint)e.$scrollbarRepaint=null;else{let d=sD(e);if(r.x==d.x&&r.y==d.y)return;r=d,o()}})}catch{l()}function o(){clearTimeout(t),t=setTimeout(function(){e.$destroyed||e.render()},i)}var s=e.$root.offsetHeight,a=e.$root.offsetWidth;function l(){e.$root.offsetHeight==s&&e.$root.offsetWidth==a||o(),s=e.$root.offsetHeight,a=e.$root.offsetWidth,setTimeout(l,i)}}function sD(e){return{x:e.$root.offsetWidth,y:e.$root.offsetHeight}}function f2(e){e.assert=function(o){return function(s,a){s||o.config.show_errors&&o.callEvent("onError",[a])!==!1&&(o.message?o.message({type:"error",text:a,expire:-1}):console.log(a))}}(e);var n="Invalid value of the first argument of `gantt.init`. Supported values: HTMLElement, String (element id).This error means that either invalid object is passed into `gantt.init` or that the element with the specified ID doesn't exist on the page when `gantt.init` is called.";function t(o){if(!o||typeof o=="string"&&document.getElementById(o)||function(s){try{s.cloneNode(!1)}catch{return!1}return!0}(o))return!0;throw e.assert(!1,n),new Error(n)}e.init=function(o,s,a){e.env.isNode?o=null:t(o),s&&a&&(this.config.start_date=this._min_date=new Date(s),this.config.end_date=this._max_date=new Date(a)),this.date.init(),this.init=function(l){e.env.isNode?l=null:t(l),this.$container&&this.$container.parentNode&&(this.$container.parentNode.removeChild(this.$container),this.$container=null),this.$layout&&this.$layout.clear(),this._reinit(l)},this._reinit(o)},e._quickRefresh=function(o){for(var s=this._getDatastores.call(this),a=0;a<s.length;a++)s[a]._quick_refresh=!0;for(o(),a=0;a<s.length;a++)s[a]._quick_refresh=!1};var i=(function(){this._clearTaskLayers&&this._clearTaskLayers(),this._clearLinkLayers&&this._clearLinkLayers(),this.$layout&&(this.$layout.destructor(),this.$layout=null,this.$ui.reset())}).bind(e),r=(function(){Ht(e)||(this.$root.innerHTML="",this.$root.gantt=this,ib(this),this.config.layout.id="main",this.$layout=this.$ui.createView("layout",this.$root,this.config.layout),this.$layout.attachEvent("onBeforeResize",function(){for(var o=e.$services.getService("datastores"),s=0;s<o.length;s++)e.getDatastore(o[s]).filter(),e.$data.tasksStore._skipTaskRecalculation?e.$data.tasksStore._skipTaskRecalculation!="lightbox"&&(e.$data.tasksStore._skipTaskRecalculation=!1):e.getDatastore(o[s]).callEvent("onBeforeRefreshAll",[])}),this.$layout.attachEvent("onResize",function(){e._quickRefresh(function(){e.refreshData()})}),this.callEvent("onGanttLayoutReady",[]),this.$layout.render(),this.$container=this.$layout.$container.firstChild,function(o){window.getComputedStyle(o.$root).getPropertyValue("position")=="static"&&(o.$root.style.position="relative");var s=document.createElement("iframe");s.className="gantt_container_resize_watcher",s.tabIndex=-1,o.config.wai_aria_attributes&&(s.setAttribute("role","none"),s.setAttribute("aria-hidden",!0)),o.env.isSalesforce&&(o.config.container_resize_method="timeout"),o.$root.appendChild(s),s.contentWindow?oD(o,s.contentWindow):(o.$root.removeChild(s),oD(o,window))}(this))}).bind(e);e.resetLayout=function(){i(),r(),this.render()},e._reinit=function(o){this.callEvent("onBeforeGanttReady",[]),this._update_flags(),this.$services.getService("templateLoader").initTemplates(this),i(),this.$root=null,o&&(this.$root=yb(o),r(),this.$mouseEvents.reset(this.$root),function(s){s.$container&&!s.config.autosize&&s.$root.offsetHeight<50&&console.warn(`The Gantt container has a small height, so you cannot see its content. If it is not intended, you need to set the 'height' style rule to the container:
https://docs.dhtmlx.com/gantt/faq.html#theganttchartisntrenderedcorrectly`)}(e)),this.callEvent("onTemplatesReady",[]),this.callEvent("onGanttReady",[]),this.render()},e.$click={buttons:{edit:function(o){e.isReadonly(e.getTask(o))||e.showLightbox(o)},delete:function(o){var s=e.getTask(o);if(!e.isReadonly(s)){var a=e.locale.labels.confirm_deleting,l=e.locale.labels.confirm_deleting_title;e._delete_task_confirm({task:s,message:a,title:l,callback:function(){e.isTaskExists(o)&&(s.$new?(e.$data.tasksStore._skipTaskRecalculation="lightbox",e.silent(function(){e.deleteTask(o,!0)}),e.$data.tasksStore._skipTaskRecalculation=!1,e.refreshData()):(e.$data.tasksStore._skipTaskRecalculation=!0,e.deleteTask(o))),e.hideLightbox()}})}}}},e.render=function(){var o;if(this.callEvent("onBeforeGanttRender",[]),!Ht(e)){!this.config.sort&&this._sort&&(this._sort=void 0),this.$root&&(this.config.rtl?(this.$root.classList.add("gantt_rtl"),this.$root.firstChild.classList.add("gantt_rtl")):(this.$root.classList.remove("gantt_rtl"),this.$root.firstChild.classList.remove("gantt_rtl")));var s=this.getScrollState(),a=s?s.x:0;this._getHorizontalScrollbar()&&(a=this._getHorizontalScrollbar().$config.codeScrollLeft||a||0),o=null,a&&(o=e.dateFromPos(a+this.config.task_scroll_offset))}if(ib(this),Ht(e))e.refreshData();else{this.$layout.$config.autosize=this.config.autosize;var l=this.config.preserve_scroll;if(this.config.preserve_scroll=!1,this.$layout.resize(),this.config.preserve_scroll=l,this.config.preserve_scroll&&s){if(a||s.y){var d=e.getScrollState();if(+o!=+e.dateFromPos(d.x)||d.y!=s.y){a=null;var u=null;o&&(a=Math.max(e.posFromDate(o)-e.config.task_scroll_offset,0)),s.y&&(u=s.y),e.scrollTo(a,u)}}this.$layout.getScrollbarsInfo().forEach(f=>{let g=e.$ui.getView(f.id),p=e.utils.dom.isChildOf(g.$view,e.$container);f.boundViews.forEach(v=>{let k=e.$ui.getView(v);f.y&&f.y!=s.y&&k&&!p&&k.scrollTo(void 0,0),f.x_pos&&f.x_pos!=s.x&&k&&p&&k.scrollTo(f.x_pos,void 0)})})}}this.callEvent("onGanttRender",[])},e.setSizes=e.render,e.getTaskRowNode=function(o){for(var s=this.$grid_data.childNodes,a=this.config.task_attribute,l=0;l<s.length;l++)if(s[l].getAttribute&&s[l].getAttribute(a)==o)return s[l];return null},e.changeLightboxType=function(o){if(this.getLightboxType()==o)return!0;e._silent_redraw_lightbox(o)},e._get_link_type=function(o,s){var a=null;return o&&s?a=e.config.links.start_to_start:!o&&s?a=e.config.links.finish_to_start:o||s?o&&!s&&(a=e.config.links.start_to_finish):a=e.config.links.finish_to_finish,a},e.isLinkAllowed=function(o,s,a,l){var d=null;if(!(d=typeof o=="object"?o:{source:o,target:s,type:this._get_link_type(a,l)})||!(d.source&&d.target&&d.type)||d.source==d.target)return!1;var u=!0;return this.checkEvent("onLinkValidation")&&(u=this.callEvent("onLinkValidation",[d])),u},e._correct_dst_change=function(o,s,a,l){var d=fg(l)*a;if(d>3600&&d<86400){var u=o.getTimezoneOffset()-s;u&&(o=e.date.add(o,u,"minute"))}return o},e.isSplitTask=function(o){return e.assert(o&&o instanceof Object,"Invalid argument <b>task</b>="+o+" of gantt.isSplitTask. Task object was expected"),this.$data.tasksStore._isSplitItem(o)},e._is_icon_open_click=function(o){if(!o)return!1;var s=o.target||o.srcElement;if(!s||!s.className)return!1;var a=Cn(s);return a.indexOf("gantt_tree_icon")!==-1&&(a.indexOf("gantt_close")!==-1||a.indexOf("gantt_open")!==-1)}}var g2={date:{month_full:["\u0643\u0627\u0646\u0648\u0646 \u0627\u0644\u062B\u0627\u0646\u064A","\u0634\u0628\u0627\u0637","\u0622\u0630\u0627\u0631","\u0646\u064A\u0633\u0627\u0646","\u0623\u064A\u0627\u0631","\u062D\u0632\u064A\u0631\u0627\u0646","\u062A\u0645\u0648\u0632","\u0622\u0628","\u0623\u064A\u0644\u0648\u0644","\u062A\u0634\u0631\u064A\u0646 \u0627\u0644\u0623\u0648\u0644","\u062A\u0634\u0631\u064A\u0646 \u0627\u0644\u062B\u0627\u0646\u064A","\u0643\u0627\u0646\u0648\u0646 \u0627\u0644\u0623\u0648\u0644"],month_short:["\u064A\u0646\u0627\u064A\u0631","\u0641\u0628\u0631\u0627\u064A\u0631","\u0645\u0627\u0631\u0633","\u0623\u0628\u0631\u064A\u0644","\u0645\u0627\u064A\u0648","\u064A\u0648\u0646\u064A\u0648","\u064A\u0648\u0644\u064A\u0648","\u0623\u063A\u0633\u0637\u0633","\u0633\u0628\u062A\u0645\u0628\u0631","\u0623\u0643\u062A\u0648\u0628\u0631","\u0646\u0648\u0641\u0645\u0628\u0631","\u062F\u064A\u0633\u0645\u0628\u0631"],day_full:["\u0627\u0644\u0623\u062D\u062F","\u0627\u0644\u0623\u062B\u0646\u064A\u0646","\u0623\u0644\u062B\u0644\u0627\u062B\u0627\u0621","\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621","\u0623\u0644\u062D\u0645\u064A\u0633","\u0623\u0644\u062C\u0645\u0639\u0629","\u0627\u0644\u0633\u0628\u062A"],day_short:["\u0627\u062D\u062F","\u0627\u062B\u0646\u064A\u0646","\u062B\u0644\u0627\u062B\u0627\u0621","\u0627\u0631\u0628\u0639\u0627\u0621","\u062E\u0645\u064A\u0633","\u062C\u0645\u0639\u0629","\u0633\u0628\u062A"]},labels:{new_task:"\u0645\u0647\u0645\u0629 \u062C\u062F\u064A\u062F",icon_save:"\u0627\u062E\u0632\u0646",icon_cancel:"\u0627\u0644\u063A\u0627\u0621",icon_details:"\u062A\u0641\u0627\u0635\u064A\u0644",icon_edit:"\u062A\u062D\u0631\u064A\u0631",icon_delete:"\u062D\u0630\u0641",confirm_closing:"\u0627\u0644\u062A\u063A\u064A\u064A\u0631\u0627\u062A \u0633\u0648\u0641 \u062A\u0636\u064A\u0639, \u0647\u0644 \u0627\u0646\u062A \u0645\u062A\u0623\u0643\u062F\u061F",confirm_deleting:"\u0627\u0644\u062D\u062F\u062B \u0633\u064A\u062A\u0645 \u062D\u0630\u0641\u0647\u0627 \u0646\u0647\u0627\u0626\u064A\u0627 \u060C \u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F\u061F",section_description:"\u0627\u0644\u0648\u0635\u0641",section_time:"\u0627\u0644\u0641\u062A\u0631\u0629 \u0627\u0644\u0632\u0645\u0646\u064A\u0629",section_type:"Type",section_deadline:"Deadline",section_baselines:"Baselines",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"\u0627\u0644\u063A\u0627\u0621",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task",baselines_section_placeholder:"Start adding a new baseline",baselines_add_button:"Add Baseline",baselines_remove_button:"Remove",baselines_remove_all_button:"Remove All",deadline_enable_button:"Set",deadline_disable_button:"Remove"}},p2={date:{month_full:["\u0421\u0442\u0443\u0434\u0437\u0435\u043D\u044C","\u041B\u044E\u0442\u044B","\u0421\u0430\u043A\u0430\u0432\u0456\u043A","\u041A\u0440\u0430\u0441\u0430\u0432\u0456\u043A","Ma\u0439","\u0427\u044D\u0440\u0432\u0435\u043D\u044C","\u041B\u0456\u043F\u0435\u043D\u044C","\u0416\u043D\u0456\u0432\u0435\u043D\u044C","\u0412\u0435\u0440\u0430\u0441\u0435\u043D\u044C","\u041A\u0430\u0441\u0442\u0440\u044B\u0447\u043D\u0456\u043A","\u041B\u0456\u0441\u0442\u0430\u043F\u0430\u0434","\u0421\u043D\u0435\u0436\u0430\u043D\u044C"],month_short:["\u0421\u0442\u0443\u0434\u0437","\u041B\u044E\u0442","\u0421\u0430\u043A","\u041A\u0440\u0430\u0441","Ma\u0439","\u0427\u044D\u0440","\u041B\u0456\u043F","\u0416\u043D\u0456\u0432","\u0412\u0435\u0440","\u041A\u0430\u0441\u0442","\u041B\u0456\u0441\u0442","\u0421\u043D\u0435\u0436"],day_full:["\u041D\u044F\u0434\u0437\u0435\u043B\u044F","\u041F\u0430\u043D\u044F\u0434\u0437\u0435\u043B\u0430\u043A","\u0410\u045E\u0442\u043E\u0440\u0430\u043A","\u0421\u0435\u0440\u0430\u0434\u0430","\u0427\u0430\u0446\u0432\u0435\u0440","\u041F\u044F\u0442\u043D\u0456\u0446\u0430","\u0421\u0443\u0431\u043E\u0442\u0430"],day_short:["\u041D\u0434","\u041F\u043D","\u0410\u045E\u0442","\u0421\u0440","\u0427\u0446\u0432","\u041F\u0442","\u0421\u0431"]},labels:{new_task:"\u041D\u043E\u0432\u0430\u0435 \u0437\u0430\u0434\u0430\u043D\u043D\u0435",icon_save:"\u0417\u0430\u0445\u0430\u0432\u0430\u0446\u044C",icon_cancel:"\u0410\u0434\u043C\u044F\u043D\u0456\u0446\u044C",icon_details:"\u0414\u044D\u0442\u0430\u043B\u0456",icon_edit:"\u0417\u043C\u044F\u043D\u0456\u0446\u044C",icon_delete:"\u0412\u044B\u0434\u0430\u043B\u0456\u0446\u044C",confirm_closing:"",confirm_deleting:"\u041F\u0430\u0434\u0437\u0435\u044F \u0431\u0443\u0434\u0437\u0435 \u0432\u044B\u0434\u0430\u043B\u0435\u043D\u0430 \u043D\u0435\u0437\u0432\u0430\u0440\u043E\u0442\u043D\u0430, \u043F\u0440\u0430\u0446\u044F\u0433\u043D\u0443\u0446\u044C?",section_description:"\u0410\u043F\u0456\u0441\u0430\u043D\u043D\u0435",section_time:"\u041F\u0435\u0440\u044B\u044F\u0434 \u0447\u0430\u0441\u0443",section_type:"\u0422\u044B\u043F",section_deadline:"Deadline",section_baselines:"Baselines",column_wbs:"\u0406\u0421\u0420",column_text:"\u0417\u0430\u0434\u0430\u0447\u0430",column_start_date:"\u041F\u0430\u0447\u0430\u0442\u0430\u043A",column_duration:"\u041F\u0440\u0430\u0446\u044F\u0433",column_add:"",link:"\u0421\u0443\u0432\u044F\u0437\u044C",confirm_link_deleting:"\u0431\u0443\u0434\u0437\u0435 \u0432\u044B\u0434\u0430\u043B\u0435\u043D\u0430",link_start:"(\u043F\u0430\u0447\u0430\u0442\u0430\u043A)",link_end:"(\u043A\u0430\u043D\u0435\u0446)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"\u0425\u0432i\u043Bi\u043D\u0430",hours:"\u0413\u0430\u0434\u0437i\u043D\u0430",days:"\u0414\u0437\u0435\u043D\u044C",weeks:"\u0422\u044B\u0434\u0437\u0435\u043D\u044C",months:"\u041C\u0435\u0441\u044F\u0446",years:"\u0413\u043E\u0434",message_ok:"OK",message_cancel:"\u0410\u0434\u043C\u044F\u043D\u0456\u0446\u044C",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task",baselines_section_placeholder:"Start adding a new baseline",baselines_add_button:"Add Baseline",baselines_remove_button:"Remove",baselines_remove_all_button:"Remove All",deadline_enable_button:"Set",deadline_disable_button:"Remove"}},m2={date:{month_full:["Gener","Febrer","Mar\xE7","Abril","Maig","Juny","Juliol","Agost","Setembre","Octubre","Novembre","Desembre"],month_short:["Gen","Feb","Mar","Abr","Mai","Jun","Jul","Ago","Set","Oct","Nov","Des"],day_full:["Diumenge","Dilluns","Dimarts","Dimecres","Dijous","Divendres","Dissabte"],day_short:["Dg","Dl","Dm","Dc","Dj","Dv","Ds"]},labels:{new_task:"Nova tasca",icon_save:"Guardar",icon_cancel:"Cancel\xB7lar",icon_details:"Detalls",icon_edit:"Editar",icon_delete:"Esborrar",confirm_closing:"",confirm_deleting:"L'esdeveniment s'esborrar\xE0 definitivament, continuar ?",section_description:"Descripci\xF3",section_time:"Periode de temps",section_type:"Type",section_deadline:"Deadline",section_baselines:"Baselines",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Cancel\xB7lar",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task",baselines_section_placeholder:"Start adding a new baseline",baselines_add_button:"Add Baseline",baselines_remove_button:"Remove",baselines_remove_all_button:"Remove All",deadline_enable_button:"Set",deadline_disable_button:"Remove"}},_2={date:{month_full:["\u4E00\u6708","\u4E8C\u6708","\u4E09\u6708","\u56DB\u6708","\u4E94\u6708","\u516D\u6708","\u4E03\u6708","\u516B\u6708","\u4E5D\u6708","\u5341\u6708","\u5341\u4E00\u6708","\u5341\u4E8C\u6708"],month_short:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],day_full:["\u661F\u671F\u65E5","\u661F\u671F\u4E00","\u661F\u671F\u4E8C","\u661F\u671F\u4E09","\u661F\u671F\u56DB","\u661F\u671F\u4E94","\u661F\u671F\u516D"],day_short:["\u65E5","\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D"]},labels:{new_task:"\u65B0\u4EFB\u52D9",icon_save:"\u4FDD\u5B58",icon_cancel:"\u5173\u95ED",icon_details:"\u8BE6\u7EC6",icon_edit:"\u7F16\u8F91",icon_delete:"\u5220\u9664",confirm_closing:"\u8BF7\u786E\u8BA4\u662F\u5426\u64A4\u9500\u4FEE\u6539!",confirm_deleting:"\u662F\u5426\u5220\u9664\u65E5\u7A0B?",section_description:"\u63CF\u8FF0",section_time:"\u65F6\u95F4\u8303\u56F4",section_type:"\u7C7B\u578B",section_deadline:"Deadline",section_baselines:"Baselines",column_wbs:"\u5DE5\u4F5C\u5206\u89E3\u7ED3\u6784",column_text:"\u4EFB\u52A1\u540D",column_start_date:"\u5F00\u59CB\u65F6\u95F4",column_duration:"\u6301\u7EED\u65F6\u95F4",column_add:"",link:"\u5173\u8054",confirm_link_deleting:"\u5C06\u88AB\u5220\u9664",link_start:" (\u5F00\u59CB)",link_end:" (\u7ED3\u675F)",type_task:"\u4EFB\u52A1",type_project:"\u9879\u76EE",type_milestone:"\u91CC\u7A0B\u7891",minutes:"\u5206\u949F",hours:"\u5C0F\u65F6",days:"\u5929",weeks:"\u5468",months:"\u6708",years:"\u5E74",message_ok:"OK",message_cancel:"\u5173\u95ED",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task",baselines_section_placeholder:"Start adding a new baseline",baselines_add_button:"Add Baseline",baselines_remove_button:"Remove",baselines_remove_all_button:"Remove All",deadline_enable_button:"Set",deadline_disable_button:"Remove"}},v2={date:{month_full:["Leden","\xDAnor","B\u0159ezen","Duben","Kv\u011Bten","\u010Cerven","\u010Cervenec","Srpen","Z\xE1\u0159\xED","\u0158\xEDjen","Listopad","Prosinec"],month_short:["Led","\xDAn","B\u0159e","Dub","Kv\u011B","\u010Cer","\u010Cec","Srp","Z\xE1\u0159\xED","\u0158\xEDj","List","Pro"],day_full:["Ned\u011Ble","Pond\u011Bl\xED","\xDAter\xFD","St\u0159eda","\u010Ctvrtek","P\xE1tek","Sobota"],day_short:["Ne","Po","\xDAt","St","\u010Ct","P\xE1","So"]},labels:{new_task:"Nov\xE1 pr\xE1ce",icon_save:"Ulo\u017Eit",icon_cancel:"Zp\u011Bt",icon_details:"Detail",icon_edit:"Edituj",icon_delete:"Smazat",confirm_closing:"",confirm_deleting:"Ud\xE1lost bude trvale smaz\xE1na, opravdu?",section_description:"Pozn\xE1mky",section_time:"Doba platnosti",section_type:"Type",section_deadline:"Deadline",section_baselines:"Baselines",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Zp\u011Bt",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task",baselines_section_placeholder:"Start adding a new baseline",baselines_add_button:"Add Baseline",baselines_remove_button:"Remove",baselines_remove_all_button:"Remove All",deadline_enable_button:"Set",deadline_disable_button:"Remove"}},y2={date:{month_full:["Januar","Februar","Marts","April","Maj","Juni","Juli","August","September","Oktober","November","December"],month_short:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],day_full:["S\xF8ndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","L\xF8rdag"],day_short:["S\xF8n","Man","Tir","Ons","Tor","Fre","L\xF8r"]},labels:{new_task:"Ny opgave",icon_save:"Gem",icon_cancel:"Fortryd",icon_details:"Detaljer",icon_edit:"Tilret",icon_delete:"Slet",confirm_closing:"Dine rettelser vil g\xE5 tabt.. Er dy sikker?",confirm_deleting:"Bigivenheden vil blive slettet permanent. Er du sikker?",section_description:"Beskrivelse",section_time:"Tidsperiode",section_type:"Type",section_deadline:"Deadline",section_baselines:"Baselines",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Fortryd",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task",baselines_section_placeholder:"Start adding a new baseline",baselines_add_button:"Add Baseline",baselines_remove_button:"Remove",baselines_remove_all_button:"Remove All",deadline_enable_button:"Set",deadline_disable_button:"Remove"}},b2={date:{month_full:[" Januar"," Februar"," M\xE4rz "," April"," Mai"," Juni"," Juli"," August"," September "," Oktober"," November "," Dezember"],month_short:["Jan","Feb","M\xE4r","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],day_full:["Sonntag","Montag","Dienstag"," Mittwoch"," Donnerstag","Freitag","Samstag"],day_short:["So","Mo","Di","Mi","Do","Fr","Sa"]},labels:{new_task:"Neue Aufgabe",icon_save:"Speichern",icon_cancel:"Abbrechen",icon_details:"Details",icon_edit:"\xC4ndern",icon_delete:"L\xF6schen",confirm_closing:"",confirm_deleting:"Der Eintrag wird gel\xF6scht",section_description:"Beschreibung",section_time:"Zeitspanne",section_type:"Type",section_deadline:"Deadline",section_baselines:"Baselines",column_wbs:"PSP",column_text:"Task-Namen",column_start_date:"Startzeit",column_duration:"Dauer",column_add:"",link:"Link",confirm_link_deleting:"werden gel\xF6scht",link_start:"(starten)",link_end:"(ende)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minuten",hours:"Stunden",days:"Tage",weeks:"Wochen",months:"Monate",years:"Jahre",message_ok:"OK",message_cancel:"Abbrechen",section_constraint:"Regel",constraint_type:"Regel",constraint_date:"Regel - Datum",asap:"So bald wie m\xF6glich",alap:"So sp\xE4t wie m\xF6glich",snet:"Beginn nicht vor",snlt:"Beginn nicht sp\xE4ter als",fnet:"Fertigstellung nicht vor",fnlt:"Fertigstellung nicht sp\xE4ter als",mso:"Muss beginnen am",mfo:"Muss fertig sein am",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task",baselines_section_placeholder:"Start adding a new baseline",baselines_add_button:"Add Baseline",baselines_remove_button:"Remove",baselines_remove_all_button:"Remove All",deadline_enable_button:"Set",deadline_disable_button:"Remove"}},x2={date:{month_full:["\u0399\u03B1\u03BD\u03BF\u03C5\u03AC\u03C1\u03B9\u03BF\u03C2","\u03A6\u03B5\u03B2\u03C1\u03BF\u03C5\u03AC\u03C1\u03B9\u03BF\u03C2","\u039C\u03AC\u03C1\u03C4\u03B9\u03BF\u03C2","\u0391\u03C0\u03C1\u03AF\u03BB\u03B9\u03BF\u03C2","\u039C\u03AC\u03CA\u03BF\u03C2","\u0399\u03BF\u03CD\u03BD\u03B9\u03BF\u03C2","\u0399\u03BF\u03CD\u03BB\u03B9\u03BF\u03C2","\u0391\u03CD\u03B3\u03BF\u03C5\u03C3\u03C4\u03BF\u03C2","\u03A3\u03B5\u03C0\u03C4\u03AD\u03BC\u03B2\u03C1\u03B9\u03BF\u03C2","\u039F\u03BA\u03C4\u03CE\u03B2\u03C1\u03B9\u03BF\u03C2","\u039D\u03BF\u03AD\u03BC\u03B2\u03C1\u03B9\u03BF\u03C2","\u0394\u03B5\u03BA\u03AD\u03BC\u03B2\u03C1\u03B9\u03BF\u03C2"],month_short:["\u0399\u0391\u039D","\u03A6\u0395\u0392","\u039C\u0391\u03A1","\u0391\u03A0\u03A1","\u039C\u0391\u0399","\u0399\u039F\u03A5\u039D","\u0399\u039F\u03A5\u039B","\u0391\u03A5\u0393","\u03A3\u0395\u03A0","\u039F\u039A\u03A4","\u039D\u039F\u0395","\u0394\u0395\u039A"],day_full:["\u039A\u03C5\u03C1\u03B9\u03B1\u03BA\u03AE","\u0394\u03B5\u03C5\u03C4\u03AD\u03C1\u03B1","\u03A4\u03C1\u03AF\u03C4\u03B7","\u03A4\u03B5\u03C4\u03AC\u03C1\u03C4\u03B7","\u03A0\u03AD\u03BC\u03C0\u03C4\u03B7","\u03A0\u03B1\u03C1\u03B1\u03C3\u03BA\u03B5\u03C5\u03AE","\u039A\u03C5\u03C1\u03B9\u03B1\u03BA\u03AE"],day_short:["\u039A\u03A5","\u0394\u0395","\u03A4\u03A1","\u03A4\u0395","\u03A0\u0395","\u03A0\u0391","\u03A3\u0391"]},labels:{new_task:"\u039D\u03AD\u03B1 \u03B5\u03C1\u03B3\u03B1\u03C3\u03AF\u03B1",icon_save:"\u0391\u03C0\u03BF\u03B8\u03AE\u03BA\u03B5\u03C5\u03C3\u03B7",icon_cancel:"\u0386\u03BA\u03C5\u03C1\u03BF",icon_details:"\u039B\u03B5\u03C0\u03C4\u03BF\u03BC\u03AD\u03C1\u03B5\u03B9\u03B5\u03C2",icon_edit:"\u0395\u03C0\u03B5\u03BE\u03B5\u03C1\u03B3\u03B1\u03C3\u03AF\u03B1",icon_delete:"\u0394\u03B9\u03B1\u03B3\u03C1\u03B1\u03C6\u03AE",confirm_closing:"",confirm_deleting:"\u03A4\u03BF \u03AD\u03C1\u03B3\u03BF \u03B8\u03B1 \u03B4\u03B9\u03B1\u03B3\u03C1\u03B1\u03C6\u03B5\u03AF \u03BF\u03C1\u03B9\u03C3\u03C4\u03B9\u03BA\u03AC. \u0398\u03AD\u03BB\u03B5\u03C4\u03B5 \u03BD\u03B1 \u03C3\u03C5\u03BD\u03B5\u03C7\u03AF\u03C3\u03B5\u03C4\u03B5;",section_description:"\u03A0\u03B5\u03C1\u03B9\u03B3\u03C1\u03B1\u03C6\u03AE",section_time:"\u03A7\u03C1\u03BF\u03BD\u03B9\u03BA\u03AE \u03C0\u03B5\u03C1\u03AF\u03BF\u03B4\u03BF\u03C2",section_type:"Type",section_deadline:"Deadline",section_baselines:"Baselines",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"\u0386\u03BA\u03C5\u03C1\u03BF",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task",baselines_section_placeholder:"Start adding a new baseline",baselines_add_button:"Add Baseline",baselines_remove_button:"Remove",baselines_remove_all_button:"Remove All",deadline_enable_button:"Set",deadline_disable_button:"Remove"}},w2={date:{month_full:["January","February","March","April","May","June","July","August","September","October","November","December"],month_short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],day_full:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],day_short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},labels:{new_task:"New task",icon_save:"Save",icon_cancel:"Cancel",icon_details:"Details",icon_edit:"Edit",icon_delete:"Delete",confirm_closing:"",confirm_deleting:"Task will be deleted permanently, are you sure?",section_description:"Description",section_time:"Time period",section_type:"Type",section_deadline:"Deadline",section_baselines:"Baselines",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Cancel",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task",baselines_section_placeholder:"Start adding a new baseline",baselines_add_button:"Add Baseline",baselines_remove_button:"Remove",baselines_remove_all_button:"Remove All",deadline_enable_button:"Set",deadline_disable_button:"Remove"}},k2={date:{month_full:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],month_short:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],day_full:["Domingo","Lunes","Martes","Mi\xE9rcoles","Jueves","Viernes","S\xE1bado"],day_short:["Dom","Lun","Mar","Mi\xE9","Jue","Vie","S\xE1b"]},labels:{new_task:"Nueva tarea",icon_save:"Guardar",icon_cancel:"Cancelar",icon_details:"Detalles",icon_edit:"Editar",icon_delete:"Eliminar",confirm_closing:"",confirm_deleting:"El evento se borrar\xE1 definitivamente, \xBFcontinuar?",section_description:"Descripci\xF3n",section_time:"Per\xEDodo",section_type:"Tipo",section_deadline:"Deadline",section_baselines:"Baselines",column_wbs:"EDT",column_text:"Tarea",column_start_date:"Inicio",column_duration:"Duraci\xF3n",column_add:"",link:"Enlace",confirm_link_deleting:"ser\xE1 borrada",link_start:" (inicio)",link_end:" (fin)",type_task:"Tarea",type_project:"Proyecto",type_milestone:"Hito",minutes:"Minutos",hours:"Horas",days:"D\xEDas",weeks:"Semanas",months:"Meses",years:"A\xF1os",message_ok:"OK",message_cancel:"Cancelar",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task",baselines_section_placeholder:"Start adding a new baseline",baselines_add_button:"Add Baseline",baselines_remove_button:"Remove",baselines_remove_all_button:"Remove All",deadline_enable_button:"Set",deadline_disable_button:"Remove"}},E2={date:{month_full:["\u0698\u0627\u0646\u0648\u06CC\u0647","\u0641\u0648\u0631\u06CC\u0647","\u0645\u0627\u0631\u0633","\u0622\u0648\u0631\u06CC\u0644","\u0645\u0647","\u0698\u0648\u0626\u0646","\u0698\u0648\u0626\u06CC\u0647","\u0627\u0648\u062A","\u0633\u067E\u062A\u0627\u0645\u0628\u0631","\u0627\u06A9\u062A\u0628\u0631","\u0646\u0648\u0627\u0645\u0628\u0631","\u062F\u0633\u0627\u0645\u0628\u0631"],month_short:["1","2","3","4","5","6","7","8","9","10","11","12"],day_full:["\u064A\u06A9\u0634\u0646\u0628\u0647","\u062F\u0648\u0634\u0646\u0628\u0647","\u0633\u0647\u200C\u0634\u0646\u0628\u0647","\u0686\u0647\u0627\u0631\u0634\u0646\u0628\u0647","\u067E\u0646\u062C\u0634\u0646\u0628\u0647","\u062C\u0645\u0639\u0647","\u0634\u0646\u0628\u0647"],day_short:["\u06CC","\u062F","\u0633","\u0686","\u067E","\u062C","\u0634"]},labels:{new_task:"\u0648\u0638\u06CC\u0641\u0647 \u062C\u062F\u06CC\u062F",icon_save:"\u0630\u062E\u06CC\u0631\u0647",icon_cancel:"\u0644\u063A\u0648",icon_details:"\u062C\u0632\u06CC\u06CC\u0627\u062A",icon_edit:"\u0648\u06CC\u0631\u0627\u06CC\u0634",icon_delete:"\u062D\u0630\u0641",confirm_closing:"\u062A\u063A\u06CC\u06CC\u0631\u0627\u062A \u0634\u0645\u0627 \u0627\u0632\u062F\u0633\u062A \u062E\u0648\u0627\u0647\u062F \u0631\u0641\u062A\u060C \u0622\u06CC\u0627 \u0645\u0637\u0645\u0626\u0646 \u0647\u0633\u062A\u06CC\u062F\u061F",confirm_deleting:"\u0627\u06CC\u0646 \u0645\u0648\u0631\u062F \u0628\u0631\u0627\u06CC \u0647\u0645\u06CC\u0634\u0647 \u062D\u0630\u0641 \u062E\u0648\u0627\u0647\u062F \u0634\u062F\u060C \u0622\u06CC\u0627 \u0645\u0637\u0645\u0626\u0646 \u0647\u0633\u062A\u06CC\u062F\u061F",section_description:"\u062A\u0648\u0636\u06CC\u062D\u0627\u062A",section_time:"\u0645\u062F\u062A \u0632\u0645\u0627\u0646",section_type:"\u0646\u0648\u0639",section_deadline:"Deadline",section_baselines:"Baselines",column_wbs:"WBS",column_text:"\u0639\u0646\u0648\u0627\u0646",column_start_date:"\u0632\u0645\u0627\u0646 \u0634\u0631\u0648\u0639",column_duration:"\u0645\u062F\u062A",column_add:"",link:"\u0627\u0631\u062A\u0628\u0627\u0637",confirm_link_deleting:"\u062D\u0630\u0641 \u062E\u0648\u0627\u0647\u062F \u0634\u062F",link_start:" (\u0622\u063A\u0627\u0632)",link_end:" (\u067E\u0627\u06CC\u0627\u0646)",type_task:"\u0648\u0638\u06CC\u0641\u0647",type_project:"\u067E\u0631\u0648\u0698\u0647",type_milestone:"\u0646\u06AF\u0627\u0631\u0634",minutes:"\u062F\u0642\u0627\u06CC\u0642",hours:"\u0633\u0627\u0639\u0627\u062A",days:"\u0631\u0648\u0632\u0647\u0627",weeks:"\u0647\u0641\u062A\u0647",months:"\u0645\u0627\u0647\u200C\u0647\u0627",years:"\u0633\u0627\u0644\u200C\u0647\u0627",message_ok:"\u062A\u0627\u06CC\u06CC\u062F",message_cancel:"\u0644\u063A\u0648",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task",baselines_section_placeholder:"Start adding a new baseline",baselines_add_button:"Add Baseline",baselines_remove_button:"Remove",baselines_remove_all_button:"Remove All",deadline_enable_button:"Set",deadline_disable_button:"Remove"}},C2={date:{month_full:["Tammikuu","Helmikuu","Maaliskuu","Huhtikuu","Toukokuu","Kes&auml;kuu","Hein&auml;kuu","Elokuu","Syyskuu","Lokakuu","Marraskuu","Joulukuu"],month_short:["Tam","Hel","Maa","Huh","Tou","Kes","Hei","Elo","Syy","Lok","Mar","Jou"],day_full:["Sunnuntai","Maanantai","Tiistai","Keskiviikko","Torstai","Perjantai","Lauantai"],day_short:["Su","Ma","Ti","Ke","To","Pe","La"]},labels:{new_task:"Uusi teht\xE4v\xE4",icon_save:"Tallenna",icon_cancel:"Peru",icon_details:"Tiedot",icon_edit:"Muokkaa",icon_delete:"Poista",confirm_closing:"",confirm_deleting:"Haluatko varmasti poistaa tapahtuman?",section_description:"Kuvaus",section_time:"Aikajakso",section_type:"Type",section_deadline:"Deadline",section_baselines:"Baselines",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Peru",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task",baselines_section_placeholder:"Start adding a new baseline",baselines_add_button:"Add Baseline",baselines_remove_button:"Remove",baselines_remove_all_button:"Remove All",deadline_enable_button:"Set",deadline_disable_button:"Remove"}},S2={date:{month_full:["Janvier","F\xE9vrier","Mars","Avril","Mai","Juin","Juillet","Ao\xFBt","Septembre","Octobre","Novembre","D\xE9cembre"],month_short:["Jan","F\xE9v","Mar","Avr","Mai","Juin","Juil","Ao\xFB","Sep","Oct","Nov","D\xE9c"],day_full:["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"],day_short:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"]},labels:{new_task:"Nouvelle t\xE2che",icon_save:"Enregistrer",icon_cancel:"Annuler",icon_details:"D\xE9tails",icon_edit:"Modifier",icon_delete:"Effacer",confirm_closing:"",confirm_deleting:"L'\xE9v\xE9nement sera effac\xE9 sans appel, \xEAtes-vous s\xFBr ?",section_description:"Description",section_time:"P\xE9riode",section_type:"Type",section_deadline:"Deadline",section_baselines:"Baselines",column_wbs:"OTP",column_text:"Nom de la t\xE2che",column_start_date:"Date initiale",column_duration:"Dur\xE9e",column_add:"",link:"Le lien",confirm_link_deleting:"sera supprim\xE9",link_start:"(d\xE9but)",link_end:"(fin)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Heures",days:"Jours",weeks:"Semaines",months:"Mois",years:"Ann\xE9es",message_ok:"OK",message_cancel:"Annuler",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task",baselines_section_placeholder:"Start adding a new baseline",baselines_add_button:"Add Baseline",baselines_remove_button:"Remove",baselines_remove_all_button:"Remove All",deadline_enable_button:"Set",deadline_disable_button:"Remove"}},T2={date:{month_full:["\u05D9\u05E0\u05D5\u05D0\u05E8","\u05E4\u05D1\u05E8\u05D5\u05D0\u05E8","\u05DE\u05E8\u05E5","\u05D0\u05E4\u05E8\u05D9\u05DC","\u05DE\u05D0\u05D9","\u05D9\u05D5\u05E0\u05D9","\u05D9\u05D5\u05DC\u05D9","\u05D0\u05D5\u05D2\u05D5\u05E1\u05D8","\u05E1\u05E4\u05D8\u05DE\u05D1\u05E8","\u05D0\u05D5\u05E7\u05D8\u05D5\u05D1\u05E8","\u05E0\u05D5\u05D1\u05DE\u05D1\u05E8","\u05D3\u05E6\u05DE\u05D1\u05E8"],month_short:["\u05D9\u05E0\u05D5","\u05E4\u05D1\u05E8","\u05DE\u05E8\u05E5","\u05D0\u05E4\u05E8","\u05DE\u05D0\u05D9","\u05D9\u05D5\u05E0","\u05D9\u05D5\u05DC","\u05D0\u05D5\u05D2","\u05E1\u05E4\u05D8","\u05D0\u05D5\u05E7","\u05E0\u05D5\u05D1","\u05D3\u05E6\u05DE"],day_full:["\u05E8\u05D0\u05E9\u05D5\u05DF","\u05E9\u05E0\u05D9","\u05E9\u05DC\u05D9\u05E9\u05D9","\u05E8\u05D1\u05D9\u05E2\u05D9","\u05D7\u05DE\u05D9\u05E9\u05D9","\u05E9\u05D9\u05E9\u05D9","\u05E9\u05D1\u05EA"],day_short:["\u05D0","\u05D1","\u05D2","\u05D3","\u05D4","\u05D5","\u05E9"]},labels:{new_task:"\u05DE\u05E9\u05D9\u05DE\u05D4 \u05D7\u05D3\u05E9",icon_save:"\u05E9\u05DE\u05D5\u05E8",icon_cancel:"\u05D1\u05D8\u05DC",icon_details:"\u05E4\u05E8\u05D8\u05D9\u05DD",icon_edit:"\u05E2\u05E8\u05D5\u05DA",icon_delete:"\u05DE\u05D7\u05E7",confirm_closing:"",confirm_deleting:"\u05D0\u05E8\u05D5\u05E2 \u05D9\u05DE\u05D7\u05E7 \u05E1\u05D5\u05E4\u05D9\u05EA.\u05DC\u05D4\u05DE\u05E9\u05D9\u05DA?",section_description:"\u05D4\u05E1\u05D1\u05E8",section_time:"\u05EA\u05E7\u05D5\u05E4\u05D4",section_type:"Type",section_deadline:"Deadline",section_baselines:"Baselines",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"\u05D1\u05D8\u05DC",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task",baselines_section_placeholder:"Start adding a new baseline",baselines_add_button:"Add Baseline",baselines_remove_button:"Remove",baselines_remove_all_button:"Remove All",deadline_enable_button:"Set",deadline_disable_button:"Remove"}},D2={date:{month_full:["Sije\u010Danj","Velja\u010Da","O\u017Eujak","Travanj","Svibanj","Lipanj","Srpanj","Kolovoz","Rujan","Listopad","Studeni","Prosinac"],month_short:["Sij","Velj","O\u017Eu","Tra","Svi","Lip","Srp","Kol","Ruj","Lis","Stu","Pro"],day_full:["Nedjelja","Ponedjeljak","Utorak","Srijeda","\u010Cetvrtak","Petak","Subota"],day_short:["Ned","Pon","Uto","Sri","\u010Cet","Pet","Sub"]},labels:{new_task:"Novi Zadatak",icon_save:"Spremi",icon_cancel:"Odustani",icon_details:"Detalji",icon_edit:"Izmjeni",icon_delete:"Obri\u0161i",confirm_closing:"",confirm_deleting:"Zadatak \u0107e biti trajno izbrisan, jeste li sigurni?",section_description:"Opis",section_time:"Vremenski Period",section_type:"Tip",section_deadline:"Deadline",section_baselines:"Baselines",column_wbs:"WBS",column_text:"Naziv Zadatka",column_start_date:"Po\u010Detno Vrijeme",column_duration:"Trajanje",column_add:"",link:"Poveznica",confirm_link_deleting:"\u0107e biti izbrisan",link_start:" (po\u010Detak)",link_end:" (kraj)",type_task:"Zadatak",type_project:"Projekt",type_milestone:"Milestone",minutes:"Minute",hours:"Sati",days:"Dani",weeks:"Tjedni",months:"Mjeseci",years:"Godine",message_ok:"OK",message_cancel:"Odustani",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task",baselines_section_placeholder:"Start adding a new baseline",baselines_add_button:"Add Baseline",baselines_remove_button:"Remove",baselines_remove_all_button:"Remove All",deadline_enable_button:"Set",deadline_disable_button:"Remove"}},I2={date:{month_full:["Janu\xE1r","Febru\xE1r","M\xE1rcius","\xC1prilis","M\xE1jus","J\xFAnius","J\xFAlius","Augusztus","Szeptember","Okt\xF3ber","November","December"],month_short:["Jan","Feb","M\xE1r","\xC1pr","M\xE1j","J\xFAn","J\xFAl","Aug","Sep","Okt","Nov","Dec"],day_full:["Vas\xE1rnap","H\xE9tf\xF5","Kedd","Szerda","Cs\xFCt\xF6rt\xF6k","P\xE9ntek","szombat"],day_short:["Va","H\xE9","Ke","Sze","Cs\xFC","P\xE9","Szo"]},labels:{new_task:"\xDAj feladat",icon_save:"Ment\xE9s",icon_cancel:"M\xE9gse",icon_details:"R\xE9szletek",icon_edit:"Szerkeszt\xE9s",icon_delete:"T\xF6rl\xE9s",confirm_closing:"",confirm_deleting:"Az esem\xE9ny t\xF6r\xF6lve lesz, biztosan folytatja?",section_description:"Le\xEDr\xE1s",section_time:"Id\xF5szak",section_type:"Type",section_deadline:"Deadline",section_baselines:"Baselines",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"M\xE9gse",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task",baselines_section_placeholder:"Start adding a new baseline",baselines_add_button:"Add Baseline",baselines_remove_button:"Remove",baselines_remove_all_button:"Remove All",deadline_enable_button:"Set",deadline_disable_button:"Remove"}},M2={date:{month_full:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],month_short:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Ags","Sep","Okt","Nov","Des"],day_full:["Minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu"],day_short:["Ming","Sen","Sel","Rab","Kam","Jum","Sab"]},labels:{new_task:"Tugas baru",icon_save:"Simpan",icon_cancel:"Batal",icon_details:"Detail",icon_edit:"Edit",icon_delete:"Hapus",confirm_closing:"",confirm_deleting:"Acara akan dihapus",section_description:"Keterangan",section_time:"Periode",section_type:"Type",section_deadline:"Deadline",section_baselines:"Baselines",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Batal",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task",baselines_section_placeholder:"Start adding a new baseline",baselines_add_button:"Add Baseline",baselines_remove_button:"Remove",baselines_remove_all_button:"Remove All",deadline_enable_button:"Set",deadline_disable_button:"Remove"}},A2={date:{month_full:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],month_short:["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"],day_full:["Domenica","Luned\xEC","Marted\xEC","Mercoled\xEC","Gioved\xEC","Venerd\xEC","Sabato"],day_short:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"]},labels:{new_task:"Nuovo compito",icon_save:"Salva",icon_cancel:"Chiudi",icon_details:"Dettagli",icon_edit:"Modifica",icon_delete:"Elimina",confirm_closing:"",confirm_deleting:"Sei sicuro di confermare l'eliminazione?",section_description:"Descrizione",section_time:"Periodo di tempo",section_type:"Tipo",section_deadline:"Deadline",section_baselines:"Baselines",column_wbs:"WBS",column_text:"Nome Attivit\xE0",column_start_date:"Inizio",column_duration:"Durata",column_add:"",link:"Link",confirm_link_deleting:"sar\xE0 eliminato",link_start:" (inizio)",link_end:" (fine)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minuti",hours:"Ore",days:"Giorni",weeks:"Settimane",months:"Mesi",years:"Anni",message_ok:"OK",message_cancel:"Chiudi",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task",baselines_section_placeholder:"Start adding a new baseline",baselines_add_button:"Add Baseline",baselines_remove_button:"Remove",baselines_remove_all_button:"Remove All",deadline_enable_button:"Set",deadline_disable_button:"Remove"}},N2={date:{month_full:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],month_short:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],day_full:["\u65E5\u66DC\u65E5","\u6708\u66DC\u65E5","\u706B\u66DC\u65E5","\u6C34\u66DC\u65E5","\u6728\u66DC\u65E5","\u91D1\u66DC\u65E5","\u571F\u66DC\u65E5"],day_short:["\u65E5","\u6708","\u706B","\u6C34","\u6728","\u91D1","\u571F"]},labels:{new_task:"\u65B0\u3057\u3044\u4ED5\u4E8B",icon_save:"\u4FDD\u5B58",icon_cancel:"\u30AD\u30E3\u30F3\u30BB\u30EB",icon_details:"\u8A73\u7D30",icon_edit:"\u7DE8\u96C6",icon_delete:"\u524A\u9664",confirm_closing:"",confirm_deleting:"\u30A4\u30D9\u30F3\u30C8\u5B8C\u5168\u306B\u524A\u9664\u3055\u308C\u307E\u3059\u3001\u5B9C\u3057\u3044\u3067\u3059\u304B\uFF1F",section_description:"\u30C7\u30B9\u30AF\u30EA\u30D7\u30B7\u30E7\u30F3",section_time:"\u671F\u9593",section_type:"Type",section_deadline:"Deadline",section_baselines:"Baselines",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"\u30AD\u30E3\u30F3\u30BB\u30EB",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task",baselines_section_placeholder:"Start adding a new baseline",baselines_add_button:"Add Baseline",baselines_remove_button:"Remove",baselines_remove_all_button:"Remove All",deadline_enable_button:"Set",deadline_disable_button:"Remove"}},P2={date:{month_full:["1\uC6D4","2\uC6D4","3\uC6D4","4\uC6D4","5\uC6D4","6\uC6D4","7\uC6D4","8\uC6D4","9\uC6D4","10\uC6D4","11\uC6D4","12\uC6D4"],month_short:["1\uC6D4","2\uC6D4","3\uC6D4","4\uC6D4","5\uC6D4","6\uC6D4","7\uC6D4","8\uC6D4","9\uC6D4","10\uC6D4","11\uC6D4","12\uC6D4"],day_full:["\uC77C\uC694\uC77C","\uC6D4\uC694\uC77C","\uD654\uC694\uC77C","\uC218\uC694\uC77C","\uBAA9\uC694\uC77C","\uAE08\uC694\uC77C","\uD1A0\uC694\uC77C"],day_short:["\uC77C","\uC6D4","\uD654","\uC218","\uBAA9","\uAE08","\uD1A0"]},labels:{new_task:"\uC774\uB984\uC5C6\uB294 \uC791\uC5C5",icon_save:"\uC800\uC7A5",icon_cancel:"\uCDE8\uC18C",icon_details:"\uC138\uBD80 \uC0AC\uD56D",icon_edit:"\uC218\uC815",icon_delete:"\uC0AD\uC81C",confirm_closing:"",confirm_deleting:"\uC791\uC5C5\uC744 \uC0AD\uC81C\uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?",section_description:"\uC124\uBA85",section_time:"\uAE30\uAC04",section_type:"Type",section_deadline:"Deadline",section_baselines:"Baselines",column_wbs:"WBS",column_text:"\uC791\uC5C5\uBA85",column_start_date:"\uC2DC\uC791\uC77C",column_duration:"\uAE30\uAC04",column_add:"",link:"\uC804\uC81C",confirm_link_deleting:"\uC0AD\uC81C \uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?",link_start:" (start)",link_end:" (end)",type_task:"\uC791\uC5C5",type_project:"\uD504\uB85C\uC81D\uD2B8",type_milestone:"\uB9C8\uC77C\uC2A4\uD1A4",minutes:"\uBD84",hours:"\uC2DC\uAC04",days:"\uC77C",weeks:"\uC8FC",months:"\uB2EC",years:"\uB144",message_ok:"OK",message_cancel:"\uCDE8\uC18C",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task",baselines_section_placeholder:"Start adding a new baseline",baselines_add_button:"Add Baseline",baselines_remove_button:"Remove",baselines_remove_all_button:"Remove All",deadline_enable_button:"Set",deadline_disable_button:"Remove"}},fb=class{constructor(n){this.addLocale=(t,i)=>{this._locales[t]=i},this.getLocale=t=>this._locales[t],this._locales={};for(let t in n)this._locales[t]=n[t]}},R2={date:{month_full:["Januar","Februar","Mars","April","Mai","Juni","Juli","August","September","Oktober","November","Desember"],month_short:["Jan","Feb","Mar","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Des"],day_full:["S\xF8ndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","L\xF8rdag"],day_short:["S\xF8n","Mon","Tir","Ons","Tor","Fre","L\xF8r"]},labels:{new_task:"Ny oppgave",icon_save:"Lagre",icon_cancel:"Avbryt",icon_details:"Detaljer",icon_edit:"Rediger",icon_delete:"Slett",confirm_closing:"",confirm_deleting:"Hendelsen vil bli slettet permanent. Er du sikker?",section_description:"Beskrivelse",section_time:"Tidsperiode",section_type:"Type",section_deadline:"Deadline",section_baselines:"Baselines",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Avbryt",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task",baselines_section_placeholder:"Start adding a new baseline",baselines_add_button:"Add Baseline",baselines_remove_button:"Remove",baselines_remove_all_button:"Remove All",deadline_enable_button:"Set",deadline_disable_button:"Remove"}},O2={date:{month_full:["Januari","Februari","Maart","April","Mei","Juni","Juli","Augustus","September","Oktober","November","December"],month_short:["Jan","Feb","mrt","Apr","Mei","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],day_full:["Zondag","Maandag","Dinsdag","Woensdag","Donderdag","Vrijdag","Zaterdag"],day_short:["Zo","Ma","Di","Wo","Do","Vr","Za"]},labels:{new_task:"Nieuwe taak",icon_save:"Opslaan",icon_cancel:"Annuleren",icon_details:"Details",icon_edit:"Bewerken",icon_delete:"Verwijderen",confirm_closing:"",confirm_deleting:"Item zal permanent worden verwijderd, doorgaan?",section_description:"Beschrijving",section_time:"Tijd periode",section_type:"Type",section_deadline:"Deadline",section_baselines:"Baselines",column_wbs:"WBS",column_text:"Taak omschrijving",column_start_date:"Startdatum",column_duration:"Duur",column_add:"",link:"Koppeling",confirm_link_deleting:"zal worden verwijderd",link_start:" (start)",link_end:" (eind)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"minuten",hours:"uren",days:"dagen",weeks:"weken",months:"maanden",years:"jaren",message_ok:"OK",message_cancel:"Annuleren",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task",baselines_section_placeholder:"Start adding a new baseline",baselines_add_button:"Add Baseline",baselines_remove_button:"Remove",baselines_remove_all_button:"Remove All",deadline_enable_button:"Set",deadline_disable_button:"Remove"}},L2={date:{month_full:["Januar","Februar","Mars","April","Mai","Juni","Juli","August","September","Oktober","November","Desember"],month_short:["Jan","Feb","Mar","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Des"],day_full:["S\xF8ndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","L\xF8rdag"],day_short:["S\xF8n","Man","Tir","Ons","Tor","Fre","L\xF8r"]},labels:{new_task:"Ny oppgave",icon_save:"Lagre",icon_cancel:"Avbryt",icon_details:"Detaljer",icon_edit:"Endre",icon_delete:"Slett",confirm_closing:"Endringer blir ikke lagret, er du sikker?",confirm_deleting:"Oppf\xF8ringen vil bli slettet, er du sikker?",section_description:"Beskrivelse",section_time:"Tidsperiode",section_type:"Type",section_deadline:"Deadline",section_baselines:"Baselines",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Avbryt",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task",baselines_section_placeholder:"Start adding a new baseline",baselines_add_button:"Add Baseline",baselines_remove_button:"Remove",baselines_remove_all_button:"Remove All",deadline_enable_button:"Set",deadline_disable_button:"Remove"}},F2={date:{month_full:["Stycze\u0144","Luty","Marzec","Kwiecie\u0144","Maj","Czerwiec","Lipiec","Sierpie\u0144","Wrzesie\u0144","Pa\u017Adziernik","Listopad","Grudzie\u0144"],month_short:["Sty","Lut","Mar","Kwi","Maj","Cze","Lip","Sie","Wrz","Pa\u017A","Lis","Gru"],day_full:["Niedziela","Poniedzia\u0142ek","Wtorek","\u015Aroda","Czwartek","Pi\u0105tek","Sobota"],day_short:["Nie","Pon","Wto","\u015Aro","Czw","Pi\u0105","Sob"]},labels:{new_task:"Nowe zadanie",icon_save:"Zapisz",icon_cancel:"Anuluj",icon_details:"Szczeg\xF3\u0142y",icon_edit:"Edytuj",icon_delete:"Usu\u0144",confirm_closing:"",confirm_deleting:"Zdarzenie zostanie usuni\u0119te na zawsze, kontynuowa\u0107?",section_description:"Opis",section_time:"Okres czasu",section_type:"Typ",section_deadline:"Deadline",section_baselines:"Baselines",column_wbs:"WBS",column_text:"Nazwa zadania",column_start_date:"Pocz\u0105tek",column_duration:"Czas trwania",column_add:"",link:"Link",confirm_link_deleting:"zostanie usuni\u0119ty",link_start:" (pocz\u0105tek)",link_end:" (koniec)",type_task:"Zadanie",type_project:"Projekt",type_milestone:"Milestone",minutes:"Minuty",hours:"Godziny",days:"Dni",weeks:"Tydzie\u0144",months:"Miesi\u0105ce",years:"Lata",message_ok:"OK",message_cancel:"Anuluj",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task",baselines_section_placeholder:"Start adding a new baseline",baselines_add_button:"Add Baseline",baselines_remove_button:"Remove",baselines_remove_all_button:"Remove All",deadline_enable_button:"Set",deadline_disable_button:"Remove"}},$2={date:{month_full:["Janeiro","Fevereiro","Mar\xE7o","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],month_short:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],day_full:["Domingo","Segunda","Ter\xE7a","Quarta","Quinta","Sexta","S\xE1bado"],day_short:["Dom","Seg","Ter","Qua","Qui","Sex","Sab"]},labels:{new_task:"Nova tarefa",icon_save:"Salvar",icon_cancel:"Cancelar",icon_details:"Detalhes",icon_edit:"Editar",icon_delete:"Excluir",confirm_closing:"",confirm_deleting:"As tarefas ser\xE3o excluidas permanentemente, confirme?",section_description:"Descri\xE7\xE3o",section_time:"Per\xEDodo",section_type:"Tipo",section_deadline:"Deadline",section_baselines:"Baselines",column_wbs:"EAP",column_text:"Nome tarefa",column_start_date:"Data in\xEDcio",column_duration:"Dura\xE7\xE3o",column_add:"",link:"Link",confirm_link_deleting:"Ser\xE1 exclu\xEDdo!",link_start:" (in\xEDcio)",link_end:" (fim)",type_task:"Task",type_project:"Projeto",type_milestone:"Marco",minutes:"Minutos",hours:"Horas",days:"Dias",weeks:"Semanas",months:"Meses",years:"Anos",message_ok:"OK",message_cancel:"Cancelar",section_constraint:"Restri\xE7\xE3o",constraint_type:"Tipo Restri\xE7\xE3o",constraint_date:"Data restri\xE7\xE3o",asap:"Mais breve poss\xEDvel",alap:"Mais tarde poss\xEDvel",snet:"N\xE3o come\xE7ar antes de",snlt:"N\xE3o come\xE7ar depois de",fnet:"N\xE3o terminar antes de",fnlt:"N\xE3o terminar depois de",mso:"Precisa come\xE7ar em",mfo:"Precisa terminar em",resources_filter_placeholder:"Tipo de filtros",resources_filter_label:"Ocultar vazios",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task",baselines_section_placeholder:"Start adding a new baseline",baselines_add_button:"Add Baseline",baselines_remove_button:"Remove",baselines_remove_all_button:"Remove All",deadline_enable_button:"Set",deadline_disable_button:"Remove"}},j2={date:{month_full:["Ianuarie","Februarie","Martie","Aprilie","Mai","Iunie","Iulie","August","Septembrie","Octombrie","November","December"],month_short:["Ian","Feb","Mar","Apr","Mai","Iun","Iul","Aug","Sep","Oct","Nov","Dec"],day_full:["Duminica","Luni","Marti","Miercuri","Joi","Vineri","Sambata"],day_short:["Du","Lu","Ma","Mi","Jo","Vi","Sa"]},labels:{new_task:"Sarcina noua",icon_save:"Salveaza",icon_cancel:"Anuleaza",icon_details:"Detalii",icon_edit:"Editeaza",icon_delete:"Sterge",confirm_closing:"Schimbarile nu vor fi salvate, esti sigur?",confirm_deleting:"Evenimentul va fi sters permanent, esti sigur?",section_description:"Descriere",section_time:"Interval",section_type:"Type",section_deadline:"Deadline",section_baselines:"Baselines",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Anuleaza",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task",baselines_section_placeholder:"Start adding a new baseline",baselines_add_button:"Add Baseline",baselines_remove_button:"Remove",baselines_remove_all_button:"Remove All",deadline_enable_button:"Set",deadline_disable_button:"Remove"}},B2={date:{month_full:["\u042F\u043D\u0432\u0430\u0440\u044C","\u0424\u0435\u0432\u0440\u0430\u043B\u044C","\u041C\u0430\u0440\u0442","\u0410\u043F\u0440\u0435\u043B\u044C","Ma\u0439","\u0418\u044E\u043D\u044C","\u0418\u044E\u043B\u044C","\u0410\u0432\u0433\u0443\u0441\u0442","\u0421\u0435\u043D\u0442\u044F\u0431\u0440\u044C","O\u043A\u0442\u044F\u0431\u0440\u044C","\u041D\u043E\u044F\u0431\u0440\u044C","\u0414\u0435\u043A\u0430\u0431\u0440\u044C"],month_short:["\u042F\u043D\u0432","\u0424\u0435\u0432","Ma\u0440","A\u043F\u0440","Ma\u0439","\u0418\u044E\u043D","\u0418\u044E\u043B","A\u0432\u0433","\u0421\u0435\u043D","\u041E\u043A\u0442","\u041D\u043E\u044F","\u0414\u0435\u043A"],day_full:["\u0412\u043E\u0441\u043A\u0440\u0435\u0441\u0435\u043D\u044C\u0435","\u041F\u043E\u043D\u0435\u0434\u0435\u043B\u044C\u043D\u0438\u043A","\u0412\u0442\u043E\u0440\u043D\u0438\u043A","\u0421\u0440\u0435\u0434\u0430","\u0427\u0435\u0442\u0432\u0435\u0440\u0433","\u041F\u044F\u0442\u043D\u0438\u0446\u0430","\u0421\u0443\u0431\u0431\u043E\u0442\u0430"],day_short:["\u0412\u0441","\u041F\u043D","\u0412\u0442","\u0421\u0440","\u0427\u0442","\u041F\u0442","\u0421\u0431"]},labels:{new_task:"\u041D\u043E\u0432\u043E\u0435 \u0437\u0430\u0434\u0430\u043D\u0438\u0435",icon_save:"\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C",icon_cancel:"\u041E\u0442\u043C\u0435\u043D\u0438\u0442\u044C",icon_details:"\u0414\u0435\u0442\u0430\u043B\u0438",icon_edit:"\u0418\u0437\u043C\u0435\u043D\u0438\u0442\u044C",icon_delete:"\u0423\u0434\u0430\u043B\u0438\u0442\u044C",confirm_closing:"",confirm_deleting:"\u0421\u043E\u0431\u044B\u0442\u0438\u0435 \u0431\u0443\u0434\u0435\u0442 \u0443\u0434\u0430\u043B\u0435\u043D\u043E \u0431\u0435\u0437\u0432\u043E\u0437\u0432\u0440\u0430\u0442\u043D\u043E, \u043F\u0440\u043E\u0434\u043E\u043B\u0436\u0438\u0442\u044C?",section_description:"\u041E\u043F\u0438\u0441\u0430\u043D\u0438\u0435",section_time:"\u041F\u0435\u0440\u0438\u043E\u0434 \u0432\u0440\u0435\u043C\u0435\u043D\u0438",section_type:"\u0422\u0438\u043F",section_deadline:"Deadline",section_baselines:"Baselines",column_wbs:"\u0418\u0421\u0420",column_text:"\u0417\u0430\u0434\u0430\u0447\u0430",column_start_date:"\u041D\u0430\u0447\u0430\u043B\u043E",column_duration:"\u0414\u043B\u0438\u0442\u0435\u043B\u044C\u043D\u043E\u0441\u0442\u044C",column_add:"",link:"\u0421\u0432\u044F\u0437\u044C",confirm_link_deleting:"\u0431\u0443\u0434\u0435\u0442 \u0443\u0434\u0430\u043B\u0435\u043D\u0430",link_start:" (\u043D\u0430\u0447\u0430\u043B\u043E)",link_end:" (\u043A\u043E\u043D\u0435\u0446)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"\u041C\u0438\u043D\u0443\u0442\u0430",hours:"\u0427\u0430\u0441",days:"\u0414\u0435\u043D\u044C",weeks:"\u041D\u0435\u0434\u0435\u043B\u044F",months:"\u041C\u0435\u0441\u044F\u0446",years:"\u0413\u043E\u0434",message_ok:"OK",message_cancel:"\u041E\u0442\u043C\u0435\u043D\u0438\u0442\u044C",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"\u043D\u0430\u0447\u043D\u0438\u0442\u0435 \u0432\u0432\u043E\u0434\u0438\u0442\u044C \u0441\u043B\u043E\u0432\u043E \u0434\u043B\u044F \u0444\u0438\u043B\u044C\u0442\u0440\u0430\u0446\u0438\u0438",resources_filter_label:"\u0441\u043F\u0440\u044F\u0442\u0430\u0442\u044C \u043D\u0435 \u0443\u0441\u0442\u0430\u043D\u043E\u0432\u043B\u0435\u043D\u043D\u044B\u0435",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task",baselines_section_placeholder:"Start adding a new baseline",baselines_add_button:"Add Baseline",baselines_remove_button:"Remove",baselines_remove_all_button:"Remove All",deadline_enable_button:"Set",deadline_disable_button:"Remove"}},V2={date:{month_full:["Januar","Februar","Marec","April","Maj","Junij","Julij","Avgust","September","Oktober","November","December"],month_short:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],day_full:["Nedelja","Ponedeljek","Torek","Sreda","\u010Cetrtek","Petek","Sobota"],day_short:["Ned","Pon","Tor","Sre","\u010Cet","Pet","Sob"]},labels:{new_task:"Nova naloga",icon_save:"Shrani",icon_cancel:"Prekli\u010Di",icon_details:"Podrobnosti",icon_edit:"Uredi",icon_delete:"Izbri\u0161i",confirm_closing:"",confirm_deleting:"Dogodek bo izbrisan. \u017Delite nadaljevati?",section_description:"Opis",section_time:"\u010Casovni okvir",section_type:"Type",section_deadline:"Deadline",section_baselines:"Baselines",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Prekli\u010Di",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task",baselines_section_placeholder:"Start adding a new baseline",baselines_add_button:"Add Baseline",baselines_remove_button:"Remove",baselines_remove_all_button:"Remove All",deadline_enable_button:"Set",deadline_disable_button:"Remove"}},z2={date:{month_full:["Janu\xE1r","Febru\xE1r","Marec","Apr\xEDl","M\xE1j","J\xFAn","J\xFAl","August","September","Okt\xF3ber","November","December"],month_short:["Jan","Feb","Mar","Apr","M\xE1j","J\xFAn","J\xFAl","Aug","Sept","Okt","Nov","Dec"],day_full:["Nede\u013Ea","Pondelok","Utorok","Streda","\u0160tvrtok","Piatok","Sobota"],day_short:["Ne","Po","Ut","St","\u0160t","Pi","So"]},labels:{new_task:"Nov\xE1 \xFAloha",icon_save:"Ulo\u017Ei\u0165",icon_cancel:"Sp\xE4\u0165",icon_details:"Detail",icon_edit:"Edituj",icon_delete:"Zmaza\u0165",confirm_closing:"Va\u0161e zmeny nebud\xFA ulo\u017Een\xE9. Skuto\u010Dne?",confirm_deleting:"Udalos\u0165 bude natrvalo vymazan\xE1. Skuto\u010Dne?",section_description:"Pozn\xE1mky",section_time:"Doba platnosti",section_type:"Type",section_deadline:"Deadline",section_baselines:"Baselines",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Sp\xE4\u0165",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task",baselines_section_placeholder:"Start adding a new baseline",baselines_add_button:"Add Baseline",baselines_remove_button:"Remove",baselines_remove_all_button:"Remove All",deadline_enable_button:"Set",deadline_disable_button:"Remove"}},H2={date:{month_full:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"],month_short:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],day_full:["S\xF6ndag","M\xE5ndag","Tisdag","Onsdag","Torsdag","Fredag","L\xF6rdag"],day_short:["S\xF6n","M\xE5n","Tis","Ons","Tor","Fre","L\xF6r"]},labels:{new_task:"Ny uppgift",icon_save:"Spara",icon_cancel:"Avbryt",icon_details:"Detajer",icon_edit:"\xC4ndra",icon_delete:"Ta bort",confirm_closing:"",confirm_deleting:"\xC4r du s\xE4ker p\xE5 att du vill ta bort h\xE4ndelsen permanent?",section_description:"Beskrivning",section_time:"Tid",section_type:"Typ",section_deadline:"Deadline",section_baselines:"Baselines",column_wbs:"WBS",column_text:"Uppgiftsnamn",column_start_date:"Starttid",column_duration:"Varaktighet",column_add:"",link:"L\xE4nk",confirm_link_deleting:"kommer tas bort",link_start:" (start)",link_end:" (slut)",type_task:"Uppgift",type_project:"Projekt",type_milestone:"Milstolpe",minutes:"Minuter",hours:"Timmar",days:"Dagar",weeks:"Veckor",months:"M\xE5nader",years:"\xC5r",message_ok:"OK",message_cancel:"Avbryt",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task",baselines_section_placeholder:"Start adding a new baseline",baselines_add_button:"Add Baseline",baselines_remove_button:"Remove",baselines_remove_all_button:"Remove All",deadline_enable_button:"Set",deadline_disable_button:"Remove"}},U2={date:{month_full:["Ocak","\u015Eubat","Mart","Nisan","May\u0131s","Haziran","Temmuz","A\u011Fustos","Eyl\xFCl","Ekim","Kas\u0131m","Aral\u0131k"],month_short:["Oca","\u015Eub","Mar","Nis","May","Haz","Tem","A\u011Fu","Eyl","Eki","Kas","Ara"],day_full:["Pazar","Pazartesi","Sal\u0131","\xC7ar\u015Famba","Per\u015Fembe","Cuma","Cumartesi"],day_short:["Paz","Pzt","Sal","\xC7ar","Per","Cum","Cmt"]},labels:{new_task:"Yeni g\xF6rev",icon_save:"Kaydet",icon_cancel:"\u0130ptal",icon_details:"Detaylar",icon_edit:"D\xFCzenle",icon_delete:"Sil",confirm_closing:"",confirm_deleting:"G\xF6rev silinecek, emin misiniz?",section_description:"A\xE7\u0131klama",section_time:"Zaman Aral\u0131\u011F\u0131",section_type:"Tip",section_deadline:"Deadline",section_baselines:"Baselines",column_wbs:"WBS",column_text:"G\xF6rev Ad\u0131",column_start_date:"Ba\u015Flang\u0131\xE7",column_duration:"S\xFCre",column_add:"",link:"Ba\u011Flant\u0131",confirm_link_deleting:"silinecek",link_start:" (ba\u015Flang\u0131\xE7)",link_end:" (biti\u015F)",type_task:"G\xF6rev",type_project:"Proje",type_milestone:"Kilometreta\u015F\u0131",minutes:"Dakika",hours:"Saat",days:"G\xFCn",weeks:"Hafta",months:"Ay",years:"Y\u0131l",message_ok:"OK",message_cancel:"\xDDptal",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task",baselines_section_placeholder:"Start adding a new baseline",baselines_add_button:"Add Baseline",baselines_remove_button:"Remove",baselines_remove_all_button:"Remove All",deadline_enable_button:"Set",deadline_disable_button:"Remove"}},W2={date:{month_full:["\u0421\u0456\u0447\u0435\u043D\u044C","\u041B\u044E\u0442\u0438\u0439","\u0411\u0435\u0440\u0435\u0437\u0435\u043D\u044C","\u041A\u0432\u0456\u0442\u0435\u043D\u044C","\u0422\u0440\u0430\u0432\u0435\u043D\u044C","\u0427\u0435\u0440\u0432\u0435\u043D\u044C","\u041B\u0438\u043F\u0435\u043D\u044C","\u0421\u0435\u0440\u043F\u0435\u043D\u044C","\u0412\u0435\u0440\u0435\u0441\u0435\u043D\u044C","\u0416\u043E\u0432\u0442\u0435\u043D\u044C","\u041B\u0438\u0441\u0442\u043E\u043F\u0430\u0434","\u0413\u0440\u0443\u0434\u0435\u043D\u044C"],month_short:["\u0421\u0456\u0447","\u041B\u044E\u0442","\u0411\u0435\u0440","\u041A\u0432\u0456","\u0422\u0440\u0430","\u0427\u0435\u0440","\u041B\u0438\u043F","\u0421\u0435\u0440","\u0412\u0435\u0440","\u0416\u043E\u0432","\u041B\u0438\u0441","\u0413\u0440\u0443"],day_full:["\u041D\u0435\u0434\u0456\u043B\u044F","\u041F\u043E\u043D\u0435\u0434\u0456\u043B\u043E\u043A","\u0412\u0456\u0432\u0442\u043E\u0440\u043E\u043A","\u0421\u0435\u0440\u0435\u0434\u0430","\u0427\u0435\u0442\u0432\u0435\u0440","\u041F'\u044F\u0442\u043D\u0438\u0446\u044F","\u0421\u0443\u0431\u043E\u0442\u0430"],day_short:["\u041D\u0435\u0434","\u041F\u043E\u043D","\u0412\u0456\u0432","\u0421\u0435\u0440","\u0427\u0435\u0442","\u041F\u0442\u043D","\u0421\u0443\u0431"]},labels:{new_task:"\u041D\u043E\u0432\u0435 \u0437\u0430\u0432\u0434\u0430\u043D\u043D\u044F",icon_save:"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438",icon_cancel:"\u0412\u0456\u0434\u043C\u0456\u043D\u0430",icon_details:"\u0414\u0435\u0442\u0430\u043B\u0456",icon_edit:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438",icon_delete:"\u0412\u0438\u043B\u0443\u0447\u0438\u0442\u0438",confirm_closing:"",confirm_deleting:"\u041F\u043E\u0434\u0456\u044F \u0432\u0438\u043B\u0443\u0447\u0438\u0442\u044C\u0441\u044F \u043D\u0430\u0437\u0430\u0432\u0436\u0434\u0438. \u0412\u0438 \u0432\u043F\u0435\u0432\u043D\u0435\u043D\u0456?",section_description:"\u041E\u043F\u0438\u0441",section_time:"\u0427\u0430\u0441\u043E\u0432\u0438\u0439 \u043F\u0440\u043E\u043C\u0456\u0436\u043E\u043A",section_type:"\u0422\u0438\u043F",section_deadline:"Deadline",section_baselines:"Baselines",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"\u0412\u0456\u0434\u043C\u0456\u043D\u0430",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task",baselines_section_placeholder:"Start adding a new baseline",baselines_add_button:"Add Baseline",baselines_remove_button:"Remove",baselines_remove_all_button:"Remove All",deadline_enable_button:"Set",deadline_disable_button:"Remove"}};function G2(){this.constants=Fj,this.version="9.0.11",this.license="gpl",this.templates={},this.ext={},this.keys={edit_save:this.constants.KEY_CODES.ENTER,edit_cancel:this.constants.KEY_CODES.ESC}}function q2(e){var n=new G2,t=new eb(e),i={};n.plugins=function(l){for(var d in l)if(l[d]&&!i[d]){var u=t.getExtension(d);u&&(u(n),i[d]=!0)}return i},n.$services=function(){var l={};return{services:{},setService:function(d,u){l[d]=u},getService:function(d){return l[d]?l[d]():null},dropService:function(d){l[d]&&delete l[d]},destructor:function(){for(var d in l)if(l[d]){var u=l[d];u&&u.destructor&&u.destructor()}l=null}}}(),n.config={layout:{css:"gantt_container",rows:[{cols:[{view:"grid",scrollX:"scrollHor",scrollY:"scrollVer"},{resizer:!0,width:1},{view:"timeline",scrollX:"scrollHor",scrollY:"scrollVer"},{view:"scrollbar",id:"scrollVer"}]},{view:"scrollbar",id:"scrollHor",height:20}]},links:{finish_to_start:"0",start_to_start:"1",finish_to_finish:"2",start_to_finish:"3"},types:{task:"task",project:"project",milestone:"milestone"},auto_types:!1,duration_unit:"day",work_time:!1,correct_work_time:!1,skip_off_time:!1,cascade_delete:!0,autosize:!1,autosize_min_width:0,autoscroll:!0,autoscroll_speed:30,deepcopy_on_parse:!1,show_links:!0,show_task_cells:!0,static_background:!1,static_background_cells:!0,branch_loading:!1,branch_loading_property:"$has_child",show_loading:!1,show_chart:!0,show_grid:!0,min_duration:36e5,date_format:"%d-%m-%Y %H:%i",xml_date:void 0,start_on_monday:!0,server_utc:!1,show_progress:!0,fit_tasks:!1,select_task:!0,scroll_on_click:!0,smart_rendering:!0,preserve_scroll:!0,readonly:!1,container_resize_timeout:20,deadlines:!0,date_grid:"%Y-%m-%d",drag_links:!0,drag_progress:!0,drag_resize:!0,drag_project:!1,drag_move:!0,drag_mode:{resize:"resize",progress:"progress",move:"move",ignore:"ignore"},round_dnd_dates:!0,link_wrapper_width:20,link_arrow_size:12,root_id:0,autofit:!1,columns:[{name:"text",tree:!0,width:"*",resize:!0},{name:"start_date",align:"center",resize:!0},{name:"duration",align:"center"},{name:"add",width:44}],scale_offset_minimal:!0,inherit_scale_class:!1,scales:[{unit:"day",step:1,date:"%d %M"}],time_step:60,duration_step:1,task_date:"%d %F %Y",time_picker:"%H:%i",task_attribute:"data-task-id",link_attribute:"data-link-id",layer_attribute:"data-layer",buttons_left:["gantt_save_btn","gantt_cancel_btn"],_migrate_buttons:{dhx_save_btn:"gantt_save_btn",dhx_cancel_btn:"gantt_cancel_btn",dhx_delete_btn:"gantt_delete_btn"},buttons_right:["gantt_delete_btn"],lightbox:{sections:[{name:"description",height:70,map_to:"text",type:"textarea",focus:!0},{name:"time",type:"duration",map_to:"auto"}],project_sections:[{name:"description",height:70,map_to:"text",type:"textarea",focus:!0},{name:"type",type:"typeselect",map_to:"type"},{name:"time",type:"duration",readonly:!0,map_to:"auto"}],milestone_sections:[{name:"description",height:70,map_to:"text",type:"textarea",focus:!0},{name:"type",type:"typeselect",map_to:"type"},{name:"time",type:"duration",single_date:!0,map_to:"auto"}]},drag_lightbox:!0,sort:!1,details_on_create:!0,details_on_dblclick:!0,initial_scroll:!0,task_scroll_offset:100,order_branch:!1,order_branch_free:!1,task_height:void 0,bar_height:"full",bar_height_padding:9,min_column_width:70,min_grid_column_width:70,grid_resizer_column_attribute:"data-column-index",keep_grid_width:!1,grid_resize:!1,grid_elastic_columns:!1,show_tasks_outside_timescale:!1,show_unscheduled:!0,resize_rows:!1,task_grid_row_resizer_attribute:"data-row-index",min_task_grid_row_height:30,row_height:36,readonly_property:"readonly",editable_property:"editable",calendar_property:"calendar_id",resource_calendars:{},dynamic_resource_calendars:!1,inherit_calendar:!1,type_renderers:{},open_tree_initially:!1,optimize_render:!0,prevent_default_scroll:!1,show_errors:!0,wai_aria_attributes:!0,smart_scales:!0,rtl:!1,placeholder_task:!1,horizontal_scroll_key:"shiftKey",drag_timeline:{useKey:void 0,ignore:".gantt_task_line, .gantt_task_link",render:!1},drag_multiple:!0,csp:"auto"},n.ajax=function(l){return{cache:!0,method:"get",parse:function(d){return typeof d!="string"?d:(d=d.replace(/^[\s]+/,""),typeof DOMParser>"u"||Kr.isIE?Sn.ActiveXObject!==void 0&&((u=new Sn.ActiveXObject("Microsoft.XMLDOM")).async="false",u.loadXML(d)):u=new DOMParser().parseFromString(d,"text/xml"),u);var u},xmltop:function(d,u,f){if(u.status===void 0||u.status<400){var g=u.responseXML?u.responseXML||u:this.parse(u.responseText||u);if(g&&g.documentElement!==null&&!g.getElementsByTagName("parsererror").length)return g.getElementsByTagName(d)[0]}return f!==-1&&l.callEvent("onLoadXMLError",["Incorrect XML",arguments[1],f]),document.createElement("DIV")},xpath:function(d,u){if(u.nodeName||(u=u.responseXML||u),Kr.isIE)return u.selectNodes(d)||[];for(var f,g=[],p=(u.ownerDocument||u).evaluate(d,u,null,XPathResult.ANY_TYPE,null);f=p.iterateNext();)g.push(f);return g},query:function(d){return this._call(d.method||"GET",d.url,d.data||"",d.async||!0,d.callback,d.headers)},get:function(d,u,f){var g=Sa("GET",arguments);return this.query(g)},getSync:function(d,u){var f=Sa("GET",arguments);return f.async=!1,this.query(f)},put:function(d,u,f,g){var p=Sa("PUT",arguments);return this.query(p)},del:function(d,u,f){var g=Sa("DELETE",arguments);return this.query(g)},post:function(d,u,f,g){arguments.length==1?u="":arguments.length==2&&typeof u=="function"&&(f=u,u="");var p=Sa("POST",arguments);return this.query(p)},postSync:function(d,u,f){u=u===null?"":String(u);var g=Sa("POST",arguments);return g.async=!1,this.query(g)},_call:function(d,u,f,g,p,v){return new l.Promise(function(k,x){var S=typeof XMLHttpRequest!==void 0?new XMLHttpRequest:new Sn.ActiveXObject("Microsoft.XMLHTTP"),_=navigator.userAgent.match(/AppleWebKit/)!==null&&navigator.userAgent.match(/Qt/)!==null&&navigator.userAgent.match(/Safari/)!==null;g&&(S.onreadystatechange=function(){if(S.readyState==4||_&&S.readyState==3){if((S.status!=200||S.responseText==="")&&!l.callEvent("onAjaxError",[S]))return;setTimeout(function(){typeof p=="function"&&p.apply(Sn,[{xmlDoc:S,filePath:u}]),k(S),typeof p=="function"&&(p=null,S=null)},0)}});var w=!this||!this.cache;if(d=="GET"&&w&&(u+=(u.indexOf("?")>=0?"&":"?")+"dhxr"+new Date().getTime()+"=1"),S.open(d,u,g),v)for(var y in v)S.setRequestHeader(y,v[y]);else d.toUpperCase()=="POST"||d=="PUT"||d=="DELETE"?S.setRequestHeader("Content-Type","application/x-www-form-urlencoded"):d=="GET"&&(f=null);if(S.setRequestHeader("X-Requested-With","XMLHttpRequest"),S.send(f),!g)return{xmlDoc:S,filePath:u}})},urlSeparator:function(d){return d.indexOf("?")!=-1?"&":"?"}}}(n),n.date=$j(n),n.RemoteEvents=jj;var r=function(l){function d(f){return{target:f.target||f.srcElement,pageX:f.pageX,pageY:f.pageY,clientX:f.clientX,clientY:f.clientY,metaKey:f.metaKey,shiftKey:f.shiftKey,ctrlKey:f.ctrlKey,altKey:f.altKey}}function u(f,g){this._obj=f,this._settings=g||{},fi(this);var p=this.getInputMethods();this._drag_start_timer=null,l.attachEvent("onGanttScroll",Ye(function(x,S){this.clearDragTimer()},this));for(var v={passive:!1},k=0;k<p.length;k++)Ye(function(x){l.event(f,x.down,Ye(function(_){x.accessor(_)&&(_.button!==void 0&&_.button!==0||(g.preventDefault&&g.selector&&$i(_.target,g.selector)&&_.preventDefault(),l.config.touch&&_.timeStamp&&_.timeStamp-0<300||(this._settings.original_target=d(_),this._settings.original_element_sizes=ve(K({},ui(_,kD(f))),{width:_.target.offsetWidth,height:_.target.offsetHeight}),l.config.touch?(this.clearDragTimer(),this._drag_start_timer=setTimeout(Ye(function(){l.getState().lightbox||this.dragStart(f,_,x)},this),l.config.touch_drag)):this.dragStart(f,_,x))))},this),v);var S=document.body;l.event(S,x.up,Ye(function(_){x.accessor(_)&&this.clearDragTimer()},this),v)},this)(p[k])}return u.prototype={traceDragEvents:function(f,g){var p=Ye(function(w){return this.dragMove(f,w,g.accessor)},this);Ye(function(w){return this.dragScroll(f,w)},this);var v=Ye(function(w){if(!this.config.started||!Dt(this.config.updates_per_second)||ID(this,this.config.updates_per_second)){var y=p(w);if(y)try{w&&w.preventDefault&&w.cancelable&&w.preventDefault()}catch{}return y}},this),k=ns(l.$root),x=this.config.mousemoveContainer||ns(l.$root),S={passive:!1},_=Ye(function(w){return l.eventRemove(x,g.move,v),l.eventRemove(k,g.up,_,S),this.dragEnd(f)},this);l.event(x,g.move,v,S),l.event(k,g.up,_,S)},checkPositionChange:function(f){var g=f.x-this.config.pos.x,p=f.y-this.config.pos.y;return Math.sqrt(Math.pow(Math.abs(g),2)+Math.pow(Math.abs(p),2))>this.config.sensitivity},initDnDMarker:function(){var f=this.config.marker=document.createElement("div");f.className="gantt_drag_marker",f.innerHTML="",document.body.appendChild(f)},backupEventTarget:function(f,g){if(l.config.touch){var p=g(f),v=p.target||p.srcElement,k=v.cloneNode(!0);this.config.original_target=d(p),this.config.original_target.target=k,this.config.backup_element=v,v.parentNode.appendChild(k),v.style.display="none",(this.config.mousemoveContainer||document.body).appendChild(v)}},getInputMethods:function(){var f=[];if(f.push({move:"mousemove",down:"mousedown",up:"mouseup",accessor:function(p){return p}}),l.config.touch){var g=!0;try{document.createEvent("TouchEvent")}catch{g=!1}g?f.push({move:"touchmove",down:"touchstart",up:"touchend",accessor:function(p){return p.touches&&p.touches.length>1?null:p.touches[0]?{target:document.elementFromPoint(p.touches[0].clientX,p.touches[0].clientY),pageX:p.touches[0].pageX,pageY:p.touches[0].pageY,clientX:p.touches[0].clientX,clientY:p.touches[0].clientY}:p}}):Sn.navigator.pointerEnabled?f.push({move:"pointermove",down:"pointerdown",up:"pointerup",accessor:function(p){return p.pointerType=="mouse"?null:p}}):Sn.navigator.msPointerEnabled&&f.push({move:"MSPointerMove",down:"MSPointerDown",up:"MSPointerUp",accessor:function(p){return p.pointerType==p.MSPOINTER_TYPE_MOUSE?null:p}})}return f},clearDragTimer:function(){this._drag_start_timer&&(clearTimeout(this._drag_start_timer),this._drag_start_timer=null)},dragStart:function(f,g,p){this.config&&this.config.started||(this.config={obj:f,marker:null,started:!1,pos:this.getPosition(g),sensitivity:4},this._settings&&$e(this.config,this._settings,!0),this.traceDragEvents(f,p),l._prevent_touch_scroll=!0,g.target.closest(".gantt_row")&&!l.config.order_branch&&(l._prevent_touch_scroll=!1),document.body.classList.add("gantt_noselect"),l.config.touch&&this.dragMove(f,g,p.accessor))},dragMove:function(f,g,p){var v=p(g);if(!v)return!1;if(!this.config.marker&&!this.config.started){var k=this.getPosition(v);if(l.config.touch||this.checkPositionChange(k)){if(this.config.started=!0,this.config.ignore=!1,l._touch_drag=!0,this.callEvent("onBeforeDragStart",[f,this.config.original_target])===!1)return this.config.ignore=!0,!1;this.backupEventTarget(g,p),this.initDnDMarker(),l._touch_feedback(),this.callEvent("onAfterDragStart",[f,this.config.original_target])}else this.config.ignore=!0}return this.config.ignore?!1:g.targetTouches&&!v.target?void 0:(v.pos=this.getPosition(v),this.config.marker.style.left=v.pos.x+"px",this.config.marker.style.top=v.pos.y+"px",this.callEvent("onDragMove",[f,v]),!0)},dragEnd:function(f){var g=this.config.backup_element;g&&g.parentNode&&g.parentNode.removeChild(g),l._prevent_touch_scroll=!1,this.config.marker&&(this.config.marker.parentNode.removeChild(this.config.marker),this.config.marker=null,this.callEvent("onDragEnd",[])),this.config.started=!1,l._touch_drag=!1,document.body.classList.remove("gantt_noselect")},getPosition:function(f){var g=0,p=0;return f.pageX||f.pageY?(g=f.pageX,p=f.pageY):(f.clientX||f.clientY)&&(g=f.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,p=f.clientY+document.body.scrollTop+document.documentElement.scrollTop),{x:g,y:p}}},u}(n);n.$services.setService("dnd",function(){return r});var o=function(l){var d={};function u(f,g,p){p=p||f;var v=l.config,k=l.templates;l.config[f]&&d[p]!=v[f]&&(g&&k[p]||(k[p]=l.date.date_to_str(v[f]),d[p]=v[f]))}return{initTemplates:function(){var f=l.date,g=f.date_to_str,p=l.config,v=g(p.xml_date||p.date_format,p.server_utc),k=f.str_to_date(p.xml_date||p.date_format,p.server_utc);u("date_scale",!0,void 0,l.config,l.templates),u("date_grid",!0,"grid_date_format",l.config,l.templates),u("task_date",!0,void 0,l.config,l.templates),l.mixin(l.templates,{xml_format:void 0,format_date:v,xml_date:void 0,parse_date:k,progress_text:function(x,S,_){return""},grid_header_class:function(x,S){return""},task_text:function(x,S,_){return _.text},task_class:function(x,S,_){return""},task_end_date:function(x){return l.templates.task_date(x)},grid_row_class:function(x,S,_){return""},task_row_class:function(x,S,_){return""},timeline_cell_class:function(x,S){return""},timeline_cell_content:function(x,S){return""},scale_cell_class:function(x){return""},scale_row_class:function(x){return""},grid_indent:function(x){return"<div class='gantt_tree_indent'></div>"},grid_folder:function(x){return"<div class='gantt_tree_icon gantt_folder_"+(x.$open?"open":"closed")+"'></div>"},grid_file:function(x){return"<div class='gantt_tree_icon gantt_file'></div>"},grid_open:function(x){return"<div class='gantt_tree_icon gantt_"+(x.$open?"close":"open")+"'></div>"},grid_blank:function(x){return"<div class='gantt_tree_icon gantt_blank'></div>"},date_grid:function(x,S,_){return S&&l.isUnscheduledTask(S)&&l.config.show_unscheduled?l.templates.task_unscheduled_time(S):l.templates.grid_date_format(x,_)},task_time:function(x,S,_){return l.isUnscheduledTask(_)&&l.config.show_unscheduled?l.templates.task_unscheduled_time(_):l.templates.task_date(x)+" - "+l.templates.task_end_date(S)},task_unscheduled_time:function(x){return""},time_picker:g(p.time_picker),link_class:function(x){return""},link_description:function(x){var S=l.getTask(x.source),_=l.getTask(x.target);return"<b>"+S.text+"</b> &ndash;  <b>"+_.text+"</b>"},drag_link:function(x,S,_,w){x=l.getTask(x);var y=l.locale.labels,C="<b>"+x.text+"</b> "+(S?y.link_start:y.link_end)+"<br/>";return _&&(C+="<b> "+(_=l.getTask(_)).text+"</b> "+(w?y.link_start:y.link_end)+"<br/>"),C},drag_link_class:function(x,S,_,w){var y="";return x&&_&&(y=" "+(l.isLinkAllowed(x,_,S,w)?"gantt_link_allow":"gantt_link_deny")),"gantt_link_tooltip"+y},tooltip_date_format:f.date_to_str("%Y-%m-%d"),tooltip_text:function(x,S,_){return`<div>Task: ${_.text}</div>
				<div>Start date: ${l.templates.tooltip_date_format(x)}</div>
				<div>End date: ${l.templates.tooltip_date_format(S)}</div>`},baseline_text:function(x,S,_){return""}})},initTemplate:u}}(n);n.$services.setService("templateLoader",function(){return o}),fi(n);var s=new Bj;s.registerProvider("global",function(){var l={min_date:n._min_date,max_date:n._max_date,selected_task:null};return n.$data&&n.$data.tasksStore&&(l.selected_task=n.$data.tasksStore.getSelectedId()),l}),n.getState=s.getState,n.$services.setService("state",function(){return s}),$e(n,Oj),n.Promise=Vj,n.env=Kr,function(l){var d=Hj.create();$e(l,d);var u,f=l.createDatastore({name:"task",type:"treeDatastore",rootId:function(){return l.config.root_id},initItem:Ye(function(_){this.defined(_.id)||(_.id=this.uid()),_.start_date&&(_.start_date=l.date.parseDate(_.start_date,"parse_date")),_.end_date&&(_.end_date=l.date.parseDate(_.end_date,"parse_date"));var w=null;(_.duration||_.duration===0)&&(_.duration=w=1*_.duration),w&&(_.start_date&&!_.end_date?_.end_date=this.calculateEndDate(_):!_.start_date&&_.end_date&&(_.start_date=this.calculateEndDate({start_date:_.end_date,duration:-_.duration,task:_}))),l.config.deadlines!==!1&&_.deadline&&(_.deadline=l.date.parseDate(_.deadline,"parse_date")),_.progress=Number(_.progress)||0,this._isAllowedUnscheduledTask(_)&&this._set_default_task_timing(_),this._init_task_timing(_),_.start_date&&_.end_date&&this.correctTaskWorkTime(_),_.$source=[],_.$target=[];var y=this.$data.tasksStore.getItem(_.id);return y&&!Dt(_.open)&&(_.$open=y.$open),_.parent===void 0&&(_.parent=this.config.root_id),_.open&&(_.$open=!0),_},l),getConfig:function(){return l.config}}),g=l.createDatastore({name:"link",initItem:Ye(function(_){return this.defined(_.id)||(_.id=this.uid()),_},l)});function p(_){var w=l.isTaskVisible(_);if(!w&&l.isTaskExists(_)){var y=l.getParent(_);l.isTaskExists(y)&&l.isTaskVisible(y)&&(y=l.getTask(y),l.isSplitTask(y)&&(w=!0))}return w}function v(_){if(l.isTaskExists(_.source)){var w=l.getTask(_.source);w.$source=w.$source||[],w.$source.push(_.id)}if(l.isTaskExists(_.target)){var y=l.getTask(_.target);y.$target=y.$target||[],y.$target.push(_.id)}}function k(_){if(l.isTaskExists(_.source)){for(var w=l.getTask(_.source),y=0;y<w.$source.length;y++)if(w.$source[y]==_.id){w.$source.splice(y,1);break}}if(l.isTaskExists(_.target)){var C=l.getTask(_.target);for(y=0;y<C.$target.length;y++)if(C.$target[y]==_.id){C.$target.splice(y,1);break}}}function x(){for(var _=null,w=l.$data.tasksStore.getItems(),y=0,C=w.length;y<C;y++)(_=w[y]).$source=[],_.$target=[];var D=l.$data.linksStore.getItems();for(y=0,C=D.length;y<C;y++)v(D[y])}function S(_){var w=_.source,y=_.target;for(var C in _.events)(function(D,I){w.attachEvent(D,function(){return y.callEvent(I,Array.prototype.slice.call(arguments))},I)})(C,_.events[C])}l.attachEvent("onDestroy",function(){f.destructor(),g.destructor()}),l.attachEvent("onLinkValidation",function(_){if(l.isLinkExists(_.id)||_.id==="predecessor_generated")return!0;for(var w=l.getTask(_.source).$source,y=0;y<w.length;y++){var C=l.getLink(w[y]),D=_.source==C.source,I=_.target==C.target,M=_.type==C.type;if(D&&I&&M)return!1}return!0}),f.attachEvent("onBeforeRefreshAll",function(){if(!f._skipTaskRecalculation)for(var _=f.getVisibleItems(),w=0;w<_.length;w++){var y=_[w];y.$index=w,y.$local_index=l.getTaskIndex(y.id),l.resetProjectDates(y)}}),f.attachEvent("onFilterItem",function(_,w){if(l.config.show_tasks_outside_timescale)return!0;var y=null,C=null;if(l.config.start_date&&l.config.end_date){if(l._isAllowedUnscheduledTask(w))return!0;if(y=l.config.start_date.valueOf(),C=l.config.end_date.valueOf(),+w.start_date>C||+w.end_date<+y)return!1}return!0}),f.attachEvent("onIdChange",function(_,w){l._update_flags(_,w);var y=l.getTask(w);f.isSilent()||(y.$split_subtask||y.rollup)&&l.eachParent(function(C){l.refreshTask(C.id)},w)}),f.attachEvent("onAfterUpdate",function(_){if(l._update_parents(_),l.getState("batchUpdate").batch_update)return!0;var w=f.getItem(_);w.$source||(w.$source=[]);for(var y=0;y<w.$source.length;y++)g.refresh(w.$source[y]);for(w.$target||(w.$target=[]),y=0;y<w.$target.length;y++)g.refresh(w.$target[y])}),f.attachEvent("onBeforeItemMove",function(_,w,y){return!Jc(_,l,f)||(console.log("The placeholder task cannot be moved to another position."),!1)}),f.attachEvent("onAfterItemMove",function(_,w,y){var C=l.getTask(_);this.getNextSibling(_)!==null?C.$drop_target=this.getNextSibling(_):this.getPrevSibling(_)!==null?C.$drop_target="next:"+this.getPrevSibling(_):C.$drop_target="next:null"}),f.attachEvent("onStoreUpdated",function(_,w,y){if(y=="delete"&&l._update_flags(_,null),!l.$services.getService("state").getState("batchUpdate").batch_update){if(l.config.fit_tasks&&y!=="paint"){var C=l.getState();ib(l);var D=l.getState();if(+C.min_date!=+D.min_date||+C.max_date!=+D.max_date)return l.render(),l.callEvent("onScaleAdjusted",[]),!0}y=="add"||y=="move"||y=="delete"?l.$layout&&(this.$config.name!="task"||y!="add"&&y!="delete"||this._skipTaskRecalculation!="lightbox"&&(this._skipTaskRecalculation=!0),l.$layout.resize()):_||g.refresh()}}),g.attachEvent("onAfterAdd",function(_,w){v(w)}),g.attachEvent("onAfterUpdate",function(_,w){x()}),g.attachEvent("onAfterDelete",function(_,w){k(w)}),g.attachEvent("onAfterSilentDelete",function(_,w){k(w)}),g.attachEvent("onBeforeIdChange",function(_,w){k(l.mixin({id:_},l.$data.linksStore.getItem(w))),v(l.$data.linksStore.getItem(w))}),g.attachEvent("onFilterItem",function(_,w){if(!l.config.show_links)return!1;var y=p(w.source),C=p(w.target);return!(!y||!C||l._isAllowedUnscheduledTask(l.getTask(w.source))||l._isAllowedUnscheduledTask(l.getTask(w.target)))&&l.callEvent("onBeforeLinkDisplay",[_,w])}),u={},l.attachEvent("onBeforeTaskDelete",function(_,w){return u[_]=rb.getSubtreeLinks(l,_),!0}),l.attachEvent("onAfterTaskDelete",function(_,w){u[_]&&l.$data.linksStore.silent(function(){for(var y in u[_])l.isLinkExists(y)&&l.$data.linksStore.removeItem(y),k(u[_][y]);u[_]=null})}),l.attachEvent("onAfterLinkDelete",function(_,w){l.isTaskExists(w.source)&&l.refreshTask(w.source),l.isTaskExists(w.target)&&l.refreshTask(w.target)}),l.attachEvent("onParse",x),S({source:g,target:l,events:{onItemLoading:"onLinkLoading",onBeforeAdd:"onBeforeLinkAdd",onAfterAdd:"onAfterLinkAdd",onBeforeUpdate:"onBeforeLinkUpdate",onAfterUpdate:"onAfterLinkUpdate",onBeforeDelete:"onBeforeLinkDelete",onAfterDelete:"onAfterLinkDelete",onIdChange:"onLinkIdChange"}}),S({source:f,target:l,events:{onItemLoading:"onTaskLoading",onBeforeAdd:"onBeforeTaskAdd",onAfterAdd:"onAfterTaskAdd",onBeforeUpdate:"onBeforeTaskUpdate",onAfterUpdate:"onAfterTaskUpdate",onBeforeDelete:"onBeforeTaskDelete",onAfterDelete:"onAfterTaskDelete",onIdChange:"onTaskIdChange",onBeforeItemMove:"onBeforeTaskMove",onAfterItemMove:"onAfterTaskMove",onFilterItem:"onBeforeTaskDisplay",onItemOpen:"onTaskOpened",onItemClose:"onTaskClosed",onBeforeSelect:"onBeforeTaskSelected",onAfterSelect:"onTaskSelected",onAfterUnselect:"onTaskUnselected"}}),l.$data={tasksStore:f,linksStore:g}}(n),n.dataProcessor=Gj,n.createDataProcessor=qj,function(l){l.ext||(l.ext={});for(var d=[Yj,Kj,Xj,Qj,e2,t2,o2,s2,a2],u=0;u<d.length;u++)d[u]&&d[u](l)}(n),function(l){l.getGridColumn=function(d){for(var u=l.config.columns,f=0;f<u.length;f++)if(u[f].name==d)return u[f];return null},l.getGridColumns=function(){return l.config.columns.slice()}}(n),function(l){l.isReadonly=function(d){return typeof d!="number"&&typeof d!="string"||!l.isTaskExists(d)||(d=l.getTask(d)),(!d||!d[this.config.editable_property])&&(d&&d[this.config.readonly_property]||this.config.readonly)}}(n),l2(n),function(l){var d=new OD(l),u=new LD(d);$e(l,u2(d,u))}(n),h2(n),function(l){l.getTaskType=function(d){return"task"}}(n),function(l){function d(){return l._cached_functions.update_if_changed(l),l._cached_functions.active||l._cached_functions.activate(),!0}l._cached_functions={cache:{},mode:!1,critical_path_mode:!1,wrap_methods:function(f,g){if(g._prefetch_originals)for(var p in g._prefetch_originals)g[p]=g._prefetch_originals[p];for(g._prefetch_originals={},p=0;p<f.length;p++)this.prefetch(f[p],g)},prefetch:function(f,g){var p=g[f];if(p){var v=this;g._prefetch_originals[f]=p,g[f]=function(){for(var k=new Array(arguments.length),x=0,S=arguments.length;x<S;x++)k[x]=arguments[x];if(v.active){var _=v.get_arguments_hash(Array.prototype.slice.call(k));v.cache[f]||(v.cache[f]={});var w=v.cache[f];if(v.has_cached_value(w,_))return v.get_cached_value(w,_);var y=p.apply(this,k);return v.cache_value(w,_,y),y}return p.apply(this,k)}}return p},cache_value:function(f,g,p){this.is_date(p)&&(p=new Date(p)),f[g]=p},has_cached_value:function(f,g){return f.hasOwnProperty(g)},get_cached_value:function(f,g){var p=f[g];return this.is_date(p)&&(p=new Date(p)),p},is_date:function(f){return f&&f.getUTCDate},get_arguments_hash:function(f){for(var g=[],p=0;p<f.length;p++)g.push(this.stringify_argument(f[p]));return"("+g.join(";")+")"},stringify_argument:function(f){return(f.id?f.id:this.is_date(f)?f.valueOf():f)+""},activate:function(){this.clear(),this.active=!0},deactivate:function(){this.clear(),this.active=!1},clear:function(){this.cache={}},setup:function(f){var g=[],p=["_isProjectEnd","_getProjectEnd","_getSlack"];this.mode=="auto"?f.config.highlight_critical_path&&(g=p):this.mode===!0&&(g=p),this.wrap_methods(g,f)},update_if_changed:function(f){(this.critical_path_mode!=f.config.highlight_critical_path||this.mode!==f.config.optimize_render)&&(this.critical_path_mode=f.config.highlight_critical_path,this.mode=f.config.optimize_render,this.setup(f))}},l.attachEvent("onBeforeGanttRender",d),l.attachEvent("onBeforeDataRender",d),l.attachEvent("onBeforeSmartRender",function(){d()}),l.attachEvent("onBeforeParse",d),l.attachEvent("onDataRender",function(){l._cached_functions.deactivate()});var u=null;l.attachEvent("onSmartRender",function(){u&&clearTimeout(u),u=setTimeout(function(){l._cached_functions.deactivate()},1e3)}),l.attachEvent("onBeforeGanttReady",function(){return l._cached_functions.update_if_changed(l),!0})}(n),f2(n),function(l){l.destructor=function(){for(var d in this.clearAll(),this.callEvent("onDestroy",[]),this._getDatastores().forEach(function(u){u.destructor()}),this.$root&&delete this.$root.gantt,this._eventRemoveAll&&this._eventRemoveAll(),this.$layout&&this.$layout.destructor(),this.resetLightbox&&this.resetLightbox(),this.ext.inlineEditors&&this.ext.inlineEditors.destructor&&this.ext.inlineEditors.destructor(),this._dp&&this._dp.destructor&&this._dp.destructor(),this.$services.destructor(),this.detachAllEvents(),this)d.indexOf("$")===0&&delete this[d];this.$destroyed=!0}}(n);var a=new fb({en:w2,ar:g2,be:p2,ca:m2,cn:_2,cs:v2,da:y2,de:b2,el:x2,es:k2,fa:E2,fi:C2,fr:S2,he:T2,hr:D2,hu:I2,id:M2,it:A2,jp:N2,kr:P2,nb:R2,nl:O2,no:L2,pl:F2,pt:$2,ro:j2,ru:B2,si:V2,sk:z2,sv:H2,tr:U2,ua:W2});return n.i18n={addLocale:a.addLocale,setLocale:function(l){if(typeof l=="string"){var d=a.getLocale(l);d||(d=a.getLocale("en")),n.locale=d}else if(l)if(n.locale)for(var u in l)l[u]&&typeof l[u]=="object"?(n.locale[u]||(n.locale[u]={}),n.mixin(n.locale[u],l[u],!0)):n.locale[u]=l[u];else n.locale=l;let f=n.locale.labels;f.gantt_save_btn=f.gantt_save_btn||f.icon_save,f.gantt_cancel_btn=f.gantt_cancel_btn||f.icon_cancel,f.gantt_delete_btn=f.gantt_delete_btn||f.icon_delete},getLocale:a.getLocale},n.i18n.setLocale("en"),n}function Z2(e){var n="data-dhxbox",t=null;function i(_,w){var y=_.callback;k.hide(_.box),t=_.box=null,y&&y(w)}function r(_){if(t){var w=_.which||_.keyCode,y=!1;if(x.keyboard){if(w==13||w==32){var C=_.target||_.srcElement;Cn(C).indexOf("gantt_popup_button")>-1&&C.click?C.click():(i(t,!0),y=!0)}w==27&&(i(t,!1),y=!0)}return y?(_.preventDefault&&_.preventDefault(),!(_.cancelBubble=!0)):void 0}}var o=ns(e.$root)||document;function s(_){s.cover||(s.cover=document.createElement("div"),s.cover.onkeydown=r,s.cover.className="dhx_modal_cover",document.body.appendChild(s.cover)),s.cover.style.display=_?"inline-block":"none"}function a(_,w,y){return"<div "+e._waiAria.messageButtonAttrString(_)+" class='gantt_popup_button "+("gantt_"+w.toLowerCase().replace(/ /g,"_")+"_button")+"' data-result='"+y+"' result='"+y+"' ><div>"+_+"</div></div>"}function l(){for(var _=[].slice.apply(arguments,[0]),w=0;w<_.length;w++)if(_[w])return _[w]}function d(_,w,y){var C=_.tagName?_:function(M,P,R){var F=document.createElement("div"),j=hi();e._waiAria.messageModalAttr(F,j),F.className=" gantt_modal_box gantt-"+M.type,F.setAttribute(n,1);var H="";if(M.width&&(F.style.width=M.width),M.height&&(F.style.height=M.height),M.title&&(H+='<div class="gantt_popup_title">'+M.title+"</div>"),H+='<div class="gantt_popup_text" id="'+j+'"><span>'+(M.content?"":M.text)+'</span></div><div  class="gantt_popup_controls">',P&&(H+=a(l(M.ok,e.locale.labels.message_ok,"OK"),"ok",!0)),R&&(H+=a(l(M.cancel,e.locale.labels.message_cancel,"Cancel"),"cancel",!1)),M.buttons)for(var G=0;G<M.buttons.length;G++){var q=M.buttons[G];H+=typeof q=="object"?a(q.label,q.css||"gantt_"+q.label.toLowerCase()+"_button",q.value||G):a(q,q,G)}if(H+="</div>",F.innerHTML=H,M.content){var V=M.content;typeof V=="string"&&(V=document.getElementById(V)),V.style.display=="none"&&(V.style.display=""),F.childNodes[M.title?1:0].appendChild(V)}return F.onclick=function(ue){var J=ue.target||ue.srcElement;if(J.className||(J=J.parentNode),$i(J,".gantt_popup_button")){var he=J.getAttribute("data-result");i(M,he=he=="true"||he!="false"&&he)}},M.box=F,(P||R)&&(t=M),F}(_,w,y);_.hidden||s(!0),document.body.appendChild(C);var D=Math.abs(Math.floor(((window.innerWidth||document.documentElement.offsetWidth)-C.offsetWidth)/2)),I=Math.abs(Math.floor(((window.innerHeight||document.documentElement.offsetHeight)-C.offsetHeight)/2));return _.position=="top"?C.style.top="-3px":C.style.top=I+"px",C.style.left=D+"px",C.onkeydown=r,k.focus(C),_.hidden&&k.hide(C),e.callEvent("onMessagePopup",[C]),C}function u(_){return d(_,!0,!1)}function f(_){return d(_,!0,!0)}function g(_){return d(_)}function p(_,w,y){return typeof _!="object"&&(typeof w=="function"&&(y=w,w=""),_={text:_,type:w,callback:y}),_}function v(_,w,y,C){return typeof _!="object"&&(_={text:_,type:w,expire:y,id:C}),_.id=_.id||hi(),_.expire=_.expire||x.expire,_}e.event(o,"keydown",r,!0);var k=function(){var _=p.apply(this,arguments);return _.type=_.type||"alert",g(_)};k.hide=function(_){for(;_&&_.getAttribute&&!_.getAttribute(n);)_=_.parentNode;_&&(_.parentNode.removeChild(_),s(!1),e.callEvent("onAfterMessagePopup",[_]))},k.focus=function(_){setTimeout(function(){var w=Kc(_);w.length&&w[0].focus&&w[0].focus()},1)};var x=function(_,w,y,C){switch((_=v.apply(this,arguments)).type=_.type||"info",_.type.split("-")[0]){case"alert":return u(_);case"confirm":return f(_);case"modalbox":return g(_);default:return function(D){x.area||(x.area=document.createElement("div"),x.area.className="gantt_message_area",x.area.style[x.position]="5px"),mn(x.area,document.body)||document.body.appendChild(x.area),x.hide(D.id);var I=document.createElement("div");return I.innerHTML="<div>"+D.text+"</div>",I.className="gantt-info gantt-"+D.type,I.onclick=function(){x.hide(D.id),D=null},e._waiAria.messageInfoAttr(I),x.position=="bottom"&&x.area.firstChild?x.area.insertBefore(I,x.area.firstChild):x.area.appendChild(I),D.expire>0&&(x.timers[D.id]=window.setTimeout(function(){x&&x.hide(D.id)},D.expire)),x.pull[D.id]=I,I=null,D.id}(_)}};x.seed=new Date().valueOf(),x.uid=hi,x.expire=4e3,x.keyboard=!0,x.position="top",x.pull={},x.timers={},x.hideAll=function(){for(var _ in x.pull)x.hide(_)},x.hide=function(_){var w=x.pull[_];w&&w.parentNode&&(window.setTimeout(function(){w.parentNode.removeChild(w),w=null},2e3),w.className+=" hidden",x.timers[_]&&window.clearTimeout(x.timers[_]),delete x.pull[_])};var S=[];return e.attachEvent("onMessagePopup",function(_){S.push(_)}),e.attachEvent("onAfterMessagePopup",function(_){for(var w=0;w<S.length;w++)S[w]===_&&(S.splice(w,1),w--)}),e.attachEvent("onDestroy",function(){s.cover&&s.cover.parentNode&&s.cover.parentNode.removeChild(s.cover);for(var _=0;_<S.length;_++)S[_].parentNode&&S[_].parentNode.removeChild(S[_]);S=null,x.area&&x.area.parentNode&&x.area.parentNode.removeChild(x.area),x=null}),{alert:function(){var _=p.apply(this,arguments);return _.type=_.type||"confirm",u(_)},confirm:function(){var _=p.apply(this,arguments);return _.type=_.type||"alert",f(_)},message:x,modalbox:k}}function aD(e,n){var t=this.$config[e];return t?(t.$extendedConfig||(t.$extendedConfig=!0,Object.setPrototypeOf(t,n)),t):n}function Y2(e,n){var t,i,r;$e(e,(t=n,{$getConfig:function(){return i||(i=t?t.$getConfig():this.$gantt.config),this.$config.config?aD.call(this,"config",i):i},$getTemplates:function(){return r||(r=t?t.$getTemplates():this.$gantt.templates),this.$config.templates?aD.call(this,"templates",r):r}}))}var K2=function(e){var n={},t={};function i(r,o,s,a){var l=n[r];if(!l||!l.create)return!1;r!="resizer"||s.mode||(a.$config.cols?s.mode="x":s.mode="y"),r!="viewcell"||s.view!="scrollbar"||s.scroll||(a.$config.cols?s.scroll="y":s.scroll="x"),(s=ln(s)).id||t[s.view]||(s.id=s.view),s.id&&!s.css&&(s.css=s.id+"_cell");var d=new l.create(o,s,this,e);return l.configure&&l.configure(d),Y2(d,a),d.$id||(d.$id=s.id||e.uid()),d.$parent||typeof o!="object"||(d.$parent=o),d.$config||(d.$config=s),t[d.$id]&&(d.$id=e.uid()),t[d.$id]=d,d}return{initUI:function(r,o){var s="cell";return r.view?s="viewcell":r.resizer?s="resizer":r.rows||r.cols?s="layout":r.views&&(s="multiview"),i.call(this,s,null,r,o)},reset:function(){t={}},registerView:function(r,o,s){n[r]={create:o,configure:s}},createView:i,getView:function(r){return t[r]}}},J2=function(e){return function(n){var t={click:{},doubleclick:{},contextMenu:{}};function i(g,p,v,k){t[g][p]||(t[g][p]=[]),t[g][p].push({handler:v,root:k})}function r(g){g=g||window.event;var p=n.locate(g),v=s(g,t.click),k=!0;if(p!==null?k=!n.checkEvent("onTaskClick")||n.callEvent("onTaskClick",[p,g]):n.callEvent("onEmptyClick",[g]),k){if(!a(v,g,p))return;switch(g.target.nodeName){case"SELECT":case"INPUT":return}p&&n.getTask(p)&&!n._multiselect&&n.config.select_task&&n.selectTask(p)}}function o(g){var p=(g=g||window.event).target||g.srcElement,v=n.locate(p),k=n.locate(p,n.config.link_attribute),x=!n.checkEvent("onContextMenu")||n.callEvent("onContextMenu",[v,k,g]);return x||(g.preventDefault?g.preventDefault():g.returnValue=!1),x}function s(g,p){for(var v=g.target||g.srcElement,k=[];v;){var x=e.getClassName(v);if(x){x=x.split(" ");for(var S=0;S<x.length;S++)if(x[S]&&p[x[S]])for(var _=p[x[S]],w=0;w<_.length;w++)_[w].root&&!e.isChildOf(v,_[w].root)||k.push(_[w].handler)}v=v.parentNode}return k}function a(g,p,v){for(var k=!0,x=0;x<g.length;x++){var S=g[x].call(n,p,v,p.target||p.srcElement);k=k&&!(S!==void 0&&S!==!0)}return k}function l(g){g=g||window.event;var p=n.locate(g),v=s(g,t.doubleclick),k=!n.checkEvent("onTaskDblClick")||p===null||n.callEvent("onTaskDblClick",[p,g]);if(k){if(!a(v,g,p))return;p!==null&&n.getTask(p)&&k&&n.config.details_on_dblclick&&!n.isReadonly(p)&&n.showLightbox(p)}}function d(g){if(n.checkEvent("onMouseMove")){var p=n.locate(g);n._last_move_event=g,n.callEvent("onMouseMove",[p,g])}}var u=n._createDomEventScope();function f(g){u.detachAll(),g&&(u.attach(g,"click",r),u.attach(g,"dblclick",l),u.attach(g,"mousemove",d),u.attach(g,"contextmenu",o))}return{reset:f,global:function(g,p,v){i(g,p,v,null)},delegate:i,detach:function(g,p,v,k){if(t[g]&&t[g][p]){for(var x=t[g],S=x[p],_=0;_<S.length;_++)S[_].root==k&&(S.splice(_,1),_--);S.length||delete x[p]}},callHandler:function(g,p,v,k){var x=t[g][p];if(x)for(var S=0;S<x.length;S++)(v||x[S].root)&&x[S].root!==v||x[S].handler.apply(this,k)},onDoubleClick:l,onMouseMove:d,onContextMenu:o,onClick:r,destructor:function(){f(),t=null,u=null}}}}(CD),X2={init:J2};function lD(e,n,t){return!!n&&!(n.left>e.x_end||n.left+n.width<e.x)&&!(n.top>e.y_end||n.top+n.height<e.y)}function Yc(e){return e.config.smart_rendering&&e._smart_render}function vg(e,n,t){return{top:n.getItemTop(e.id),height:n.getItemHeight(e.id),left:0,right:1/0}}function Zr(e,n,t,i,r){var o=n.getItemIndexByTopPosition(r.y)||0,s=n.getItemIndexByTopPosition(r.y_end)||i.count(),a=Math.max(0,o-1),l=Math.min(i.count(),s+1);let d=[];if(e.config.keyboard_navigation&&e.getSelectedId()&&e.getTask(e.getSelectedId()).$expanded_branch&&d.push(e.getSelectedId()),e.$ui.getView("grid")&&e.ext.inlineEditors&&e.ext.inlineEditors.getState().id){let u=e.ext.inlineEditors.getState().id;i.exists(u)&&d.push(u)}return{start:a,end:l,ids:d}}var Q2=function(e){var n=function(t){var i={},r={};function o(a){var l=null;return typeof a.view=="string"?l=t.$ui.getView(a.view):a.view&&(l=a.view),l}function s(a,l,d){if(r[a])return r[a];l.renderer||t.assert(!1,"Invalid renderer call");var u=null,f=null,g=null,p=null,v=null;typeof l.renderer=="function"?(u=l.renderer,g=vg):(u=l.renderer.render,f=l.renderer.update,p=l.renderer.onrender,l.renderer.isInViewPort?v=l.renderer.isInViewPort:g=l.renderer.getRectangle,g||g===null||(g=vg));var k=l.filter;return d&&d.setAttribute(t.config.layer_attribute,!0),r[a]={render_item:function(x,S,_,w,y){if(S=S||d,!k||k(x)){var C=w||o(l),D=y||(C?C.$getConfig():null),I=_;!I&&D&&D.smart_rendering&&(I=C.getViewPort());var M=null;!Yc(t)&&(g||v)&&I?(v?v(x,I,C,D,t):lD(I,g(x,C,D,t)))&&(M=u.call(t,x,C,D,I)):M=u.call(t,x,C,D,I),this.append(x,M,S);var P=S.nodeType==11;p&&!P&&M&&p.call(t,x,M,C)}else this.remove_item(x.id)},clear:function(x){this.rendered=i[a]={},l.append||this.clear_container(x)},clear_container:function(x){(x=x||d)&&(x.innerHTML="")},get_visible_range:function(x){var S,_,w=o(l),y=w?w.$getConfig():null;return y&&y.smart_rendering&&(S=w.getViewPort()),w&&S&&(typeof l.renderer=="function"?_=Zr(t,w,0,x,S):l.renderer&&l.renderer.getVisibleRange&&(_=l.renderer.getVisibleRange(t,w,y,x,S))),_||(_={start:0,end:x.count()}),_},prepare_data:function(x){if(l.renderer&&l.renderer.prepareData)return l.renderer.prepareData(x,t,l)},render_items:function(x,S){S=S||d;var _=document.createDocumentFragment();this.clear(S);var w=null,y=o(l),C=y?y.$getConfig():null;C&&C.smart_rendering&&(w=y.getViewPort());for(var D=0,I=x.length;D<I;D++)this.render_item(x[D],_,w,y,C);S.appendChild(_,S);var M={};x.forEach(function(F){M[F.id]=F});var P={};if(p){var R={};for(var D in this.rendered)P[D]||(R[D]=this.rendered[D],p.call(t,M[D],this.rendered[D],y))}},update_items:function(x,S){var _=o(l),w=_?_.$getConfig():null;if(_&&_.$getConfig().smart_rendering&&!Yc(t)&&this.rendered&&(g||v)){S=S||d;var y=document.createDocumentFragment(),C=null;_&&(C=_.getViewPort());var D={};x.forEach(function(q){D[q.id]=q});var I={},M={};for(var P in this.rendered)M[P]=!0,I[P]=!0;for(var R={},F=(P=0,x.length);P<F;P++){var j=x[P],H=this.rendered[j.id];M[j.id]=!1,H&&H.parentNode?(v?v(j,C,_,w,t):lD(C,g(j,_,w,t)))?(f&&f.call(t,j,H,_,w,C),this.restore(j,y)):M[j.id]=!0:(R[x[P].id]=!0,this.render_item(x[P],y,C,_,w))}for(var P in M)M[P]&&this.hide(P);if(y.childNodes.length&&S.appendChild(y,S),p){var G={};for(var P in this.rendered)I[P]&&!R[P]||(G[P]=this.rendered[P],p.call(t,D[P],this.rendered[P],_))}}},append:function(x,S,_){this.rendered&&(S?(this.rendered[x.id]&&this.rendered[x.id].parentNode?this.replace_item(x.id,S):_.appendChild(S),this.rendered[x.id]=S):this.rendered[x.id]&&this.remove_item(x.id))},replace_item:function(x,S){var _=this.rendered[x];_&&_.parentNode&&_.parentNode.replaceChild(S,_),this.rendered[x]=S},remove_item:function(x){this.hide(x),delete this.rendered[x]},hide:function(x){var S=this.rendered[x];S&&S.parentNode&&S.parentNode.removeChild(S),delete this.rendered[x]},restore:function(x,S){var _=this.rendered[x.id];_?_.parentNode||this.append(x,_,S||d):this.render_item(x,S||d)},change_id:function(x,S){this.rendered[S]=this.rendered[x],delete this.rendered[x]},rendered:i[a],node:d,destructor:function(){this.clear(),delete r[a],delete i[a]}},r[a]}return{getRenderer:s,clearRenderers:function(){for(var a in r)s(a).destructor()}}}(e);return{createGroup:function(t,i,r,o){var s={tempCollection:[],renderers:{},container:t,filters:[],getLayers:function(){this._add();var a=[];for(var l in this.renderers)a.push(this.renderers[l]);return a},getLayer:function(a){return this.renderers[a]},_add:function(a){a&&(a.id=a.id||hi(),this.tempCollection.push(a));let l=this.container(),d=this.tempCollection;for(let u=0;u<d.length;u++){if(a=d[u],!(this.container()||a&&a.container&&a.container.isConnected))continue;let f=a.container,g=a.id,p=a.topmost;if(!f.parentNode)if(p)l.appendChild(f);else{let v=i?i():l.firstChild;v&&v.parentNode==l?l.insertBefore(f,v):l.appendChild(f)}this.renderers[g]=n.getRenderer(g,a,f),o&&o(a,e),this.tempCollection.splice(u,1),u--}},addLayer:function(a){if(a){typeof a=="function"&&(a={renderer:a}),a.filter===void 0?a.filter=cD(r||[]):a.filter instanceof Array&&(a.filter.push(r),a.filter=cD(a.filter)),a.container||(a.container=document.createElement("div"));var l=this;a.requestUpdate=function(){e.config.smart_rendering&&!Yc(e)&&l.renderers[a.id]&&l.onUpdateRequest(l.renderers[a.id])}}return this._add(a),a?a.id:void 0},onUpdateRequest:function(a){},eachLayer:function(a){for(var l in this.renderers)a(this.renderers[l])},removeLayer:function(a){this.renderers[a]&&(this.renderers[a].destructor(),delete this.renderers[a])},clear:function(){for(var a in this.renderers)this.renderers[a].destructor();this.renderers={}}};return e.attachEvent("onDestroy",function(){s.clear(),s=null}),s}}};function cD(e){return e instanceof Array||(e=Array.prototype.slice.call(arguments,0)),function(n){for(var t=!0,i=0,r=e.length;i<r;i++){var o=e[i];o&&(t=t&&o(n.id,n)!==!1)}return t}}function dD(e,n,t){if(!e.start_date||!e.end_date)return null;var i=n.posFromDate(e.start_date),r=n.posFromDate(e.end_date),o=Math.min(i,r)-200,s=Math.max(i,r)+200;return{top:n.getItemTop(e.id),height:n.getItemHeight(e.id),left:o,width:s-o}}function FD(){var e=[],n=!1;function t(){e=[],n=!1}function i(o,s,a){s.$getConfig(),o.getVisibleItems().forEach(function(l){var d=function(u,f,g,p){if(!p.isTaskExists(u.source)||!p.isTaskExists(u.target))return null;var v=dD(p.getTask(u.source),f),k=dD(p.getTask(u.target),f);if(!v||!k)return null;var x=100,S=Math.min(v.left,k.left)-x,_=Math.max(v.left+v.width,k.left+k.width)+x,w=Math.min(v.top,k.top)-x,y=Math.max(v.top+v.height,k.top+k.height)+x;return{top:w,height:y-w,bottom:y,left:S,width:_-S,right:_}}(l,s,0,a);d&&e.push({id:l.id,rec:d})}),e.sort(function(l,d){return l.rec.right<d.rec.right?-1:1}),n=!0}var r=!1;return function(o,s,a,l,d){(function(v){r||(r=!0,v.attachEvent("onPreFilter",t),v.attachEvent("onStoreUpdated",t),v.attachEvent("onClearAll",t),v.attachEvent("onBeforeStoreUpdate",t))})(l),n||i(l,s,o);for(var u=[],f=0;f<e.length;f++){var g=e[f],p=g.rec;p.right<d.x||p.left<d.x_end&&p.right>d.x&&p.top<d.y_end&&p.bottom>d.y&&u.push(g.id)}return{ids:u}}}function $D(e,n,t,i,r){var o=t.$gantt.getTask(e.source),s=t.$gantt.getTask(e.target),a=t.getItemTop(o.id),l=t.getItemHeight(o.id),d=t.getItemTop(s.id),u=t.getItemHeight(s.id);if(n.y>a+l&&n.y>d+u||n.y_end<d&&n.y_end<a)return!1;var f=t.posFromDate(o.start_date),g=t.posFromDate(o.end_date),p=t.posFromDate(s.start_date),v=t.posFromDate(s.end_date);if(f>g){var k=g;g=f,f=k}return p>v&&(k=v,v=p,p=k),f+=-100,g+=100,p+=-100,v+=100,!(n.x>g&&n.x>v)&&!(n.x_end<f&&n.x_end<p)}function eB(e,n){if(e.view){var t=e.view;typeof t=="string"&&(t=n.$ui.getView(t)),t&&t.attachEvent&&t.attachEvent("onScroll",function(){n.$services.getService("state").getState("batchUpdate").batch_update||t.$config.$skipSmartRenderOnScroll||e.requestUpdate&&e.requestUpdate()})}}var Xc=function(){function e(n,t,i,r){n&&(this.$container=yb(n),this.$parent=n),this.$config=$e(t,{headerHeight:33}),this.$gantt=r,this.$domEvents=r._createDomEventScope(),this.$id=t.id||"c"+hi(),this.$name="cell",this.$factory=i,this.$externalComponent=null,fi(this)}return e.prototype.destructor=function(){this.$parent=this.$container=this.$view=null,this.$gantt.$services.getService("mouseEvents").detach("click","gantt_header_arrow",this._headerClickHandler),this.$domEvents.detachAll(),this.callEvent("onDestroy",[]),this.detachAllEvents()},e.prototype.cell=function(n){return null},e.prototype.scrollTo=function(n,t){var i=this.$view;this.$config.html&&(i=this.$view.firstChild),1*n==n&&(i.scrollLeft=n),1*t==t&&(i.scrollTop=t)},e.prototype.clear=function(){this.getNode().innerHTML="",this.getNode().className="gantt_layout_content",this.getNode().style.padding="0"},e.prototype.resize=function(n){if(this.$parent)return this.$parent.resize(n);n===!1&&(this.$preResize=!0);var t=this.$container,i=t.offsetWidth,r=t.offsetHeight,o=this.getSize();t===document.body&&(i=document.body.offsetWidth,r=document.body.offsetHeight),i<o.minWidth&&(i=o.minWidth),i>o.maxWidth&&(i=o.maxWidth),r<o.minHeight&&(r=o.minHeight),r>o.maxHeight&&(r=o.maxHeight),this.setSize(i,r),this.$preResize,this.$preResize=!1},e.prototype.hide=function(){this._hide(!0),this.resize()},e.prototype.show=function(n){this._hide(!1),n&&this.$parent&&this.$parent.show(),this.resize()},e.prototype._hide=function(n){if(n===!0&&this.$view.parentNode)this.$view.parentNode.removeChild(this.$view);else if(n===!1&&!this.$view.parentNode){var t=this.$parent.cellIndex(this.$id);this.$parent.moveView(this,t)}this.$config.hidden=n},e.prototype.$toHTML=function(n,t){n===void 0&&(n=""),t=[t||"",this.$config.css||""].join(" ");var i=this.$config,r="";if(i.raw)n=typeof i.raw=="string"?i.raw:"";else{if(!n){let o=null;o=typeof i.html=="function"?i.html():i.html,this.$gantt.config.external_render&&this.$gantt.config.external_render.isElement(o)&&(this.$externalComponent=o,o=null),n="<div class='gantt_layout_content' "+(t?" class='"+t+"' ":"")+" >"+(o||"")+"</div>"}i.header&&(r="<div class='gantt_layout_header'>"+(i.canCollapse?"<div class='gantt_layout_header_arrow'></div>":"")+"<div class='gantt_layout_header_content'>"+i.header+"</div></div>")}return"<div class='gantt_layout_cell "+t+"' data-cell-id='"+this.$id+"'>"+r+n+"</div>"},e.prototype.$fill=function(n,t){this.$view=n,this.$parent=t,this.init()},e.prototype.getNode=function(){return this.$view.querySelector("gantt_layout_cell")||this.$view},e.prototype.init=function(){var n=this;this._headerClickHandler=function(t){Gn(t,"data-cell-id")==n.$id&&n.toggle()},this.$gantt.$services.getService("mouseEvents").delegate("click","gantt_header_arrow",this._headerClickHandler),this.callEvent("onReady",[])},e.prototype.toggle=function(){this.$config.collapsed=!this.$config.collapsed,this.resize()},e.prototype.getSize=function(){var n={height:this.$config.height||0,width:this.$config.width||0,gravity:this.$config.gravity||1,minHeight:this.$config.minHeight||0,minWidth:this.$config.minWidth||0,maxHeight:this.$config.maxHeight||1e11,maxWidth:this.$config.maxWidth||1e11};if(this.$config.collapsed){var t=this.$config.mode==="x";n[t?"width":"height"]=n[t?"maxWidth":"maxHeight"]=this.$config.headerHeight}return n},e.prototype.getContentSize=function(){var n=this.$lastSize.contentX;n!==1*n&&(n=this.$lastSize.width);var t=this.$lastSize.contentY;return t!==1*t&&(t=this.$lastSize.height),{width:n,height:t}},e.prototype._getBorderSizes=function(){var n={top:0,right:0,bottom:0,left:0,horizontal:0,vertical:0};return this._currentBorders&&(this._currentBorders[this._borders.left]&&(n.left=1,n.horizontal++),this._currentBorders[this._borders.right]&&(n.right=1,n.horizontal++),this._currentBorders[this._borders.top]&&(n.top=1,n.vertical++),this._currentBorders[this._borders.bottom]&&(n.bottom=1,n.vertical++)),n},e.prototype.setSize=function(n,t){this.$view.style.width=n+"px",this.$view.style.height=t+"px";var i=this._getBorderSizes(),r=t-i.vertical,o=n-i.horizontal;this.$lastSize={x:n,y:t,contentX:o,contentY:r},this.$config.header?this._sizeHeader():this._sizeContent()},e.prototype._borders={left:"gantt_layout_cell_border_left",right:"gantt_layout_cell_border_right",top:"gantt_layout_cell_border_top",bottom:"gantt_layout_cell_border_bottom"},e.prototype._setBorders=function(n,t){t||(t=this);var i=t.$view;for(var r in this._borders)mg(i,this._borders[r]);typeof n=="string"&&(n=[n]);var o={};for(r=0;r<n.length;r++)Da(i,n[r]),o[n[r]]=!0;t._currentBorders=o},e.prototype._sizeContent=function(){var n=this.$view.childNodes[0];n&&n.className=="gantt_layout_content"&&(n.style.height=this.$lastSize.contentY+"px")},e.prototype._sizeHeader=function(){var n=this.$lastSize;n.contentY-=this.$config.headerHeight;var t=this.$view.childNodes[0],i=this.$view.childNodes[1],r=this.$config.mode==="x";if(this.$config.collapsed)if(i.style.display="none",r){t.className="gantt_layout_header collapsed_x",t.style.width=n.y+"px";var o=Math.floor(n.y/2-n.x/2);t.style.transform="rotate(90deg) translate("+o+"px, "+o+"px)",i.style.display="none"}else t.className="gantt_layout_header collapsed_y";else t.className=r?"gantt_layout_header":"gantt_layout_header vertical",t.style.width="auto",t.style.transform="",i.style.display="",i.style.height=n.contentY+"px";t.style.height=this.$config.headerHeight+"px"},e}();function gt(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t]);function i(){this.constructor=e}e.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}var jD=function(e){function n(t,i,r){var o=e.apply(this,arguments)||this;return t&&(o.$root=!0),o._parseConfig(i),o.$name="layout",o}return gt(n,e),n.prototype.destructor=function(){this.$container&&this.$view&&bD(this.$view);for(var t=0;t<this.$cells.length;t++)this.$cells[t].destructor();this.$cells=[],e.prototype.destructor.call(this)},n.prototype._resizeScrollbars=function(t,i){var r=!1,o=[],s=[];let a=[];function l(v){v.$parent.show(),r=!0,o.push(v)}function d(v){v.$parent.hide(),r=!0,s.push(v)}for(var u,f=0;f<i.length;f++)t[(u=i[f]).$config.scroll]?d(u):u.shouldHide()?a.push(u):u.shouldShow()?l(u):u.isVisible()?o.push(u):s.push(u);var g={};for(f=0;f<o.length;f++)o[f].$config.group&&(g[o[f].$config.group]=!0);for(a.forEach(function(v){v.$config.group&&g[v.$config.group]||d(v)}),f=0;f<s.length;f++)if((u=s[f]).$config.group&&g[u.$config.group]){l(u);for(var p=0;p<o.length;p++)if(o[p]==u){this.$gantt.$scrollbarRepaint=!0;break}}return r},n.prototype.getScrollbarsInfo=function(){let t=this.getCellsByType("scroller"),i=[];return t.forEach(r=>{let o={},{visible:s,direction:a,size:l,scrollSize:d,position:u}=r.getScrollState(),f=r._getLinkedViews().map(g=>g.$config.id);o.id=r.$id,o.visible=s,o.boundViews=f,a==="x"?(o.x=l,o.x_inner=d,o.x_pos=u||0):(o.y=l,o.y_inner=d,o.y_pos=u||0),i.push(o)}),i},n.prototype._syncCellSizes=function(t,i){if(t){var r={};return this._eachChild(function(o){o.$config.group&&o.$name!="scrollbar"&&o.$name!="resizer"&&(r[o.$config.group]||(r[o.$config.group]=[]),r[o.$config.group].push(o))}),r[t]&&this._syncGroupSize(r[t],i),r[t]}},n.prototype._syncGroupSize=function(t,i){if(t.length)for(var r=t[0].$parent._xLayout?"width":"height",o=t[0].$parent.getNextSibling(t[0].$id)?1:-1,s=i.value,a=i.isGravity,l=0;l<t.length;l++){var d=t[l].getSize(),u=o>0?t[l].$parent.getNextSibling(t[l].$id):t[l].$parent.getPrevSibling(t[l].$id);u.$name=="resizer"&&(u=o>0?u.$parent.getNextSibling(u.$id):u.$parent.getPrevSibling(u.$id));var f=u.getSize();if(a)t[l].$config.gravity=s;else if(u[r]){var g=d.gravity+f.gravity,p=d[r]+f[r],v=g/p;t[l].$config.gravity=v*s,u.$config[r]=p-s,u.$config.gravity=g-v*s}else t[l].$config[r]=s;var k=this.$gantt.$ui.getView("grid");!k||t[l].$content!==k||k.$config.scrollable||a||(this.$gantt.config.grid_width=s)}},n.prototype.resize=function(t){var i=!1;if(this.$root&&!this._resizeInProgress&&(this.callEvent("onBeforeResize",[]),i=!0,this._resizeInProgress=!0),e.prototype.resize.call(this,!0),e.prototype.resize.call(this,!1),i){var r=[];r=(r=(r=r.concat(this.getCellsByType("viewCell"))).concat(this.getCellsByType("viewLayout"))).concat(this.getCellsByType("hostCell"));for(var o=this.getCellsByType("scroller"),s=0;s<r.length;s++)r[s].$config.hidden||r[s].setContentSize();var a=this._getAutosizeMode(this.$config.autosize),l=this._resizeScrollbars(a,o);if(this.$config.autosize&&(this.autosize(this.$config.autosize),r.forEach(function(d){let u=d.$parent,f=u.getContentSize(a);a.x&&(u.$config.$originalWidthStored||(u.$config.$originalWidthStored=!0,u.$config.$originalWidth=u.$config.width),u.$config.width=f.width),a.y&&(u.$config.$originalHeightStored||(u.$config.$originalHeightStored=!0,u.$config.$originalHeight=u.$config.height),u.$config.height=f.height)}),l=!0),l)for(this.resize(),s=0;s<r.length;s++)r[s].$config.hidden||r[s].setContentSize();this.callEvent("onResize",[])}i&&(this._resizeInProgress=!1)},n.prototype._eachChild=function(t,i){if(t(i=i||this),i.$cells)for(var r=0;r<i.$cells.length;r++)this._eachChild(t,i.$cells[r])},n.prototype.isChild=function(t){var i=!1;return this._eachChild(function(r){r!==t&&r.$content!==t||(i=!0)}),i},n.prototype.getCellsByType=function(t){var i=[];if(t===this.$name&&i.push(this),this.$content&&this.$content.$name==t&&i.push(this.$content),this.$cells)for(var r=0;r<this.$cells.length;r++){var o=n.prototype.getCellsByType.call(this.$cells[r],t);o.length&&i.push.apply(i,o)}return i},n.prototype.getNextSibling=function(t){var i=this.cellIndex(t);return i>=0&&this.$cells[i+1]?this.$cells[i+1]:null},n.prototype.getPrevSibling=function(t){var i=this.cellIndex(t);return i>=0&&this.$cells[i-1]?this.$cells[i-1]:null},n.prototype.cell=function(t){for(var i=0;i<this.$cells.length;i++){var r=this.$cells[i];if(r.$id===t)return r;var o=r.cell(t);if(o)return o}},n.prototype.cellIndex=function(t){for(var i=0;i<this.$cells.length;i++)if(this.$cells[i].$id===t)return i;return-1},n.prototype.moveView=function(t,i){if(this.$cells[i]!==t)return window.alert("Not implemented");i+=this.$config.header?1:0;var r=this.$view;i>=r.childNodes.length?r.appendChild(t.$view):r.insertBefore(t.$view,r.childNodes[i])},n.prototype._parseConfig=function(t){this.$cells=[],this._xLayout=!t.rows;for(var i=t.rows||t.cols||t.views,r=0;r<i.length;r++){var o=i[r];o.mode=this._xLayout?"x":"y";var s=this.$factory.initUI(o,this);s?(s.$parent=this,this.$cells.push(s)):(i.splice(r,1),r--)}},n.prototype.getCells=function(){return this.$cells},n.prototype.render=function(){var t=yD(this.$container,this.$toHTML());this.$fill(t,null);let i=this.$gantt;this._eachChild(r=>{r.$externalComponent&&(i.config.external_render.renderElement(r.$externalComponent,r.$view.querySelector(".gantt_layout_content")),r.$externalComponent=null)}),this.callEvent("onReady",[]),this.resize(),this.render=this.resize},n.prototype.$fill=function(t,i){this.$view=t,this.$parent=i;for(var r=xD(t,"gantt_layout_cell"),o=r.length-1;o>=0;o--){var s=this.$cells[o];s.$fill(r[o],this),s.$config.hidden&&s.$view.parentNode.removeChild(s.$view)}},n.prototype.$toHTML=function(){for(var t=this._xLayout?"x":"y",i=[],r=0;r<this.$cells.length;r++)i.push(this.$cells[r].$toHTML());return e.prototype.$toHTML.call(this,i.join(""),(this.$root?"gantt_layout_root ":"")+"gantt_layout gantt_layout_"+t)},n.prototype.getContentSize=function(t){for(var i,r,o,s=0,a=0,l=0;l<this.$cells.length;l++)(r=this.$cells[l]).$config.hidden||(i=r.getContentSize(t),r.$config.view==="scrollbar"&&t[r.$config.scroll]&&(i.height=0,i.width=0),r.$config.resizer&&(this._xLayout?i.height=0:i.width=0),o=r._getBorderSizes(),this._xLayout?(s+=i.width+o.horizontal,a=Math.max(a,i.height+o.vertical)):(s=Math.max(s,i.width+o.horizontal),a+=i.height+o.vertical));return{width:s+=(o=this._getBorderSizes()).horizontal,height:a+=o.vertical}},n.prototype._cleanElSize=function(t){return 1*(t||"").toString().replace("px","")||0},n.prototype._getBoxStyles=function(t){var i=null,r=["width","height","paddingTop","paddingBottom","paddingLeft","paddingRight","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],o={boxSizing:(i=window.getComputedStyle?window.getComputedStyle(t,null):{width:t.clientWidth,height:t.clientHeight}).boxSizing=="border-box"};i.MozBoxSizing&&(o.boxSizing=i.MozBoxSizing=="border-box");for(var s=0;s<r.length;s++)o[r[s]]=i[r[s]]?this._cleanElSize(i[r[s]]):0;var a={horPaddings:o.paddingLeft+o.paddingRight+o.borderLeftWidth+o.borderRightWidth,vertPaddings:o.paddingTop+o.paddingBottom+o.borderTopWidth+o.borderBottomWidth,borderBox:o.boxSizing,innerWidth:o.width,innerHeight:o.height,outerWidth:o.width,outerHeight:o.height};return a.borderBox?(a.innerWidth-=a.horPaddings,a.innerHeight-=a.vertPaddings):(a.outerWidth+=a.horPaddings,a.outerHeight+=a.vertPaddings),a},n.prototype._getAutosizeMode=function(t){var i={x:!1,y:!1};return t==="xy"?i.x=i.y=!0:t==="y"||t===!0?i.y=!0:t==="x"&&(i.x=!0),i},n.prototype.autosize=function(t){var i=this._getAutosizeMode(t),r=this._getBoxStyles(this.$container),o=this.getContentSize(t),s=this.$container;i.x&&(r.borderBox&&(o.width+=r.horPaddings),s.style.width=o.width+"px"),i.y&&(r.borderBox&&(o.height+=r.vertPaddings),s.style.height=o.height+"px")},n.prototype.getSize=function(){this._sizes=[];for(var t=0,i=0,r=1e11,o=0,s=1e11,a=0,l=0;l<this.$cells.length;l++){var d=this._sizes[l]=this.$cells[l].getSize();this.$cells[l].$config.hidden||(this._xLayout?(!d.width&&d.minWidth?t+=d.minWidth:t+=d.width,r+=d.maxWidth,i+=d.minWidth,o=Math.max(o,d.height),s=Math.min(s,d.maxHeight),a=Math.max(a,d.minHeight)):(!d.height&&d.minHeight?o+=d.minHeight:o+=d.height,s+=d.maxHeight,a+=d.minHeight,t=Math.max(t,d.width),r=Math.min(r,d.maxWidth),i=Math.max(i,d.minWidth)))}var u=e.prototype.getSize.call(this);return u.maxWidth>=1e5&&(u.maxWidth=r),u.maxHeight>=1e5&&(u.maxHeight=s),u.minWidth=u.minWidth!=u.minWidth?0:u.minWidth,u.minHeight=u.minHeight!=u.minHeight?0:u.minHeight,this._xLayout?(u.minWidth+=this.$config.margin*this.$cells.length||0,u.minWidth+=2*this.$config.padding||0,u.minHeight+=2*this.$config.padding||0):(u.minHeight+=this.$config.margin*this.$cells.length||0,u.minHeight+=2*this.$config.padding||0),u},n.prototype._calcFreeSpace=function(t,i,r){var o=r?i.minWidth:i.minHeight,s=i.maxWidth,a=t;return a?(a>s&&(a=s),a<o&&(a=o),this._free-=a):((a=Math.floor(this._free/this._gravity*i.gravity))>s&&(a=s,this._free-=a,this._gravity-=i.gravity),a<o&&(a=o,this._free-=a,this._gravity-=i.gravity)),a},n.prototype._calcSize=function(t,i,r){var o=t,s=r?i.minWidth:i.minHeight,a=r?i.maxWidth:i.maxHeight;return o||(o=Math.floor(this._free/this._gravity*i.gravity)),o>a&&(o=a),o<s&&(o=s),o},n.prototype._configureBorders=function(){this.$root&&this._setBorders([this._borders.left,this._borders.top,this._borders.right,this._borders.bottom],this);for(var t=this._xLayout?this._borders.right:this._borders.bottom,i=this.$cells,r=i.length-1,o=r;o>=0;o--)if(!i[o].$config.hidden){r=o;break}for(o=0;o<i.length;o++)if(!i[o].$config.hidden){var s=o>=r,a="";!s&&i[o+1]&&i[o+1].$config.view=="scrollbar"&&(this._xLayout?s=!0:a="gantt_layout_cell_border_transparent"),this._setBorders(s?[]:[t,a],i[o])}},n.prototype._updateCellVisibility=function(){for(var t=this._visibleCells||{},i=!this._visibleCells,r={},o=null,s=[],a=0;a<this._sizes.length;a++)(o=this.$cells[a]).$config.hide_empty&&s.push(o),!i&&o.$config.hidden&&t[o.$id]?o._hide(!0):o.$config.hidden||t[o.$id]||o._hide(!1),o.$config.hidden||(r[o.$id]=!0);for(this._visibleCells=r,a=0;a<s.length;a++){var l=(o=s[a]).$cells,d=!0;l.forEach(function(u){u.$config.hidden||u.$config.resizer||(d=!1)}),o.$config.hidden=d}},n.prototype.setSize=function(t,i){this._configureBorders(),e.prototype.setSize.call(this,t,i),i=this.$lastSize.contentY,t=this.$lastSize.contentX;var r,o,s=this.$config.padding||0;this.$view.style.padding=s+"px",this._gravity=0,this._free=this._xLayout?t:i,this._free-=2*s,this._updateCellVisibility();for(var a=0;a<this._sizes.length;a++)if(!(r=this.$cells[a]).$config.hidden){var l=this.$config.margin||0;r.$name!="resizer"||l||(l=-1);var d=r.$view,u=this._xLayout?"marginRight":"marginBottom";a!==this.$cells.length-1&&(d.style[u]=l+"px",this._free-=l),o=this._sizes[a],this._xLayout?o.width||(this._gravity+=o.gravity):o.height||(this._gravity+=o.gravity)}for(a=0;a<this._sizes.length;a++)if(!(r=this.$cells[a]).$config.hidden){var f=(o=this._sizes[a]).width,g=o.height;this._xLayout?this._calcFreeSpace(f,o,!0):this._calcFreeSpace(g,o,!1)}for(a=0;a<this.$cells.length;a++)if(!(r=this.$cells[a]).$config.hidden){o=this._sizes[a];var p=void 0,v=void 0;this._xLayout?(p=this._calcSize(o.width,o,!0),v=i-2*s):(p=t-2*s,v=this._calcSize(o.height,o,!1)),r.setSize(p,v)}},n}(Xc),tB=function(e){function n(t,i,r){for(var o=e.apply(this,arguments)||this,s=0;s<o.$cells.length;s++)o.$cells[s].$config.hidden=s!==0;return o.$cell=o.$cells[0],o.$name="viewLayout",o}return gt(n,e),n.prototype.cell=function(t){var i=e.prototype.cell.call(this,t);return i.$view||this.$fill(null,this),i},n.prototype.moveView=function(t){var i=this.$view;this.$cell&&(this.$cell.$config.hidden=!0,i.removeChild(this.$cell.$view)),this.$cell=t,i.appendChild(t.$view)},n.prototype.setSize=function(t,i){Xc.prototype.setSize.call(this,t,i)},n.prototype.setContentSize=function(){var t=this.$lastSize;this.$cell.setSize(t.contentX,t.contentY)},n.prototype.getSize=function(){var t=e.prototype.getSize.call(this);if(this.$cell){var i=this.$cell.getSize();if(this.$config.byMaxSize)for(var r=0;r<this.$cells.length;r++){var o=this.$cells[r].getSize();for(var s in i)i[s]=Math.max(i[s],o[s])}for(var a in t)t[a]=t[a]||i[a];t.gravity=Math.max(t.gravity,i.gravity)}return t},n}(jD),nB=function(e){function n(t,i,r){var o=e.apply(this,arguments)||this;if(i.view){i.id&&(this.$id=hi());var s=ln(i);if(delete s.config,delete s.templates,this.$content=this.$factory.createView(i.view,this,s,this),!this.$content)return!1}return o.$name="viewCell",o}return gt(n,e),n.prototype.destructor=function(){this.clear(),e.prototype.destructor.call(this)},n.prototype.clear=function(){if(this.$initialized=!1,this.$content){var t=this.$content.unload||this.$content.destructor;t&&t.call(this.$content)}e.prototype.clear.call(this)},n.prototype.scrollTo=function(t,i){this.$content&&this.$content.scrollTo?this.$content.scrollTo(t,i):e.prototype.scrollTo.call(this,t,i)},n.prototype._setContentSize=function(t,i){var r=this._getBorderSizes();if(typeof t=="number"){var o=t+r.horizontal;this.$config.width=o}if(typeof i=="number"){var s=i+r.vertical;this.$config.height=s}},n.prototype.setSize=function(t,i){if(e.prototype.setSize.call(this,t,i),!this.$preResize&&this.$content&&!this.$initialized){this.$initialized=!0;var r=this.$view.childNodes[0],o=this.$view.childNodes[1];o||(o=r),this.$content.init(o)}},n.prototype.setContentSize=function(){!this.$preResize&&this.$content&&this.$initialized&&this.$content.setSize(this.$lastSize.contentX,this.$lastSize.contentY)},n.prototype.getContentSize=function(){var t=e.prototype.getContentSize.call(this);if(this.$content&&this.$initialized){var i=this.$content.getSize();t.width=i.contentX===void 0?i.width:i.contentX,t.height=i.contentY===void 0?i.height:i.contentY}var r=this._getBorderSizes();return t.width+=r.horizontal,t.height+=r.vertical,t},n}(Xc),iB=function(e){var n=["altKey","shiftKey","metaKey"];function t(r,o,s,a){var l=e.apply(this,arguments)||this;this.$config=$e(o,{scroll:"x"}),l._scrollHorizontalHandler=Ye(l._scrollHorizontalHandler,l),l._scrollVerticalHandler=Ye(l._scrollVerticalHandler,l),l._outerScrollVerticalHandler=Ye(l._outerScrollVerticalHandler,l),l._outerScrollHorizontalHandler=Ye(l._outerScrollHorizontalHandler,l),l._mouseWheelHandler=Ye(l._mouseWheelHandler,l),this.$config.hidden=!0;var d=a.config.scroll_size;return a.env.isIE&&(d+=1),this._isHorizontal()?(l.$config.height=d,l.$parent.$config.height=d):(l.$config.width=d,l.$parent.$config.width=d),this.$config.scrollPosition=0,l.$name="scroller",l}function i(r,o){if(o.push(r),r.$cells)for(var s=0;s<r.$cells.length;s++)i(r.$cells[s],o)}return gt(t,e),t.prototype.init=function(r){r.innerHTML=this.$toHTML(),this.$view=r.firstChild,this.$view||this.init(),this._isVertical()?this._initVertical():this._initHorizontal(),this._initMouseWheel(),this._initLinkedViews()},t.prototype.$toHTML=function(){return"<div class='gantt_layout_cell "+(this._isHorizontal()?"gantt_hor_scroll":"gantt_ver_scroll")+"'><div style='"+(this._isHorizontal()?"width:2000px":"height:2000px")+"'></div></div>"},t.prototype._getRootParent=function(){for(var r=this.$parent;r&&r.$parent;)r=r.$parent;if(r)return r},t.prototype._eachView=function(){var r=[];return i(this._getRootParent(),r),r},t.prototype._getLinkedViews=function(){for(var r=this._eachView(),o=[],s=0;s<r.length;s++)r[s].$config&&(this._isVertical()&&r[s].$config.scrollY==this.$id||this._isHorizontal()&&r[s].$config.scrollX==this.$id)&&o.push(r[s]);return o},t.prototype._initHorizontal=function(){this.$scroll_hor=this.$view,this.$domEvents.attach(this.$view,"scroll",this._scrollHorizontalHandler)},t.prototype._initLinkedViews=function(){for(var r=this._getLinkedViews(),o=this._isVertical()?"gantt_layout_outer_scroll gantt_layout_outer_scroll_vertical":"gantt_layout_outer_scroll gantt_layout_outer_scroll_horizontal",s=0;s<r.length;s++)Da(r[s].$view||r[s].getNode(),o)},t.prototype._initVertical=function(){this.$scroll_ver=this.$view,this.$domEvents.attach(this.$view,"scroll",this._scrollVerticalHandler)},t.prototype._updateLinkedViews=function(){},t.prototype._initMouseWheel=function(){Kr.isFF?this.$domEvents.attach(this._getRootParent().$view,"wheel",this._mouseWheelHandler,{passive:!1}):this.$domEvents.attach(this._getRootParent().$view,"mousewheel",this._mouseWheelHandler,{passive:!1})},t.prototype.scrollHorizontally=function(r){if(!this._scrolling){this._scrolling=!0,this.$scroll_hor.scrollLeft=r,this.$config.codeScrollLeft=r,r=this.$scroll_hor.scrollLeft;for(var o=this._getLinkedViews(),s=0;s<o.length;s++)o[s].scrollTo&&o[s].scrollTo(r,void 0);var a=this.$config.scrollPosition;this.$config.scrollPosition=r,this.callEvent("onScroll",[a,r,this.$config.scroll]),this._scrolling=!1}},t.prototype.scrollVertically=function(r){if(!this._scrolling){this._scrolling=!0,this.$scroll_ver.scrollTop=r,r=this.$scroll_ver.scrollTop;for(var o=this._getLinkedViews(),s=0;s<o.length;s++)o[s].scrollTo&&o[s].scrollTo(void 0,r);var a=this.$config.scrollPosition;this.$config.scrollPosition=r,this.callEvent("onScroll",[a,r,this.$config.scroll]),this._scrolling=!1}},t.prototype._isVertical=function(){return this.$config.scroll=="y"},t.prototype._isHorizontal=function(){return this.$config.scroll=="x"},t.prototype._scrollHorizontalHandler=function(r){if(!this._isVertical()&&!this._scrolling){if(new Date-(this._wheel_time||0)<100)return!0;var o=this.$scroll_hor.scrollLeft;this.scrollHorizontally(o),this._oldLeft=this.$scroll_hor.scrollLeft}},t.prototype._outerScrollHorizontalHandler=function(r){this._isVertical()},t.prototype.show=function(){this.$parent.show()},t.prototype.hide=function(){this.$parent.hide()},t.prototype._getScrollSize=function(){for(var r,o=0,s=0,a=this._isHorizontal(),l=this._getLinkedViews(),d=a?"scrollWidth":"scrollHeight",u=a?"contentX":"contentY",f=a?"x":"y",g=this._getScrollOffset(),p=0;p<l.length;p++)if((r=l[p])&&r.$content&&r.$content.getSize&&!r.$config.hidden){var v,k=r.$content.getSize();if(v=k.hasOwnProperty(d)?k[d]:k[u],g)k[u]>k[f]&&k[u]>o&&v>k[f]-g+2&&(o=v+(a?0:2),s=k[f]);else{var x=Math.max(k[u]-v,0);(v+=x)>Math.max(k[f]-x,0)&&v>o&&(o=v,s=k[f])}}return{outerScroll:s,innerScroll:o}},t.prototype.scroll=function(r){this._isHorizontal()?this.scrollHorizontally(r):this.scrollVertically(r)},t.prototype.getScrollState=function(){return{visible:this.isVisible(),direction:this.$config.scroll,size:this.$config.outerSize,scrollSize:this.$config.scrollSize||0,position:this.$config.scrollPosition||0}},t.prototype.setSize=function(r,o){e.prototype.setSize.apply(this,arguments);var s=this._getScrollSize(),a=(this._isVertical()?o:r)-this._getScrollOffset()+(this._isHorizontal()?1:0);s.innerScroll&&a>s.outerScroll&&(s.innerScroll+=a-s.outerScroll),this.$config.scrollSize=s.innerScroll,this.$config.width=r,this.$config.height=o,this._setScrollSize(s.innerScroll)},t.prototype.isVisible=function(){return!(!this.$parent||!this.$parent.$view.parentNode)},t.prototype.shouldShow=function(){var r=this._getScrollSize();return!(!r.innerScroll&&this.$parent&&this.$parent.$view.parentNode)&&!(!r.innerScroll||this.$parent&&this.$parent.$view.parentNode)},t.prototype.shouldHide=function(){return!(this._getScrollSize().innerScroll||!this.$parent||!this.$parent.$view.parentNode)},t.prototype.toggleVisibility=function(){this.shouldHide()?this.hide():this.shouldShow()&&this.show()},t.prototype._getScaleOffset=function(r){var o=0;return!r||r.$config.view!="timeline"&&r.$config.view!="grid"||(o=r.$content.$getConfig().scale_height),o},t.prototype._getScrollOffset=function(){var r=0;if(this._isVertical()){var o=this.$parent.$parent;r=Math.max(this._getScaleOffset(o.getPrevSibling(this.$parent.$id)),this._getScaleOffset(o.getNextSibling(this.$parent.$id)))}else for(var s=this._getLinkedViews(),a=0;a<s.length;a++){var l=s[a].$parent.$cells,d=l[l.length-1];if(d&&d.$config.view=="scrollbar"&&d.$config.hidden===!1){r=d.$config.width;break}}return r||0},t.prototype._setScrollSize=function(r){var o=this._isHorizontal()?"width":"height",s=this._isHorizontal()?this.$scroll_hor:this.$scroll_ver,a=this._getScrollOffset(),l=s.firstChild;a?this._isVertical()?(this.$config.outerSize=this.$config.height-a+3,s.style.height=this.$config.outerSize+"px",s.style.top=a-1+"px",Da(s,this.$parent._borders.top),Da(s.parentNode,"gantt_task_vscroll")):(this.$config.outerSize=this.$config.width-a+1,s.style.width=this.$config.outerSize+"px"):(s.style.top="auto",mg(s,this.$parent._borders.top),mg(s.parentNode,"gantt_task_vscroll"),this.$config.outerSize=this.$config.height),l.style[o]=r+"px"},t.prototype._scrollVerticalHandler=function(r){if(!this._scrollHorizontalHandler()&&!this._scrolling){var o=this.$scroll_ver.scrollTop;o!=this._oldTop&&(this.scrollVertically(o),this._oldTop=this.$scroll_ver.scrollTop)}},t.prototype._outerScrollVerticalHandler=function(r){this._scrollHorizontalHandler()},t.prototype._checkWheelTarget=function(r){for(var o=this._getLinkedViews().concat(this),s=0;s<o.length;s++)if(mn(r,o[s].$view))return!0;return!1},t.prototype._mouseWheelHandler=function(r){var o=r.target||r.srcElement;if(this._checkWheelTarget(o)){this._wheel_time=new Date;var s={},a={x:1,y:1},l=this.$gantt.config.wheel_scroll_sensitivity;typeof l=="number"&&l?a={x:l,y:l}:{}.toString.apply(l)=="[object Object]"&&(a={x:l.x,y:l.y});var d=Kr.isFF,u=d?r.deltaX:r.wheelDeltaX,f=d?r.deltaY:r.wheelDelta,g=-20;if(d){let C=parseInt(navigator.userAgent.split("Firefox/")[1]);g=C<=87?r.deltaMode!==0?-40:-10:C<=90?-3:C<=96?-1.5:-1}var p=d?u*g*a.x:2*u*a.x,v=d?f*g*a.y:f*a.y,k=this.$gantt.config.horizontal_scroll_key;if(k!==!1&&n.indexOf(k)>=0&&(!r[k]||r.deltaX||r.wheelDeltaX||(p=2*v,v=0)),p&&Math.abs(p)>Math.abs(v)){if(this._isVertical())return;if(s.x||!this.$scroll_hor||!this.$scroll_hor.offsetWidth)return!0;var x=p/-40,S=this._oldLeft,_=S+30*x;if(this.scrollHorizontally(_),this.$scroll_hor.scrollLeft=_,S==this.$scroll_hor.scrollLeft)return!0;this._oldLeft=this.$scroll_hor.scrollLeft}else{if(this._isHorizontal())return;if(s.y||!this.$scroll_ver||!this.$scroll_ver.offsetHeight)return!0;x=v/-40,v===void 0&&(x=r.detail);var w=this._oldTop,y=this.$scroll_ver.scrollTop+30*x;if(this.scrollVertically(y),this.$scroll_ver.scrollTop=y,w==this.$scroll_ver.scrollTop)return!0;this._oldTop=this.$scroll_ver.scrollTop}return r.preventDefault&&r.preventDefault(),r.cancelBubble=!0,!1}},t}(Xc);function BD(e){var n={},t={},i=null,r=-1,o=null,s=function(a){var l=-1,d=-1;return{resetCache:function(){l=-1,d=-1},_getRowHeight:function(){return l===-1&&(l=a.$getConfig().row_height),l},_refreshState:function(){this.resetCache(),d=!0;var u=a.$config.rowStore;if(u)for(var f=this._getRowHeight(),g=0;g<u.fullOrder.length;g++){var p=u.getItem(u.fullOrder[g]);if(p&&p.row_height&&p.row_height!==f){d=!1;break}}},canUseSimpleCalculation:function(){return d===-1&&this._refreshState(),d},getRowTop:function(u){return a.$config.rowStore?u*this._getRowHeight():0},getItemHeight:function(u){return this._getRowHeight()},getTotalHeight:function(){return a.$config.rowStore?a.$config.rowStore.countVisible()*this._getRowHeight():0},getItemIndexByTopPosition:function(u){return a.$config.rowStore?Math.floor(u/this._getRowHeight()):0}}}(e);return{_resetTopPositionHeight:function(){n={},t={},s.resetCache()},_resetHeight:function(){var a=this.$config.rowStore,l=this.getCacheStateTotalHeight(a);o?this.shouldClearHeightCache(o,l)&&(o=l,i=null):o=l,r=-1,s.resetCache()},getRowTop:function(a){if(s.canUseSimpleCalculation())return s.getRowTop(a);var l=this.$config.rowStore;if(!l)return 0;if(t[a]!==void 0)return t[a];for(var d=l.getIndexRange(),u=0,f=0,g=0;g<d.length;g++)t[g]=u,u+=this.getItemHeight(d[g].id),g<a&&(f=u);return f},getItemTop:function(a){if(this.$config.rowStore){if(n[a]!==void 0)return n[a];var l=this.$config.rowStore;if(!l)return 0;var d=l.getIndexById(a);if(d===-1&&l.getParent&&l.exists(a)){var u=l.getParent(a);if(l.exists(u)){var f=l.getItem(u);if(this.$gantt.isSplitTask(f))return this.getItemTop(u)}}return n[a]=this.getRowTop(d),n[a]}return 0},getItemHeight:function(a){if(s.canUseSimpleCalculation())return s.getItemHeight(a);if(!i&&this.$config.rowStore&&this._fillHeightCache(this.$config.rowStore),i[a]!==void 0)return i[a];var l=this.$getConfig().row_height;if(this.$config.rowStore){var d=this.$config.rowStore;if(!d)return l;var u=d.getItem(a);return i[a]=u&&u.row_height||l}return l},_fillHeightCache:function(a){if(a){i={};var l=this.$getConfig().row_height;a.eachItem(function(d){return i[d.id]=d&&d.row_height||l})}},getCacheStateTotalHeight:function(a){var l=this.$getConfig().row_height,d={},u=[],f=0;return a&&a.eachItem(function(g){u.push(g),d[g.id]=g.row_height,f+=g.row_height||l}),{globalHeight:l,items:u,count:u.length,sumHeight:f}},shouldClearHeightCache:function(a,l){if(a.count!=l.count||a.globalHeight!=l.globalHeight||a.sumHeight!=l.sumHeight)return!0;for(var d in a.items){var u=l.items[d];if(u!==void 0&&u!=a.items[d])return!0}return!1},getTotalHeight:function(){if(s.canUseSimpleCalculation())return s.getTotalHeight();if(r!=-1)return r;if(this.$config.rowStore){var a=this.$config.rowStore;this._fillHeightCache(a);var l=this.getItemHeight.bind(this),d=a.getVisibleItems(),u=0;return d.forEach(function(f){u+=l(f.id)}),r=u,u}return 0},getItemIndexByTopPosition:function(a){if(this.$config.rowStore){if(s.canUseSimpleCalculation())return s.getItemIndexByTopPosition(a);for(var l=this.$config.rowStore,d=0;d<l.countVisible();d++){var u=this.getRowTop(d),f=this.getRowTop(d+1);if(!f){var g=l.getIdByIndex(d);f=u+this.getItemHeight(g)}if(a>=u&&a<f)return d}return l.countVisible()+2}return 0}}}var rB=function(){return{render:function(){},destroy:function(){}}},gg=function(e,n,t,i){this.$config=$e({},n||{}),this.$scaleHelper=new nb(i),this.$gantt=i,this._posFromDateCache={},this._timelineDragScroll=null,$e(this,BD(this)),fi(this)};gg.prototype={init:function(e){e.innerHTML+="<div class='gantt_task' style='width:inherit;height:inherit;'></div>",this.$task=e.childNodes[0],this.$task.innerHTML="<div class='gantt_task_scale'></div><div class='gantt_data_area'></div>",this.$task_scale=this.$task.childNodes[0],this.$task_data=this.$task.childNodes[1],this.$task_data.innerHTML="<div class='gantt_task_bg'></div><div class='gantt_task_baselines'></div><div class='gantt_links_area'></div><div class='gantt_bars_area'></div><div class='gantt_task_constraints'></div><div class='gantt_task_deadlines'></div>",this.$task_bg=this.$task_data.childNodes[0],this.$task_baselines=this.$task_data.childNodes[1],this.$task_links=this.$task_data.childNodes[2],this.$task_bars=this.$task_data.childNodes[3],this.$task_constraints=this.$task_data.childNodes[4],this.$task_deadlines=this.$task_data.childNodes[5],this._tasks={col_width:0,width:[],full_width:0,trace_x:[],rendered:{}};var n=this.$getConfig(),t=n[this.$config.bind+"_attribute"],i=n[this.$config.bindLinks+"_attribute"];!t&&this.$config.bind&&(t="data-"+this.$config.bind+"-id"),!i&&this.$config.bindLinks&&(i="data-"+this.$config.bindLinks+"-id"),this.$config.item_attribute=t||null,this.$config.link_attribute=i||null;var r=this._createLayerConfig();this.$config.layers||(this.$config.layers=r.tasks),this.$config.linkLayers||(this.$config.linkLayers=r.links),this._attachLayers(this.$gantt),this.callEvent("onReady",[]),this.$gantt.ext.dragTimeline&&(this._timelineDragScroll=this.$gantt.ext.dragTimeline.create(),this._timelineDragScroll.attach(this))},setSize:function(e,n){var t=this.$getConfig();if(1*e===e&&(this.$config.width=e),1*n===n){this.$config.height=n;var i=Math.max(this.$config.height-t.scale_height);this.$task_data.style.height=i+"px"}this.refresh(),this.$task_bg.style.backgroundImage="",t.smart_rendering&&this.$config.rowStore?this.$task_bg.style.height=this.getTotalHeight()+"px":this.$task_bg.style.height="";for(var r=this._tasks,o=this.$task_data.childNodes,s=0,a=o.length;s<a;s++){var l=o[s];l.hasAttribute("data-layer")&&l.style&&(l.style.width=r.full_width+"px")}},isVisible:function(){return this.$parent&&this.$parent.$config?!this.$parent.$config.hidden:this.$task.offsetWidth},getSize:function(){var e=this.$getConfig(),n=this.$config.rowStore?this.getTotalHeight():0,t=this.isVisible()?this._tasks.full_width:0;return{x:this.isVisible()?this.$config.width:0,y:this.isVisible()?this.$config.height:0,contentX:this.isVisible()?t:0,contentY:this.isVisible()?e.scale_height+n:0,scrollHeight:this.isVisible()?n:0,scrollWidth:this.isVisible()?t:0}},scrollTo:function(e,n){if(this.isVisible()){var t=!1;this.$config.scrollTop=this.$config.scrollTop||0,this.$config.scrollLeft=this.$config.scrollLeft||0,1*n===n&&(this.$config.scrollTop=n,this.$task_data.scrollTop=this.$config.scrollTop,t=!0),1*e===e&&(this.$task.scrollLeft=e,this.$config.scrollLeft=this.$task.scrollLeft,this._refreshScales(),t=!0),t&&this.callEvent("onScroll",[this.$config.scrollLeft,this.$config.scrollTop])}},_refreshScales:function(){if(this.isVisible()&&this.$getConfig().smart_scales){var e=this.getViewPort(),n=this._scales;this.$task_scale.innerHTML=this._getScaleChunkHtml(n,e.x,e.x_end)}},getViewPort:function(){var e=this.$config.scrollLeft||0,n=this.$config.scrollTop||0,t=this.$config.height||0,i=this.$config.width||0;return{y:n,y_end:n+t,x:e,x_end:e+i,height:t,width:i}},_createLayerConfig:function(){var e=this,n=function(){return e.isVisible()};this.$gantt;var t=[{expose:!0,renderer:this.$gantt.$ui.layers.taskBar(),container:this.$task_bars,filter:[n,function(i,r){return!r.hide_bar}]}];return t.push({renderer:this.$gantt.$ui.layers.taskBg(),container:this.$task_bg,filter:[n]}),{tasks:t,links:[{expose:!0,renderer:this.$gantt.$ui.layers.link(),container:this.$task_links,filter:[n]}]}},_attachLayers:function(e){this._taskLayers=[],this._linkLayers=[];var n=this,t=this.$gantt.$services.getService("layers");if(this.$config.bind){this._bindStore();var i=t.getDataRender(this.$config.bind);i||(i=t.createDataRender({name:this.$config.bind,defaultContainer:function(){return n.$task_data}})),i.container=function(){return n.$task_data};for(var r=this.$config.layers,o=0;r&&o<r.length;o++){typeof(d=r[o])=="string"&&(d=this.$gantt.$ui.layers[d]()),(typeof d=="function"||d&&d.render&&d.update)&&(d={renderer:d}),d.view=this;var s=i.addLayer(d);this._taskLayers.push(s),d.expose&&(this._taskRenderer=i.getLayer(s))}this._initStaticBackgroundRender()}if(this.$config.bindLinks){n.$config.linkStore=n.$gantt.getDatastore(n.$config.bindLinks);var a=t.getDataRender(this.$config.bindLinks);a||(a=t.createDataRender({name:this.$config.bindLinks,defaultContainer:function(){return n.$task_data}}));var l=this.$config.linkLayers;for(o=0;l&&o<l.length;o++){var d;typeof d=="string"&&(d=this.$gantt.$ui.layers[d]()),(d=l[o]).view=this;var u=a.addLayer(d);this._taskLayers.push(u),l[o].expose&&(this._linkRenderer=a.getLayer(u))}}},_initStaticBackgroundRender:function(){var e=this,n=rB(),t=e.$config.rowStore;t&&(this._staticBgHandler=t.attachEvent("onStoreUpdated",function(i,r,o){if(i===null&&e.isVisible()){var s=e.$getConfig();if(s.static_background||s.timeline_placeholder){var a=e.$gantt.getDatastore(e.$config.bind),l=e.$task_bg_static;if(l||((l=document.createElement("div")).className="gantt_task_bg",e.$task_bg_static=l,e.$task_bg.nextSibling?e.$task_data.insertBefore(l,e.$task_bg.nextSibling):e.$task_data.appendChild(l)),a){var d=e.getTotalHeight();s.timeline_placeholder&&(d=s.timeline_placeholder.height||e.$task_data.offsetHeight||99999),n.render(l,s,e.getScale(),d,e.getItemHeight(r?r.id:null))}}else s.static_background&&e.$task_bg_static&&e.$task_bg_static.parentNode&&e.$task_bg_static.parentNode.removeChild(e.$task_bg_static)}}),this.attachEvent("onDestroy",function(){}),this._initStaticBackgroundRender=function(){})},_clearLayers:function(e){var n=this.$gantt.$services.getService("layers"),t=n.getDataRender(this.$config.bind),i=n.getDataRender(this.$config.bindLinks);if(this._taskLayers)for(var r=0;r<this._taskLayers.length;r++)t.removeLayer(this._taskLayers[r]);if(this._linkLayers)for(r=0;r<this._linkLayers.length;r++)i.removeLayer(this._linkLayers[r]);this._linkLayers=[],this._taskLayers=[]},_render_tasks_scales:function(){var e=this.$getConfig(),n="",t=0,i=0,r=this.$gantt.getState();if(this.isVisible()){var o=this.$scaleHelper,s=this._getScales();i=e.scale_height;var a=this.$config.width;e.autosize!="x"&&e.autosize!="xy"||(a=Math.max(e.autosize_min_width,0));var l=o.prepareConfigs(s,e.min_column_width,a,i-1,r.min_date,r.max_date,e.rtl),d=this._tasks=l[l.length-1];this._scales=l,this._posFromDateCache={},n=this._getScaleChunkHtml(l,0,this.$config.width),t=d.full_width+"px",i+="px"}this.$task_scale.style.height=i,this.$task_data.style.width=this.$task_scale.style.width=t,this.$task_scale.innerHTML=n},_getScaleChunkHtml:function(e,n,t){for(var i=[],r=this.$gantt.templates.scale_row_class,o=0;o<e.length;o++){var s="gantt_scale_line",a=r(e[o]);a&&(s+=" "+a),i.push('<div class="'+s+'" style="height:'+e[o].height+"px;position:relative;line-height:"+e[o].height+'px">'+this._prepareScaleHtml(e[o],n,t,o)+"</div>")}return i.join("")},_prepareScaleHtml:function(e,n,t,i){var r=this.$getConfig(),o=this.$gantt.templates,s=[],a=null,l=null,d=e.format||e.template||e.date;typeof d=="string"&&(d=this.$gantt.date.date_to_str(d));var u=0,f=e.count;!r.smart_scales||isNaN(n)||isNaN(t)||(u=Gc(e.left,n),f=Gc(e.left,t)+1),l=e.css||function(){},!e.css&&r.inherit_scale_class&&(l=o.scale_cell_class);for(var g=u;g<f&&e.trace_x[g];g++){a=new Date(e.trace_x[g]);var p=d.call(this,a),v=e.width[g];e.height;var k=e.left[g],x="",S="",_="";if(v){x="width:"+v+"px;"+(r.smart_scales?"position:absolute;left:"+k+"px":"");let y=this.getViewPort(),C=(r.scales[i]||{}).sticky,D="",I=70;if(C!==!1&&v>I||C===!0){if(k<y.x&&k+v/2-I/2<y.x)D=` style='position:absolute;left: ${y.x-k+10}px;' `;else if(k+v/2+I/2>y.x_end&&v>I){let M=y.x_end-k-10,P="-100%";M<I&&(M=I,P=`-${M}px`),D=` style='position:absolute;left: ${M}px;transform: translate(${P},0);' `}}_="gantt_scale_cell"+(g==e.count-1?" gantt_last_cell":""),(S=l.call(this,a))&&(_+=" "+S);var w=`<div class='${_}' ${this.$gantt._waiAria.getTimelineCellAttr(p)} style='${x}'><span ${D}>${p}</span></div>`;s.push(w)}}return s.join("")},dateFromPos:function(e){var n=this._tasks;if(e<0||e>n.full_width||!n.full_width)return null;var t=Gc(this._tasks.left,e),i=this._tasks.left[t],r=n.width[t]||n.col_width,o=0;r&&(o=(e-i)/r,n.rtl&&(o=1-o));var s=0;return o&&(s=this._getColumnDuration(n,n.trace_x[t])),new Date(n.trace_x[t].valueOf()+Math.round(o*s))},posFromDate:function(e){if(!this.isVisible()||!e)return 0;var n=String(e.valueOf());if(this._posFromDateCache[n]!==void 0)return this._posFromDateCache[n];var t=this.columnIndexByDate(e);this.$gantt.assert(t>=0,"Invalid day index");var i=Math.floor(t),r=t%1,o=this._tasks.left[Math.min(i,this._tasks.width.length-1)];i==this._tasks.width.length&&(o+=this._tasks.width[this._tasks.width.length-1]),r&&(i<this._tasks.width.length?o+=this._tasks.width[i]*(r%1):o+=1);var s=Math.round(o);return this._posFromDateCache[n]=s,Math.round(s)},_getNextVisibleColumn:function(e,n,t){for(var i=+n[e],r=e;t[i];)i=+n[++r];return r},_getPrevVisibleColumn:function(e,n,t){for(var i=+n[e],r=e;t[i];)i=+n[--r];return r},_getClosestVisibleColumn:function(e,n,t){var i=this._getNextVisibleColumn(e,n,t);return n[i]||(i=this._getPrevVisibleColumn(e,n,t)),i},columnIndexByDate:function(e){var n=new Date(e).valueOf(),t=this._tasks.trace_x_ascending,i=this._tasks.ignore_x,r=this.$gantt.getState();if(n<=r.min_date)return this._tasks.rtl?t.length:0;if(n>=r.max_date)return this._tasks.rtl?0:t.length;var o=Gc(t,n),s=this._getClosestVisibleColumn(o,t,i),a=t[s],l=this._tasks.trace_index_transition;if(!a)return l?l[0]:0;var d=(e-t[s])/this._getColumnDuration(this._tasks,t[s]);return l?l[s]+(1-d):s+d},getItemPosition:function(e,n,t){var i,r,o;let s=n||e.start_date||e.$auto_start_date,a=t||e.end_date||e.$auto_end_date;return this._tasks.rtl?(r=this.posFromDate(s),i=this.posFromDate(a)):(i=this.posFromDate(s),r=this.posFromDate(a)),o=Math.max(r-i,0),{left:i,top:this.getItemTop(e.id),height:this.getBarHeight(e.id),width:o,rowHeight:this.getItemHeight(e.id)}},getBarHeight:function(e,n){var t=this.$getConfig(),i=this.$config.rowStore.getItem(e),r=i.task_height||i.bar_height||t.bar_height||t.task_height,o=this.getItemHeight(e);return r=="full"&&(r=o-(t.bar_height_padding||3)),r=Math.min(r,o),n&&(r=Math.round(r/Math.sqrt(2))),Math.max(r,0)},getScale:function(){return this._tasks},_getScales:function(){var e=this.$getConfig(),n=this.$scaleHelper,t=[n.primaryScale(e)].concat(n.getSubScales(e));return n.sortScales(t),t},_getColumnDuration:function(e,n){return this.$gantt.date.add(n,e.step,e.unit)-n},_bindStore:function(){if(this.$config.bind){var e=this.$gantt.getDatastore(this.$config.bind);if(this.$config.rowStore=e,e&&!e._timelineCacheAttached){var n=this;e._timelineCacheAttached=e.attachEvent("onBeforeFilter",function(){n._resetTopPositionHeight()})}}},_unbindStore:function(){if(this.$config.bind){var e=this.$gantt.getDatastore(this.$config.bind);e&&e._timelineCacheAttached&&(e.detachEvent(e._timelineCacheAttached),e._timelineCacheAttached=!1)}},refresh:function(){this._bindStore(),this.$config.bindLinks&&(this.$config.linkStore=this.$gantt.getDatastore(this.$config.bindLinks)),this._resetTopPositionHeight(),this._resetHeight(),this._initStaticBackgroundRender(),this._render_tasks_scales()},destructor:function(){var e=this.$gantt;this._clearLayers(e),this._unbindStore(),this.$task=null,this.$task_scale=null,this.$task_data=null,this.$task_bg=null,this.$task_links=null,this.$task_bars=null,this.$gantt=null,this.$config.rowStore&&(this.$config.rowStore.detachEvent(this._staticBgHandler),this.$config.rowStore=null),this.$config.linkStore&&(this.$config.linkStore=null),this._timelineDragScroll&&(this._timelineDragScroll.destructor(),this._timelineDragScroll=null),this.callEvent("onDestroy",[]),this.detachAllEvents()}};var gb=class{constructor(n){this._scrollOrder=0;let{gantt:t,grid:i,dnd:r,getCurrentX:o}=n;this.$gantt=t,this.$grid=i,this._dnd=r,this.getCurrentX=o,this._scrollView=this.$gantt.$ui.getView(this.$grid.$config.scrollX),this.attachEvents()}attachEvents(){this.isScrollable()&&(this._dnd.attachEvent("onDragMove",(n,t)=>{let i=this.$grid.$grid.getBoundingClientRect(),r=i.right,o=i.left,s=this.getCurrentX(t.clientX);return s>=r-20&&(this.autoscrollRight(),this.autoscrollStart()),s<=o+20&&(this.autoscrollLeft(),this.autoscrollStart()),s<r-20&&s>o+20&&this.autoscrollStop(),!0}),this._dnd.attachEvent("onDragEnd",()=>{this.autoscrollStop()}))}autoscrollStart(){if(this._scrollOrder===0)return;let n=10*this._scrollOrder,t=this._scrollView.getScrollState();this._scrollView.scrollTo(t.position+n),setTimeout(()=>{this.autoscrollStart()},50)}autoscrollRight(){this._scrollOrder=1}autoscrollLeft(){this._scrollOrder=-1}autoscrollStop(){this._scrollOrder=0}getCorrection(){return this.isScrollable()?this._scrollView.getScrollState().position:0}isScrollable(){return!!this.$grid.$config.scrollable}},uD="data-column-id",pb=class{constructor(n,t){this._targetMarker=null,this.calculateCurrentPosition=i=>{let r=this.$grid.$grid.getBoundingClientRect(),o=r.right,s=r.left,a=i;return a>o&&(a=o),a<s&&(a=s),a},this.$gantt=n,this.$grid=t}init(){let n=this.$gantt.$services.getService("dnd");this._dnd=new n(this.$grid.$grid_scale,{updates_per_second:60}),this._scrollableGrid=new gb({gantt:this.$gantt,grid:this.$grid,dnd:this._dnd,getCurrentX:this.calculateCurrentPosition}),this.attachEvents()}attachEvents(){this._dnd.attachEvent("onBeforeDragStart",(n,t)=>{if(this._draggedCell=this.$gantt.utils.dom.closest(t.target,".gantt_grid_head_cell"),!this._draggedCell)return;let i=this.$grid.$getConfig().columns,r=this._draggedCell.getAttribute(uD),o,s;return i.map(function(a,l){a.name===r&&(o=a,s=l)}),this.$grid.callEvent("onBeforeColumnDragStart",[{draggedColumn:o,draggedIndex:s}])!==!1&&!(!this._draggedCell||!o)&&(this._gridConfig=this.$grid.$getConfig(),this._originAutoscroll=this.$gantt.config.autoscroll,this.$gantt.config.autoscroll=!1,!0)}),this._dnd.attachEvent("onAfterDragStart",(n,t)=>{this._draggedCell&&(this._dnd.config.column=this._draggedCell.getAttribute(uD),this._dnd.config.marker.innerHTML=this._draggedCell.outerHTML,this._dnd.config.marker.classList.add("gantt_column_drag_marker"),this._dnd.config.marker.style.height=this._gridConfig.scale_height+"px",this._dnd.config.marker.style.lineHeight=this._gridConfig.scale_height+"px",this._draggedCell.classList.add("gantt_grid_head_cell_dragged"))}),this._dnd.attachEvent("onDragMove",(n,t)=>{if(!this._draggedCell)return;this._dragX=t.clientX;let i=this.calculateCurrentPosition(t.clientX),r=this.findColumnsIndexes();return this.setMarkerPosition(i),this.drawTargetMarker(r),!0}),this._dnd.attachEvent("onDragEnd",()=>{if(!this._draggedCell)return;let n=this.findColumnsIndexes(),t=n.targetIndex,i=n.draggedIndex,r=this.$grid.$getConfig().columns,o=r[i],s=r[t];if(this.$grid.callEvent("onColumnDragMove",[{draggedColumn:o,targetColumn:s,draggedIndex:i,targetIndex:t}])===!1)return this.cleanTargetMarker(),void this.$gantt.render();this.$gantt.config.autoscroll=this._originAutoscroll,this._draggedCell.classList.remove("gantt_grid_head_cell_dragged"),this.cleanTargetMarker(),this.reorderColumns()})}reorderColumns(){let{targetIndex:n,draggedIndex:t}=this.findColumnsIndexes(),i=this.$grid.$getConfig().columns,r=i[t],o=i[n];this.$grid.callEvent("onBeforeColumnReorder",[{draggedColumn:r,targetColumn:o,draggedIndex:t,targetIndex:n}])!==!1&&n!==t&&(i.splice(t,1),i.splice(n,0,r),this.$gantt.render(),this.$grid.callEvent("onAfterColumnReorder",[{draggedColumn:r,targetColumn:o,draggedIndex:t,targetIndex:n}]))}findColumnsIndexes(){let n=this._dnd.config.column,t=this.$grid.$getConfig().columns,i,r,o,s,a={startX:0,endX:0},l,d=0,u=t.length-1,f=(v,k)=>v<=k,g=v=>++v;this.$gantt.config.rtl&&(d=t.length-1,u=0,f=(v,k)=>v>=k,g=v=>--v);let p=this._dragX-this.$grid.$grid.getBoundingClientRect().left+this._scrollableGrid.getCorrection();for(let v=d;f(v,u)&&(i===void 0||r===void 0);v=g(v))t[v].hide||(a.startX=a.endX,a.endX+=t[v].width,p>=a.startX&&(p<=a.endX||!f(g(v),u))&&(i=v,o=a.startX,s=a.endX,l=(p-a.startX)/(a.endX-a.startX)),n===t[v].name&&(r=v));return{targetIndex:i,draggedIndex:r,xBefore:o,xAfter:s,columnRelativePos:l}}setMarkerPosition(n,t=10){let{marker:i}=this._dnd.config,r=this._dnd._obj.getBoundingClientRect();i.style.top=`${r.y+t}px`,i.style.left=`${n}px`}drawTargetMarker({targetIndex:n,draggedIndex:t,xBefore:i,xAfter:r,columnRelativePos:o}){let s;this._targetMarker||(this._targetMarker=document.createElement("div"),Da(this._targetMarker,"gantt_grid_target_marker"),this._targetMarker.style.display="none",this._targetMarker.style.height=`${this._gridConfig.scale_height}px`),this._targetMarker.parentNode||this.$grid.$grid_scale.appendChild(this._targetMarker),s=n>t?r:n<t?i:o>.5?r:i,this._targetMarker.style.left=`${s}px`,this._targetMarker.style.display="block"}cleanTargetMarker(){this._targetMarker&&this._targetMarker.parentNode&&this.$grid.$grid_scale.removeChild(this._targetMarker),this._targetMarker=null}};function xb(e){var n=[];return{delegate:function(t,i,r,o){n.push([t,i,r,o]),e.$services.getService("mouseEvents").delegate(t,i,r,o)},destructor:function(){for(var t=e.$services.getService("mouseEvents"),i=0;i<n.length;i++){var r=n[i];t.detach(r[0],r[1],r[2],r[3])}n=[]}}}var mb=function(e,n,t,i){this.$config=$e({},n||{}),this.$gantt=i,this.$parent=e,fi(this),this.$state={},$e(this,BD(this))};mb.prototype={init:function(e){var n=this.$gantt,t=n._waiAria.gridAttrString(),i=n._waiAria.gridDataAttrString(),r=this.$getConfig(),o=r.reorder_grid_columns||!1;this.$config.reorder_grid_columns!==void 0&&(o=this.$config.reorder_grid_columns),e.innerHTML="<div class='gantt_grid' style='height:inherit;width:inherit;' "+t+"></div>",this.$grid=e.childNodes[0],this.$grid.innerHTML="<div class='gantt_grid_scale' "+n._waiAria.gridScaleRowAttrString()+"></div><div class='gantt_grid_data' "+i+"></div>",this.$grid_scale=this.$grid.childNodes[0],this.$grid_data=this.$grid.childNodes[1];var s=r[this.$config.bind+"_attribute"];if(!s&&this.$config.bind&&(s="data-"+this.$config.bind+"-id"),this.$config.item_attribute=s||null,!this.$config.layers){var a=this._createLayerConfig();this.$config.layers=a}var l={init:function(){},doOnRender:function(){}};this._renderHeaderResizers=l.doOnRender,this._mouseDelegates=xb(n);var d=function(u,f){var g={row_before_start:u.bind(function(p,v,k){var x=f.$getConfig(),S=f.$config.rowStore;if(!Gn(k,x.task_grid_row_resizer_attribute))return!1;var _=this.locate(k,x.task_grid_row_resizer_attribute),w=S.getItem(_);return f.callEvent("onBeforeRowResize",[w])!==!1&&void 0},u),row_after_start:u.bind(function(p,v,k){var x=f.$getConfig(),S=this.locate(k,x.task_grid_row_resizer_attribute);p.config.marker.innerHTML="",p.config.marker.className+=" gantt_row_grid_resize_area",p.config.marker.style.width=f.$grid.offsetWidth+"px",p.config.drag_id=S},u),row_drag_move:u.bind(function(p,v,k){var x=f.$config.rowStore,S=f.$getConfig(),_=p.config,w=_.drag_id,y=f.getItemHeight(w),C=f.getItemTop(w)-v.scrollTop,D=qt(f.$grid_data),I=parseInt(_.marker.style.top,10),M=C+D.y,P=0,R=S.min_task_grid_row_height;return(P=I-M)<R&&(P=R),_.marker.style.left=D.x+"px",_.marker.style.top=M-1+"px",_.marker.style.height=Math.abs(P)+1+"px",_.marker_height=P,f.callEvent("onRowResize",[w,x.getItem(w),P+y]),!0},u),row_drag_end:u.bind(function(p,v,k){var x=f.$config.rowStore,S=p.config,_=S.drag_id,w=x.getItem(_),y=f.getItemHeight(_),C=S.marker_height;f.callEvent("onBeforeRowResizeEnd",[_,w,C])!==!1&&w.row_height!=C&&(w.row_height=C,x.updateItem(_),f.callEvent("onAfterRowResize",[_,w,y,C]),this.render())},u)};return{init:function(){var p=u.$services.getService("dnd"),v=f.$getConfig(),k=new p(f.$grid_data,{updates_per_second:60});u.defined(v.dnd_sensitivity)&&(k.config.sensitivity=v.dnd_sensitivity),k.attachEvent("onBeforeDragStart",function(x,S){return g.row_before_start(k,x,S)}),k.attachEvent("onAfterDragStart",function(x,S){return g.row_after_start(k,x,S)}),k.attachEvent("onDragMove",function(x,S){return g.row_drag_move(k,x,S)}),k.attachEvent("onDragEnd",function(x,S){return g.row_drag_end(k,x,S)})}}}(n,this);d.init(),this._addLayers(this.$gantt),this._initEvents(),o&&(this._columnDND=new pb(n,this),this._columnDND.init()),this.callEvent("onReady",[])},_validateColumnWidth:function(e,n){var t=e[n];if(t&&t!="*"){var i=this.$gantt,r=1*t;isNaN(r)?i.assert(!1,"Wrong "+n+" value of column "+e.name):e[n]=r}},setSize:function(e,n){this.$config.width=this.$state.width=e,this.$config.height=this.$state.height=n;for(var t,i=this.getGridColumns(),r=0,o=(d=this.$getConfig()).grid_elastic_columns,s=0,a=i.length;s<a;s++)this._validateColumnWidth(i[s],"min_width"),this._validateColumnWidth(i[s],"max_width"),this._validateColumnWidth(i[s],"width"),r+=1*i[s].width;if(!isNaN(r)&&this.$config.scrollable||(r=t=this._setColumnsWidth(e+1)),this.$config.scrollable&&o&&!isNaN(r)){let f="width";o=="min_width"&&(f="min_width");let g=0;i.forEach(function(p){g+=p[f]||d.min_grid_column_width});var l=Math.max(g,e);r=this._setColumnsWidth(l),t=e}this.$config.scrollable?(this.$grid_scale.style.width=r+"px",this.$grid_data.style.width=r+"px"):(this.$grid_scale.style.width="inherit",this.$grid_data.style.width="inherit"),this.$config.width-=1;var d=this.$getConfig();t!==e&&(t!==void 0?(d.grid_width=t,this.$config.width=t-1):isNaN(r)||(this._setColumnsWidth(r),d.grid_width=r,this.$config.width=r-1));var u=Math.max(this.$state.height-d.scale_height,0);this.$grid_data.style.height=u+"px",this.refresh()},getSize:function(){var e=this.$getConfig(),n=this.$config.rowStore?this.getTotalHeight():0,t=this._getGridWidth();return{x:this.$state.width,y:this.$state.height,contentX:this.isVisible()?t:0,contentY:this.isVisible()?e.scale_height+n:0,scrollHeight:this.isVisible()?n:0,scrollWidth:this.isVisible()?t:0}},_bindStore:function(){if(this.$config.bind){var e=this.$gantt.getDatastore(this.$config.bind);if(this.$config.rowStore=e,e&&!e._gridCacheAttached){var n=this;e._gridCacheAttached=e.attachEvent("onBeforeFilter",function(){n._resetTopPositionHeight()})}}},_unbindStore:function(){if(this.$config.bind){var e=this.$gantt.getDatastore(this.$config.bind);e&&e._gridCacheAttached&&(e.detachEvent(e._gridCacheAttached),e._gridCacheAttached=!1)}},refresh:function(){this._bindStore(),this._resetTopPositionHeight(),this._resetHeight(),this._initSmartRenderingPlaceholder(),this._calculateGridWidth(),this._renderGridHeader()},getViewPort:function(){var e=this.$config.scrollLeft||0,n=this.$config.scrollTop||0,t=this.$config.height||0,i=this.$config.width||0;return{y:n,y_end:n+t,x:e,x_end:e+i,height:t,width:i}},scrollTo:function(e,n){if(this.isVisible()){var t=!1;this.$config.scrollTop=this.$config.scrollTop||0,this.$config.scrollLeft=this.$config.scrollLeft||0,1*e==e&&(this.$config.scrollLeft=this.$state.scrollLeft=this.$grid.scrollLeft=e,t=!0),1*n==n&&(this.$config.scrollTop=this.$state.scrollTop=this.$grid_data.scrollTop=n,t=!0),t&&this.callEvent("onScroll",[this.$config.scrollLeft,this.$config.scrollTop])}},getColumnIndex:function(e,n){for(var t=this.$getConfig().columns,i=0,r=0;r<t.length;r++)if(n&&t[r].hide&&i++,t[r].name==e)return r-i;return null},getColumn:function(e){var n=this.getColumnIndex(e);return n===null?null:this.$getConfig().columns[n]},getGridColumns:function(){return this.$getConfig().columns.slice()},isVisible:function(){return this.$parent&&this.$parent.$config?!this.$parent.$config.hidden:this.$grid.offsetWidth},_createLayerConfig:function(){var e=this.$gantt,n=this;return[{renderer:e.$ui.layers.gridLine(),container:this.$grid_data,filter:[function(){return n.isVisible()}]},{renderer:e.$ui.layers.gridTaskRowResizer(),container:this.$grid_data,append:!0,filter:[function(){return e.config.resize_rows}]}]},_addLayers:function(e){if(this.$config.bind){this._taskLayers=[];var n=this,t=this.$gantt.$services.getService("layers"),i=t.getDataRender(this.$config.bind);i||(i=t.createDataRender({name:this.$config.bind,defaultContainer:function(){return n.$grid_data}}));for(var r=this.$config.layers,o=0;r&&o<r.length;o++){var s=r[o];s.view=this;var a=i.addLayer(s);this._taskLayers.push(a)}this._bindStore(),this._initSmartRenderingPlaceholder()}},_refreshPlaceholderOnStoreUpdate:function(e){var n=this.$getConfig(),t=this.$config.rowStore;if(t&&e===null&&this.isVisible()&&n.smart_rendering){var i;if(this.$config.scrollY){var r=this.$gantt.$ui.getView(this.$config.scrollY);r&&(i=r.getScrollState().scrollSize)}if(i||(i=t?this.getTotalHeight():0),i){this.$rowsPlaceholder&&this.$rowsPlaceholder.parentNode&&this.$rowsPlaceholder.parentNode.removeChild(this.$rowsPlaceholder);var o=this.$rowsPlaceholder=document.createElement("div");o.style.visibility="hidden",o.style.height=i+"px",o.style.width="1px",this.$grid_data.appendChild(o)}}},_initSmartRenderingPlaceholder:function(){var e=this.$config.rowStore;e&&(this._initSmartRenderingPlaceholder=function(){},this._staticBgHandler=e.attachEvent("onStoreUpdated",Ye(this._refreshPlaceholderOnStoreUpdate,this)))},_initEvents:function(){var e=this.$gantt;this._mouseDelegates.delegate("click","gantt_close",e.bind(function(n,t,i){var r=this.$config.rowStore;if(!r)return!0;var o=Gn(n,this.$config.item_attribute);return o&&r.close(o.getAttribute(this.$config.item_attribute)),!1},this),this.$grid),this._mouseDelegates.delegate("click","gantt_open",e.bind(function(n,t,i){var r=this.$config.rowStore;if(!r)return!0;var o=Gn(n,this.$config.item_attribute);return o&&r.open(o.getAttribute(this.$config.item_attribute)),!1},this),this.$grid)},_clearLayers:function(e){var n=this.$gantt.$services.getService("layers").getDataRender(this.$config.bind);if(this._taskLayers)for(var t=0;t<this._taskLayers.length;t++)n.removeLayer(this._taskLayers[t]);this._taskLayers=[]},_getColumnWidth:function(e,n,t){var i=e.min_width||n.min_grid_column_width,r=Math.max(t,i||10);return e.max_width&&(r=Math.min(r,e.max_width)),r},_checkGridColumnMinWidthLimits:function(e,n){for(var t=0,i=e.length;t<i;t++){var r=1*e[t].width;!e[t].min_width&&r<n.min_grid_column_width&&(e[t].min_width=r)}},_getGridWidthLimits:function(){for(var e=this.$getConfig(),n=this.getGridColumns(),t=0,i=0,r=0;r<n.length;r++)t+=n[r].min_width?n[r].min_width:e.min_grid_column_width,i!==void 0&&(i=n[r].max_width?i+n[r].max_width:void 0);return this._checkGridColumnMinWidthLimits(n,e),[t,i]},_setColumnsWidth:function(e,n){var t=this.$getConfig(),i=this.getGridColumns(),r=0,o=e;n=window.isNaN(n)?-1:n;for(var s=0,a=i.length;s<a;s++)r+=1*i[s].width;if(window.isNaN(r))for(this._calculateGridWidth(),r=0,s=0,a=i.length;s<a;s++)r+=1*i[s].width;var l=o-r,d=0;for(s=0;s<n+1;s++)d+=i[s].width;for(r-=d,s=n+1;s<i.length;s++){var u=i[s],f=Math.round(l*(u.width/r));l<0?u.min_width&&u.width+f<u.min_width?f=u.min_width-u.width:!u.min_width&&t.min_grid_column_width&&u.width+f<t.min_grid_column_width&&(f=t.min_grid_column_width-u.width):u.max_width&&u.width+f>u.max_width&&(f=u.max_width-u.width),r-=u.width,u.width+=f,l-=f}for(var g=l>0?1:-1;l>0&&g===1||l<0&&g===-1;){var p=l;for(s=n+1;s<i.length;s++){var v;if((v=i[s].width+g)==this._getColumnWidth(i[s],t,v)&&(l-=g,i[s].width=v),!l)break}if(p==l)break}return l&&n>-1&&(v=i[n].width+l)==this._getColumnWidth(i[n],t,v)&&(i[n].width=v),this._getColsTotalWidth()},_getColsTotalWidth:function(){for(var e=this.getGridColumns(),n=0,t=0;t<e.length;t++){var i=parseFloat(e[t].width);if(window.isNaN(i))return!1;n+=i}return n},_calculateGridWidth:function(){for(var e=this.$getConfig(),n=this.getGridColumns(),t=0,i=[],r=[],o=0;o<n.length;o++){var s=parseFloat(n[o].width);window.isNaN(s)&&(s=e.min_grid_column_width||10,i.push(o)),r[o]=s,t+=s}var a=this._getGridWidth()+1;if(e.autofit||i.length){var l=a-t;if(e.autofit&&!e.grid_elastic_columns)for(o=0;o<r.length;o++){var d=Math.round(l/(r.length-o));r[o]+=d,(u=this._getColumnWidth(n[o],e,r[o]))!=r[o]&&(d=u-r[o],r[o]=u),l-=d}else if(i.length)for(o=0;o<i.length;o++){d=Math.round(l/(i.length-o));var u,f=i[o];r[f]+=d,(u=this._getColumnWidth(n[f],e,r[f]))!=r[f]&&(d=u-r[f],r[f]=u),l-=d}for(o=0;o<r.length;o++)n[o].width=r[o]}else{var g=a!=t;this.$config.width=t-1,e.grid_width=t,g&&this.$parent._setContentSize(this.$config.width,null)}},_renderGridHeader:function(){var e=this.$gantt,n=this.$getConfig(),t=this.$gantt.locale,i=this.$gantt.templates,r=this.getGridColumns();n.rtl&&(r=r.reverse());var o=[],s=0,a=t.labels,l=n.scale_height-1;let d={};for(var u=0;u<r.length;u++){var f=u==r.length-1,g=r[u];g.name||(g.name=e.uid()+"");var p=1*g.width,v=this._getGridWidth();f&&v>s+p&&(g.width=p=v-s),s+=p;var k=e._sort&&g.name==e._sort.name?`<div data-column-id="${g.name}" class="gantt_sort gantt_${e._sort.direction}"></div>`:"",x=["gantt_grid_head_cell","gantt_grid_head_"+g.name,f?"gantt_last_cell":"",i.grid_header_class(g.name,g)].join(" "),S="width:"+(p-(f?1:0))+"px;",_=g.label||a["column_"+g.name]||a[g.name];typeof _=="function"&&(_=_.call(e,g.name,g)),_=_||"";let y=!1;e.config.external_render&&e.config.external_render.isElement(_)&&(y=!0,d[g.name]=_);var w="<div class='"+x+"' style='"+S+"' "+e._waiAria.gridScaleCellAttrString(g,_)+" data-column-id='"+g.name+"' column_id='"+g.name+"' data-column-name='"+g.name+"' data-column-index='"+u+"'>"+(y?"<div data-component-container></div>":_)+k+"</div>";o.push(w)}this.$grid_scale.style.height=n.scale_height+"px",this.$grid_scale.style.lineHeight=l+"px",this.$grid_scale.innerHTML=o.join("");for(let y in d)e.config.external_render.renderElement(d[y],this.$grid_scale.querySelector("[data-column-id='"+y+"'] [data-component-container]"));this._renderHeaderResizers&&this._renderHeaderResizers()},_getGridWidth:function(){return this.$config.width},destructor:function(){this._clearLayers(this.$gantt),this._mouseDelegates&&(this._mouseDelegates.destructor(),this._mouseDelegates=null),this._unbindStore(),this.$grid=null,this.$grid_scale=null,this.$grid_data=null,this.$gantt=null,this.$config.rowStore&&(this.$config.rowStore.detachEvent(this._staticBgHandler),this.$config.rowStore=null),this.callEvent("onDestroy",[]),this.detachAllEvents()}};var oB={init:function(e,n){var t=n.$gantt;t.attachEvent("onTaskClick",function(i,r){if(t._is_icon_open_click(r))return!0;var o=e.getState(),s=e.locateCell(r.target);return!s||!e.getEditorConfig(s.columnName)||(e.isVisible()&&o.id==s.id&&o.columnName==s.columnName||e.startEdit(s.id,s.columnName),!1)}),t.attachEvent("onEmptyClick",function(){return e.isVisible()&&e.isChanged()?e.save():e.hide(),!0}),t.attachEvent("onTaskDblClick",function(i,r){var o=e.getState(),s=e.locateCell(r.target);return!s||!e.isVisible()||s.columnName!=o.columnName})},onShow:function(e,n,t){var i=t.$gantt;i.ext&&i.ext.keyboardNavigation&&i.ext.keyboardNavigation.attachEvent("onKeyDown",function(r,o){var s=i.constants.KEY_CODES,a=!1;return o.keyCode===s.SPACE&&e.isVisible()&&(a=!0),!a}),n.onkeydown=function(r){r=r||window.event;var o=i.constants.KEY_CODES;if(!(r.defaultPrevented||r.shiftKey&&r.keyCode!=o.TAB)){var s=!0;switch(r.keyCode){case i.keys.edit_save:e.save();break;case i.keys.edit_cancel:e.hide();break;case o.UP:case o.DOWN:e.isVisible()&&(e.hide(),s=!1);break;case o.TAB:r.shiftKey?e.editPrevCell(!0):e.editNextCell(!0);break;default:s=!1}s&&r.preventDefault()}}},onHide:function(){},destroy:function(){}},sB={init:function(e,n){var t=e,i=n.$gantt,r=null,o=i.ext.keyboardNavigation;o.attachEvent("onBeforeFocus",function(s){var a=e.locateCell(s);if(clearTimeout(r),a){var l=a.columnName,d=a.id,u=t.getState();if(t.isVisible()&&u.id==d&&u.columnName===l)return!1}return!0}),o.attachEvent("onFocus",function(s){var a=e.locateCell(s),l=e.getState();return clearTimeout(r),!a||a.id==l.id&&a.columnName==l.columnName||t.isVisible()&&t.save(),!0}),e.attachEvent("onHide",function(){clearTimeout(r)}),o.attachEvent("onBlur",function(){return r=setTimeout(function(){t.save()}),!0}),i.attachEvent("onTaskDblClick",function(s,a){var l=e.getState(),d=e.locateCell(a.target);return!d||!e.isVisible()||d.columnName!=l.columnName}),i.attachEvent("onTaskClick",function(s,a){if(i._is_icon_open_click(a))return!0;var l=e.getState(),d=e.locateCell(a.target);return!d||!e.getEditorConfig(d.columnName)||(e.isVisible()&&l.id==d.id&&l.columnName==d.columnName||e.startEdit(d.id,d.columnName),!1)}),i.attachEvent("onEmptyClick",function(){return t.save(),!0}),o.attachEvent("onKeyDown",function(s,a){var l=e.locateCell(a.target),d=!!l&&e.getEditorConfig(l.columnName),u=e.getState(),f=i.constants.KEY_CODES,g=a.keyCode,p=!1;switch(g){case f.ENTER:e.isVisible()?(e.save(),a.preventDefault(),p=!0):d&&!(a.ctrlKey||a.metaKey||a.shiftKey)&&(t.startEdit(l.id,l.columnName),a.preventDefault(),p=!0);break;case f.ESC:e.isVisible()&&(e.hide(),a.preventDefault(),p=!0);break;case f.UP:case f.DOWN:break;case f.LEFT:case f.RIGHT:(d&&e.isVisible()||u.editorType==="date")&&(p=!0);break;case f.SPACE:e.isVisible()&&(p=!0),d&&!e.isVisible()&&(t.startEdit(l.id,l.columnName),a.preventDefault(),p=!0);break;case f.DELETE:d&&!e.isVisible()?(t.startEdit(l.id,l.columnName),p=!0):d&&e.isVisible()&&(p=!0);break;case f.TAB:if(e.isVisible()){a.shiftKey?e.editPrevCell(!0):e.editNextCell(!0);var v=e.getState();v.id&&o.focus({type:"taskCell",id:v.id,column:v.columnName}),a.preventDefault(),p=!0}break;default:if(e.isVisible())p=!0;else if(g>=48&&g<=57||g>95&&g<112||g>=64&&g<=91||g>185&&g<193||g>218&&g<223){var k=s.modifiers,x=k.alt||k.ctrl||k.meta||k.shift;k.alt||x&&o.getCommandHandler(s,"taskCell")||d&&!e.isVisible()&&(t.startEdit(l.id,l.columnName),p=!0)}}return!p})},onShow:function(e,n,t){},onHide:function(e,n,t){let i=t.$gantt;i&&i.focus()},destroy:function(){}};function Ia(e){var n=function(){};return n.prototype={show:function(t,i,r,o){},hide:function(){},set_value:function(t,i,r,o){this.get_input(o).value=t},get_value:function(t,i,r){return this.get_input(r).value||""},is_changed:function(t,i,r,o){var s=this.get_value(i,r,o);return s&&t&&s.valueOf&&t.valueOf?s.valueOf()!=t.valueOf():s!=t},is_valid:function(t,i,r,o){return!0},save:function(t,i,r){},get_input:function(t){return t.querySelector("input")},focus:function(t){var i=this.get_input(t);i&&(i.focus&&i.focus(),i.select&&i.select())}},n}function aB(e){var n=Ia();function t(){return n.apply(this,arguments)||this}return gt(t,n),$e(t.prototype,{show:function(i,r,o,s){var a=`<div role='cell'><input type='text' name='${r.name}' title='${r.name}'></div>`;s.innerHTML=a}},!0),t}function lB(e){var n=Ia();function t(){return n.apply(this,arguments)||this}return gt(t,n),$e(t.prototype,{show:function(i,r,o,s){var a=o.min||0,l=o.max||100,d=`<div role='cell'><input type='number' min='${a}' max='${l}' name='${r.name}' title='${r.name}'></div>`;s.innerHTML=d,s.oninput=function(u){+u.target.value<a&&(u.target.value=a),+u.target.value>l&&(u.target.value=l)}},get_value:function(i,r,o){return this.get_input(o).value||""},is_valid:function(i,r,o,s){return!isNaN(parseInt(i,10))}},!0),t}function cB(e){var n=Ia();function t(){return n.apply(this,arguments)||this}return gt(t,n),$e(t.prototype,{show:function(i,r,o,s){for(var a=`<div role='cell'><select name='${r.name}' title='${r.name}'>`,l=[],d=o.options||[],u=0;u<d.length;u++)l.push("<option value='"+o.options[u].key+"'>"+d[u].label+"</option>");a+=l.join("")+"</select></div>",s.innerHTML=a},get_input:function(i){return i.querySelector("select")}},!0),t}function dB(e){var n=Ia(),t="%Y-%m-%d",i=null,r=null;function o(){return n.apply(this,arguments)||this}return gt(o,n),$e(o.prototype,{show:function(s,a,l,d){i||(i=e.date.date_to_str(t)),r||(r=e.date.str_to_date(t));var u=null,f=null;u=typeof l.min=="function"?l.min(s,a):l.min,f=typeof l.max=="function"?l.max(s,a):l.max;var g=`<div style='width:140px' role='cell'><input type='date' ${u?" min='"+i(u)+"' ":""} ${f?" max='"+i(f)+"' ":""} name='${a.name}' title='${a.name}'></div>`;d.innerHTML=g,d.oninput=function(p){p.target.value&&(u||f)&&(+e.date.str_to_date("%Y-%m-%d")(p.target.value)<+u&&(p.target.value=e.date.date_to_str("%Y-%m-%d")(u)),+e.date.str_to_date("%Y-%m-%d")(p.target.value)>+f&&(p.target.value=e.date.date_to_str("%Y-%m-%d")(f)))}},set_value:function(s,a,l,d){s&&s.getFullYear?this.get_input(d).value=i(s):this.get_input(d).value=s},is_valid:function(s,a,l,d){return!(!s||isNaN(s.getTime()))},get_value:function(s,a,l){var d;try{d=r(this.get_input(l).value||"")}catch{d=null}return d}},!0),o}function uB(e){var n=Ia();function t(){return n.apply(this,arguments)||this}function i(l){return l.formatter||e.ext.formatters.linkFormatter()}function r(l,d){for(var u=(l||"").split(d.delimiter||","),f=0;f<u.length;f++){var g=u[f].trim();g?u[f]=g:(u.splice(f,1),f--)}return u.sort(),u}function o(l,d,u){for(var f=l.$target,g=[],p=0;p<f.length;p++){var v=u.getLink(f[p]);g.push(i(d).format(v))}return g.join((d.delimiter||",")+" ")}function s(l){return l.source+"_"+l.target+"_"+l.type+"_"+(l.lag||0)}function a(l,d,u){var f=function(x,S,_){var w=[];return[...new Set(S)].forEach(function(y){var C=i(_).parse(y);C&&(C.target=x,C.id="predecessor_generated",e.isLinkAllowed(C)&&(C.id=void 0,w.push(C)))}),w}(l.id,d,u),g={};l.$target.forEach(function(x){var S=e.getLink(x);g[s(S)]=S.id});var p=[];f.forEach(function(x){var S=s(x);g[S]?delete g[S]:p.push(x)});var v=[];for(var k in g)v.push(g[k]);return{add:p,remove:v}}return gt(t,n),$e(t.prototype,{show:function(l,d,u,f){var g=`<div role='cell'><input type='text' name='${d.name}' title='${d.name}'></div>`;f.innerHTML=g},hide:function(){},set_value:function(l,d,u,f){this.get_input(f).value=o(l,u.editor,e)},get_value:function(l,d,u){return r(this.get_input(u).value||"",d.editor)},save:function(l,d,u){var f=a(e.getTask(l),this.get_value(l,d,u),d.editor);(f.add.length||f.remove.length)&&e.batchUpdate(function(){f.add.forEach(function(g){e.addLink(g)}),f.remove.forEach(function(g){e.deleteLink(g)}),e.autoSchedule&&e.autoSchedule()})},is_changed:function(l,d,u,f){var g=this.get_value(d,u,f),p=r(o(l,u.editor,e),u.editor);return g.join()!==p.join()}},!0),t}function hB(e){var n=Ia();function t(){return n.apply(this,arguments)||this}function i(r){return r.formatter||e.ext.formatters.durationFormatter()}return gt(t,n),$e(t.prototype,{show:function(r,o,s,a){var l=`<div role='cell'><input type='text' name='${o.name}' title='${o.name}'></div>`;a.innerHTML=l},set_value:function(r,o,s,a){this.get_input(a).value=i(s.editor).format(r)},get_value:function(r,o,s){return i(o.editor).parse(this.get_input(s).value||"")}},!0),t}function fB(e){return function(t,i,r){r=="keepDates"?function(o,s){s=="duration"?o.end_date=e.calculateEndDate(o):s!="end_date"&&s!="start_date"||(o.duration=e.calculateDuration(o))}(t,i):r=="keepDuration"?function(o,s){s=="end_date"?o.start_date=n(o):s!="start_date"&&s!="duration"||(o.end_date=e.calculateEndDate(o))}(t,i):function(o,s){e.config.schedule_from_end?s=="end_date"||s=="duration"?o.start_date=n(o):s=="start_date"&&(o.duration=e.calculateDuration(o)):s=="start_date"||s=="duration"?o.end_date=e.calculateEndDate(o):s=="end_date"&&(o.duration=e.calculateDuration(o))}(t,i)};function n(t){return e.calculateEndDate({start_date:t.end_date,duration:-t.duration,task:t})}}function gB(e){e.config.editor_types={text:new(aB()),number:new(lB()),select:new(cB()),date:new(dB(e)),predecessor:new(uB(e)),duration:new(hB(e))}}function pB(e){var n=function(r){var o=null;return{setMapping:function(s){o=s},getMapping:function(){return o||(r.config.keyboard_navigation_cells&&r.ext.keyboardNavigation?sB:oB)}}}(e),t={};fi(t);var i={init:gB,createEditors:function(r){function o(f,g){var p=r.$getConfig(),v=function(S,_){for(var w=r.$getConfig(),y=r.getItemTop(S),C=r.getItemHeight(S),D=r.getGridColumns(),I=0,M=0,P=0,R=0;R<D.length;R++){if(D[R].name==_){P=D[R].width;break}w.rtl?M+=D[R].width:I+=D[R].width}return w.rtl?{top:y,right:M,height:C,width:P}:{top:y,left:I,height:C,width:P}}(f,g),k=document.createElement("div");k.className="gantt_grid_editor_placeholder",k.setAttribute(r.$config.item_attribute,f),k.setAttribute(r.$config.bind+"_id",f),k.setAttribute("data-column-name",g);var x=function(S,_){for(var w=S.getGridColumns(),y=0;y<w.length;y++)if(w[y].name==_)return y;return 0}(r,g);return k.setAttribute("data-column-index",x),e._waiAria.inlineEditorAttr(k),p.rtl?k.style.cssText=["top:"+v.top+"px","right:"+v.right+"px","width:"+v.width+"px","height:"+v.height+"px"].join(";"):k.style.cssText=["top:"+v.top+"px","left:"+v.left+"px","width:"+v.width+"px","height:"+v.height+"px"].join(";"),k}var s=fB(e),a=[],l=[],d=null,u={_itemId:null,_columnName:null,_editor:null,_editorType:null,_placeholder:null,locateCell:function(f){if(!mn(f,r.$grid))return null;var g=Gn(f,r.$config.item_attribute),p=Gn(f,"data-column-name");if(g&&p){var v=p.getAttribute("data-column-name");return{id:g.getAttribute(r.$config.item_attribute),columnName:v}}return null},getEditorConfig:function(f){return r.getColumn(f).editor},init:function(){var f=n.getMapping();f.init&&f.init(this,r),d=r.$gantt.getDatastore(r.$config.bind);var g=this;a.push(d.attachEvent("onIdChange",function(p,v){g._itemId==p&&(g._itemId=v)})),a.push(d.attachEvent("onStoreUpdated",function(){r.$gantt.getState("batchUpdate").batch_update||g.isVisible()&&!d.isVisible(g._itemId)&&g.hide()})),l.push(e.attachEvent("onDataRender",function(){g._editor&&g._placeholder&&!mn(g._placeholder,e.$root)&&r.$grid_data.appendChild(g._placeholder)})),this.init=function(){}},getState:function(){return{editor:this._editor,editorType:this._editorType,placeholder:this._placeholder,id:this._itemId,columnName:this._columnName}},startEdit:function(f,g){if(this.isVisible()&&this.save(),!d.exists(f))return;var p={id:f,columnName:g};if(e.isReadonly(d.getItem(f)))return void this.callEvent("onEditPrevent",[p]);if(this.callEvent("onBeforeEditStart",[p])===!1)return void this.callEvent("onEditPrevent",[p]);let v=this.show(p.id,p.columnName);v&&v.then?v.then((function(){this.setValue(),this.callEvent("onEditStart",[p])}).bind(this)):(this.setValue(),this.callEvent("onEditStart",[p]))},isVisible:function(){return!(!this._editor||!mn(this._placeholder,e.$root))},show:function(f,g){this.isVisible()&&this.save();var p={id:f,columnName:g},v=r.getColumn(p.columnName),k=this.getEditorConfig(v.name);if(!k)return;var x=r.$getConfig().editor_types[k.type],S=o(p.id,p.columnName);r.$grid_data.appendChild(S);let _=(function(){this._editor=x,this._placeholder=S,this._itemId=p.id,this._columnName=p.columnName,this._editorType=k.type;var y=n.getMapping();y.onShow&&y.onShow(this,S,r),S._onReMount=(function(){this.setValue()}).bind(this)}).bind(this),w=x.show(p.id,v,k,S);if(w&&w.then)return w.then(()=>{_()});_()},setValue:function(){var f=this.getState(),g=f.id,p=f.columnName,v=r.getColumn(p),k=d.getItem(g),x=this.getEditorConfig(p);if(x){var S=k[x.map_to];x.map_to=="auto"&&(S=d.getItem(g)),this._editor.set_value(S,g,v,this._placeholder),this.focus()}},focus:function(){this._editor.focus(this._placeholder)},getValue:function(){var f=r.getColumn(this._columnName);return this._editor.get_value(this._itemId,f,this._placeholder)},_getItemValue:function(){var f=this.getEditorConfig(this._columnName);if(f){var g=e.getTask(this._itemId)[f.map_to];return f.map_to=="auto"&&(g=d.getItem(this._itemId)),g}},isChanged:function(){var f=r.getColumn(this._columnName),g=this._getItemValue();return this._editor.is_changed(g,this._itemId,f,this._placeholder)},hide:function(){if(this._itemId){var f=this._itemId,g=this._columnName,p=n.getMapping();p.onHide&&p.onHide(this,this._placeholder,r),this._itemId=null,this._columnName=null,this._editorType=null,this._placeholder&&(this._editor&&this._editor.hide&&this._editor.hide(this._placeholder),this._editor=null,this._placeholder.parentNode&&this._placeholder.parentNode.removeChild(this._placeholder),this._placeholder=null,this.callEvent("onEditEnd",[{id:f,columnName:g}]))}},save:function(){if(this.isVisible()&&d.exists(this._itemId)&&this.isChanged()){var f=this._itemId,g=this._columnName;if(d.exists(f)){var p=d.getItem(f),v=this.getEditorConfig(g),k={id:f,columnName:g,newValue:this.getValue(),oldValue:this._getItemValue()};if(this.callEvent("onBeforeSave",[k])!==!1&&(!this._editor.is_valid||this._editor.is_valid(k.newValue,k.id,r.getColumn(g),this._placeholder))){var x=v.map_to,S=k.newValue;x!="auto"?(p[x]=S,s(p,x,e.config.inline_editors_date_processing),d.updateItem(f)):this._editor.save(f,r.getColumn(g),this._placeholder),this.callEvent("onSave",[k])}this.hide()}}else this.hide()},_findEditableCell:function(f,g){var p=f,v=r.getGridColumns()[p],k=v?v.name:null;if(k){for(;k&&!this.getEditorConfig(k);)k=this._findEditableCell(f+g,g);return k}return null},getNextCell:function(f){return this._findEditableCell(r.getColumnIndex(this._columnName,!0)+f,f)},getFirstCell:function(){return this._findEditableCell(0,1)},getLastCell:function(){return this._findEditableCell(r.getGridColumns().length-1,-1)},editNextCell:function(f){var g=this.getNextCell(1);if(g){var p=this.getNextCell(1);p&&this.getEditorConfig(p)&&this.startEdit(this._itemId,p)}else if(f&&this.moveRow(1)){var v=this.moveRow(1);(g=this.getFirstCell())&&this.getEditorConfig(g)&&this.startEdit(v,g)}},editPrevCell:function(f){var g=this.getNextCell(-1);if(g){var p=this.getNextCell(-1);p&&this.getEditorConfig(p)&&this.startEdit(this._itemId,p)}else if(f&&this.moveRow(-1)){var v=this.moveRow(-1);(g=this.getLastCell())&&this.getEditorConfig(g)&&this.startEdit(v,g)}},moveRow:function(f){for(var g=f>0?e.getNext:e.getPrev,p=(g=e.bind(g,e))(this._itemId);e.isTaskExists(p)&&e.isReadonly(e.getTask(p));)p=g(p);return p},editNextRow:function(f){var g=this.getState().id;if(e.isTaskExists(g)){var p=null;p=f?this.moveRow(1):e.getNext(g),e.isTaskExists(p)&&this.startEdit(p,this._columnName)}},editPrevRow:function(f){var g=this.getState().id;if(e.isTaskExists(g)){var p=null;p=f?this.moveRow(-1):e.getPrev(g),e.isTaskExists(p)&&this.startEdit(p,this._columnName)}},detachStore:function(){a.forEach(function(f){d.detachEvent(f)}),l.forEach(function(f){e.detachEvent(f)}),a=[],l=[],d=null,this.hide()},destructor:function(){this.detachStore(),this.detachAllEvents()}};return $e(u,n),$e(u,t),u}};return $e(i,n),$e(i,t),i}function _b(e,n,t,i,r){if(!e.start_date||!e.end_date)return null;var o=t.getItemTop(e.id),s=t.getItemHeight(e.id);if(o>n.y_end||o+s<n.y)return!1;var a=t.posFromDate(e.start_date),l=t.posFromDate(e.end_date),d=Math.min(a,l)-200,u=Math.max(a,l)+200;return!(d>n.x_end||u<n.x)}function VD(e){function n(o,s,a){if(e._isAllowedUnscheduledTask(o)||!e._isTaskInTimelineLimits(o))return;var l=s.getItemPosition(o),d=a,u=s.$getTemplates(),f=e.getTaskType(o.type),g=s.getBarHeight(o.id,f==d.types.milestone),p=0;f==d.types.milestone&&(p=(g-l.height)/2);var v=Math.floor((s.getItemHeight(o.id)-g)/2);let k=e.config.baselines&&o.baselines&&o.baselines.length,x=e.config.baselines&&(e.config.baselines.render_mode=="separateRow"||e.config.baselines.render_mode=="individualRow");if(k&&x&&o.bar_height!=="full"&&o.bar_height<o.row_height)if(f===d.types.milestone){let R=s.getBarHeight(o.id,!0),F=Math.sqrt(2*R*R);v=Math.floor((F-g)/2)+2}else v=2;f==d.types.milestone&&(l.left-=Math.round(g/2),l.width=g);var S=document.createElement("div"),_=Math.round(l.width);s.$config.item_attribute&&(S.setAttribute(s.$config.item_attribute,o.id),S.setAttribute(s.$config.bind+"_id",o.id)),d.show_progress&&f!=d.types.milestone&&function(R,F,j,H,G){var q=1*R.progress||0;j=Math.max(j,0);var V=document.createElement("div"),ue=Math.round(j*q);ue=Math.min(j,ue),V.style.width=ue+"px",V.className="gantt_task_progress",V.innerHTML=G.progress_text(R.start_date,R.end_date,R),H.rtl&&(V.style.position="absolute",V.style.right="0px");var J=document.createElement("div");J.className="gantt_task_progress_wrapper",J.appendChild(V),F.appendChild(J);let he=!e.isReadonly(R),Je=e.ext.dragTimeline&&e.ext.dragTimeline._isDragInProgress();if(e.config.drag_progress&&(he||Je)){var qe=document.createElement("div"),fe=ue;H.rtl&&(fe=j-ue),qe.style.left=fe+"px",qe.className="gantt_task_progress_drag",qe.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" width="12" height="9" viewBox="0 0 12 9" fill="none">
<path d="M5.58397 1.52543C5.78189 1.22856 6.21811 1.22856 6.41602 1.52543L10.5475 7.72265C10.769 8.05493 10.5308 8.5 10.1315 8.5L1.86852 8.5C1.46917 8.5 1.23097 8.05493 1.45249 7.72265L5.58397 1.52543Z" fill="var(--dhx-gantt-progress-handle-background)" stroke="var(--dhx-gantt-progress-handle-border)"/>
</svg>`,V.appendChild(qe),F.appendChild(qe)}}(o,S,_,d,u);var w=function(R,F,j){var H=document.createElement("div");return e.getTaskType(R.type)!=e.config.types.milestone?H.innerHTML=j.task_text(R.start_date,R.end_date,R):e.getTaskType(R.type)==e.config.types.milestone&&F&&(H.style.height=H.style.width=F+"px"),H.className="gantt_task_content",H}(o,_,u);S.appendChild(w);var y=function(R,F,j,H){var G=H.$getConfig(),q=[R];F&&q.push(F);var V=e.getState(),ue=e.getTask(j);if(e.getTaskType(ue.type)==G.types.milestone?q.push("gantt_milestone"):e.getTaskType(ue.type)==G.types.project&&q.push("gantt_project"),q.push("gantt_bar_"+e.getTaskType(ue.type)),e.isSummaryTask(ue)&&q.push("gantt_dependent_task"),e.isSplitTask(ue)&&(G.open_split_tasks&&!ue.$open||!G.open_split_tasks)&&q.push("gantt_split_parent"),G.select_task&&e.isSelectedTask(j)&&q.push("gantt_selected"),j==V.drag_id&&(q.push("gantt_drag_"+V.drag_mode),V.touch_drag&&q.push("gantt_touch_"+V.drag_mode)),V.link_source_id==j&&(q.push("gantt_link_source"),V.link_from_start?q.push("gantt_link_from_start"):q.push("gantt_link_from_end")),V.link_target_id==j&&q.push("gantt_link_target"),G.highlight_critical_path&&e.isCriticalTask&&e.isCriticalTask(ue)&&q.push("gantt_critical_task"),V.link_landing_area&&V.link_target_id&&V.link_source_id&&V.link_target_id!=V.link_source_id&&(V.link_target_id==j||V.link_source_id==j)){var J=V.link_source_id,he=V.link_from_start,Je=V.link_to_start,qe="";qe=e.isLinkAllowed(J,j,he,Je)?Je?"link_start_allow":"link_finish_allow":Je?"link_start_deny":"link_finish_deny",q.push(qe)}return q.join(" ")}("gantt_task_line",u.task_class(o.start_date,o.end_date,o),o.id,s);(o.color||o.progressColor||o.textColor)&&(y+=" gantt_task_inline_color"),l.width<20&&(y+=" gantt_thin_task"),S.className=y;var C=["left:"+l.left+"px","top:"+(v+l.top)+"px","height:"+g+"px","line-height:"+Math.max(g<30?g-2:g,0)+"px","width:"+_+"px"];S.style.cssText=C.join(";"),o.color&&S.style.setProperty("--dhx-gantt-task-background",o.color),o.textColor&&S.style.setProperty("--dhx-gantt-task-color",o.textColor),o.progressColor&&S.style.setProperty("--dhx-gantt-task-progress-color",o.progressColor);var D=function(R,F,j,H){var G="gantt_left "+i(!F.rtl,R),q=null;return H&&(q={type:"marginRight",value:H}),t(R,j.leftside_text,G,q)}(o,d,u,p);D&&S.appendChild(D),D=function(R,F,j,H){var G="gantt_right "+i(!!F.rtl,R),q=null;return H&&(q={type:"marginLeft",value:H}),t(R,j.rightside_text,G,q)}(o,d,u,p),D&&S.appendChild(D),e._waiAria.setTaskBarAttr(o,S);var I=e.getState();let M=!e.isReadonly(o),P=e.ext.dragTimeline&&e.ext.dragTimeline._isDragInProgress();return(M||P)&&(d.drag_resize&&!e.isSummaryTask(o)&&f!=d.types.milestone&&r(S,"gantt_task_drag",o,function(R){var F=document.createElement("div");return F.className=R,F},d),d.drag_links&&d.show_links&&r(S,"gantt_link_control",o,function(R){var F=document.createElement("div");F.className=R,F.style.cssText=["height:"+g+"px","line-height:"+g+"px"].join(";");var j=document.createElement("div");j.className="gantt_link_point";var H=!1;return I.link_source_id&&d.touch&&(H=!0),j.style.display=H?"block":"",F.appendChild(j),F},d,p)),S}function t(o,s,a,l){if(!s)return null;var d=s(o.start_date,o.end_date,o);if(!d)return null;var u=document.createElement("div");return u.className="gantt_side_content "+a,u.innerHTML=d,l&&(u.style[l.type]=Math.abs(l.value)+"px"),u}function i(o,s){var a=o?{$source:[e.config.links.start_to_start],$target:[e.config.links.start_to_start,e.config.links.finish_to_start]}:{$source:[e.config.links.finish_to_start,e.config.links.finish_to_finish],$target:[e.config.links.finish_to_finish]};for(var l in a)for(var d=s[l],u=0;u<d.length;u++)for(var f=e.getLink(d[u]),g=0;g<a[l].length;g++)if(f.type==a[l][g])return"gantt_link_crossing";return""}function r(o,s,a,l,d,u){var f,g=e.getState();+a.start_date>=+g.min_date&&((f=l([s,d.rtl?"task_right":"task_left","task_start_date"].join(" "))).setAttribute("data-bind-property","start_date"),u&&(f.style.marginLeft=u+"px"),o.appendChild(f)),+a.end_date<=+g.max_date&&((f=l([s,d.rtl?"task_left":"task_right","task_end_date"].join(" "))).setAttribute("data-bind-property","end_date"),u&&(f.style.marginRight=u+"px"),o.appendChild(f))}return function(o,s,a){var l=(a=s.$getConfig()).type_renderers[e.getTaskType(o.type)],d=n;return l?l.call(e,o,function(u){return d.call(e,u,s,a)},s):d.call(e,o,s,a)}}function hD(e){return{render:VD(e),update:null,isInViewPort:_b,getVisibleRange:Zr}}function Uc(){return console.error("You are trying to use a Pro feature that is not available in the GPL version."),{render:function(){},isInViewPort:function(){},getVisibleRange:function(){}}}function fD(e,n,t){return{top:n.getItemTop(e.id),height:n.getItemHeight(e.id),left:0,right:1/0}}function ug(e,n){var t=0,i=e.left.length-1;if(n)for(var r=0;r<e.left.length;r++){var o=e.left[r];if(o<n.x&&(t=r),o>n.x_end){i=r;break}}return{start:t,end:i}}function jy(e,n,t,i){var r=n.width[e];if(r<=0)return!1;if(!i.config.smart_rendering||Yc(i))return!0;var o=n.left[e]-r,s=n.left[e]+r;return o<=t.x_end&&s>=t.x}function mB(e,n){var t=n.config.timeline_placeholder;if(e=e||[],t&&e.filter(l=>l.id==="timeline_placeholder_task").length===0){var i=n.getState(),r=null,o=i.min_date,s=i.max_date;e.length&&(r=e[e.length-1].id);var a={start_date:o,end_date:s,row_height:t.height||0,id:"timeline_placeholder_task",unscheduled:!0,lastTaskId:r,calendar_id:t.calendar||"global",$source:[],$target:[]};e.push(a)}}function _B(e){var n={current_pos:null,dirs:{left:"left",right:"right",up:"up",down:"down"},path:[],clear:function(){this.current_pos=null,this.path=[]},point:function(r){this.current_pos=e.copy(r)},get_lines:function(r){this.clear(),this.point(r[0]);for(var o=1;o<r.length;o++)this.line_to(r[o]);return this.get_path()},line_to:function(r){var o=e.copy(r),s=this.current_pos,a=this._get_line(s,o);this.path.push(a),this.current_pos=o},get_path:function(){return this.path},get_wrapper_sizes:function(r,o,s){var a,l=o.$getConfig().link_wrapper_width,d=r.y-l/2;switch(r.direction){case this.dirs.left:a={top:d,height:l,lineHeight:l,left:r.x-r.size-l/2,width:r.size+l};break;case this.dirs.right:a={top:d,lineHeight:l,height:l,left:r.x-l/2,width:r.size+l};break;case this.dirs.up:a={top:d-r.size,lineHeight:r.size+l,height:r.size+l,left:r.x-l/2,width:l};break;case this.dirs.down:a={top:d,lineHeight:r.size+l,height:r.size+l,left:r.x-l/2,width:l}}return a},get_line_sizes:function(r,o){var s,a=o.$getConfig(),l=a.link_line_width,d=a.link_wrapper_width,u=r.size+l;switch(r.direction){case this.dirs.left:case this.dirs.right:s={height:l,width:u,marginTop:(d-l)/2,marginLeft:(d-l)/2};break;case this.dirs.up:case this.dirs.down:s={height:u,width:l,marginTop:(d-l)/2,marginLeft:(d-l)/2}}return s},render_line:function(r,o,s,a){var l=this.get_wrapper_sizes(r,s,a),d=document.createElement("div");d.style.cssText=["top:"+l.top+"px","left:"+l.left+"px","height:"+l.height+"px","width:"+l.width+"px"].join(";"),d.className="gantt_line_wrapper";var u=this.get_line_sizes(r,s),f=document.createElement("div");return f.style.cssText=["height:"+u.height+"px","width:"+u.width+"px","margin-top:"+u.marginTop+"px","margin-left:"+u.marginLeft+"px"].join(";"),f.className="gantt_link_line_"+r.direction,d.appendChild(f),d},render_corner:function(r,o){let s=r.radius,a=o.$getConfig(),l=a.link_line_width||2,d=document.createElement("div"),u,f;return d.classList.add("gantt_link_corner"),d.classList.add(`gantt_link_corner_${r.direction.from}_${r.direction.to}`),d.style.width=`${s}px`,d.style.height=`${s}px`,r.direction.from==="right"&&r.direction.to==="down"?(u="Right",f="Top",d.style.left=r.x-a.link_line_width/2+"px",d.style.top=`${r.y}px`):r.direction.from==="down"&&r.direction.to==="right"?(u="Left",f="Bottom",d.style.left=r.x-a.link_line_width/2+"px",d.style.top=`${r.y}px`):r.direction.from==="right"&&r.direction.to==="up"?(u="Right",f="Bottom",d.style.left=r.x-a.link_line_width/2+"px",d.style.top=r.y-s+"px"):r.direction.from==="up"&&r.direction.to==="right"?(u="Left",f="Top",d.style.left=r.x-a.link_line_width/2+"px",d.style.top=r.y-s+"px"):r.direction.from==="left"&&r.direction.to==="down"?(u="Left",f="Top",d.style.left=r.x-s-a.link_line_width/2+"px",d.style.top=`${r.y}px`):r.direction.from==="down"&&r.direction.to==="left"?(u="Right",f="Bottom",d.style.left=r.x-s-a.link_line_width/2+"px",d.style.top=`${r.y}px`):r.direction.from==="left"&&r.direction.to==="up"?(u="Left",f="Bottom",d.style.left=r.x-s-a.link_line_width/2+"px",d.style.top=r.y-s+"px"):r.direction.from==="up"&&r.direction.to==="left"&&(u="Right",f="Top",d.style.left=r.x-s-a.link_line_width/2+"px",d.style.top=r.y-s+"px"),d.style[`border${f}Width`]=`${l}px`,d.style[`border${u}Width`]=`${l}px`,d.style[`border${u}Style`]="solid",d.style[`border${f}Style`]="solid",d.style[`border${f}${u}Radius`]=`${s}px`,d},render_arrow(r,o){var s=document.createElement("div"),a=r.y,l=r.x,d=o.link_arrow_size;s.style.setProperty("--dhx-gantt-icon-size",`${d}px`);var u="gantt_link_arrow gantt_link_arrow_"+r.direction;return s.style.top=a+"px",s.style.left=l+"px",s.className=u,s},_get_line:function(r,o){var s=this.get_direction(r,o),a={x:r.x,y:r.y,direction:this.get_direction(r,o)};return s==this.dirs.left||s==this.dirs.right?a.size=Math.abs(r.x-o.x):a.size=Math.abs(r.y-o.y),a},get_direction:function(r,o){return o.x<r.x?this.dirs.left:o.x>r.x?this.dirs.right:o.y>r.y?this.dirs.down:this.dirs.up}},t={path:[],clear:function(){this.path=[]},current:function(){return this.path[this.path.length-1]},point:function(r){return r?(this.path.push(e.copy(r)),r):this.current()},point_to:function(r,o,s){s=s?{x:s.x,y:s.y}:e.copy(this.point());var a=n.dirs;switch(r){case a.left:s.x-=o;break;case a.right:s.x+=o;break;case a.up:s.y-=o;break;case a.down:s.y+=o}return this.point(s)},get_points:function(r,o,s,a){var l=this.get_endpoint(r,o,s,a),d=e.config,u=l.e_y-l.y,f=l.e_x-l.x,g=n.dirs,p=o.getItemHeight(r.source);this.clear(),this.point({x:l.x,y:l.y});var v=2*d.link_arrow_size,k=this.get_line_type(r,o.$getConfig()),x=l.e_x>l.x;if(k.from_start&&k.to_start)this.point_to(g.left,v),x?(this.point_to(g.down,u),this.point_to(g.right,f)):(this.point_to(g.right,f),this.point_to(g.down,u)),this.point_to(g.right,v);else if(!k.from_start&&k.to_start)if(u!==0&&(x=l.e_x>l.x+2*v),this.point_to(g.right,v),x)f-=v,this.point_to(g.down,u),this.point_to(g.right,f);else{f-=2*v;var S=u>0?1:-1;this.point_to(g.down,S*(p/2)),this.point_to(g.right,f),this.point_to(g.down,S*(Math.abs(u)-p/2)),this.point_to(g.right,v)}else k.from_start||k.to_start?k.from_start&&!k.to_start&&(u!==0&&(x=l.e_x>l.x-2*v),this.point_to(g.left,v),x?(f+=2*v,S=u>0?1:-1,this.point_to(g.down,S*(p/2)),this.point_to(g.right,f),this.point_to(g.down,S*(Math.abs(u)-p/2)),this.point_to(g.left,v)):(f+=v,this.point_to(g.down,u),this.point_to(g.right,f))):(this.point_to(g.right,v),x?(this.point_to(g.right,f),this.point_to(g.down,u)):(this.point_to(g.down,u),this.point_to(g.right,f)),this.point_to(g.left,v));return this.path},get_line_type:function(r,o){var s=o.links,a=!1,l=!1;return r.type==s.start_to_start?a=l=!0:r.type==s.finish_to_finish?a=l=!1:r.type==s.finish_to_start?(a=!1,l=!0):r.type==s.start_to_finish?(a=!0,l=!1):e.assert(!1,"Invalid link type"),o.rtl&&(a=!a,l=!l),{from_start:a,to_start:l}},get_endpoint:function(r,o,s,a){var l=o.$getConfig(),d=this.get_line_type(r,l),u=d.from_start,f=d.to_start,g=i(s,o,l),p=i(a,o,l);return{x:u?g.left:g.left+g.width,e_x:f?p.left:p.left+p.width,y:g.top+g.rowHeight/2-1,e_y:p.top+p.rowHeight/2-1}}};function i(r,o,s){var a=o.getItemPosition(r);let l=function(v,k,x,S){let _=S||k.$task_data.scrollHeight,w=!1,y=!1;return v.eachParent(function(C){if(Ta(C)){y=!0;let D=k.getItemPosition(C).rowHeight;D<_&&(_=D,w=!0)}},x.id),{maxHeight:_,shrinkHeight:w,splitChild:y}}(e,o,r),d=l.maxHeight,u=l.splitChild,f=e.config.baselines&&(e.config.baselines.render_mode=="separateRow"||e.config.baselines.render_mode=="individualRow")&&r.baselines&&r.baselines.length,g;l.shrinkHeight&&(a.rowHeight=d);let p=e.getTaskType(r.type)==s.types.milestone;if(p){let v=o.getBarHeight(r.id,!0);g=Math.sqrt(2*v*v),l.shrinkHeight&&d<v&&(v=d,g=d),a.left-=g/2,a.width=g}if(u)if(d>=a.height){let v=function(k,x){let S=!1;return k.eachTask(function(_){S||(S=ND(k,_))},x),S}(e,r.parent);f||v?p?(a.rowHeight=a.height+4,a.left+=(a.width-a.rowHeight+4)/2,a.width=a.rowHeight-3):a.rowHeight=a.height+6:p&&(a.left+=(g-a.height)/2)}else a.rowHeight=d+2,p&&(a.left+=(a.width-a.rowHeight+4)/2,a.width=a.rowHeight-3);else f&&(a.rowHeight=a.height+4);return a}return{render:function(r,o,s){var a=e.getTask(r.source);if(a.hide_bar)return;var l=e.getTask(r.target);if(l.hide_bar)return;var d=t.get_endpoint(r,o,a,l),u=d.e_y-d.y;if(!(d.e_x-d.x)&&!u)return null;var f=t.get_points(r,o,a,l);let g=function(x,S){let _=S.link_radius||4,w=S.link_arrow_size||6,y=[];for(let D=0;D<x.length;D++){let I=x[D],M=x[D+1];if(!M||S.link_radius<=1)y.push({type:"line",data:I});else if(I.direction!==M.direction){if(I.size<_||M.size<_){y.push({type:"line",data:I});continue}I.size-=_,y.push({type:"line",data:I});let P=I.x,R=I.y-S.link_line_width/2;switch(I.direction){case"right":P+=I.size;break;case"left":P-=I.size;break;case"down":R+=I.size;break;case"up":R-=I.size}let F={x:P,y:R,direction:{from:I.direction,to:M.direction},radius:_};switch(y.push({type:"corner",data:F}),M.direction){case"right":M.x+=_,M.size-=_;break;case"left":M.x-=_,M.size-=_;break;case"down":M.y+=_,M.size-=_;break;case"up":M.y-=_,M.size-=_}}else y.push({type:"line",data:I})}let C=x[x.length-1];if(C.direction==="right"||C.direction==="left"){C.size-=3*w/4;let D=C.direction==="right"?C.x+C.size:C.x-C.size-w/2,I=C.y-S.link_line_width/2-w/2+1;C.direction==="left"?(I-=1,D-=2):D-=1;let M={x:D,y:I,size:w,direction:C.direction};y.push({type:"line",data:C}),y.push({type:"arrow",data:M})}else y.push({type:"line",data:C});return y}(n.get_lines(f,o).filter(x=>x.size>0),s),p=function(x,S,_,w){let y=document.createElement("div");return x.forEach(C=>{let D;C.type==="line"?D=n.render_line(C.data,null,S,_.source):C.type==="corner"?D=n.render_corner(C.data,S):C.type==="arrow"&&(D=n.render_arrow(C.data,w)),y.appendChild(D)}),y}(g,o,r,s);var v="gantt_task_link";r.color&&(v+=" gantt_link_inline_color");var k=e.templates.link_class?e.templates.link_class(r):"";return k&&(v+=" "+k),s.highlight_critical_path&&e.isCriticalLink&&e.isCriticalLink(r)&&(v+=" gantt_critical_link"),p.className=v,o.$config.link_attribute&&(p.setAttribute(o.$config.link_attribute,r.id),p.setAttribute("link_id",r.id)),r.color&&p.style.setProperty("--dhx-gantt-link-background",r.color),e._waiAria.linkAttr(r,p),p},update:null,isInViewPort:$D,getVisibleRange:FD()}}function vB(e,n,t,i,r){if(r.$ui.getView("grid")&&(r.config.keyboard_navigation&&r.getSelectedId()||r.ext.inlineEditors&&r.ext.inlineEditors.getState().id))return!!e.$expanded_branch;var o=t.getItemTop(e.id),s=t.getItemHeight(e.id);return!(o>n.y_end||o+s<n.y)}function yB(e){let n={};return e.$data.tasksStore.attachEvent("onStoreUpdated",function(){n={}}),function(t,i,r,o){let s=t.id+"_"+i+"_"+r.unit+"_"+r.step,a;return a=n[s]?n[s]:n[s]=function(l,d,u,f){let g,p=!1,v={};e.config.process_resource_assignments&&d===e.config.resource_property?(g=l.$role=="task"?e.getResourceAssignments(l.$resource_id,l.$task_id):e.getResourceAssignments(l.id),p=!0):g=l.$role=="task"?[]:e.getTaskBy(d,l.id),v=function(M,P,R){let F=P.unit,j=P.step,H={},G={};for(let q=0;q<M.length;q++){let V=M[q],ue=V;if(R&&(ue=e.getTask(V.task_id)),ue.unscheduled)continue;let J=V.start_date||ue.start_date,he=V.end_date||ue.end_date;R&&(V.start_date&&(J=new Date(Math.max(V.start_date.valueOf(),ue.start_date.valueOf()))),V.end_date&&(he=new Date(Math.min(V.end_date.valueOf(),ue.end_date.valueOf()))),V.mode&&V.mode=="fixedDates"&&(J=V.start_date,he=V.end_date));let Je=Gc(P.trace_x,J.valueOf()),qe=new Date(P.trace_x[Je]||e.date[F+"_start"](new Date(J))),fe=new Date(Math.min(J.valueOf(),qe.valueOf())),Te=e.config.work_time?e.getTaskCalendar(ue):e;for(G[Te.id]={};fe<he;){let me=G[Te.id],Ue=fe.valueOf();fe=e.date.add(fe,j,F),me[Ue]!==!1&&(H[Ue]||(H[Ue]={tasks:[],assignments:[]}),H[Ue].tasks.push(ue),R&&H[Ue].assignments.push(V))}}return H}(g,u,p);let k=u.unit,x=u.step,S=[],_,w,y,C,D,I=f.$getConfig();for(let M=0;M<u.trace_x.length;M++)_=new Date(u.trace_x[M]),w=e.date.add(_,x,k),D=v[_.valueOf()]||{},y=D.tasks||[],C=D.assignments||[],y.length||I.resource_render_empty_cells?S.push({start_date:_,end_date:w,tasks:y,assignments:C}):S.push(null);return S}(t,i,r,o),a}}var bB={init:function(e,n){var t=e.$services.getService("dnd");if(n.$config.bind&&e.getDatastore(n.$config.bind)){var i=new t(n.$grid_data,{updates_per_second:60});e.defined(n.$getConfig().dnd_sensitivity)&&(i.config.sensitivity=n.$getConfig().dnd_sensitivity),i.attachEvent("onBeforeDragStart",e.bind(function(a,l){var d=r(l);if(!d||(e.hideQuickInfo&&e.hideQuickInfo(),$i(l.target,".gantt_grid_editor_placeholder")))return!1;var u=d.getAttribute(n.$config.item_attribute);if(s(u))return!1;var f=o().getItem(u);return!e.isReadonly(f)&&(i.config.initial_open_state=f.$open,!!e.callEvent("onRowDragStart",[u,l.target||l.srcElement,l])&&void 0)},e)),i.attachEvent("onAfterDragStart",e.bind(function(a,l){var d=r(l);i.config.marker.innerHTML=d.outerHTML;var u=i.config.marker.firstChild;u&&(u.style.position="static"),i.config.id=d.getAttribute(n.$config.item_attribute);var f=o(),g=f.getItem(i.config.id);i.config.index=f.getBranchIndex(i.config.id),i.config.parent=g.parent,g.$open=!1,g.$transparent=!0,this.refreshData()},e)),i.lastTaskOfLevel=function(a){for(var l=null,d=o().getItems(),u=0,f=d.length;u<f;u++)d[u].$level==a&&(l=d[u]);return l?l.id:null},i._getGridPos=e.bind(function(a){var l=qt(n.$grid_data),d=l.x+n.$grid.scrollLeft,u=a.pos.y-10,f=n.getItemHeight(i.config.id);u<l.y&&(u=l.y);var g=n.getTotalHeight();u>l.y+g-f&&(u=l.y+g-f);let p=l.y+l.height;return u>p-f&&(u=p-f),l.x=d,l.y=u,l},e),i._getTargetY=e.bind(function(a){var l=qt(n.$grid_data),d=n.$state.scrollTop||0,u=e.$grid_data.getBoundingClientRect().height+d,f=a.pageY-l.y+d;return f>u?f=u:f<d&&(f=d),f},e),i._getTaskByY=e.bind(function(a,l){var d=o();a=a||0;var u=n.getItemIndexByTopPosition(a);return(u=l<u?u-1:u)>d.countVisible()-1?null:d.getIdByIndex(u)},e),i.attachEvent("onDragMove",e.bind(function(a,l){var d=e.$grid_data.getBoundingClientRect(),u=d.height+d.y+(n.$state.scrollTop||0)+window.scrollY,f=i.config,g=i._getGridPos(l);e._waiAria.reorderMarkerAttr(f.marker);var p=n.$getConfig(),v=o();g.y<u?f.marker.style.top=g.y+"px":f.marker.style.top=u+"px",f.marker.style.left=g.x+10+"px";let k=qt(e.$root);g.width>k.width&&(f.marker.style.width=k.width-10-2+"px",f.marker.style.overflow="hidden");var x=v.getItem(i.config.id),S=i._getTargetY(l),_=i._getTaskByY(S,v.getIndexById(x.id));function w(H,G){return!v.isChildOf(y.id,G.id)&&(H.$level==G.$level||p.order_branch_free)}if(v.exists(_)||(_=i.lastTaskOfLevel(p.order_branch_free?x.$level:0))==i.config.id&&(_=null),v.exists(_)){var y=v.getItem(_),C=n.getItemTop(y.id),D=n.getItemHeight(y.id);if(C+D/2<S){var I=v.getIndexById(y.id),M=v.getNext(y.id),P=v.getItem(M);if(s(M)){var R=v.getPrev(P.id);P=v.getItem(R)}if(P){if(P.id==x.id)return p.order_branch_free&&v.isChildOf(x.id,y.id)&&v.getChildren(y.id).length==1?void v.move(x.id,v.getBranchIndex(y.id)+1,v.getParent(y.id)):void 0;y=P}else if(M=v.getIdByIndex(I),P=v.getItem(M),s(M)&&(R=v.getPrev(P.id),P=v.getItem(R)),w(P,x)&&P.id!=x.id)return void v.move(x.id,-1,v.getParent(P.id))}else if(p.order_branch_free&&y.id!=x.id&&w(y,x)&&!s(y.id)){if(!v.hasChild(y.id))return y.$open=!0,void v.move(x.id,-1,y.id);if(v.getIndexById(y.id)||D/3<S)return}I=v.getIndexById(y.id),R=v.getIdByIndex(I-1);for(var F=v.getItem(R),j=1;(!F||F.id==y.id)&&I-j>=0;)R=v.getIdByIndex(I-j),F=v.getItem(R),j++;if(x.id==y.id||s(y.id))return;w(y,x)&&x.id!=y.id?v.move(x.id,0,0,y.id):y.$level!=x.$level-1||v.getChildren(y.id).length?F&&w(F,x)&&x.id!=F.id&&v.move(x.id,-1,v.getParent(F.id)):v.move(x.id,0,y.id)}return!0},e)),i.attachEvent("onDragEnd",e.bind(function(){var a=o(),l=a.getItem(i.config.id);l.$transparent=!1,l.$open=i.config.initial_open_state,this.callEvent("onBeforeRowDragEnd",[i.config.id,i.config.parent,i.config.index])===!1?(a.move(i.config.id,i.config.index,i.config.parent),l.$drop_target=null):this.callEvent("onRowDragEnd",[i.config.id,l.$drop_target]),e.render(),this.refreshData()},e))}function r(a){return Gn(a,n.$config.item_attribute)}function o(){return e.getDatastore(n.$config.bind)}function s(a){return Jc(a,e,o())}}},En={createDropTargetObject:function(e){var n={targetParent:null,targetIndex:0,targetId:null,child:!1,nextSibling:!1,prevSibling:!1};return e&&$e(n,e,!0),n},nextSiblingTarget:function(e,n,t){var i=this.createDropTargetObject();return i.targetId=n,i.nextSibling=!0,i.targetParent=t.getParent(i.targetId),i.targetIndex=t.getBranchIndex(i.targetId),(t.getParent(e)!=i.targetParent||i.targetIndex<t.getBranchIndex(e))&&(i.targetIndex+=1),i},prevSiblingTarget:function(e,n,t){var i=this.createDropTargetObject();return i.targetId=n,i.prevSibling=!0,i.targetParent=t.getParent(i.targetId),i.targetIndex=t.getBranchIndex(i.targetId),t.getParent(e)==i.targetParent&&i.targetIndex>t.getBranchIndex(e)&&(i.targetIndex-=1),i},firstChildTarget:function(e,n,t){var i=this.createDropTargetObject();return i.targetId=n,i.targetParent=i.targetId,i.targetIndex=0,i.child=!0,i},lastChildTarget:function(e,n,t){var i=t.getChildren(n),r=this.createDropTargetObject();return r.targetId=i[i.length-1],r.targetParent=n,r.targetIndex=i.length,r.nextSibling=!0,r}};function zD(e,n,t,i,r){for(var o=n;i.exists(o);){var s=i.calculateItemLevel(i.getItem(o));if((s===t||s===t-1)&&i.getBranchIndex(o)>-1)break;o=r?i.getPrev(o):i.getNext(o)}return i.exists(o)?i.calculateItemLevel(i.getItem(o))===t?r?En.nextSiblingTarget(e,o,i):En.prevSiblingTarget(e,o,i):En.firstChildTarget(e,o,i):null}function By(e,n,t,i){return zD(e,n,t,i,!0)}function gD(e,n,t,i){return zD(e,n,t,i,!1)}function pD(e,n,t,i,r,o){var s;if(n!==r.$getRootId()){var a=r.getItem(n),l=r.calculateItemLevel(a);if(l===o){var d=r.getPrevSibling(n);t<.5&&!d?s=En.prevSiblingTarget(e,n,r):(t<.5&&(n=d),s=En.nextSiblingTarget(e,n,r))}else if(l>o)r.eachParent(function(v){r.calculateItemLevel(v)===o&&(n=v.id)},a),s=By(e,n,o,r);else{var u=By(e,n,o,r),f=gD(e,n,o,r);s=t<.5?u:f}}else{var g=r.$getRootId(),p=r.getChildren(g);s=En.createDropTargetObject(),s=p.length&&i>=0?By(e,function(v){for(var k=v.getNext();v.exists(k);){var x=v.getNext(k);if(!v.exists(x))return k;k=x}return null}(r),o,r):gD(e,g,o,r)}return s}function mD(e,n){var t=qt(n.$grid_data);return e.x+=t.x+n.$grid.scrollLeft,e.y+=t.y-n.$grid_data.scrollTop,e}function Vy(e,n,t=0){let i=qt(e.$root);return n>i.width&&(n=i.width-t-2),n}var _D={removeLineHighlight:function(e){e.markerLine&&e.markerLine.parentNode&&e.markerLine.parentNode.removeChild(e.markerLine),e.markerLine=null},highlightPosition:function(e,n,t){var i=function(o,s){var a=qt(s.$grid_data),l=ui(o,s.$grid_data),d=a.x+s.$grid.scrollLeft,u=l.y-10,f=s.getItemHeight(o.targetId);u<a.y&&(u=a.y);var g=s.getTotalHeight();return u>a.y+g-f&&(u=a.y+g-f),a.x=d,a.y=u,a.width=Vy(s.$gantt,a.width,9),a}(e,t);n.marker.style.left=i.x+9+"px",n.marker.style.width=i.width+"px",n.marker.style.overflow="hidden";var r=n.markerLine;r||((r=document.createElement("div")).className="gantt_drag_marker gantt_grid_dnd_marker",r.innerHTML="<div class='gantt_grid_dnd_marker_line'></div>",r.style.pointerEvents="none"),e.child?function(o,s,a){var l=o.targetParent,d=mD({x:0,y:a.getItemTop(l)},a),u=a.$grid_data.getBoundingClientRect().bottom+window.scrollY;let f=Vy(a.$gantt,a.$grid_data.offsetWidth);s.innerHTML="<div class='gantt_grid_dnd_marker_folder'></div>",s.style.width=f+"px",s.style.top=d.y+"px",s.style.left=d.x+"px",s.style.height=a.getItemHeight(l)+"px",d.y>u&&(s.style.top=u+"px")}(e,r,t):function(o,s,a){var l=function(f,g){var p=g.$config.rowStore,v={x:0,y:0},k=g.$grid_data.querySelector(".gantt_tree_indent"),x=15,S=0;k&&(x=k.offsetWidth);var _=40;if(f.targetId!==p.$getRootId()){var w=g.getItemTop(f.targetId),y=g.getItemHeight(f.targetId);if(S=p.exists(f.targetId)?p.calculateItemLevel(p.getItem(f.targetId)):0,f.prevSibling)v.y=w;else if(f.nextSibling){var C=0;p.eachItem(function(D){p.getIndexById(D.id)!==-1&&C++},f.targetId),v.y=w+y+C*y}else v.y=w+y,S+=1}return v.x=_+S*x,v.width=Vy(g.$gantt,Math.max(g.$grid_data.offsetWidth-v.x,0),v.x),mD(v,g)}(o,a),d=a.$grid_data.getBoundingClientRect().bottom+window.scrollY;s.innerHTML="<div class='gantt_grid_dnd_marker_line'></div>",s.style.left=l.x+"px",s.style.height="4px";var u=l.y-2;s.style.top=u+"px",s.style.width=l.width+"px",u>d&&(s.style.top=d+"px")}(e,r,t),n.markerLine||(document.body.appendChild(r),n.markerLine=r)}},xB={init:function(e,n){var t=e.$services.getService("dnd");if(n.$config.bind&&e.getDatastore(n.$config.bind)){var i=new t(n.$grid_data,{updates_per_second:60});e.defined(n.$getConfig().dnd_sensitivity)&&(i.config.sensitivity=n.$getConfig().dnd_sensitivity),i.attachEvent("onBeforeDragStart",e.bind(function(a,l){var d=r(l);if(!d||(e.hideQuickInfo&&e.hideQuickInfo(),$i(l.target,".gantt_grid_editor_placeholder")))return!1;var u=d.getAttribute(n.$config.item_attribute),f=n.$config.rowStore.getItem(u);return!e.isReadonly(f)&&!o(u)&&(i.config.initial_open_state=f.$open,!!e.callEvent("onRowDragStart",[u,l.target||l.srcElement,l])&&void 0)},e)),i.attachEvent("onAfterDragStart",e.bind(function(a,l){var d=r(l);i.config.marker.innerHTML=d.outerHTML;var u=i.config.marker.firstChild;u&&(i.config.marker.style.opacity=.4,u.style.position="static",u.style.pointerEvents="none"),i.config.id=d.getAttribute(n.$config.item_attribute);var f=n.$config.rowStore,g=f.getItem(i.config.id);i.config.level=f.calculateItemLevel(g),i.config.drop_target=En.createDropTargetObject({targetParent:f.getParent(g.id),targetIndex:f.getBranchIndex(g.id),targetId:g.id,nextSibling:!0}),g.$open=!1,g.$transparent=!0,this.refreshData()},e)),i.attachEvent("onDragMove",e.bind(function(a,l){var d=s(l);return d&&e.callEvent("onBeforeRowDragMove",[i.config.id,d.targetParent,d.targetIndex])!==!1||(d=En.createDropTargetObject(i.config.drop_target)),_D.highlightPosition(d,i.config,n),i.config.drop_target=d,e._waiAria.reorderMarkerAttr(i.config.marker),this.callEvent("onRowDragMove",[i.config.id,d.targetParent,d.targetIndex]),!0},e)),i.attachEvent("onDragEnd",e.bind(function(){var a=n.$config.rowStore,l=a.getItem(i.config.id);_D.removeLineHighlight(i.config),l.$transparent=!1,l.$open=i.config.initial_open_state;var d=i.config.drop_target;this.callEvent("onBeforeRowDragEnd",[i.config.id,d.targetParent,d.targetIndex])===!1?l.$drop_target=null:(a.move(i.config.id,d.targetIndex,d.targetParent),e.render(),this.callEvent("onRowDragEnd",[i.config.id,d.targetParent,d.targetIndex])),a.refresh(l.id)},e))}function r(a){return Gn(a,n.$config.item_attribute)}function o(a){return Jc(a,e,e.getDatastore(n.$config.bind))}function s(a){var l,d=function(v){var k=ui(v,n.$grid_data).y,x=n.$config.rowStore;document.doctype||(k+=window.scrollY),k=k||0;var S=n.$state.scrollTop||0,_=e.$grid_data.getBoundingClientRect().height+S+window.scrollY,w=S,y=n.getItemIndexByTopPosition(n.$state.scrollTop);if(x.exists(y)||(y=x.countVisible()-1),y<0)return x.$getRootId();var C=x.getIdByIndex(y),D=n.$state.scrollTop/n.getItemHeight(C),I=D-Math.floor(D);I>.1&&I<.9&&(_-=n.getItemHeight(C)*I,w+=n.getItemHeight(C)*(1-I));let M=qt(n.$grid_data),P=M.y+M.height,R=i.config.marker.offsetHeight;k+R+window.scrollY>=_&&(i.config.marker.style.top=P-R+"px"),k>=_?k=_:k<=w&&(k=w,i.config.marker.style.top=M.y+"px");var F=n.getItemIndexByTopPosition(k);if(F>x.countVisible()-1||F<0)return x.$getRootId();var j=x.getIdByIndex(F);return o(j)?x.getPrevSibling(j):x.getIdByIndex(F)}(a),u=null,f=n.$config.rowStore,g=!n.$getConfig().order_branch_free,p=ui(a,n.$grid_data).y;return document.doctype||(p+=window.scrollY),d!==f.$getRootId()&&(u=(p-n.getItemTop(d))/n.getItemHeight(d)),g?(l=pD(i.config.id,d,u,p,f,i.config.level))&&l.targetParent&&o(l.targetParent)&&(d=f.getPrevSibling(l.targetParent),l=pD(i.config.id,d,u,p,f,i.config.level)):l=function(v,k,x,S,_){var w;if(k!==_.$getRootId())w=x<.25?En.prevSiblingTarget(v,k,_):!(x>.6)||_.hasChild(k)&&_.getItem(k).$open?En.firstChildTarget(v,k,_):En.nextSiblingTarget(v,k,_);else{var y=_.$getRootId();w=_.hasChild(y)&&S>=0?En.lastChildTarget(v,y,_):En.firstChildTarget(v,y,_)}return w}(i.config.id,d,u,p,f),l}}},wB=function(e){return{onCreated:function(n){n.$config=$e(n.$config,{bind:"task"}),n.$config.id=="grid"&&(this.extendGantt(n),e.ext.inlineEditors=e.ext._inlineEditors.createEditors(n),e.ext.inlineEditors.init()),this._mouseDelegates=xb(e)},onInitialized:function(n){var t=n.$getConfig();t.order_branch&&(t.order_branch=="marker"?xB.init(n.$gantt,n):bB.init(n.$gantt,n)),this.initEvents(n,e),n.$config.id=="grid"&&this.extendDom(n)},onDestroyed:function(n){n.$config.id=="grid"&&e.ext.inlineEditors.detachStore(),this.clearEvents(n,e)},initEvents:function(n,t){this._mouseDelegates.delegate("click","gantt_row",t.bind(function(i,r,o){let s=n.$getConfig();if(r!==null){let a=this.getTask(r);if(s.scroll_on_click){let l=!t._is_icon_open_click(i),d=t.$ui.getView("timeline");l&&d&&this.showDate(a.start_date)}t.callEvent("onTaskRowClick",[r,o])}},t),n.$grid),this._mouseDelegates.delegate("click","gantt_grid_head_cell",t.bind(function(i,r,o){var s=o.getAttribute("data-column-id");if(t.callEvent("onGridHeaderClick",[s,i])){var a=n.$getConfig();if(s!="add"){if(a.sort&&s){for(var l,d=s,u=0;u<a.columns.length;u++)if(a.columns[u].name==s){l=a.columns[u];break}if(l&&l.sort!==void 0&&l.sort!==!0&&!(d=l.sort))return;var f=this._sort&&this._sort.direction&&this._sort.name==s?this._sort.direction:"desc";f=f=="desc"?"asc":"desc",this._sort={name:s,direction:f},this.sort(d,f=="desc")}}else t.$services.getService("mouseEvents").callHandler("click","gantt_add",n.$grid,[i,a.root_id])}},t),n.$grid),this._mouseDelegates.delegate("click","gantt_add",t.bind(function(i,r,o){if(!n.$getConfig().readonly)return this.createTask({},r||t.config.root_id),!1},t),n.$grid)},clearEvents:function(n,t){this._mouseDelegates.destructor(),this._mouseDelegates=null},extendDom:function(n){e.$grid=n.$grid,e.$grid_scale=n.$grid_scale,e.$grid_data=n.$grid_data},extendGantt:function(n){e.getGridColumns=e.bind(n.getGridColumns,n),n.attachEvent("onColumnResizeStart",function(){return e.callEvent("onColumnResizeStart",arguments)}),n.attachEvent("onColumnResize",function(){return e.callEvent("onColumnResize",arguments)}),n.attachEvent("onColumnResizeEnd",function(){return e.callEvent("onColumnResizeEnd",arguments)}),n.attachEvent("onColumnResizeComplete",function(t,i){e.config.grid_width=i}),n.attachEvent("onBeforeRowResize",function(){return e.callEvent("onBeforeRowResize",arguments)}),n.attachEvent("onRowResize",function(){return e.callEvent("onRowResize",arguments)}),n.attachEvent("onBeforeRowResizeEnd",function(){return e.callEvent("onBeforeRowResizeEnd",arguments)}),n.attachEvent("onAfterRowResize",function(){return e.callEvent("onAfterRowResize",arguments)})}}},kB={createTaskDND:function(){var e;return{extend:function(n){n.roundTaskDates=function(t){e.round_task_dates(t)}},init:function(n,t){return e=function(i,r){var o=r.$services;return{drag:null,dragMultiple:{},_events:{before_start:{},before_finish:{},after_finish:{}},_handlers:{},init:function(){this._domEvents=r._createDomEventScope(),this.clear_drag_state();var s=r.config.drag_mode;this.set_actions(),o.getService("state").registerProvider("tasksDnd",Ye(function(){return{drag_id:this.drag?this.drag.id:void 0,drag_mode:this.drag?this.drag.mode:void 0,drag_from_start:this.drag?this.drag.left:void 0}},this));var a={before_start:"onBeforeTaskDrag",before_finish:"onBeforeTaskChanged",after_finish:"onAfterTaskDrag"};for(var l in this._events)for(var d in s)this._events[l][d]=a[l];this._handlers[s.move]=this._move,this._handlers[s.resize]=this._resize,this._handlers[s.progress]=this._resize_progress},set_actions:function(){var s=i.$task_data;this._domEvents.attach(s,"mousemove",r.bind(function(a){this.on_mouse_move(a)},this)),this._domEvents.attach(s,"mousedown",r.bind(function(a){this.on_mouse_down(a)},this)),this._domEvents.attach(document.body,"mouseup",r.bind(function(a){this.on_mouse_up(a)},this))},clear_drag_state:function(){this.drag={id:null,mode:null,pos:null,start_x:null,start_y:null,obj:null,left:null},this.dragMultiple={}},_resize:function(s,a,l){var d=i.$getConfig(),u=this._drag_task_coords(s,l);l.left?(s.start_date=r.dateFromPos(u.start+a),s.start_date||(s.start_date=new Date(r.getState().min_date))):(s.end_date=r.dateFromPos(u.end+a),s.end_date||(s.end_date=new Date(r.getState().max_date)));var f=this._calculateMinDuration(d.min_duration,d.duration_unit);s.end_date-s.start_date<d.min_duration&&(l.left?s.start_date=r.calculateEndDate(s.end_date,-f,d.duration_unit,s):s.end_date=r.calculateEndDate(s.start_date,f,d.duration_unit,s)),r._init_task_timing(s)},_calculateMinDuration:function(s,a){return Math.ceil(s/{minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:31356e6}[a])},_resize_progress:function(s,a,l){var d=this._drag_task_coords(s,l),u=i.$getConfig().rtl?d.start-l.pos.x:l.pos.x-d.start,f=Math.max(0,u);s.progress=Math.min(1,f/Math.abs(d.end-d.start))},_find_max_shift:function(s,a){var l;for(var d in s){var u=s[d],f=r.getTask(u.id);if(!f.unscheduled){var g=this._drag_task_coords(f,u),p=r.posFromDate(new Date(r.getState().min_date)),v=r.posFromDate(new Date(r.getState().max_date));if(g.end+a>v){var k=v-g.end;(k<l||l===void 0)&&(l=k)}else if(g.start+a<p){var x=p-g.start;(x>l||l===void 0)&&(l=x)}}}return l},_move:function(s,a,l,d){var u=this._drag_task_coords(s,l),f=null,g=null;d?(f=new Date(+l.obj.start_date+d),g=new Date(+l.obj.end_date+d)):(f=r.dateFromPos(u.start+a),g=r.dateFromPos(u.end+a)),f?g?(s.start_date=f,s.end_date=g):(s.end_date=new Date(r.getState().max_date),s.start_date=r.dateFromPos(r.posFromDate(s.end_date)-(u.end-u.start))):(s.start_date=new Date(r.getState().min_date),s.end_date=r.dateFromPos(r.posFromDate(s.start_date)+(u.end-u.start)))},_drag_task_coords:function(s,a){return{start:a.obj_s_x=a.obj_s_x||r.posFromDate(s.start_date),end:a.obj_e_x=a.obj_e_x||r.posFromDate(s.end_date)}},_mouse_position_change:function(s,a){var l=s.x-a.x,d=s.y-a.y;return Math.sqrt(l*l+d*d)},_is_number:function(s){return!isNaN(parseFloat(s))&&isFinite(s)},on_mouse_move:function(s){if(this.drag.start_drag){var a=ui(s,r.$task_data),l=this.drag.start_drag.start_x,d=this.drag.start_drag.start_y;(Date.now()-this.drag.timestamp>50||this._is_number(l)&&this._is_number(d)&&this._mouse_position_change({x:l,y:d},a)>20)&&this._start_dnd(s)}if(this.drag.mode){if(!ID(this,40))return;this._update_on_move(s)}},_update_item_on_move:function(s,a,l,d,u,f){var g=r.getTask(a),p=r.mixin({},g),v=r.mixin({},g);this._handlers[l].apply(this,[v,s,d,f]),r.mixin(g,v,!0),r.callEvent("onTaskDrag",[g.id,l,v,p,u]),r.mixin(g,v,!0),r.refreshTask(a)},_update_on_move:function(s){var a=this.drag,l=i.$getConfig();if(a.mode){var d=ui(s,i.$task_data);if(a.pos&&a.pos.x==d.x)return;a.pos=d;var u=r.dateFromPos(d.x);if(!u||isNaN(u.getTime()))return;var f=d.x-a.start_x,g=r.getTask(a.id);if(this._handlers[a.mode]){if(a.mode===l.drag_mode.move){var p={};this._isMultiselect()&&r.getSelectedTasks().indexOf(a.id)>=0&&(p=this.dragMultiple);var v=!1;if(r.isSummaryTask(g)&&r.config.drag_project){var k={};k[a.id]=ln(a),v=!0,p=$e(k,this.dragMultiple)}var x=this._find_max_shift(p,f);let w;if(x!==void 0&&(f=x),this._update_item_on_move(f,a.id,a.mode,a,s),x===void 0){let y=r.posFromDate(a.obj.start_date),C=r.posFromDate(a.obj.end_date);if(a.handle_offset===void 0){let I=C-y,M=a.start_x-y;a.handle_offset=M/I}let D=y+Math.abs(C-y)*a.handle_offset;w=u-r.dateFromPos(D)}for(var S in p){var _=p[S];v&&_.id!=a.id&&(r._bulk_dnd=!0),this._update_item_on_move(f,_.id,_.mode,_,s,w)}r._bulk_dnd=!1}else this._update_item_on_move(f,a.id,a.mode,a,s);r._update_parents(a.id)}}},on_mouse_down:function(s,a){if(s.button!=2||s.button===void 0){var l=i.$getConfig(),d=r.locate(s),u=null;if(r.isTaskExists(d)&&(u=r.getTask(d)),!r.isReadonly(u)&&!this.drag.mode){this.clear_drag_state();var f=Cn(a=a||s.target||s.srcElement),g=this._get_drag_mode(f,a);if(!f||!g)return a.parentNode?this.on_mouse_down(s,a.parentNode):void 0;if(g)if(g.mode&&g.mode!=l.drag_mode.ignore&&l["drag_"+g.mode]){if(d=r.locate(a),u=r.copy(r.getTask(d)||{}),r.isReadonly(u))return this.clear_drag_state(),!1;if(r.isSummaryTask(u)&&u.auto_scheduling!==!1&&!l.drag_project&&g.mode!=l.drag_mode.progress)return void this.clear_drag_state();g.id=d;var p=ui(s,r.$task_data);g.start_x=p.x,g.start_y=p.y,g.obj=u,this.drag.start_drag=g,this.drag.timestamp=Date.now()}else this.clear_drag_state();else if(r.checkEvent("onMouseDown")&&r.callEvent("onMouseDown",[f.split(" ")[0]])&&a.parentNode)return this.on_mouse_down(s,a.parentNode)}}},_fix_dnd_scale_time:function(s,a){var l=i.$getConfig(),d=r.getScale().unit,u=r.getScale().step;function f(g){if(r.config.correct_work_time){var p=i.$getConfig();r.isWorkTime(g.start_date,void 0,g)||(g.start_date=r.calculateEndDate({start_date:g.start_date,duration:-1,unit:p.duration_unit,task:g}))}}l.round_dnd_dates||(d="minute",u=l.time_step),a.mode==l.drag_mode.resize?a.left?(s.start_date=r.roundDate({date:s.start_date,unit:d,step:u}),f(s)):(s.end_date=r.roundDate({date:s.end_date,unit:d,step:u}),function(g){if(r.config.correct_work_time){var p=i.$getConfig();r.isWorkTime(new Date(g.end_date-1),void 0,g)||(g.end_date=r.calculateEndDate({start_date:g.end_date,duration:1,unit:p.duration_unit,task:g}))}}(s)):a.mode==l.drag_mode.move&&(s.start_date=r.roundDate({date:s.start_date,unit:d,step:u}),f(s),s.end_date=r.calculateEndDate(s))},_fix_working_times:function(s,a){var l=i.$getConfig();(a=a||{mode:l.drag_mode.move}).mode==l.drag_mode.resize?a.left?s.start_date=r.getClosestWorkTime({date:s.start_date,dir:"future",task:s}):s.end_date=r.getClosestWorkTime({date:s.end_date,dir:"past",task:s}):a.mode==l.drag_mode.move&&r.correctTaskWorkTime(s)},_finalize_mouse_up:function(s,a,l,d){var u=r.getTask(s);if(a.work_time&&a.correct_work_time&&this._fix_working_times(u,l),this._fix_dnd_scale_time(u,l),this._fireEvent("before_finish",l.mode,[s,l.mode,r.copy(l.obj),d])){var f=s;r._init_task_timing(u),this.clear_drag_state(),r.updateTask(u.id),this._fireEvent("after_finish",l.mode,[f,l.mode,d])}else if(this.clear_drag_state(),s==l.id&&(l.obj._dhx_changed=!1,r.mixin(u,l.obj,!0)),r.refreshTask(u.id),u.$level>100){let g=!1;r.eachParent(function(p){if(!g&&p.type===r.config.types.project){let v={start_date:p.start_date,end_date:p.end_date};r.resetProjectDates(p),+v.start_date==+p.start_date&&+v.end_date==+p.end_date||(g=!0)}},u.id),g&&r.refreshData()}else r.eachParent(function(g){if(g.type===r.config.types.project){let p={start_date:g.start_date,end_date:g.end_date};r.resetProjectDates(g),+p.start_date==+g.start_date&&+p.end_date==+g.end_date||r.refreshTask(g.id)}},u.id)},on_mouse_up:function(s){var a=this.drag;if(a.mode&&a.id){var l=i.$getConfig(),d=r.getTask(a.id),u=this.dragMultiple,f=!1,g=0;a.mode===l.drag_mode.move&&(r.isSummaryTask(d)&&l.drag_project||this._isMultiselect())&&(f=!0,g=Object.keys(u).length);var p=function(){if(f)for(var v in u)u[v].id!=a.id&&this._finalize_mouse_up(u[v].id,l,u[v],s);this._finalize_mouse_up(a.id,l,a,s)};f&&g>10?r.batchUpdate((function(){p.call(this)}).bind(this)):p.call(this)}this.clear_drag_state()},_get_drag_mode:function(s,a){var l=i.$getConfig().drag_mode,d={mode:null,left:null};switch((s||"").split(" ")[0]){case"gantt_task_line":case"gantt_task_content":d.mode=l.move;break;case"gantt_task_drag":d.mode=l.resize;var u=a.getAttribute("data-bind-property");d.left=u=="start_date";break;case"gantt_task_progress_drag":d.mode=l.progress;break;case"gantt_link_control":case"gantt_link_point":d.mode=l.ignore;break;default:d=null}return d},_start_dnd:function(s){var a=this.drag=this.drag.start_drag;delete a.start_drag;var l=i.$getConfig(),d=a.id;if(l["drag_"+a.mode]&&r.callEvent("onBeforeDrag",[d,a.mode,s])&&this._fireEvent("before_start",a.mode,[d,a.mode,s])){delete a.start_drag;var u=r.getTask(d);if(r.isReadonly(u))return void this.clear_drag_state();if(this._isMultiselect()){var f=r.getSelectedTasks();f.indexOf(a.id)>=0&&is(f,r.bind(function(g){var p=r.getTask(g);r.isSummaryTask(p)&&r.config.drag_project&&a.mode==l.drag_mode.move&&this._addSubtasksToDragMultiple(p.id),this.dragMultiple[g]=r.mixin({id:p.id,obj:r.copy(p)},this.drag)},this))}r.isSummaryTask(u)&&r.config.drag_project&&a.mode==l.drag_mode.move&&this._addSubtasksToDragMultiple(u.id),r.callEvent("onTaskDragStart",[])}else this.clear_drag_state()},_fireEvent:function(s,a,l){r.assert(this._events[s],"Invalid stage:{"+s+"}");var d=this._events[s][a];return r.assert(d,"Unknown after drop mode:{"+a+"}"),r.assert(l,"Invalid event arguments"),!r.checkEvent(d)||r.callEvent(d,l)},round_task_dates:function(s){var a=this.drag,l=i.$getConfig();a||(a={mode:l.drag_mode.move}),this._fix_dnd_scale_time(s,a)},destructor:function(){this._domEvents.detachAll()},_isMultiselect:function(){return r.config.drag_multiple&&!!(r.getSelectedTasks&&r.getSelectedTasks().length>0)},_addSubtasksToDragMultiple:function(s){r.eachTask(function(a){this.dragMultiple[a.id]=r.mixin({id:a.id,obj:r.copy(a)},this.drag)},s,this)}}}(n,t),n._tasks_dnd=e,e.init(t)},destructor:function(){e&&(e.destructor(),e=null)}}}},EB=function(e,n){var t,i,r,o,s;function a(){return{link_source_id:o,link_target_id:i,link_from_start:s,link_to_start:r,link_landing_area:t}}var l=n.$services,d=l.getService("state"),u=l.getService("dnd");d.registerProvider("linksDnD",a);var f="gantt_link_point",g="gantt_link_control",p=new u(e.$task_bars,{sensitivity:0,updates_per_second:60,mousemoveContainer:n.$root,selector:"."+f,preventDefault:!0});function v(w,y){var C,D=p.getPosition(w),I=function(G){var q=0,V=0;return G&&(q=G.offsetWidth||0,V=G.offsetHeight||0),{width:q,height:V}}(y),M={right:(C=n.$root).offsetWidth,bottom:C.offsetHeight},P=n.config.tooltip_offset_x||10,R=n.config.tooltip_offset_y||10,F=n.config.scroll_size||18,j=n.$container.getBoundingClientRect().y+window.scrollY,H={y:D.y+R,x:D.x+P,bottom:D.y+I.height+R+F,right:D.x+I.width+P+F};return H.bottom>M.bottom+j&&(H.y=M.bottom+j-I.height-R),H.right>M.right&&(H.x=M.right-I.width-P),H}function k(w){var y=a();y.link_source_id&&y.link_target_id&&n.isLinkAllowed(y.link_source_id,y.link_target_id,y.link_from_start,y.link_to_start);var C="<div class='"+n.templates.drag_link_class(y.link_source_id,y.link_from_start,y.link_target_id,y.link_to_start)+"'>"+n.templates.drag_link(y.link_source_id,y.link_from_start,y.link_target_id,y.link_to_start)+"</div>";w.innerHTML=C}function x(){o=s=i=null,r=!0}function S(w,y,C,D){var I=function(){return p._direction&&p._direction.parentNode||(p._direction=document.createElement("div"),e.$task_links.appendChild(p._direction)),p._direction}(),M=a(),P=["gantt_link_direction"];n.templates.link_direction_class&&P.push(n.templates.link_direction_class(M.link_source_id,M.link_from_start,M.link_target_id,M.link_to_start));var R=Math.sqrt(Math.pow(C-w,2)+Math.pow(D-y,2));if(R=Math.max(0,R-3)){I.className=P.join(" ");var F=(D-y)/(C-w),j=Math.atan(F);_(w,C,y,D)==2?j+=Math.PI:_(w,C,y,D)==3&&(j-=Math.PI);var H=Math.sin(j),G=Math.cos(j),q=Math.round(y),V=Math.round(w),ue=["-webkit-transform: rotate("+j+"rad)","-moz-transform: rotate("+j+"rad)","-ms-transform: rotate("+j+"rad)","-o-transform: rotate("+j+"rad)","transform: rotate("+j+"rad)","width:"+Math.round(R)+"px"];if(window.navigator.userAgent.indexOf("MSIE 8.0")!=-1){ue.push('-ms-filter: "'+function(Je,qe){return"progid:DXImageTransform.Microsoft.Matrix(M11 = "+qe+",M12 = -"+Je+",M21 = "+Je+",M22 = "+qe+",SizingMethod = 'auto expand')"}(H,G)+'"');var J=Math.abs(Math.round(w-C)),he=Math.abs(Math.round(D-y));switch(_(w,C,y,D)){case 1:q-=he;break;case 2:V-=J,q-=he;break;case 3:V-=J}}ue.push("top:"+q+"px"),ue.push("left:"+V+"px"),I.style.cssText=ue.join(";")}}function _(w,y,C,D){return y>=w?D<=C?1:4:D<=C?2:3}p.attachEvent("onBeforeDragStart",n.bind(function(w,y){var C=y.target||y.srcElement;if(x(),n.getState("tasksDnd").drag_id)return!1;if(Yr(C,f)){Yr(C,"task_start_date")&&(s=!0);var D=n.locate(y);o=D;var I=n.getTask(D);return n.isReadonly(I)?(x(),!1):(this._dir_start={x:p.config.original_element_sizes.x+p.config.original_element_sizes.width/2,y:p.config.original_element_sizes.y+p.config.original_element_sizes.height/2},!0)}return!1},this)),p.attachEvent("onAfterDragStart",n.bind(function(w,y){n.config.touch&&n.refreshData(),k(p.config.marker)},this)),p.attachEvent("onDragMove",n.bind(function(w,y){var C=p.config,D=v(y,C.marker);(function(G,q){G.style.left=q.x+"px",G.style.top=q.y+"px"})(C.marker,D);var I=!!Yr(y,g),M=i,P=t,R=r,F=n.locate(y),j=!0;if(mn(rs(y),n.$root)||(I=!1,F=null),I&&(j=!Yr(y,"task_end_date"),I=!!F),i=F,t=I,r=j,I){let G=Yr(y,g).querySelector(`.${f}`);if(G){let q=wD(G,e.$task_bg);this._dir_end={x:q.x+G.offsetWidth/2,y:q.y+G.offsetHeight/2}}}else this._dir_end=ui(y,e.$task_data),n.env.isEdge&&(this._dir_end.y+=window.scrollY);var H=!(P==I&&M==F&&R==j);return H&&(M&&n.refreshTask(M,!1),F&&n.refreshTask(F,!1)),H&&k(C.marker),S(this._dir_start.x,this._dir_start.y,this._dir_end.x,this._dir_end.y),!0},this)),p.attachEvent("onDragEnd",n.bind(function(){var w=a();if(w.link_source_id&&w.link_target_id&&w.link_source_id!=w.link_target_id){var y=n._get_link_type(w.link_from_start,w.link_to_start),C={source:w.link_source_id,target:w.link_target_id,type:y};C.type&&n.isLinkAllowed(C)&&n.callEvent("onLinkCreated",[C])&&n.addLink(C)}x(),n.config.touch?n.refreshData():(w.link_source_id&&n.refreshTask(w.link_source_id,!1),w.link_target_id&&n.refreshTask(w.link_target_id,!1)),p._direction&&(p._direction.parentNode&&p._direction.parentNode.removeChild(p._direction),p._direction=null)},this)),n.attachEvent("onGanttRender",n.bind(function(){p._direction&&S(this._dir_start.x,this._dir_start.y,this._dir_end.x,this._dir_end.y)},this))},CB=function(){return{init:EB}},SB=function(e){var n=e.$services;return{onCreated:function(t){var i=t.$config;i.bind=Dt(i.bind)?i.bind:"task",i.bindLinks=Dt(i.bindLinks)?i.bindLinks:"link",t._linksDnD=CB(),t._tasksDnD=kB.createTaskDND(),t._tasksDnD.extend(t),this._mouseDelegates=xb(e)},onInitialized:function(t){this._attachDomEvents(e),this._attachStateProvider(e,t),t._tasksDnD.init(t,e),t._linksDnD.init(t,e),t.$config.id=="timeline"&&this.extendDom(t)},onDestroyed:function(t){this._clearDomEvents(e),this._clearStateProvider(e),t._tasksDnD&&t._tasksDnD.destructor()},extendDom:function(t){e.$task=t.$task,e.$task_scale=t.$task_scale,e.$task_data=t.$task_data,e.$task_bg=t.$task_bg,e.$task_links=t.$task_links,e.$task_bars=t.$task_bars},_clearDomEvents:function(){this._mouseDelegates.destructor(),this._mouseDelegates=null},_attachDomEvents:function(t){function i(r,o){if(r&&this.callEvent("onLinkDblClick",[r,o])){var s=this.getLink(r);if(this.isReadonly(s))return;var a=this.locale.labels.link+" "+this.templates.link_description(this.getLink(r))+" "+this.locale.labels.confirm_link_deleting;window.setTimeout(function(){t._delete_link_confirm({link:s,message:a,title:"",callback:function(){t.deleteLink(r)}})},this.config.touch?300:1)}}this._mouseDelegates.delegate("click","gantt_task_link",t.bind(function(r,o){var s=this.locate(r,this.config.link_attribute);s&&this.callEvent("onLinkClick",[s,r])},t),this.$task),this._mouseDelegates.delegate("click","gantt_scale_cell",t.bind(function(r,o){var s=ui(r,t.$task_data),a=t.dateFromPos(s.x),l=Math.floor(t.columnIndexByDate(a)),d=t.getScale().trace_x[l];t.callEvent("onScaleClick",[r,d])},t),this.$task),this._mouseDelegates.delegate("doubleclick","gantt_task_link",t.bind(function(r,o,s){o=this.locate(r,t.config.link_attribute),i.call(this,o,r)},t),this.$task),this._mouseDelegates.delegate("doubleclick","gantt_link_point",t.bind(function(r,o,s){o=this.locate(r);var a=this.getTask(o),l=null;return s.parentNode&&Cn(s.parentNode)&&(l=Cn(s.parentNode).indexOf("_left")>-1?a.$target[0]:a.$source[0]),l&&i.call(this,l,r),!1},t),this.$task)},_attachStateProvider:function(t,i){var r=i;n.getService("state").registerProvider("tasksTimeline",function(){return{scale_unit:r._tasks?r._tasks.unit:void 0,scale_step:r._tasks?r._tasks.step:void 0}})},_clearStateProvider:function(){n.getService("state").unregisterProvider("tasksTimeline")}}},TB=function(e){return{getVerticalScrollbar:function(){return e.$ui.getView("scrollVer")},getHorizontalScrollbar:function(){return e.$ui.getView("scrollHor")},_legacyGridResizerClass:function(n){for(var t=n.getCellsByType("resizer"),i=0;i<t.length;i++){var r=t[i],o=!1,s=r.$parent.getPrevSibling(r.$id);if(s&&s.$config&&s.$config.id==="grid")o=!0;else{var a=r.$parent.getNextSibling(r.$id);a&&a.$config&&a.$config.id==="grid"&&(o=!0)}o&&(r.$config.css=(r.$config.css?r.$config.css+" ":"")+"gantt_grid_resize_wrap")}},onCreated:function(n){var t=!0;this._legacyGridResizerClass(n),n.attachEvent("onBeforeResize",function(){var i=e.$ui.getView("timeline");i&&(i.$config.hidden=i.$parent.$config.hidden=!e.config.show_chart);var r=e.$ui.getView("grid");if(r){var o=r._getColsTotalWidth(),s=!e.config.show_grid||!e.config.grid_width||o===0;if(t&&!s&&o!==!1&&(e.config.grid_width=o),r.$config.hidden=r.$parent.$config.hidden=s,!r.$config.hidden){var a=r._getGridWidthLimits();if(a[0]&&e.config.grid_width<a[0]&&(e.config.grid_width=a[0]),a[1]&&e.config.grid_width>a[1]&&(e.config.grid_width=a[1]),i&&e.config.show_chart){if(r.$config.width=e.config.grid_width-1,!r.$config.scrollable&&r.$config.scrollY&&e.$root.offsetWidth){var l=r.$gantt.$layout.$container.offsetWidth,d=e.$ui.getView(r.$config.scrollY).$config.width,u=l-(r.$config.width+d)-4;u<0&&(r.$config.width+=u,e.config.grid_width+=u)}if(t)r.$parent.$config.width=e.config.grid_width,r.$parent.$config.group&&e.$layout._syncCellSizes(r.$parent.$config.group,{value:r.$parent.$config.width,isGravity:!1});else if(i&&!mn(i.$task,n.$view)){if(!r.$config.original_grid_width){var f=e.skins[e.skin];f&&f.config&&f.config.grid_width?r.$config.original_grid_width=f.config.grid_width:r.$config.original_grid_width=0}e.config.grid_width=r.$config.original_grid_width,r.$parent.$config.width=e.config.grid_width}else r.$parent._setContentSize(r.$config.width,null),e.$layout._syncCellSizes(r.$parent.$config.group,{value:e.config.grid_width,isGravity:!1})}else i&&mn(i.$task,n.$view)&&(r.$config.original_grid_width=e.config.grid_width),t||(r.$parent.$config.width=0)}t=!1}}),this._initScrollStateEvents(n)},_initScrollStateEvents:function(n){e._getVerticalScrollbar=this.getVerticalScrollbar,e._getHorizontalScrollbar=this.getHorizontalScrollbar;var t=this.getVerticalScrollbar(),i=this.getHorizontalScrollbar();t&&t.attachEvent("onScroll",function(r,o,s){var a=e.getScrollState();e.callEvent("onGanttScroll",[a.x,r,a.x,o])}),i&&i.attachEvent("onScroll",function(r,o,s){var a=e.getScrollState();e.callEvent("onGanttScroll",[r,a.y,o,a.y]);var l=e.$ui.getView("grid");l&&l.$grid_data&&!l.$config.scrollable&&(l.$grid_data.style.left=l.$grid.scrollLeft+"px",l.$grid_data.scrollLeft=l.$grid.scrollLeft)}),n.attachEvent("onResize",function(){t&&!e.$scroll_ver&&(e.$scroll_ver=t.$scroll_ver),i&&!e.$scroll_hor&&(e.$scroll_hor=i.$scroll_hor)})},_findGridResizer:function(n,t){for(var i,r=n.getCellsByType("resizer"),o=!0,s=0;s<r.length;s++){var a=r[s];a._getSiblings();var l=a._behind,d=a._front;if(l&&l.$content===t||l.isChild&&l.isChild(t)){i=a,o=!0;break}if(d&&d.$content===t||d.isChild&&d.isChild(t)){i=a,o=!1;break}}return{resizer:i,gridFirst:o}},onInitialized:function(n){var t=e.$ui.getView("grid"),i=this._findGridResizer(n,t);if(i.resizer){var r,o=i.gridFirst,s=i.resizer;if(s.$config.mode!=="x")return;s.attachEvent("onResizeStart",function(a,l){var d=e.$ui.getView("grid"),u=d?d.$parent:null;if(u){var f=d._getGridWidthLimits();d.$config.scrollable||(u.$config.minWidth=f[0]),u.$config.maxWidth=f[1]}return r=o?a:l,e.callEvent("onGridResizeStart",[r])}),s.attachEvent("onResize",function(a,l){var d=o?a:l;return e.callEvent("onGridResize",[r,d])}),s.attachEvent("onResizeEnd",function(a,l,d,u){var f=o?a:l,g=o?d:u,p=e.$ui.getView("grid"),v=p?p.$parent:null;v&&(v.$config.minWidth=void 0);var k=e.callEvent("onGridResizeEnd",[f,g]);return k&&g!==0&&(e.config.grid_width=g),k})}},onDestroyed:function(n){}}},DB={init:function(e){function n(o,s){var a=s(e);a.onCreated&&a.onCreated(o),o.attachEvent("onReady",function(){a.onInitialized&&a.onInitialized(o)}),o.attachEvent("onDestroy",function(){a.onDestroyed&&a.onDestroyed(o)})}var t=K2(e);t.registerView("cell",Xc),t.registerView("resizer",null),t.registerView("scrollbar",iB),t.registerView("layout",jD,function(o){(o.$config?o.$config.id:null)==="main"&&n(o,TB)}),t.registerView("viewcell",nB),t.registerView("multiview",tB),t.registerView("timeline",gg,function(o){(o.$config?o.$config.id:null)!=="timeline"&&o.$config.bind!="task"||n(o,SB)}),t.registerView("grid",mb,function(o){(o.$config?o.$config.id:null)!=="grid"&&o.$config.bind!="task"||n(o,wB)}),t.registerView("resourceGrid",mb),t.registerView("resourceTimeline",gg),t.registerView("resourceHistogram",gg);var i=function(o){var s=Q2(o);return{getDataRender:function(a){return o.$services.getService("layer:"+a)||null},createDataRender:function(a){var l=a.name,d=a.defaultContainer,u=a.defaultContainerSibling,f=s.createGroup(d,u,function(g,p){if(!f.filters)return!0;for(var v=0;v<f.filters.length;v++)if(f.filters[v](g,p)===!1)return!1},eB);return o.$services.setService("layer:"+l,function(){return f}),o.attachEvent("onGanttReady",function(){f.addLayer()}),f},init:function(){var a=this.createDataRender({name:"task",defaultContainer:function(){return o.$task_data?o.$task_data:o.$ui.getView("timeline")?o.$ui.getView("timeline").$task_data:void 0},defaultContainerSibling:function(){return o.$task_links?o.$task_links:o.$ui.getView("timeline")?o.$ui.getView("timeline").$task_links:void 0},filter:function(d){}},o),l=this.createDataRender({name:"link",defaultContainer:function(){return o.$task_data?o.$task_data:o.$ui.getView("timeline")?o.$ui.getView("timeline").$task_data:void 0}},o);return{addTaskLayer:function(d){let u=Zr;return typeof d=="function"?d={renderer:{render:d,getVisibleRange:u}}:d.renderer&&!d.renderer.getVisibleRange&&(d.renderer.getVisibleRange=u),d.view="timeline",a.addLayer(d)},_getTaskLayers:function(){return a.getLayers()},removeTaskLayer:function(d){a.removeLayer(d)},_clearTaskLayers:function(){a.clear()},addLinkLayer:function(d){let u=FD();return typeof d=="function"?d={renderer:{render:d,getVisibleRange:u}}:d.renderer&&!d.renderer.getVisibleRange&&(d.renderer.getVisibleRange=u),d.view="timeline",d&&d.renderer&&(d.renderer.getRectangle||d.renderer.isInViewPort||(d.renderer.isInViewPort=$D)),l.addLayer(d)},_getLinkLayers:function(){return l.getLayers()},removeLinkLayer:function(d){l.removeLayer(d)},_clearLinkLayers:function(){l.clear()}}}}}(e),r=pB(e);return e.ext.inlineEditors=r,e.ext._inlineEditors=r,r.init(e),{factory:t,mouseEvents:X2.init(e),layersApi:i.init(),render:{gridLine:function(){return function(o){return{render:function(s,a,l,d){for(var u=a.getGridColumns(),f=a.$getTemplates(),g=a.$config.rowStore,p=[],v=0;v<u.length;v++){var k,x,S,_=v==u.length-1,w=u[v];w.name=="add"?(x="<div "+(P=o._waiAria.gridAddButtonAttrString(w))+" class='gantt_add'></div>",S=""):(Tn(x=w.template?w.template(s):s[w.name])&&(x=f.date_grid(x,s,w.name)),x==null&&(x=""),S=x,x="<div class='gantt_tree_content'>"+x+"</div>");var y="gantt_cell"+(_?" gantt_last_cell":""),C=[];if(w.tree){y+=" gantt_cell_tree";for(var D=0;D<s.$level;D++)C.push(f.grid_indent(s));!g.hasChild(s.id)||o.isSplitTask(s)&&!o.config.open_split_tasks?(C.push(f.grid_blank(s)),C.push(f.grid_file(s))):(C.push(f.grid_open(s)),C.push(f.grid_folder(s)))}var I="width:"+(w.width-(_?1:0))+"px;";if(this.defined(w.align)){var M={right:"flex-end",left:"flex-start",center:"center"}[w.align];I+="text-align:"+w.align+";justify-content:"+M+";"}var P=o._waiAria.gridCellAttrString(w,S,s);C.push(x),k="<div class='"+y+"' data-column-index='"+v+"' data-column-name='"+w.name+"' style='"+I+"' "+P+">"+C.join("")+"</div>",p.push(k)}switch(y="",g.$config.name){case"task":y=o.getGlobalTaskIndex(s.id)%2==0?"":" odd";break;case"resource":y=g.visibleOrder.indexOf(s.id)%2==0?"":" odd"}if(y+=s.$transparent?" gantt_transparent":"",y+=s.$dataprocessor_class?" "+s.$dataprocessor_class:"",f.grid_row_class){var R=f.grid_row_class.call(o,s.start_date,s.end_date,s);R&&(y+=" "+R)}g.isSelected(s.id)&&(y+=" gantt_selected");var F=document.createElement("div");F.className="gantt_row"+y+" gantt_row_"+o.getTaskType(s.type);var j=a.getItemHeight(s.id);return F.style.height=j+"px",F.style.lineHeight=j+"px",l.smart_rendering&&(F.style.position="absolute",F.style.left="0px",F.style.top=a.getItemTop(s.id)+"px"),a.$config.item_attribute&&(F.setAttribute(a.$config.item_attribute,s.id),F.setAttribute(a.$config.bind+"_id",s.id)),o._waiAria.taskRowAttr(s,F),F.innerHTML=p.join(""),F},update:null,getRectangle:vg,isInViewPort:vB,getVisibleRange:Zr,onrender:function(s,a,l){for(var d=l.getGridColumns(),u=0;u<d.length;u++){var f=d[u];if(f.onrender){var g=a.querySelector(`[data-column-name="${f.name}"]`);if(g){var p=f.onrender(s,g);if(p&&typeof p=="string")g.innerHTML=p;else if(p&&typeof p=="object"&&o.config.external_render){var v=o.config.external_render;v.isElement(p)&&v.renderElement(p,g)}}}}}}}(e)},taskBg:function(){return function(o){var s={},a={};function l(p,v){return!(!s[p.id][v]||!s[p.id][v].parentNode)}function d(p,v){s[p]&&s[p][v]&&s[p][v].parentNode&&s[p][v].parentNode.removeChild(s[p][v])}function u(p){var v,k=p.$getTemplates();return k.task_cell_class!==void 0?(v=k.task_cell_class,(console.warn||console.log)("gantt.templates.task_cell_class template is deprecated and will be removed soon. Please use gantt.templates.timeline_cell_class instead.")):v=k.timeline_cell_class,v}function f(p){return p.$getTemplates().timeline_cell_content}function g(p,v,k,x,S,_,w,y){var C=p.width[v],D="";if(jy(v,p,x,o)){var I=_(k,p.trace_x[v]),M="";if(w&&(M=w(k,p.trace_x[v])),y.static_background){var P=!(!I&&!M);if(!y.static_background_cells||!P)return null}if(s[k.id][v])return a[k.id][v]=v,s[k.id][v];var R=document.createElement("div");return R.style.width=C+"px",D="gantt_task_cell"+(v==S-1?" gantt_last_cell":""),I&&(D+=" "+I),R.className=D,M&&(R.innerHTML=M),R.style.position="absolute",R.style.left=p.left[v]+"px",s[k.id][v]=R,a[k.id][v]=v,R}return null}return{render:function(p,v,k,x){var S=v.$getTemplates(),_=v.getScale(),w=_.count;if(k.static_background&&!k.static_background_cells)return null;var y,C=document.createElement("div"),D=u(v),I=f(v);if(y=x&&k.smart_rendering&&!Yc(o)?ug(_,x.x):{start:0,end:w-1},k.show_task_cells){s[p.id]={},a[p.id]={};for(var M=y.start;M<=y.end;M++){var P=g(_,M,p,x,w,D,I,k);P&&C.appendChild(P)}}let R=v.$config.rowStore,F=R.getIndexById(p.id)%2!=0;var j=S.task_row_class(p.start_date,p.end_date,p),H="gantt_task_row"+(F?" odd":"")+(j?" "+j:"");if(R.isSelected(p.id)&&(H+=" gantt_selected"),C.className=H,k.smart_rendering?(C.style.position="absolute",C.style.top=v.getItemTop(p.id)+"px",C.style.width="100%"):C.style.position="relative",C.style.height=v.getItemHeight(p.id)+"px",p.id=="timeline_placeholder_task"){var G=0;p.lastTaskId&&(G=v.getItemTop(p.lastTaskId)+v.getItemHeight(p.lastTaskId));var q=(p.row_height||v.$task_data.offsetHeight)-G;q<0&&(q=0),k.smart_rendering&&(C.style.top=G+"px"),C.style.height=q+"px"}return v.$config.item_attribute&&(C.setAttribute(v.$config.item_attribute,p.id),C.setAttribute(v.$config.bind+"_id",p.id)),C},update:function(p,v,k,x,S){var _=k.getScale(),w=_.count,y=u(k),C=f(k);if(x.show_task_cells){s[p.id]||(s[p.id]={}),a[p.id]||(a[p.id]={});var D=ug(_,S);for(var I in a[p.id]){var M=a[p.id][I];(Number(M)<D.start||Number(M)>D.end)&&d(p.id,M)}a[p.id]={};for(var P=D.start;P<=D.end;P++){var R=g(_,P,p,S,w,y,C,x);!R&&l(p,P)?d(p.id,P):R&&!R.parentNode&&v.appendChild(R)}}},getRectangle:fD,getVisibleRange:Zr,prepareData:mB}}(e)},taskBar:function(){return hD(e)},timedProjectBar:function(){return hD(e)},taskRollupBar:function(){return function(o){let s=VD(o),a={};function l(f,g,p,v,k){let x=!0;return v.smart_rendering&&(x=_b(f,g,p)),x}function d(f,g,p,v){let k=o.copy(o.getTask(g.id));if(k.$rendered_at=f.id,o.callEvent("onBeforeRollupTaskDisplay",[k.id,k,f.id])===!1)return;let x=s(k,p);if(!x)return;let S=p.getBarHeight(f.id,g.type==o.config.types.milestone),_=Math.floor((p.getItemHeight(f.id)-S)/2);return x.style.top=v.top+_+"px",x.classList.add("gantt_rollup_child"),x.setAttribute("data-rollup-parent-id",f.id),x}function u(f,g){return f+"_"+g}return{render:function(f,g,p,v){if(f.rollup!==!1&&f.$rollup&&f.$rollup.length){let k=document.createElement("div"),x=o.getTaskPosition(f);return v&&(v.y=0,v.y_end=o.$task_bg.scrollHeight),f.$rollup.forEach(function(S){if(!o.isTaskExists(S))return;let _=o.getTask(S);if(!l(_,v,g,p))return;let w=d(f,_,g,x);w?(a[u(_.id,f.id)]=w,k.appendChild(w)):a[u(_.id,f.id)]=!1}),k}return!1},update:function(f,g,p,v,k){let x=document.createElement("div"),S=o.getTaskPosition(f);k.y=0,k.y_end=o.$task_bg.scrollHeight,f.$rollup.forEach(function(_){let w=o.getTask(_),y=u(w.id,f.id),C=l(w,k,p,v);if(C!==!!a[y])if(C){let D=d(f,w,p,S);a[y]=D||!1}else a[y]=!1;a[y]&&x.appendChild(a[y]),g.innerHTML="",g.appendChild(x)})},isInViewPort:_b,getVisibleRange:Zr}}(e)},taskSplitBar:function(){return Uc()},taskConstraints:function(){return Uc()},taskDeadline:function(){return Uc()},taskBaselines:function(){return Uc()},link:function(){return _B(e)},resourceRow:function(){return function(o){var s=yB(o),a={};function l(u,f,g,p,v){var k=g.resource_cell_class(f.start_date,f.end_date,u,f.tasks,f.assignments),x=g.resource_cell_value(f.start_date,f.end_date,u,f.tasks,f.assignments),S=v.getItemHeight(u.id)-1;if(k||x){var _=v.getItemPosition(u,f.start_date,f.end_date),w=document.createElement("div");return w.setAttribute(v.$config.item_attribute,u.id),w.className=["gantt_resource_marker",k].join(" "),w.style.cssText=["left:"+_.left+"px","width:"+_.width+"px","height:"+S+"px","line-height:"+S+"px","top:"+_.top+"px"].join(";"),x&&(w.innerHTML=x),w}return null}function d(u,f){a[u]&&a[u][f]&&a[u][f].parentNode&&a[u][f].parentNode.removeChild(a[u][f])}return{render:function(u,f,g,p){var v=f.$getTemplates(),k=f.getScale(),x=s(u,g.resource_property,f.getScale(),f),S=!!p,_=[];a[u.id]={};for(var w=ug(k,p),y=w.start;y<=w.end;y++){var C=x[y];if(C&&(!S||jy(y,k,p,o))){var D=l(u,C,v,0,f);D&&(_.push(D),a[u.id][y]=D)}}var I=null;if(_.length){I=document.createElement("div");for(var M=0;M<_.length;M++)I.appendChild(_[M])}return I},update:function(u,f,g,p,v){var k=g.$getTemplates(),x=g.getScale(),S=s(u,p.resource_property,g.getScale(),g),_=ug(x,v),w={};if(a&&a[u.id])for(var y in a[u.id])w[y]=y;for(var C=_.start;C<=_.end;C++){var D=S[C];if(w[C]=!1,D)if(jy(C,x,v,o))if(a[u.id]&&a[u.id][C])a[u.id]&&a[u.id][C]&&!a[u.id][C].parentNode&&f.appendChild(a[u.id][C]);else{var I=l(u,D,k,0,g);I&&(f.appendChild(I),a[u.id][C]=I)}else d(u.id,C)}for(var y in w)w[y]!==!1&&d(u.id,y)},getRectangle:fD,getVisibleRange:Zr}}(e)},resourceHistogram:function(){return Uc()},gridTaskRowResizer:function(){return function(o){return{render:function(s,a,l){var d=a.$getConfig(),u=document.createElement("div");return u.className="gantt_task_grid_row_resize_wrap",u.style.top=a.getItemTop(s.id)+a.getItemHeight(s.id)+"px",u.innerHTML="<div class='gantt_task_grid_row_resize' role='cell'></div>",u.setAttribute(d.task_grid_row_resizer_attribute,s.id),o._waiAria.rowResizerAttr(u),u},update:null,getRectangle:vg,getVisibleRange:Zr}}(e)}},layersService:{getDataRender:function(o){return i.getDataRender(o,e)},createDataRender:function(o){return i.createDataRender(o,e)}}}}};function zy(e,n){let t=getComputedStyle(n.$root).getPropertyValue("--dhx-gantt-theme"),i,r=!!t;if(r)i=t;else{var o=n.skin;if(i=o,!o||e)for(var s=document.getElementsByTagName("link"),a=0;a<s.length;a++){var l=s[a].href.match("dhtmlxgantt_([a-z_]+).css");if(l&&(n.skins[l[1]]||!o)){i=l[1];break}}}n._theme_info={theme:i,cssVarTheme:r},n.skin=i||"terrace";var d=n.skins[n.skin]||n.skins.terrace;(function(g,p,v){for(var k in p)(g[k]===void 0||v)&&(g[k]=p[k])})(n.config,d.config,e),r||(n.config.link_radius=1);var u=n.getGridColumns();for(u[1]&&!n.defined(u[1].width)&&(u[1].width=d._second_column_width),u[2]&&!n.defined(u[2].width)&&(u[2].width=d._third_column_width),a=0;a<u.length;a++){var f=u[a];f.name=="add"&&(f.width||(f.width=44),n.defined(f.min_width)&&n.defined(f.max_width)||(f.min_width=f.min_width||f.width,f.max_width=f.max_width||f.width),f.min_width&&(f.min_width=+f.min_width),f.max_width&&(f.max_width=+f.max_width),f.width&&(f.width=+f.width,f.width=f.min_width&&f.min_width>f.width?f.min_width:f.width,f.width=f.max_width&&f.max_width<f.width?f.max_width:f.width))}d.config.task_height&&(n.config.task_height=d.config.task_height||"full"),d.config.bar_height&&(n.config.bar_height=d.config.bar_height||"full"),d._lightbox_template&&(n._lightbox_template=d._lightbox_template),d._redefine_lightbox_buttons&&(n.config.buttons_right=d._redefine_lightbox_buttons.buttons_right,n.config.buttons_left=d._redefine_lightbox_buttons.buttons_left),n.resetLightbox()}function IB(e){var n=null,t=!1,i=null,r={started:!1},o={};function s(p){return p&&mn(p,e.$root)&&p.offsetHeight}function a(){var p=!!document.querySelector(".gantt_drag_marker"),v=!!document.querySelector(".gantt_drag_marker.gantt_grid_resize_area")||!!document.querySelector(".gantt_drag_marker.gantt_row_grid_resize_area"),k=!!document.querySelector(".gantt_link_direction"),x=e.getState(),S=x.autoscroll;return t=p&&!v&&!k,!(!x.drag_mode&&!p||v)||S}function l(p){if(i&&(clearTimeout(i),i=null),p){var v=e.config.autoscroll_speed;v&&v<10&&(v=10),i=setTimeout(function(){n=setInterval(f,v||50)},e.config.autoscroll_delay||10)}}function d(p){p?(l(!0),r.started||(r.x=o.x,r.y=o.y,r.started=!0)):(n&&(clearInterval(n),n=null),l(!1),r.started=!1)}function u(p){var v=a();if(!n&&!i||v||d(!1),!e.config.autoscroll||!v)return!1;o={x:p.clientX,y:p.clientY},p.type=="touchmove"&&(o.x=p.targetTouches[0].clientX,o.y=p.targetTouches[0].clientY),!n&&v&&d(!0)}function f(){if(!a())return d(!1),!1;var p=s(e.$task)?e.$task:s(e.$grid)?e.$grid:e.$root;if(p){var v=!1;[".gantt_drag_marker.gantt_grid_resize_area",".gantt_drag_marker .gantt_row.gantt_row_task",".gantt_drag_marker.gantt_grid_dnd_marker"].forEach(function(j){v=v||!!document.querySelector(j)}),v&&(p=e.$grid);var k=qt(p),x=o.x-k.x,S=o.y-k.y+window.scrollY,_=t?0:g(x,k.width,r.x-k.x),w=g(S,k.height,r.y-k.y+window.scrollY),y=e.getScrollState(),C=y.y,D=y.inner_height,I=y.height,M=y.x,P=y.inner_width,R=y.width;(w&&!D||w<0&&!C||w>0&&C+D>=I+2)&&(w=0),(_&&!P||_<0&&!M||_>0&&M+P>=R)&&(_=0);var F=e.config.autoscroll_step;F&&F<2&&(F=2),w*=F||30,((_*=F||30)||w)&&function(j,H){var G=e.getScrollState(),q=null,V=null;j&&(q=G.x+j,q=Math.min(G.width,q),q=Math.max(0,q)),H&&(V=G.y+H,V=Math.min(G.height,V),V=Math.max(0,V)),e.scrollTo(q,V)}(_,w)}}function g(p,v,k){return p-50<0&&p<k?-1:p>v-50&&p>k?1:0}e.attachEvent("onGanttReady",function(){if(!Ht(e)){var p=ns(e.$root)||document.body;e.eventRemove(p,"mousemove",u),e.event(p,"mousemove",u),e.eventRemove(p,"touchmove",u),e.event(p,"touchmove",u),e.eventRemove(p,"pointermove",u),e.event(p,"pointermove",u)}}),e.attachEvent("onDestroy",function(){d(!1)})}var Hy,Uy;window.jQuery&&(Hy=window.jQuery,Uy=[],Hy.fn.dhx_gantt=function(e){if(typeof(e=e||{})!="string"){var n=[];return this.each(function(){if(this&&this.getAttribute)if(this.gantt||window.gantt.$root==this)n.push(typeof this.gantt=="object"?this.gantt:window.gantt);else{var t=window.gantt.$container&&window.Gantt?window.Gantt.getGanttInstance():window.gantt;for(var i in e)i!="data"&&(t.config[i]=e[i]);t.init(this),e.data&&t.parse(e.data),n.push(t)}}),n.length===1?n[0]:n}if(Uy[e])return Uy[e].apply(this,[]);Hy.error("Method "+e+" does not exist on jQuery.dhx_gantt")});window.dhtmlx&&(window.dhtmlx.attaches||(window.dhtmlx.attaches={}),window.dhtmlx.attaches.attachGantt=function(e,n,t){var i=document.createElement("DIV");t=t||window.gantt,i.id="gantt_"+t.uid(),i.style.width="100%",i.style.height="100%",i.cmp="grid",document.body.appendChild(i),this.attachObject(i.id),this.dataType="gantt",this.dataObj=t;var r=this.vs[this.av];return r.grid=t,t.init(i.id,e,n),i.firstChild.style.border="none",r.gridId=i.id,r.gridObj=i,this.vs[this._viewRestore()].grid}),window.dhtmlXCellObject!==void 0&&(window.dhtmlXCellObject.prototype.attachGantt=function(e,n,t){t=t||window.gantt;var i=document.createElement("DIV");return i.id="gantt_"+t.uid(),i.style.width="100%",i.style.height="100%",i.cmp="grid",document.body.appendChild(i),this.attachObject(i.id),this.dataType="gantt",this.dataObj=t,t.init(i.id,e,n),i.firstChild.style.border="none",i=null,this.callEvent("_onContentAttach",[]),this.dataObj});var MB=["ctrlKey","altKey","shiftKey","metaKey"],AB=[[{unit:"month",date:"%M",step:1},{unit:"day",date:"%d",step:1}],[{unit:"day",date:"%d %M",step:1}],[{unit:"day",date:"%d %M",step:1},{unit:"hour",date:"%H:00",step:8}],[{unit:"day",date:"%d %M",step:1},{unit:"hour",date:"%H:00",step:1}]],vb=class{constructor(n){this.zoomIn=()=>{let t=this.getCurrentLevel()-1;t<0||this.setLevel(t)},this.zoomOut=()=>{let t=this.getCurrentLevel()+1;t>this._levels.length-1||this.setLevel(t)},this.getCurrentLevel=()=>this._activeLevelIndex,this.getLevels=()=>this._levels,this.setLevel=t=>{let i=this._getZoomIndexByName(t);i===-1&&this.$gantt.assert(i!==-1,"Invalid zoom level for gantt.ext.zoom.setLevel. "+t+" is not an expected value."),this._setLevel(i,0)},this._getZoomIndexByName=t=>{let i=-1;if(typeof t=="string"){if(!isNaN(Number(t))&&this._levels[Number(t)])i=Number(t);else for(let r=0;r<this._levels.length;r++)if(this._levels[r].name===t){i=r;break}}else i=t;return i},this._getVisibleDate=()=>{if(!this.$gantt.$task)return null;let t=this.$gantt.getScrollState().x,i=this.$gantt.$task.offsetWidth;this._visibleDate=this.$gantt.dateFromPos(t+i/2)},this._setLevel=(t,i)=>{this._activeLevelIndex=t;let r=this.$gantt,o=r.copy(this._levels[this._activeLevelIndex]),s=r.copy(o);if(delete s.name,r.mixin(r.config,s,!0),["resourceTimeline","resourceHistogram"].forEach(function(a){let l=r.$ui.getView(a);if(l){let d=l.$getConfig();d.fixed_scales||r.mixin(d,s,!0)}}),r.$root&&r.$task){if(i){let a=this.$gantt.dateFromPos(i+this.$gantt.getScrollState().x);this.$gantt.render();let l=this.$gantt.posFromDate(a);this.$gantt.scrollTo(l-i)}else{let a=this.$gantt.$task.offsetWidth;this._visibleDate||this._getVisibleDate();let l=this._visibleDate;this.$gantt.render();let d=this.$gantt.posFromDate(l);this.$gantt.scrollTo(d-a/2)}this.callEvent("onAfterZoom",[this._activeLevelIndex,o])}},this._attachWheelEvent=t=>{let i=Kr.isFF?"wheel":"mousewheel",r;r=typeof t.element=="function"?t.element():t.element,r&&this._domEvents.attach(r,i,this.$gantt.bind(function(o){if(this._useKey&&(MB.indexOf(this._useKey)<0||!o[this._useKey]))return!1;if(typeof this._handler=="function")return this._handler.apply(this,[o]),!0},this),{passive:!1})},this._defaultHandler=t=>{let i=this.$gantt.$task.getBoundingClientRect().x,r=t.clientX-i,o=!1;(this.$gantt.env.isFF?-40*t.deltaY:t.wheelDelta)>0&&(o=!0),t.preventDefault(),t.stopPropagation(),this._setScaleSettings(o,r)},this._setScaleDates=()=>{this._initialStartDate&&this._initialEndDate&&(this.$gantt.config.start_date=this._initialStartDate,this.$gantt.config.end_date=this._initialEndDate)},this.$gantt=n,this._domEvents=this.$gantt._createDomEventScope()}init(n){this.$gantt.env.isNode||(this._initialStartDate=n.startDate,this._initialEndDate=n.endDate,this._activeLevelIndex=n.activeLevelIndex?n.activeLevelIndex:0,this._levels=this._mapScales(n.levels||AB),this._handler=n.handler||this._defaultHandler,this._minColumnWidth=n.minColumnWidth||60,this._maxColumnWidth=n.maxColumnWidth||240,this._widthStep=n.widthStep||3/8*n.minColumnWidth,this._useKey=n.useKey,this._initialized||(fi(this),this.$gantt.attachEvent("onGanttScroll",()=>{this._getVisibleDate()})),this._domEvents.detachAll(),n.trigger==="wheel"&&(this.$gantt.$root?this._attachWheelEvent(n):this.$gantt.attachEvent("onGanttLayoutReady",()=>{this.$gantt.attachEvent("onGanttRender",()=>{this._attachWheelEvent(n)},{once:!0})})),this._initialized=!0,this.setLevel(this._activeLevelIndex))}_mapScales(n){return n.map(t=>Array.isArray(t)?{scales:t}:t)}_setScaleSettings(n,t){n?this._stepUp(t):this._stepDown(t)}_stepUp(n){if(this._activeLevelIndex>=this._levels.length-1)return;let t=this._activeLevelIndex;if(this._setScaleDates(),this._widthStep){let i=this.$gantt.config.min_column_width+this._widthStep;i>this._maxColumnWidth&&(i=this._minColumnWidth,t++),this.$gantt.config.min_column_width=i}else t++;this._setLevel(t,n)}_stepDown(n){if(this._activeLevelIndex<1)return;let t=this._activeLevelIndex;if(this._setScaleDates(),this._widthStep){let i=this.$gantt.config.min_column_width-this._widthStep;i<this._minColumnWidth&&(i=this._maxColumnWidth,t--),this.$gantt.config.min_column_width=i}else t--;this._setLevel(t,n)}};function NB(e){function n(){if(e.config.touch!="force"&&(e.config.touch=e.config.touch&&(navigator.userAgent.indexOf("Mobile")!=-1||navigator.userAgent.indexOf("iPad")!=-1||navigator.userAgent.indexOf("Android")!=-1||navigator.userAgent.indexOf("Touch")!=-1)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1),e.config.touch){var o=!0;try{document.createEvent("TouchEvent")}catch{o=!1}o?e._touch_events(["touchmove","touchstart","touchend"],function(s){return s.touches&&s.touches.length>1?null:s.touches[0]?{target:s.target,pageX:s.touches[0].pageX,pageY:s.touches[0].pageY,clientX:s.touches[0].clientX,clientY:s.touches[0].clientY}:s},function(s){return s.defaultPrevented}):window.navigator.pointerEnabled?e._touch_events(["pointermove","pointerdown","pointerup"],function(s){return s.pointerType=="mouse"?null:s},function(s){return!s||s.pointerType=="mouse"}):window.navigator.msPointerEnabled&&e._touch_events(["MSPointerMove","MSPointerDown","MSPointerUp"],function(s){return s.pointerType==s.MSPOINTER_TYPE_MOUSE?null:s},function(s){return!s||s.pointerType==s.MSPOINTER_TYPE_MOUSE})}}function t(o){var s=o.$config.scrollX?e.$ui.getView(o.$config.scrollX):null,a=o.$config.scrollY?e.$ui.getView(o.$config.scrollY):null,l={x:null,y:null};return s&&s.getScrollState().visible&&(l.x=s.$view.scrollLeft),a&&a.getScrollState().visible&&(l.y=a.$view.scrollTop),l}function i(){var o;return e.$ui.getView("timeline")&&(o=e.$ui.getView("timeline")._tasks_dnd),o}e.config.touch_drag=75,e.config.touch=!0,e.config.touch_feedback=!0,e.config.touch_feedback_duration=1,e._prevent_touch_scroll=!1,e._touch_feedback=function(){e.config.touch_feedback&&navigator.vibrate&&navigator.vibrate(e.config.touch_feedback_duration)},e.attachEvent("onGanttReady",function(){e.$container&&n()}),e.attachEvent("onGanttLayoutReady",function(){e.$container&&e.attachEvent("onGanttRender",n,{once:!0})});var r=[];e._touch_events=function(o,s,a){var l,d=0,u=!1,f=!1,g=null,p=null,v=null,k=[],x=null;let S={};for(var _=0;_<r.length;_++)e.eventRemove(r[_][0],r[_][1],r[_][2]);(r=[]).push([e.$container,o[0],function(y){var C=i();if(!a(y)&&u){p&&clearTimeout(p);var D=s(y);if(C&&(C.drag.id||C.drag.start_drag))return C.on_mouse_move(D),y.preventDefault&&y.preventDefault(),y.cancelBubble=!0,!1;if(!e._prevent_touch_scroll){if(D&&g){var I=g.pageX-D.pageX,M=g.pageY-D.pageY;if(!f&&(Math.abs(I)>5||Math.abs(M)>5)&&(f=!0,d=0,l=x?t(x):e.getScrollState()),f){var P,R=l.x+I,F=l.y+M;if(x?(function(j,H,G){var q=j.$config.scrollX?e.$ui.getView(j.$config.scrollX):null,V=j.$config.scrollY?e.$ui.getView(j.$config.scrollY):null;q&&q.scrollTo(H,null),V&&V.scrollTo(null,G)}(x,R,F),P=t(x)):(e.scrollTo(R,F),P=e.getScrollState()),l.x!=P.x&&M>2*I||l.y!=P.y&&I>2*M)return w(y)}}return w(y)}return!0}}]);try{document.addEventListener("touchmove",function(y){e._touch_drag&&w(y)},{passive:!1})}catch{console.warn("Cannot prevent touch event for the page drag")}for(r.push([this.$container,"contextmenu",function(y){if(u)return w(y)}]),r.push([this.$container,o[1],function(y){if(S=y.touches.length,document&&document.body&&document.body.classList.add("gantt_touch_active"),!a(y))if(y.touches&&y.touches.length>1)u=!1;else{g=s(y),x=function(D){for(var I=e.$layout.getCellsByType("viewCell"),M=0;M<I.length;M++){var P=I[M].$view.getBoundingClientRect();if(D.clientX>=P.left&&D.clientX<=P.right&&D.clientY<=P.bottom&&D.clientY>=P.top)return I[M]}}(g),e._locate_css(g,"gantt_hor_scroll")||e._locate_css(g,"gantt_ver_scroll")||(u=!0);var C=i();p=setTimeout(function(){var D=e.locate(g);C&&D&&!e._locate_css(g,"gantt_link_control")&&!e._locate_css(g,"gantt_grid_data")&&(C.on_mouse_down(g),C.drag&&C.drag.start_drag&&(function(I){let M=e._getTaskLayers(),P=e.getTask(I);if(P){let R=e.isTaskVisible(I);if(R){v=I;for(let F=0;F<M.length;F++)if(P=M[F].rendered[I],P&&P.getAttribute(e.config.task_attribute)&&P.getAttribute(e.config.task_attribute)==I){let j=P.cloneNode(!0);k.push(P),M[F].rendered[I]=j,P.style.display="none",j.className+=" gantt_drag_move ",P.parentNode.appendChild(j)}}else if(P.$split_subtask){let F=P.$rendered_parent;if(R=e.isTaskVisible(F),!R)return;v=I;for(let j=0;j<M.length;j++){let H=M[j].rendered[F],G;if(H&&H.childNodes&&(G=H.querySelector(`[${e.config.task_attribute}="${P.id}"]`)),G){let q=G.cloneNode(!0);G.parentNode.appendChild(q),e.$task_bars.appendChild(G),G.style.display="none",k.push(G),G=null}}}}}(D),C._start_dnd(g),e._touch_drag=!0,e.refreshTask(D),e._touch_feedback())),p=null},e.config.touch_drag)}}]),r.push([this.$container,o[2],function(y){if(document&&document.body&&document.body.classList.remove("gantt_touch_active"),!a(y)){p&&clearTimeout(p),e._touch_drag=!1,u=!1;var C=s(y),D=i();if(D&&D.on_mouse_up(C),v&&e.isTaskExists(v)&&(e.refreshTask(v),k.length&&(k.forEach(function(M){M.parentNode&&M.parentNode.removeChild(M)}),e._touch_feedback())),u=f=!1,k=[],v=null,g&&d){var I=new Date;I-d<500&&S<=1?(e.$services.getService("mouseEvents").onDoubleClick(g),w(y)):d=I}else d=new Date}}]),_=0;_<r.length;_++)e.event(r[_][0],r[_][1],r[_][2]);function w(y){return y&&y.preventDefault&&y.cancelable&&y.preventDefault(),y.cancelBubble=!0,!1}}}function hg(){console.log("Method is not implemented.")}function Zc(){}function _r(e){return Zc}Zc.prototype.render=hg,Zc.prototype.set_value=hg,Zc.prototype.get_value=hg,Zc.prototype.focus=hg;var HD={getHtmlSelect:function(e,n,t){var i="",r=this;return is(e=e||[],function(o){var s=[{key:"value",value:o.key}];t==o.key&&(s[s.length]={key:"selected",value:"selected"}),o.attributes&&(s=s.concat(o.attributes)),i+=r.getHtmlOption({innerHTML:o.label},s)}),Wc("select",{innerHTML:i},n)},getHtmlOption:function(e,n){return Wc("option",e,n)},getHtmlButton:function(e,n){return Wc("button",e,n)},getHtmlDiv:function(e,n){return Wc("div",e,n)},getHtmlLabel:function(e,n){return Wc("label",e,n)},getHtmlInput:function(e){return"<input"+UD(e||[])+">"}};function Wc(e,n,t){return n=n||[],"<"+e+UD(t||[])+">"+(n.innerHTML||"")+"</"+e+">"}function UD(e){var n="";return is(e,function(t){n+=" "+t.key+"='"+t.value+"'"}),n}function pg(e){let n=_r();function t(){return n.apply(this,arguments)||this}return gt(t,n),t.prototype.render=function(i){let r=i.height?`height:${i.height}px;`:"",o=`<div class='gantt_cal_ltext gantt_section_${i.name}' ${r?`style='${r}'`:""}>`;return o+=HD.getHtmlSelect(i.options,[{key:"style",value:"width:100%;"},{key:"title",value:i.name}]),o+="</div>",o},t.prototype.set_value=function(i,r,o,s){var a=i.firstChild;!a._dhx_onchange&&s.onchange&&(a.onchange=s.onchange,a._dhx_onchange=!0),r===void 0&&(r=(a.options[0]||{}).value),a.value=r||""},t.prototype.get_value=function(i){return i.firstChild.value},t.prototype.focus=function(i){var r=i.firstChild;e._focus(r,!0)},t}function PB(e){var n=pg(e);function t(){return n.apply(this,arguments)||this}function i(r,o){var s=[],a=[];o&&(s=e.getTaskByTime(),r.allow_root&&s.unshift({id:e.config.root_id,text:r.root_label||""}),s=function(f,g,p){var v=g.filter||function(){return!0};f=f.slice(0);for(var k=0;k<f.length;k++){var x=f[k];(x.id==p||e.isChildOf(x.id,p)||v(x.id,x)===!1)&&(f.splice(k,1),k--)}return f}(s,r,o),r.sort&&s.sort(r.sort));for(var l=r.template||e.templates.task_text,d=0;d<s.length;d++){var u=l.apply(e,[s[d].start_date,s[d].end_date,s[d]]);u===void 0&&(u=""),a.push({key:s[d].id,label:u})}return r.options=a,r.map_to=r.map_to||"parent",e.form_blocks.select.render.apply(this,arguments)}return gt(t,n),t.prototype.render=function(r){return i(r,!1)},t.prototype.set_value=function(r,o,s,a){o===0&&(o="0"),!s.id&&e.getState().lightbox&&(s.id=e.getLightboxValues().id);var l=document.createElement("div");l.innerHTML=i(a,s.id);var d=l.removeChild(l.firstChild);return r.onselect=null,r.parentNode.replaceChild(d,r),e.form_blocks.select.set_value.apply(e,[d,o,s,a])},t}function RB(e){var n=function(){let _=_r();function w(){return _.apply(this,arguments)||this}return gt(w,_),w.prototype.render=function(y){let C=y.height?`${y.height}px`:"";return`<div class='gantt_cal_ltext gantt_cal_template gantt_section_${y.name}' ${C?`style='height:${C};'`:""}></div>`},w.prototype.set_value=function(y,C){y.innerHTML=C||""},w.prototype.get_value=function(y){return y.innerHTML||""},w.prototype.focus=function(){},w}(),t=function(_){let w=_r();function y(){return w.apply(this,arguments)||this}return gt(y,w),y.prototype.render=function(C){let D=(C.height||"130")+"px",I=C.placeholder?`placeholder='${C.placeholder}'`:"";return`<div class='gantt_cal_ltext gantt_section_${C.name}' style='height:${D};' ${I}><textarea></textarea></div>`},y.prototype.set_value=function(C,D){_.form_blocks.textarea._get_input(C).value=D||""},y.prototype.get_value=function(C){return _.form_blocks.textarea._get_input(C).value},y.prototype.focus=function(C){var D=_.form_blocks.textarea._get_input(C);_._focus(D,!0)},y.prototype._get_input=function(C){return C.querySelector("textarea")},y}(e),i=function(_){let w=_r();function y(){return w.apply(this,arguments)||this}return gt(y,w),y.prototype.render=function(C){var D=_.form_blocks.getTimePicker.call(this,C);let I="gantt_section_time";C.name!=="time"&&(I+=" gantt_section_"+C.name);var M="<div style='padding-top:0px;font-size:inherit;text-align:center;' class='"+I+"'>";return M+=D,C.single_date?(D=_.form_blocks.getTimePicker.call(this,C,!0),M+="<span></span>"):M+="<span class='gantt_section_time_spacer'> &nbsp;&ndash;&nbsp; </span>",(M+=D)+"</div>"},y.prototype.set_value=function(C,D,I,M){var P=M,R=C.getElementsByTagName("select"),F=M._time_format_order;if(P.auto_end_date)for(var j=function(){q=new Date(R[F[2]].value,R[F[1]].value,R[F[0]].value,0,0),V=_.calculateEndDate({start_date:q,duration:1,task:I}),_.form_blocks._fill_lightbox_select(R,F.size,V,F,P)},H=0;H<4;H++)R[H].onchange=j;var G=_._resolve_default_mapping(M);typeof G=="string"&&(G={start_date:G});var q=I[G.start_date]||new Date,V=I[G.end_date]||_.calculateEndDate({start_date:q,duration:1,task:I});_.form_blocks._fill_lightbox_select(R,0,q,F,P),_.form_blocks._fill_lightbox_select(R,F.size,V,F,P)},y.prototype.get_value=function(C,D,I){var M,P=C.getElementsByTagName("select"),R=I._time_format_order;return M=_.form_blocks.getTimePickerValue(P,I),typeof _._resolve_default_mapping(I)=="string"?M:{start_date:M,end_date:function(F,j,H){var G=_.form_blocks.getTimePickerValue(F,I,j.size);return G<=H&&(I.autofix_end!==!1||I.single_date)?_.date.add(H,_._get_timepicker_step(),"minute"):G}(P,R,M)}},y.prototype.focus=function(C){_._focus(C.getElementsByTagName("select")[0])},y}(e),r=pg(e),o=function(_){var w=_r();function y(){return w.apply(this,arguments)||this}return gt(y,w),y.prototype.render=function(C){let D=C.height?`height:${C.height}px;`:"",I=`<div class='gantt_cal_ltext gantt_cal_lcheckbox gantt_section_${C.name}' ${D?`style='${D}'`:""}>`;if(C.options&&C.options.length)for(var M=0;M<C.options.length;M++)I+="<label><input type='checkbox' value='"+C.options[M].key+"' name='"+C.name+"'>"+C.options[M].label+"</label>";else C.single_value=!0,I+="<label><input type='checkbox' name='"+C.name+"'></label>";return I+="</div>",I},y.prototype.set_value=function(C,D,I,M){var P=Array.prototype.slice.call(C.querySelectorAll("input[type=checkbox]"));!C._dhx_onchange&&M.onchange&&(C.onchange=M.onchange,C._dhx_onchange=!0),M.single_value?P[0].checked=!!D:is(P,function(R){R.checked=!!D&&D.indexOf(R.value)>=0})},y.prototype.get_value=function(C,D,I){return I.single_value?C.querySelector("input[type=checkbox]").checked:function(M,P){if(M.map)return M.map(P);for(var R=M.slice(),F=[],j=0;j<R.length;j++)F.push(P(R[j],j));return F}(Array.prototype.slice.call(C.querySelectorAll("input[type=checkbox]:checked")),function(M){return M.value})},y.prototype.focus=function(C){_._focus(C.querySelector("input[type=checkbox]"))},y}(e),s=function(_){let w=_r();function y(){return w.apply(this,arguments)||this}return gt(y,w),y.prototype.render=function(C){let D=C.height?`${C.height}px`:"",I=`<div class='gantt_cal_ltext gantt_cal_lradio gantt_section_${C.name}' ${D?`style='height:${D};'`:""}>`;if(C.options&&C.options.length)for(var M=0;M<C.options.length;M++)I+="<label><input type='radio' value='"+C.options[M].key+"' name='"+C.name+"'>"+C.options[M].label+"</label>";return I+="</div>",I},y.prototype.set_value=function(C,D,I,M){var P;M.options&&M.options.length&&(P=C.querySelector("input[type=radio][value='"+D+"']")||C.querySelector("input[type=radio][value='"+M.default_value+"']"))&&(!C._dhx_onchange&&M.onchange&&(C.onchange=M.onchange,C._dhx_onchange=!0),P.checked=!0)},y.prototype.get_value=function(C,D){var I=C.querySelector("input[type=radio]:checked");return I?I.value:""},y.prototype.focus=function(C){_._focus(C.querySelector("input[type=radio]"))},y}(e),a=function(_){var w=_r();function y(){return w.apply(this,arguments)||this}function C(M){return M.formatter||new sb}function D(M,P){var R=M.getElementsByTagName("select"),F=P._time_format_order,j=0,H=0;if(_.defined(F[3])){var G=R[F[3]],q=parseInt(G.value,10);isNaN(q)&&G.hasAttribute("data-value")&&(q=parseInt(G.getAttribute("data-value"),10)),j=Math.floor(q/60),H=q%60}return new Date(R[F[2]].value,R[F[1]].value,R[F[0]].value,j,H)}function I(M,P){var R=M.getElementsByTagName("input")[1];return(R=C(P).parse(R.value))&&!window.isNaN(R)||(R=1),R<0&&(R*=-1),R}return gt(y,w),y.prototype.render=function(M){var P="<div class='gantt_time_selects'>"+_.form_blocks.getTimePicker.call(this,M)+"</div>",R=" "+_.locale.labels[_.config.duration_unit+"s"]+" ",F=M.single_date?" style='display:none'":"",j=M.readonly?" disabled='disabled'":"",H=_._waiAria.lightboxDurationInputAttrString(M),G="gantt_duration_value";M.formatter&&(R="",G+=" gantt_duration_value_formatted");var q="<div class='gantt_duration' "+F+"><div class='gantt_duration_inputs'><input type='button' class='gantt_duration_dec' value='\u2212'"+j+"><input type='text' value='5days' class='"+G+"'"+j+" "+H+"><input type='button' class='gantt_duration_inc' value='+'"+j+"></div><div class='gantt_duration_end_date'>"+R+"<span></span></div></div></div>";let V="gantt_section_time gantt_section_duration";return M.name!=="time"&&(V+=" gantt_section_"+M.name),"<div style='padding-top:0px;font-size:inherit;' class='"+V+"'>"+P+" "+q+"</div>"},y.prototype.set_value=function(M,P,R,F){var j,H,G,q,V=M.getElementsByTagName("select"),ue=M.getElementsByTagName("input"),J=ue[1],he=[ue[0],ue[2]],Je=M.getElementsByTagName("span")[0],qe=F._time_format_order;function fe(){var me=D.call(_,M,F),Ue=I.call(_,M,F),$t=_.calculateEndDate({start_date:me,duration:Ue,task:R}),vr=_.templates.task_end_date||_.templates.task_date;Je.innerHTML=vr($t)}function Te(me){var Ue=J.value;Ue=C(F).parse(Ue),window.isNaN(Ue)&&(Ue=0),(Ue+=me)<1&&(Ue=1),J.value=C(F).format(Ue),fe()}he[0].onclick=_.bind(function(){Te(-1*_.config.duration_step)},this),he[1].onclick=_.bind(function(){Te(1*_.config.duration_step)},this),V[0].onchange=fe,V[1].onchange=fe,V[2].onchange=fe,V[3]&&(V[3].onchange=fe),J.onkeydown=_.bind(function(me){var Ue;return(Ue=(me=me||window.event).charCode||me.keyCode||me.which)==_.constants.KEY_CODES.DOWN?(Te(-1*_.config.duration_step),!1):Ue==_.constants.KEY_CODES.UP?(Te(1*_.config.duration_step),!1):void window.setTimeout(fe,1)},this),J.onchange=_.bind(fe,this),typeof(j=_._resolve_default_mapping(F))=="string"&&(j={start_date:j}),H=R[j.start_date]||new Date,G=R[j.end_date]||_.calculateEndDate({start_date:H,duration:1,task:R}),q=Math.round(R[j.duration])||_.calculateDuration({start_date:H,end_date:G,task:R}),q=C(F).format(q),_.form_blocks._fill_lightbox_select(V,0,H,qe,F),J.value=q,fe()},y.prototype.get_value=function(M,P,R){var F=D(M,R),j=I(M,R),H=_.calculateEndDate({start_date:F,duration:j,task:P});return typeof _._resolve_default_mapping(R)=="string"?F:{start_date:F,end_date:H,duration:j}},y.prototype.focus=function(M){_._focus(M.getElementsByTagName("select")[0])},y}(e),l=PB(e),d=pg(e),u=function(_){var w=_r();function y(){return w.apply(this,arguments)||this}function C(I){return!I||I===_.config.constraint_types.ASAP||I===_.config.constraint_types.ALAP}function D(I,M){for(var P=C(M),R=0;R<I.length;R++)I[R].disabled=P}return gt(y,w),y.prototype.render=function(I){let M=I.height?`height:${I.height}px;`:"",P=`<div class='gantt_cal_ltext gantt_section_${I.name}' ${M?`style='${M}'`:""}>`;var R=[];for(var F in _.config.constraint_types)R.push({key:_.config.constraint_types[F],label:_.locale.labels[_.config.constraint_types[F]]});return I.options=I.options||R,P+="<span data-constraint-type-select>"+HD.getHtmlSelect(I.options,[{key:"data-type",value:"constraint-type"}])+"</span>",P+="<label data-constraint-time-select>"+(_.locale.labels.constraint_date||"Constraint date")+": "+_.form_blocks.getTimePicker.call(this,I)+"</label>",P+="</div>",P},y.prototype.set_value=function(I,M,P,R){var F=I.querySelector("[data-constraint-type-select] select"),j=I.querySelectorAll("[data-constraint-time-select] select"),H=R._time_format_order,G=_._resolve_default_mapping(R);F._eventsInitialized||(F.addEventListener("change",function(ue){D(j,ue.target.value)}),F._eventsInitialized=!0);var q=P[G.constraint_date]||new Date;_.form_blocks._fill_lightbox_select(j,0,q,H,R);var V=P[G.constraint_type]||_.getConstraintType(P);F.value=V,D(j,V)},y.prototype.get_value=function(I,M,P){var R=I.querySelector("[data-constraint-type-select] select"),F=I.querySelectorAll("[data-constraint-time-select] select"),j=R.value,H=null;return C(j)||(H=_.form_blocks.getTimePickerValue(F,P)),{constraint_type:j,constraint_date:H}},y.prototype.focus=function(I){_._focus(I.querySelector("select"))},y}(e),f=function(_){let w=pg(_);function y(){return w.apply(this,arguments)||this}return gt(y,w),y.prototype.render=function(C){var D=_.config.types,I=_.locale.labels,M=[],P=C.filter||function(j,H){return!D.placeholder||H!==D.placeholder};for(var R in D)!P(R,D[R])==0&&M.push({key:D[R],label:I["type_"+R]});C.options=M;var F=C.onchange;return C.onchange=function(){_._lightbox_current_type=this.value,_.changeLightboxType(this.value),typeof F=="function"&&F.apply(this,arguments)},w.prototype.render.apply(this,arguments)},y}(e),g=function(_){var w=_r();function y(){return w.apply(this,arguments)||this}function C(P){return P.formatter||new sb}function D(P,R,F,j){let H="<div class='gantt_time_selects'>"+_.form_blocks.getTimePicker.call(_,j)+"</div>",G=" "+_.locale.labels[_.config.duration_unit+"s"]+" ",q=j.single_date?" style='display:none'":"",V=j.readonly?" disabled='disabled'":"",ue=_._waiAria.lightboxDurationInputAttrString(j),J=_.locale.labels.baselines_remove_button,he="gantt_duration_value";j.formatter&&(G="",he+=" gantt_duration_value_formatted");let Je="<div class='gantt_duration' "+q+"><div class='gantt_duration_inputs'><input type='button' class='gantt_duration_dec' value='\u2212'"+V+"><input type='text' value='5days' class='"+he+"'"+V+" "+ue+"><input type='button' class='gantt_duration_inc' value='+'"+V+"></div><div class='gantt_duration_end_date'>"+G+"<span></span></div></div></div>",qe=`<div><div class='baseline_delete_button gantt_custom_button'>${J}</div></div>`,fe=document.createElement("div");fe.className="gantt_section_time gantt_section_duration",fe.setAttribute("data-baseline-id",R.id),fe.innerHTML=H+Je+qe+"<br>",P.appendChild(fe);var Te,me,Ue,$t=fe.getElementsByTagName("select"),vr=fe.getElementsByTagName("input"),zi=vr[1],os=[vr[0],vr[2]],Xr=fe.getElementsByTagName("span")[0],Ma=j._time_format_order;function gi(){var Dn=I.call(_,fe,j),It=M.call(_,fe,j),ss=_.calculateEndDate({start_date:Dn,duration:It,task:F}),Ig=_.templates.task_end_date||_.templates.task_date;Xr.innerHTML=Ig(ss)}function Qr(Dn){var It=zi.value;It=C(j).parse(It),window.isNaN(It)&&(It=0),(It+=Dn)<1&&(It=1),zi.value=C(j).format(It),gi()}fe.querySelector(".baseline_delete_button").onclick=function(Dn){let It=fe.parentNode;fe.innerHTML="",fe.remove(),It.innerHTML===""&&(It.innerHTML=_.locale.labels.baselines_section_placeholder)},os[0].onclick=_.bind(function(){Qr(-1*_.config.duration_step)},_),os[1].onclick=_.bind(function(){Qr(1*_.config.duration_step)},_),$t[0].onchange=gi,$t[1].onchange=gi,$t[2].onchange=gi,$t[3]&&($t[3].onchange=gi),zi.onkeydown=_.bind(function(Dn){var It;return(It=(Dn=Dn||window.event).charCode||Dn.keyCode||Dn.which)==_.constants.KEY_CODES.DOWN?(Qr(-1*_.config.duration_step),!1):It==_.constants.KEY_CODES.UP?(Qr(1*_.config.duration_step),!1):void window.setTimeout(gi,1)},_),zi.onchange=_.bind(gi,_),_._resolve_default_mapping(j),Te=R.start_date||new Date,me=R.end_date||_.calculateEndDate({start_date:Te,duration:1,task:F}),Ue=_.calculateDuration({start_date:Te,end_date:me,task:F}),Ue=C(j).format(Ue),_.form_blocks._fill_lightbox_select($t,0,Te,Ma,j),zi.value=Ue,gi()}function I(P,R){var F=P.getElementsByTagName("select"),j=R._time_format_order,H=0,G=0;if(_.defined(j[3])){var q=F[j[3]],V=parseInt(q.value,10);isNaN(V)&&q.hasAttribute("data-value")&&(V=parseInt(q.getAttribute("data-value"),10)),H=Math.floor(V/60),G=V%60}return new Date(F[j[2]].value,F[j[1]].value,F[j[0]].value,H,G)}function M(P,R){var F=P.getElementsByTagName("input")[1];return(F=C(R).parse(F.value))&&!window.isNaN(F)||(F=1),F<0&&(F*=-1),F}return gt(y,w),y.prototype.render=function(P){return`<div style='height: ${P.height||100}px; padding-top:0px; font-size:inherit;' class='gantt_section_baselines'></div>`},y.prototype.set_value=function(P,R,F,j){F.baselines?(P.innerHTML="",F.baselines.forEach(H=>{D(P,H,F,j)})):P.innerHTML=_.locale.labels.baselines_section_placeholder},y.prototype.get_value=function(P,R,F){let j=[];return P.querySelectorAll("[data-baseline-id]").forEach(H=>{let G=H.dataset.baselineId,q,V=_.getDatastore("baselines").getItem(G);q=V?_.copy(V):{id:_.uid(),task_id:R.id,text:"Baseline 1"},q.start_date=I(H,F),q.duration=M(H,F),q.end_date=_.calculateEndDate({start_date:q.start_date,duration:q.duration,task:R}),j.push(q)}),j},y.prototype.button_click=function(P,R,F,j){if(_.callEvent("onSectionButton",[_._lightbox_id,F])!==!1&&(R.closest(".gantt_custom_button.gantt_remove_baselines")&&(j.innerHTML=_.locale.labels.baselines_section_placeholder),R.closest(".gantt_custom_button.gantt_add_baselines"))){j.innerHTML==_.locale.labels.baselines_section_placeholder&&(j.innerHTML="");let H=_.getTask(_._lightbox_id);D(j,{id:_.uid(),task_id:H.id,start_date:H.start_date,end_date:H.end_date},H,_._get_typed_lightbox_config()[P])}},y.prototype.focus=function(P){_._focus(P.getElementsByTagName("select")[0])},y}(e);e._lightbox_methods={},e._lightbox_template="<div class='gantt_cal_ltitle'><span class='gantt_mark'>&nbsp;</span><span class='gantt_time'></span><span class='gantt_title'></span></div><div class='gantt_cal_larea'></div>",e._lightbox_template=`<div class='gantt_cal_ltitle'><div class="dhx_cal_ltitle_descr"><span class='gantt_mark'>&nbsp;</span><span class='gantt_time'></span><span class='dhx_title'></span>
</div>
<div class="gantt_cal_ltitle_controls">
	<a class="gantt_cal_ltitle_close_btn dhx_gantt_icon dhx_gantt_icon_close"></a>

</div></div><div class='gantt_cal_larea'></div>`,e._lightbox_root=e.$root,e.$services.getService("state").registerProvider("lightbox",function(){return{lightbox:e._lightbox_id}}),e.showLightbox=function(_){var w=this.getTask(_);if(this.callEvent("onBeforeLightbox",[_])){var y=this.getLightbox(this.getTaskType(w.type));this.showCover(y),this._fill_lightbox(_,y),this._setLbPosition(y),this._waiAria.lightboxVisibleAttr(y),this.callEvent("onLightbox",[_])}else e.isTaskExists(_)&&e.getTask(_).$new&&this.$data.tasksStore._updateOrder()},e._get_timepicker_step=function(){if(this.config.round_dnd_dates){var _;if(function(y){var C=y.$ui.getView("timeline");return!(!C||!C.isVisible())}(this)){var w=e.getScale();_=fg(w.unit)*w.step/60}return(!_||_>=1440)&&(_=this.config.time_step),_}return this.config.time_step},e.getLabel=function(_,w){for(var y=this._get_typed_lightbox_config(),C=0;C<y.length;C++)if(y[C].map_to==_){for(var D=y[C].options,I=0;I<D.length;I++)if(D[I].key==w)return D[I].label}return""},e.updateCollection=function(_,w){w=w.slice(0);var y=e.serverList(_);if(!y)return!1;y.splice(0,y.length),y.push.apply(y,w||[]),e.resetLightbox()},e.getLightboxType=function(){return this.getTaskType(this._lightbox_type)},e.getLightbox=function(_){var w,y,C,D,I,M="";if(e.config.csp===!0||e.env.isSalesforce?e._lightbox_root=e.$root:e._lightbox_root=document.body,_===void 0&&(_=this.getLightboxType()),!this._lightbox||this.getLightboxType()!=this.getTaskType(_)){this._lightbox_type=this.getTaskType(_),w=document.createElement("div"),M="gantt_cal_light",y=this._is_lightbox_timepicker(),e.config.wide_form&&(M+=" gantt_cal_light_wide"),y&&(M+=" gantt_cal_light_full"),w.className=M,w.style.visibility="hidden",C=this._lightbox_template,C+="<div class='gantt_cal_lcontrols'>",C+=k(this.config.buttons_left),C+="<div class='gantt_cal_lcontrols_push_right'></div>",C+=k(this.config.buttons_right),C+="</div>",w.innerHTML=C,e._waiAria.lightboxAttr(w),e.config.drag_lightbox&&(w.firstChild.onmousedown=e._ready_to_dnd,w.firstChild.ontouchstart=function(R){e._ready_to_dnd(R.touches[0])},w.firstChild.onselectstart=function(){return!1},w.firstChild.style.cursor="pointer",e._init_dnd_events()),this._lightbox&&this.resetLightbox(),p(),this._cover.insertBefore(w,this._cover.firstChild),this._lightbox=w,D=this._get_typed_lightbox_config(_),C=this._render_sections(D);var P=(I=w.querySelector("div.gantt_cal_larea")).style.overflow;I.style.overflow="hidden",I.innerHTML=C,function(R){var F,j,H,G,q,V;for(V=0;V<R.length;V++)F=R[V],H=e._lightbox_root.querySelector("#"+F.id),F.id&&H&&(j=H.querySelector("label"),(G=H.nextSibling)&&(q=G.querySelector("input, select, textarea"))&&(q.id=q.id||"input_"+e.uid(),F.inputId=q.id,j.setAttribute("for",F.inputId)))}(D),I.style.overflow=P,this._init_lightbox_events(this),w.style.display="none",w.style.visibility="visible"}return this._lightbox},e._render_sections=function(_){for(var w="",y=0;y<_.length;y++){var C=this.form_blocks[_[y].type];if(C){_[y].id="area_"+this.uid();var D=_[y].hidden?" style='display:none'":"",I="";_[y].button&&(I="<div class='gantt_custom_button' data-index='"+y+"'><div class='gantt_custom_button_"+_[y].button+"'></div><div class='gantt_custom_button_label'>"+this.locale.labels["button_"+_[y].button]+"</div></div>"),_[y].type=="baselines"&&(I="<div class='gantt_custom_button gantt_remove_baselines' data-index='"+y+"'><div class='gantt_custom_button_delete_baselines'></div><div class='gantt_custom_button_label'>"+this.locale.labels.baselines_remove_all_button+"</div></div><div class='gantt_custom_button gantt_add_baselines' data-index='"+y+"'><div class='gantt_custom_button_add_baseline'></div><div class='gantt_custom_button_label'>"+this.locale.labels.baselines_add_button+"</div></div>"),this.config.wide_form&&(w+="<div class='gantt_wrap_section' "+D+">"),w+="<div id='"+_[y].id+"' class='gantt_cal_lsection'><label>"+I+(_[y].label||this.locale.labels["section_"+_[y].name]||_[y].name)+"</label></div>"+C.render.call(this,_[y]),w+="</div>"}}return w},e._center_lightbox=function(_){e._setLbPosition(_)},e._setLbPosition=function(_){if(!_)return;let w=e._lightbox_root||e.$root;_.style.top=Math.max(w.offsetHeight/2-_.offsetHeight/2,0)+"px",_.style.left=Math.max(w.offsetWidth/2-_.offsetWidth/2,0)+"px"},e.showCover=function(_){_&&(_.style.display="block",this._setLbPosition(_)),p(),this._cover.style.display=""};let p=function(){e._cover||(e._cover=document.createElement("div"),e._cover.className="gantt_cal_cover",e._cover.style.display="none",e.event(e._cover,"mousemove",e._move_while_dnd),e.event(e._cover,"mouseup",e._finish_dnd),(e._lightbox_root||e.$root).appendChild(e._cover))};function v(_){for(var w in this.config.types)if(this.config.types[w]==_)return w;return"task"}function k(_,w){var y,C,D="";for(C=0;C<_.length;C++)y=e.config._migrate_buttons[_[C]]?e.config._migrate_buttons[_[C]]:_[C],D+="<div "+e._waiAria.lightboxButtonAttrString(y)+" class='gantt_btn_set gantt_left_btn_set "+y+"_set'><div dhx_button='1' data-dhx-button='1' class='"+y+"'></div><div>"+e.locale.labels[y]+"</div></div>";return D}function x(_){var w,y;return _.time_format?_.time_format:(y=["%d","%m","%Y"],fg((w=e.getScale())?w.unit:e.config.duration_unit)<fg("day")&&y.push("%H:%i"),y)}function S(_,w,y){var C,D,I,M,P,R,F="";switch(y.timeFormat[w]){case"%Y":for(_._time_format_order[2]=w,_._time_format_order.size++,_.year_range&&(isNaN(_.year_range)?_.year_range.push&&(I=_.year_range[0],M=_.year_range[1]):C=_.year_range),C=C||10,D=D||Math.floor(C/2),I=I||y.date.getFullYear()-D,M=M||e.getState().max_date.getFullYear()+D,P=I;P<=M;P++)F+="<option value='"+P+"'>"+P+"</option>";break;case"%m":for(_._time_format_order[1]=w,_._time_format_order.size++,P=0;P<12;P++)F+="<option value='"+P+"'>"+e.locale.date.month_full[P]+"</option>";break;case"%d":for(_._time_format_order[0]=w,_._time_format_order.size++,P=1;P<32;P++)F+="<option value='"+P+"'>"+P+"</option>";break;case"%H:%i":for(_._time_format_order[3]=w,_._time_format_order.size++,P=y.first,R=y.date.getDate(),_._time_values=[];P<y.last;)F+="<option value='"+P+"'>"+e.templates.time_picker(y.date)+"</option>",_._time_values.push(P),y.date.setTime(y.date.valueOf()+60*e._get_timepicker_step()*1e3),P=24*(y.date.getDate()!=R?1:0)*60+60*y.date.getHours()+y.date.getMinutes()}return F}e._init_lightbox_events=function(){e.lightbox_events={},e.lightbox_events.gantt_save_btn=function(){e._save_lightbox()},e.lightbox_events.gantt_delete_btn=function(){e._lightbox_current_type=null,e.callEvent("onLightboxDelete",[e._lightbox_id])&&(e.isTaskExists(e._lightbox_id)?e.$click.buttons.delete(e._lightbox_id):e.hideLightbox())},e.lightbox_events.gantt_cancel_btn=function(){e._cancel_lightbox()},e.lightbox_events.default=function(_,w){if(w.getAttribute("data-dhx-button"))e.callEvent("onLightboxButton",[w.className,w,_]);else{var y,C,D=Cn(w);if(D.indexOf("gantt_custom_button")!=-1)if(D.indexOf("gantt_custom_button_")!=-1)for(y=w.parentNode.getAttribute("data-index"),C=w;C&&Cn(C).indexOf("gantt_cal_lsection")==-1;)C=C.parentNode;else y=w.getAttribute("data-index"),C=w.closest(".gantt_cal_lsection"),w=w.firstChild;var I=e._get_typed_lightbox_config();y&&(y*=1,e.form_blocks[I[1*y].type].button_click(y,w,C,C.nextSibling))}},this.event(e.getLightbox(),"click",function(_){_.target.closest(".gantt_cal_ltitle_close_btn")&&e._cancel_lightbox();var w=rs(_),y=Cn(w);return y||(y=Cn(w=w.previousSibling)),w&&y&&y.indexOf("gantt_btn_set")===0&&(y=Cn(w=w.firstChild)),!(!w||!y)&&(e.defined(e.lightbox_events[w.className])?e.lightbox_events[w.className]:e.lightbox_events.default)(_,w)}),e.getLightbox().onkeydown=function(_){var w=_||window.event,y=_.target||_.srcElement,C=Cn(y).indexOf("gantt_btn_set")>-1;switch((_||w).keyCode){case e.constants.KEY_CODES.SPACE:if((_||w).shiftKey)return;C&&y.click&&y.click();break;case e.keys.edit_save:if((_||w).shiftKey)return;C&&y.click?y.click():e._save_lightbox();break;case e.keys.edit_cancel:e._cancel_lightbox()}}},e._cancel_lightbox=function(){var _=this.getLightboxValues();e._lightbox_current_type=null,this.callEvent("onLightboxCancel",[this._lightbox_id,_.$new]),e.isTaskExists(_.id)&&_.$new&&(this.silent(function(){e.$data.tasksStore.removeItem(_.id),e._update_flags(_.id,null)}),this.refreshData()),this.hideLightbox()},e._save_lightbox=function(){var _=this.getLightboxValues();e._lightbox_current_type=null,this.callEvent("onLightboxSave",[this._lightbox_id,_,!!_.$new])&&(e.$data.tasksStore._skipTaskRecalculation="lightbox",_.$new?(delete _.$new,this.addTask(_,_.parent,this.getTaskIndex(_.id))):this.isTaskExists(_.id)&&(this.mixin(this.getTask(_.id),_,!0),this.refreshTask(_.id),this.updateTask(_.id)),e.$data.tasksStore._skipTaskRecalculation=!1,this.refreshData(),this.hideLightbox())},e._resolve_default_mapping=function(_){var w=_.map_to;return{time:!0,time_optional:!0,duration:!0,duration_optional:!0}[_.type]?_.map_to=="auto"?w={start_date:"start_date",end_date:"end_date",duration:"duration"}:typeof _.map_to=="string"&&(w={start_date:_.map_to}):_.type==="constraint"&&(_.map_to&&typeof _.map_to!="string"||(w={constraint_type:"constraint_type",constraint_date:"constraint_date"})),w},e.getLightboxValues=function(){let _={};e.isTaskExists(this._lightbox_id)&&(_=this.mixin({},this.getTask(this._lightbox_id)));let w=[...this._get_typed_lightbox_config()].sort((y,C)=>y.name==="time"?1:C.name==="time"?-1:0);for(let y=0;y<w.length;y++){let C=e._lightbox_root.querySelector("#"+w[y].id);C=C&&C.nextSibling;let D=this.form_blocks[w[y].type];if(!D)continue;let I=D.get_value.call(this,C,_,w[y]),M=e._resolve_default_mapping(w[y]);if(typeof M=="string"&&M!="auto")_[M]=I;else if(typeof M=="object")for(let P in M)M[P]&&(_[M[P]]=I[P])}return e._lightbox_current_type&&(_.type=e._lightbox_current_type),_},e.hideLightbox=function(){var _=this.getLightbox();_&&(_.style.display="none"),this._waiAria.lightboxHiddenAttr(_),this._lightbox_id=null,this.hideCover(_),this.resetLightbox(),this.callEvent("onAfterLightbox",[])},e.hideCover=function(_){_&&(_.style.display="none"),this._cover&&this._cover.parentNode.removeChild(this._cover),this._cover=null},e.resetLightbox=function(){e._lightbox&&!e._custom_lightbox&&e._lightbox.remove(),e._lightbox=null},e._set_lightbox_values=function(_,w){var y=_,C=w.getElementsByTagName("span"),D=[];e.templates.lightbox_header?(D.push(""),D.push(e.templates.lightbox_header(y.start_date,y.end_date,y)),C[1].innerHTML="",C[2].innerHTML=e.templates.lightbox_header(y.start_date,y.end_date,y)):(D.push(this.templates.task_time(y.start_date,y.end_date,y)),D.push(String(this.templates.task_text(y.start_date,y.end_date,y)||"").substr(0,70)),C[1].innerHTML=this.templates.task_time(y.start_date,y.end_date,y),C[2].innerHTML=String(this.templates.task_text(y.start_date,y.end_date,y)||"").substr(0,70)),C[1].innerHTML=D[0],C[2].innerHTML=D[1],e._waiAria.lightboxHeader(w,D.join(" "));for(var I=this._get_typed_lightbox_config(this.getLightboxType()),M=0;M<I.length;M++){var P=I[M];if(this.form_blocks[P.type]){var R=e._lightbox_root.querySelector("#"+P.id).nextSibling,F=this.form_blocks[P.type],j=e._resolve_default_mapping(I[M]),H=this.defined(y[j])?y[j]:P.default_value;F.set_value.call(e,R,H,y,P),P.focus&&F.focus.call(e,R)}}e.isTaskExists(_.id)&&(e._lightbox_id=_.id)},e._fill_lightbox=function(_,w){var y=this.getTask(_);this._set_lightbox_values(y,w)},e.getLightboxSection=function(_){for(var w=this._get_typed_lightbox_config(),y=0;y<w.length&&w[y].name!=_;y++);var C=w[y];if(!C)return null;this._lightbox||this.getLightbox();var D=e._lightbox_root.querySelector("#"+C.id),I=D.nextSibling,M={section:C,header:D,node:I,getValue:function(R){return e.form_blocks[C.type].get_value.call(e,I,R||{},C)},setValue:function(R,F){return e.form_blocks[C.type].set_value.call(e,I,R,F||{},C)}},P=this._lightbox_methods["get_"+C.type+"_control"];return P?P(M):M},e._lightbox_methods.get_template_control=function(_){return _.control=_.node,_},e._lightbox_methods.get_select_control=function(_){return _.control=_.node.getElementsByTagName("select")[0],_},e._lightbox_methods.get_textarea_control=function(_){return _.control=_.node.getElementsByTagName("textarea")[0],_},e._lightbox_methods.get_time_control=function(_){return _.control=_.node.getElementsByTagName("select"),_},e._init_dnd_events=function(){var _=e._lightbox_root;this.event(_,"mousemove",e._move_while_dnd),this.event(_,"mouseup",e._finish_dnd),this.event(_,"touchmove",function(w){e._move_while_dnd(w.touches[0])}),this.event(_,"touchend",function(w){e._finish_dnd(w.touches[0])})},e._move_while_dnd=function(_){if(e._dnd_start_lb){document.gantt_unselectable||(e._lightbox_root.className+=" gantt_unselectable",document.gantt_unselectable=!0);var w=e.getLightbox(),y=[_.pageX,_.pageY];w.style.top=e._lb_start[1]+y[1]-e._dnd_start_lb[1]+"px",w.style.left=e._lb_start[0]+y[0]-e._dnd_start_lb[0]+"px"}},e._ready_to_dnd=function(_){var w=e.getLightbox();e._lb_start=[w.offsetLeft,w.offsetTop],e._dnd_start_lb=[_.pageX,_.pageY]},e._finish_dnd=function(){e._lb_start&&(e._lb_start=e._dnd_start_lb=!1,e._lightbox_root.className=e._lightbox_root.className.replace(" gantt_unselectable",""),document.gantt_unselectable=!1)},e._focus=function(_,w){if(_&&_.focus&&!e.config.touch)try{w&&_.select&&_.select(),_.focus()}catch{}},e.form_blocks={getTimePicker:function(_,w){var y,C,D,I="",M=this.config,P={first:0,last:1440,date:this.date.date_part(new Date(e._min_date.valueOf())),timeFormat:x(_)};for(_._time_format_order={size:0},e.config.limit_time_select&&(P.first=60*M.first_hour,P.last=60*M.last_hour+1,P.date.setHours(M.first_hour)),y=0;y<P.timeFormat.length;y++)y>0&&(I+=" "),(C=S(_,y,P))&&(D=e._waiAria.lightboxSelectAttrString(P.timeFormat[y]),I+="<select "+(_.readonly?"disabled='disabled'":"")+(w?" style='display:none' ":"")+D+">"+C+"</select>");return I},getTimePickerValue:function(_,w,y){var C,D=w._time_format_order,I=0,M=0,P=y||0;return e.defined(D[3])&&(C=parseInt(_[D[3]+P].value,10),I=Math.floor(C/60),M=C%60),new Date(_[D[2]+P].value,_[D[1]+P].value,_[D[0]+P].value,I,M)},_fill_lightbox_select:function(_,w,y,C){if(_[w+C[0]].value=y.getDate(),_[w+C[1]].value=y.getMonth(),_[w+C[2]].value=y.getFullYear(),e.defined(C[3])){var D=60*y.getHours()+y.getMinutes();D=Math.round(D/e._get_timepicker_step())*e._get_timepicker_step();var I=_[w+C[3]];I.value=D,I.setAttribute("data-value",D)}},template:new n,textarea:new t,select:new r,time:new i,duration:new a,parent:new l,radio:new s,checkbox:new o,resources:new d,constraint:new u,baselines:new g,typeselect:new f},e._is_lightbox_timepicker=function(){for(var _=this._get_typed_lightbox_config(),w=0;w<_.length;w++)if(_[w].name=="time"&&_[w].type=="time")return!0;return!1},e._delete_task_confirm=function({task:_,message:w,title:y,callback:C,ok:D}){e._simple_confirm(w,y,C,D)},e._delete_link_confirm=function({link:_,message:w,title:y,callback:C,ok:D}){e._simple_confirm(w,y,C,D)},e._simple_confirm=function(_,w,y,C){if(!_)return y();var D={text:_};w&&(D.title=w),C&&(D.ok=C),y&&(D.callback=function(I){I&&y()}),e.confirm(D)},e._get_typed_lightbox_config=function(_){_===void 0&&(_=this.getLightboxType());var w=v.call(this,_);return e.config.lightbox[w+"_sections"]?e.config.lightbox[w+"_sections"]:e.config.lightbox.sections},e._silent_redraw_lightbox=function(_){var w=this.getLightboxType();if(this.getState().lightbox){var y=this.getState().lightbox,C=this.getLightboxValues(),D=this.copy(this.getTask(y));this.resetLightbox();var I=this.mixin(D,C,!0),M=this.getLightbox(_||void 0);this._set_lightbox_values(I,M),this.showCover(M)}else this.resetLightbox(),this.getLightbox(_||void 0);this.callEvent("onLightboxChange",[w,this.getLightboxType()])}}function OB(e){if(!Kr.isNode){e.utils={arrayFind:Nj,dom:CD};var n=bb();e.event=n.attach,e.eventRemove=n.detach,e._eventRemoveAll=n.detachAll,e._createDomEventScope=n.extend,$e(e,Z2(e));var t=DB.init(e);e.$ui=t.factory,e.$ui.layers=t.render,e.$mouseEvents=t.mouseEvents,e.$services.setService("mouseEvents",function(){return e.$mouseEvents}),e.mixin(e,t.layersApi),function(i){delete i.addTaskLayer,delete i.addLinkLayer}(e),e.$services.setService("layers",function(){return t.layersService}),e.mixin(e,function(){function i(f){return f.$ui.getView("timeline")}function r(f){return f.$ui.getView("grid")}function o(f){var g=i(f);if(g&&!g.$config.hidden)return g;var p=r(f);return p&&!p.$config.hidden?p:null}function s(f){var g=null,p=!1;return[".gantt_drag_marker.gantt_grid_resize_area",".gantt_drag_marker .gantt_row.gantt_row_task",".gantt_drag_marker.gantt_grid_dnd_marker"].forEach(function(v){p=p||!!document.querySelector(v)}),(g=p?r(f):o(f))?l(f,g,"scrollY"):null}function a(f){var g=o(f);return g&&g.id!="grid"?l(f,g,"scrollX"):null}function l(f,g,p){var v=g.$config[p];return f.$ui.getView(v)}var d="DEFAULT_VALUE";function u(f,g,p,v){var k=f(this);return k&&k.isVisible()?k[g].apply(k,p):v?v():d}return{getColumnIndex:function(f){var g=u.call(this,r,"getColumnIndex",[f]);return g===d?0:g},dateFromPos:function(f){var g=u.call(this,i,"dateFromPos",Array.prototype.slice.call(arguments));return g===d?this.getState().min_date:g},posFromDate:function(f){var g=u.call(this,i,"posFromDate",[f]);return g===d?0:g},getRowTop:function(f){var g=this,p=u.call(g,i,"getRowTop",[f],function(){return u.call(g,r,"getRowTop",[f])});return p===d?0:p},getTaskTop:function(f){var g=this,p=u.call(g,i,"getItemTop",[f],function(){return u.call(g,r,"getItemTop",[f])});return p===d?0:p},getTaskPosition:function(f,g,p){var v=u.call(this,i,"getItemPosition",[f,g,p]);return v===d?{left:0,top:this.getTaskTop(f.id),height:this.getTaskBarHeight(f.id),width:0}:v},getTaskBarHeight:function(f,g){var p=this,v=u.call(p,i,"getBarHeight",[f,g],function(){return u.call(p,r,"getItemHeight",[f])});return v===d?0:v},getTaskHeight:function(f){var g=this,p=u.call(g,i,"getItemHeight",[f],function(){return u.call(g,r,"getItemHeight",[f])});return p===d?0:p},columnIndexByDate:function(f){var g=u.call(this,i,"columnIndexByDate",[f]);return g===d?0:g},roundTaskDates:function(){u.call(this,i,"roundTaskDates",[])},getScale:function(){var f=u.call(this,i,"getScale",[]);return f===d?null:f},getTaskNode:function(f){var g=i(this);if(g&&g.isVisible()){var p=g._taskRenderer.rendered[f];if(!p){var v=g.$config.item_attribute;p=g.$task_bars.querySelector("["+v+"='"+f+"']")}return p||null}return null},getLinkNode:function(f){var g=i(this);return g.isVisible()?g._linkRenderer.rendered[f]:null},scrollTo:function(f,g){var p=s(this),v=a(this),k={position:0},x={position:0};p&&(x=p.getScrollState()),v&&(k=v.getScrollState());var S=v&&1*f==f,_=p&&1*g==g;if(S&&_)for(var w=p._getLinkedViews(),y=v._getLinkedViews(),C=[],D=0;D<w.length;D++)for(var I=0;I<y.length;I++)w[D].$config.id&&y[I].$config.id&&w[D].$config.id===y[I].$config.id&&C.push(w[D].$config.id);S&&(C&&C.forEach((function(R){this.$ui.getView(R).$config.$skipSmartRenderOnScroll=!0}).bind(this)),v.scroll(f),C&&C.forEach((function(R){this.$ui.getView(R).$config.$skipSmartRenderOnScroll=!1}).bind(this))),_&&p.scroll(g);var M={position:0},P={position:0};p&&(M=p.getScrollState()),v&&(P=v.getScrollState()),this.callEvent("onGanttScroll",[k.position,x.position,P.position,M.position])},showDate:function(f){var g=this.posFromDate(f),p=Math.max(g-this.config.task_scroll_offset,0);this.scrollTo(p)},showTask:function(f){var g=this.getTaskPosition(this.getTask(f)),p=g.left;this.config.rtl&&(p=g.left+g.width);var v,k=Math.max(p-this.config.task_scroll_offset,0),x=this._scroll_state().y;v=x?g.top-(x-this.getTaskBarHeight(f))/2:g.top,this.scrollTo(k,v);var S=r(this),_=i(this);S&&_&&S.$config.scrollY!=_.$config.scrollY&&l(this,S,"scrollY").scrollTo(null,v)},_scroll_state:function(){var f={x:!1,y:!1,x_pos:0,y_pos:0,scroll_size:this.config.scroll_size+1,x_inner:0,y_inner:0},g=s(this),p=a(this);if(p){var v=p.getScrollState();v.visible&&(f.x=v.size,f.x_inner=v.scrollSize),f.x_pos=v.position||0}if(g){var k=g.getScrollState();k.visible&&(f.y=k.size,f.y_inner=k.scrollSize),f.y_pos=k.position||0}return f},getScrollState:function(){var f=this._scroll_state();return{x:f.x_pos,y:f.y_pos,inner_width:f.x,inner_height:f.y,width:f.x_inner,height:f.y_inner}},getLayoutView:function(f){return this.$ui.getView(f)},scrollLayoutCell:function(f,g,p){let v=this.$ui.getView(f);if(!v)return!1;if(g!==null){let k=this.$ui.getView(v.$config.scrollX);k&&k.scrollTo(g,null)}if(p!==null){let k=this.$ui.getView(v.$config.scrollY);k&&k.scrollTo(null,p)}}}}()),function(i){i.resetSkin||(i.resetSkin=function(){this.skin="",zy(!0,this)},i.skins={},i.attachEvent("onGanttLayoutReady",function(){zy(!1,this),o()})),i._addThemeClass=function(){document.documentElement.setAttribute("data-gantt-theme",i.skin)},i.setSkin=function(s){let a=this.skin!==s;this.skin=s,i._addThemeClass(),o(),i.$root&&(zy(!a,i),this.render())};let r=null;function o(){let s=i.$root;r&&clearInterval(r),s&&(r=setInterval(()=>{let a=getComputedStyle(s).getPropertyValue("--dhx-gantt-theme");a&&a!==i.skin&&i.setSkin(a)},100))}i.attachEvent("onDestroy",function(){clearInterval(r)})}(e),function(i){i.skins.skyblue={config:{grid_width:370,row_height:27,bar_height_padding:4,scale_height:27,link_line_width:1,link_arrow_size:8,link_radius:2,lightbox_additional_height:75},_second_column_width:95,_third_column_width:80}}(e),function(i){i.skins.dark={config:{grid_width:390,row_height:36,scale_height:36,link_line_width:2,link_arrow_size:12,bar_height_padding:9,lightbox_additional_height:75},_second_column_width:100,_third_column_width:70}}(e),function(i){i.skins.meadow={config:{grid_width:380,row_height:27,scale_height:30,link_line_width:2,link_arrow_size:10,bar_height_padding:4,lightbox_additional_height:72},_second_column_width:95,_third_column_width:80}}(e),function(i){i.skins.terrace={config:{grid_width:390,row_height:36,scale_height:36,link_line_width:2,link_arrow_size:12,bar_height_padding:9,lightbox_additional_height:75},_second_column_width:100,_third_column_width:70}}(e),function(i){i.skins.broadway={config:{grid_width:390,row_height:35,scale_height:35,link_line_width:1,link_arrow_size:9,bar_height_padding:4,lightbox_additional_height:86},_second_column_width:100,_third_column_width:80,_lightbox_template:"<div class='gantt_cal_ltitle'><span class='gantt_mark'>&nbsp;</span><span class='gantt_time'></span><span class='gantt_title'></span><div class='gantt_cancel_btn'></div></div><div class='gantt_cal_larea'></div>",_config_buttons_left:{},_config_buttons_right:{gantt_delete_btn:"icon_delete",gantt_save_btn:"icon_save"}}}(e),function(i){i.skins.material={config:{grid_width:411,row_height:34,scale_height:36,link_line_width:2,link_arrow_size:12,bar_height_padding:9,lightbox_additional_height:80},_second_column_width:110,_third_column_width:75,_redefine_lightbox_buttons:{buttons_left:["dhx_delete_btn"],buttons_right:["dhx_cancel_btn","dhx_save_btn"]}},i.attachEvent("onAfterTaskDrag",function(r){var o=i.getTaskNode(r);o&&(o.className+=" gantt_drag_animation",setTimeout(function(){var s=o.className.indexOf(" gantt_drag_animation");s>-1&&(o.className=o.className.slice(0,s))},200))})}(e),function(i){i.skins.contrast_black={config:{grid_width:390,row_height:35,scale_height:35,link_line_width:2,link_arrow_size:12,lightbox_additional_height:75},_second_column_width:100,_third_column_width:80}}(e),function(i){i.skins.contrast_white={config:{grid_width:390,row_height:35,scale_height:35,link_line_width:2,link_arrow_size:12,lightbox_additional_height:75},_second_column_width:100,_third_column_width:80}}(e),function(i){i.ext||(i.ext={});for(var r=[IB,null,null],o=0;o<r.length;o++)r[o]&&r[o](i);i.ext.zoom=new vb(i)}(e),NB(e),RB(e),function(i){i._extend_to_optional=function(r){var o=r,s={render:o.render,focus:o.focus,set_value:function(a,l,d,u){var f=i._resolve_default_mapping(u);if(!d[f.start_date]||f.start_date=="start_date"&&this._isAllowedUnscheduledTask(d)){s.disable(a,u);var g={};for(var p in f)g[f[p]]=d[p];return o.set_value.call(i,a,l,g,u)}return s.enable(a,u),o.set_value.call(i,a,l,d,u)},get_value:function(a,l,d){return d.disabled?{start_date:null}:o.get_value.call(i,a,l,d)},update_block:function(a,l){if(i.callEvent("onSectionToggle",[i._lightbox_id,l]),a.style.display=l.disabled?"none":"",l.button){var d=a.previousSibling.querySelector(".gantt_custom_button_label"),u=i.locale.labels,f=l.disabled?u[l.name+"_enable_button"]:u[l.name+"_disable_button"];d.innerHTML=f}},disable:function(a,l){l.disabled=!0,s.update_block(a,l)},enable:function(a,l){l.disabled=!1,s.update_block(a,l)},button_click:function(a,l,d,u){if(i.callEvent("onSectionButton",[i._lightbox_id,d])!==!1){var f=i._get_typed_lightbox_config()[a];f.disabled?s.enable(u,f):s.disable(u,f)}}};return s},i.form_blocks.duration_optional=i._extend_to_optional(i.form_blocks.duration),i.form_blocks.time_optional=i._extend_to_optional(i.form_blocks.time)}(e),function(i){var r=new RegExp(`<(?:.|
)*?>`,"gm"),o=new RegExp(" +","gm");function s(u){return(u+"").replace(r," ").replace(o," ")}var a=new RegExp("'","gm");function l(u){return(u+"").replace(a,"&#39;")}for(var d in i._waiAria={getAttributeString:function(u){var f=[" "];for(var g in u){var p=l(s(u[g]));f.push(g+"='"+p+"'")}return f.push(" "),f.join(" ")},getTimelineCellAttr:function(u){return i._waiAria.getAttributeString({"aria-label":u})},_taskCommonAttr:function(u,f){u.start_date&&u.end_date&&(f.setAttribute("aria-label",s(i.templates.tooltip_text(u.start_date,u.end_date,u))),u.$dataprocessor_class&&f.setAttribute("aria-busy",!0))},setTaskBarAttr:function(u,f){this._taskCommonAttr(u,f),f.setAttribute("role","img"),!i.isReadonly(u)&&i.config.drag_move&&(u.id!=i.getState("tasksDnd").drag_id?f.setAttribute("aria-grabbed",!1):f.setAttribute("aria-grabbed",!0))},taskRowAttr:function(u,f){this._taskCommonAttr(u,f),!i.isReadonly(u)&&i.config.order_branch&&f.setAttribute("aria-grabbed",!1),f.setAttribute("role","row"),f.setAttribute("aria-selected",i.isSelectedTask(u.id)?"true":"false"),f.setAttribute("aria-level",u.$level+1||1),i.hasChild(u.id)&&f.setAttribute("aria-expanded",u.$open?"true":"false")},linkAttr:function(u,f){var g=i.config.links,p=u.type==g.finish_to_start||u.type==g.start_to_start,v=u.type==g.start_to_start||u.type==g.start_to_finish,k=i.locale.labels.link+" "+i.templates.drag_link(u.source,v,u.target,p);f.setAttribute("role","img"),f.setAttribute("aria-label",s(k))},gridSeparatorAttr:function(u){u.setAttribute("role","columnheader")},rowResizerAttr:function(u){u.setAttribute("role","row")},lightboxHiddenAttr:function(u){u.setAttribute("aria-hidden","true")},lightboxVisibleAttr:function(u){u.setAttribute("aria-hidden","false")},lightboxAttr:function(u){u.setAttribute("role","dialog"),u.setAttribute("aria-hidden","true"),u.firstChild.setAttribute("role","heading"),u.firstChild.setAttribute("aria-level","1")},lightboxButtonAttrString:function(u){return this.getAttributeString({role:"button","aria-label":i.locale.labels[u],tabindex:"0"})},lightboxHeader:function(u,f){u.setAttribute("aria-label",f)},lightboxSelectAttrString:function(u){var f="";switch(u){case"%Y":f=i.locale.labels.years;break;case"%m":f=i.locale.labels.months;break;case"%d":f=i.locale.labels.days;break;case"%H:%i":f=i.locale.labels.hours+i.locale.labels.minutes}return i._waiAria.getAttributeString({"aria-label":f})},lightboxDurationInputAttrString:function(u){return this.getAttributeString({"aria-label":i.locale.labels.column_duration,"aria-valuemin":"0",role:"spinbutton"})},inlineEditorAttr:function(u){u.setAttribute("role","row")},gridAttrString:function(){return[" role='treegrid'",i.config.multiselect?"aria-multiselectable='true'":"aria-multiselectable='false'"," "].join(" ")},gridScaleRowAttrString:function(){return"role='row'"},gridScaleCellAttrString:function(u,f){var g="";if(u.name=="add")g=this.getAttributeString({role:"columnheader","aria-label":i.locale.labels.new_task});else{var p={role:"columnheader","aria-label":i.config.external_render&&i.config.external_render.isElement(f)?"":f};i._sort&&i._sort.name==u.name&&(i._sort.direction=="asc"?p["aria-sort"]="ascending":p["aria-sort"]="descending"),g=this.getAttributeString(p)}return g},gridDataAttrString:function(){return"role='rowgroup'"},reorderMarkerAttr:function(u){u.setAttribute("role","grid"),u.firstChild.removeAttribute("aria-level"),u.firstChild.setAttribute("aria-grabbed","true")},gridCellAttrString:function(u,f,g){var p={role:"gridcell","aria-label":f};return u.editor&&!i.isReadonly(g)||(p["aria-readonly"]=!0),this.getAttributeString(p)},gridAddButtonAttrString:function(u){return this.getAttributeString({role:"button","aria-label":i.locale.labels.new_task})},messageButtonAttrString:function(u){return"tabindex='0' role='button' aria-label='"+u+"'"},messageInfoAttr:function(u){u.setAttribute("role","alert")},messageModalAttr:function(u,f){u.setAttribute("role","dialog"),f&&u.setAttribute("aria-labelledby",f)},quickInfoAttr:function(u){u.setAttribute("role","dialog")},quickInfoHeaderAttrString:function(){return" role='heading' aria-level='1' "},quickInfoHeader:function(u,f){u.setAttribute("aria-label",f)},quickInfoButtonAttrString:function(u){return i._waiAria.getAttributeString({role:"button","aria-label":u,tabindex:"0"})},tooltipAttr:function(u){u.setAttribute("role","tooltip")},tooltipVisibleAttr:function(u){u.setAttribute("aria-hidden","false")},tooltipHiddenAttr:function(u){u.setAttribute("aria-hidden","true")}},i._waiAria)i._waiAria[d]=function(u){return function(){return i.config.wai_aria_attributes?u.apply(this,arguments):""}}(i._waiAria[d])}(e),e.locate=function(i){var r=rs(i);if($i(r,".gantt_task_row"))return null;var o=arguments[1]||this.config.task_attribute,s=Gn(r,o);return s?s.getAttribute(o):null},e._locate_css=function(i,r,o){return Yr(i,r,o)},e._locateHTML=function(i,r){return Gn(i,r||this.config.task_attribute)}}e.attachEvent("onParse",function(){Ht(e)||e.attachEvent("onGanttRender",function(){if(e.config.initial_scroll){var i=e.getTaskByIndex(0),r=i?i.id:e.config.root_id;e.isTaskExists(r)&&e.$task&&e.utils.dom.isChildOf(e.$task,e.$container)&&e.showTask(r)}},{once:!0})}),e.attachEvent("onBeforeGanttReady",function(){this.config.scroll_size||(this.config.scroll_size=vD()||15),Ht(e)||(this._eventRemoveAll(),this.$mouseEvents.reset(),this.resetLightbox())}),e.attachEvent("onGanttReady",function(){!Ht(e)&&e.config.rtl&&e.$layout.getCellsByType("viewCell").forEach(function(i){var r=i.$config.scrollX;if(r){var o=e.$ui.getView(r);o&&o.scrollTo(o.$config.scrollSize,0)}})}),e.attachEvent("onGanttReady",function(){if(!Ht(e)){var i=e.plugins(),r={auto_scheduling:e.autoSchedule,click_drag:e.ext.clickDrag,critical_path:e.isCriticalTask,drag_timeline:e.ext.dragTimeline,export_api:e.exportToPDF,fullscreen:e.ext.fullscreen,grouping:e.groupBy,keyboard_navigation:e.ext.keyboardNavigation,marker:e.addMarker,multiselect:e.eachSelectedTask,overlay:e.ext.overlay,quick_info:e.templates.quick_info_content,tooltip:e.ext.tooltips,undo:e.undo};for(let o in r)r[o]&&!i[o]&&console.warn(`You connected the '${o}' extension via an obsolete file. 
To fix it, you need to remove the obsolete file and connect the extension via the plugins method: https://docs.dhtmlx.com/gantt/api__gantt_plugins.html`)}})}var tt=Sn.gantt=function(e){var n=q2(e);return n.env.isNode||(OB(n),function(t){t.load=function(i,r,o){this._load_url=i,this.assert(arguments.length,"Invalid load arguments");var s="json",a=null;return arguments.length>=3?(s=r,a=o):typeof arguments[1]=="string"?s=arguments[1]:typeof arguments[1]=="function"&&(a=arguments[1]),this._load_type=s,this.callEvent("onLoadStart",[i,s]),this.ajax.get(i,t.bind(function(l){this.on_load(l,s),this.callEvent("onLoadEnd",[i,s]),typeof a=="function"&&a.call(this)},this))}}(n)),n}(Lj);function ji(e){return console.log(e),Promise.reject(e.message||e)}var Bi=class e{constructor(n){this.supabaseService=n}formatDateForGantt(n){if(!n)return"";if(typeof n=="string")return n.split("T")[0].split(" ")[0];if(n instanceof Date){let t=n.getFullYear(),i=(n.getMonth()+1).toString().padStart(2,"0"),r=n.getDate().toString().padStart(2,"0");return`${t}-${i}-${r}`}return""}get(){return B(this,null,function*(){try{let t=(yield this.supabaseService.getDataFromTable("task")).map(i=>({id:i.id,text:i.text,start_date:this.formatDateForGantt(i.start_date),duration:i.duration,progress:i.progress||0,parent:i.parent||0,priority:i.priority,type:i.type,project_id:i.idProject,idResponsible:i.idResponsible}));return console.log("TaskService.get() data from Supabase (transformed):",t),t}catch(n){throw console.error("Error fetching tasks from Supabase:",n),ji(n),n}})}insert(n){return B(this,null,function*(){try{console.log("Objeto de tarea antes de limpiar y mapear:",n);let t=K({},n);delete t["!nativeeditor_status"],delete t["!nativeeditor_id"],delete t.end_date,t.project_id&&(t.idProject=t.project_id,delete t.project_id),t.idResponsible&&(t.idResponsible=Number(t.idResponsible)),delete t.users,console.log("Objeto de tarea FINAL que se enviar\xE1 a Supabase:",t);let i=yield this.supabaseService.insertIntoTable("task",t);return i&&(n.hasOwnProperty("!nativeeditor_status")&&(i["!nativeeditor_status"]=n["!nativeeditor_status"]),n.hasOwnProperty("!nativeeditor_id")&&(i["!nativeeditor_id"]=n["!nativeeditor_id"]),i.start_date&&(i.start_date=this.formatDateForGantt(i.start_date))),i}catch(t){throw console.error("Error inserting task into Supabase:",t),ji(t),t}})}update(n){return B(this,null,function*(){try{let t=K({},n);t.idResponsible&&(t.idResponsible=Number(t.idResponsible)),yield this.supabaseService.updateTableById("task",t.id,t)}catch(t){throw console.error(`Error updating task with id ${n.id} in Supabase:`,t),ji(t),t}})}remove(n){return B(this,null,function*(){try{yield this.supabaseService.deleteFromTableById("task",n)}catch(t){throw console.error(`Error deleting task with id ${n} from Supabase:`,t),ji(t),t}})}static \u0275fac=function(t){return new(t||e)(se(St))};static \u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:"root"})};var Vi=class e{constructor(n){this.supabaseService=n}get(){return B(this,null,function*(){try{let t=(yield this.supabaseService.getDataFromTable("link")).map(i=>({id:i.id,source:i.source,target:i.target,type:i.type}));return console.log("LinkService.get() data from Supabase (transformed):",t),t}catch(n){throw console.error("Error fetching links from Supabase:",n),ji(n),n}})}insert(n){return B(this,null,function*(){try{let t={id:n.id,source:n.source,target:n.target,type:n.type};return yield this.supabaseService.insertIntoTable("link",t)}catch(t){throw console.error("Error inserting link into Supabase:",t),ji(t),t}})}update(n){return B(this,null,function*(){try{let t={id:n.id,source:n.source,target:n.target,type:n.type};yield this.supabaseService.updateTableById("link",t.id,t)}catch(t){throw console.error(`Error updating link with id ${n.id} in Supabase:`,t),ji(t),t}})}remove(n){return B(this,null,function*(){try{yield this.supabaseService.deleteFromTableById("link",n)}catch(t){throw console.error(`Error deleting link with id ${n} from Supabase:`,t),ji(t),t}})}static \u0275fac=function(t){return new(t||e)(se(St))};static \u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:"root"})};var LB=["gantt_here"],yg=class e{constructor(n,t){this.taskService=n;this.linkService=t}ganttContainer;ngOnInit(){tt.config.date_format="%Y-%m-%d %H:%i",tt.config.scales=[{unit:"month",step:1,format:"%F %Y"},{unit:"week",step:1,format:"Semana %W"},{unit:"day",step:1,format:"%j"}],tt.config.scale_height=60,tt.config.duration_step=1;let n=new Date(2025,0,1),t=new Date(2025,12,15);tt.config.start_date=n,tt.config.end_date=t,tt.config.show_progress=!0,tt.config.drag_progress=!0,tt.config.lightbox.sections=[{name:"description",height:38,map_to:"text",type:"textarea",focus:!0},{name:"time",type:"duration",map_to:"auto",time_format:["%d","%m","%Y"],height:38},{name:"progress",height:38,map_to:"progress",type:"select",options:[{key:0,label:"0%"},{key:.1,label:"10%"},{key:.2,label:"20%"},{key:.3,label:"30%"},{key:.4,label:"40%"},{key:.5,label:"50%"},{key:.6,label:"60%"},{key:.7,label:"70%"},{key:.8,label:"80%"},{key:.9,label:"90%"},{key:1,label:"100%"}]},{name:"priority",height:38,map_to:"priority",type:"select",options:[{key:1,label:"Alta"},{key:2,label:"Normal"},{key:3,label:"Baja"}]},{name:"assigned",height:38,type:"select",map_to:"users",options:FB()}],tt.templates.progress_text=function(r,o,s){return Math.round((s.progress??0)*100)+"%"},tt.locale.labels=ve(K({},tt.locale.labels),{dhx_cal_today_button:"Hoy",day_tab:"D\xEDa",week_tab:"Semana",month_tab:"Mes",new_event:"Nueva tarea",icon_save:"Guardar",icon_cancel:"Cancelar",icon_details:"Detalles",icon_edit:"Editar",icon_delete:"Eliminar",confirm_closing:"\xBFSeguro que quieres cerrar?",confirm_deleting:"La tarea se eliminar\xE1 permanentemente. \xBFContinuar?",section_description:"Descripci\xF3n",section_time:"Duraci\xF3n",section_progress:"Progreso",grid_task:"Tarea",grid_start_time:"Inicio",grid_duration:"Duraci\xF3n"}),window.innerWidth<768?(tt.config.columns=[{name:"add",width:40}],tt.config.grid_width=300):(tt.config.columns=[{name:"text",label:"Tarea",tree:!0,width:100,resize:!0},{name:"start_date",label:"Inicio",align:"center",width:70,template:function(r){if(!r.start_date)return"";let o=new Date(r.start_date),s=String(o.getDate()).padStart(2,"0"),a=String(o.getMonth()+1).padStart(2,"0"),l=String(o.getFullYear()).slice(-2);return`${s}/${a}/${l}`}},{name:"duration",label:"Duraci\xF3n",align:"center",width:60},{name:"add"}],tt.config.grid_width=400),tt.locale.labels.section_priority="Prioridad",tt.locale.labels.section_assigned="Asignado a",tt.setSkin("broadway"),tt.templates.rightside_text=function(r,o,s){return s.text||""},tt.templates.leftside_text=function(r,o,s){return s.duration+" days"},tt.init(this.ganttContainer.nativeElement),tt.$_initOnce||(tt.$_initOnce=!0);let i=tt.createDataProcessor({task:{update:r=>{let o=ve(K({},r),{duration:Number(r.duration)||0,progress:Number(r.progress)||0,parent:Number(r.parent)||0});return this.taskService.update(o)},create:r=>this.taskService.insert(r),delete:r=>this.taskService.remove(r)},link:{update:r=>this.linkService.update(r),create:r=>this.linkService.insert(r),delete:r=>this.linkService.remove(r)}});Promise.all([this.taskService.get(),this.linkService.get()]).then(([r,o])=>{tt.parse({data:r,links:o})})}static \u0275fac=function(t){return new(t||e)(ee(Bi),ee(Vi))};static \u0275cmp=we({type:e,selectors:[["gantt"]],viewQuery:function(t,i){if(t&1&&Ml(LB,7),t&2){let r;Ao(r=No())&&(i.ganttContainer=r.first)}},features:[on([Bi,Vi])],decls:13,vars:0,consts:[["gantt_here",""],[1,"gantt-wrapper"],[1,"gantt-toolbar"],["for","projectSelect"],["id","projectSelect"],["value","1"],["value","2"],["type","button"],[1,"gantt-chart"]],template:function(t,i){t&1&&(A(0,"div",1)(1,"div",2)(2,"label",3),O(3,"Proyecto:"),N(),A(4,"select",4)(5,"option",5),O(6,"Proyecto 1"),N(),A(7,"option",6),O(8,"Proyecto 2"),N()(),A(9,"button",7),O(10,"Nuevo Proyecto"),N()(),Fe(11,"div",8,0),N())},styles:[`@charset "UTF-8";@font-face{font-family:Inter;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcCO3FwrK3iLTeHuS_nVMrMxCp50SjIw2boKoduKmMEVuOKfMZg.ttf) format("truetype")}@font-face{font-family:Inter;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcCO3FwrK3iLTeHuS_nVMrMxCp50SjIw2boKoduKmMEVuLyfMZg.ttf) format("truetype")}@font-face{font-family:Inter;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcCO3FwrK3iLTeHuS_nVMrMxCp50SjIw2boKoduKmMEVuI6fMZg.ttf) format("truetype")}@font-face{font-family:Inter;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcCO3FwrK3iLTeHuS_nVMrMxCp50SjIw2boKoduKmMEVuGKYMZg.ttf) format("truetype")}@font-face{font-family:Inter;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcCO3FwrK3iLTeHuS_nVMrMxCp50SjIw2boKoduKmMEVuFuYMZg.ttf) format("truetype")}@font-face{font-family:Inter;font-style:normal;font-weight:800;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcCO3FwrK3iLTeHuS_nVMrMxCp50SjIw2boKoduKmMEVuDyYMZg.ttf) format("truetype")}:root{--dhx-gantt-theme: terrace;--dhx-gantt-font-family: Inter, Helvetica, Arial, sans-serif;--dhx-gantt-font-size: 14px;--dhx-gantt-heading-font-size: calc(var(--dhx-gantt-font-size) + 2px);--dhx-gantt-heading-font-weight: 600;--dhx-gantt-important-font-size: var(--dhx-gantt-font-size);--dhx-gantt-important-line-height: 142%;--dhx-gantt-important-font-weight: 500;--dhx-gantt-regular-font-size: var(--dhx-gantt-font-size);--dhx-gantt-regular-font-weight: 400;--dhx-gantt-regular-line-height: 142%;--dhx-gantt-caption-font-size: calc(var(--dhx-gantt-font-size) - 2px);--dhx-gantt-caption-font-weight: 400;--dhx-gantt-caption-line-height: 132%;--dhx-gantt-base-colors-white: #FFFFFF;--dhx-gantt-base-colors-select: #EFF3FF;--dhx-gantt-base-colors-hover-color: #e0e0e0;--dhx-gantt-base-colors-border-light: #F0F0F0;--dhx-gantt-base-colors-border: #DFE0E1;--dhx-gantt-base-colors-icons: #A1A4A6;--dhx-gantt-base-colors-icons-active: #8b8e90;--dhx-gantt-base-colors-icons-active: color-mix(in hsl increasing hue, var(--dhx-gantt-base-colors-icons) 100%, #000000 12.6%);--dhx-gantt-base-colors-icons-hover: #76787a;--dhx-gantt-base-colors-icons-hover: color-mix(in hsl increasing hue, var(--dhx-gantt-base-colors-icons) 100%, #000000 28.5%);--dhx-gantt-base-colors-disabled: #E9E9E9;--dhx-gantt-base-colors-select: #E0E5F3;--dhx-gantt-base-colors-readonly: var(--dhx-gantt-base-colors-icons);--dhx-gantt-base-colors-text-light: #555D63;--dhx-gantt-base-colors-text-base: #23272A;--dhx-gantt-base-colors-text-on-fill: rgba(255, 255, 255, .9);--dhx-gantt-base-colors-background: #FFFFFF;--dhx-gantt-base-colors-background-alt: #F2F2F2;--dhx-gantt-base-colors-primary: #537CFA;--dhx-gantt-base-colors-primary-hover: #4269E0;--dhx-gantt-base-colors-primary-hover: color-mix(in hsl increasing hue, var(--dhx-gantt-base-colors-primary) 100%, #000000 6%);--dhx-gantt-base-colors-primary-active: #3365fb;--dhx-gantt-base-colors-primary-active: color-mix(in hsl increasing hue, var(--dhx-gantt-base-colors-primary) 100%, #000000 16.6%);--dhx-gantt-base-colors-primary-lighter: #537cfa33;--dhx-gantt-base-colors-primary-lighter: color-mix(in hsl increasing hue, var(--dhx-gantt-base-colors-primary) 20%, rgba(0, 0, 0, 0) 100%);--dhx-gantt-base-colors-warning: #FAB936;--dhx-gantt-base-colors-error: #E3334E;--dhx-gantt-base-colors-error-hover: #D3233E;--dhx-gantt-base-colors-error-hover: color-mix(in hsl increasing hue, var(--dhx-gantt-base-colors-error) 100%, #000000 6%);--dhx-gantt-base-colors-error-active: #C3132E;--dhx-gantt-base-colors-error-active: color-mix(in hsl increasing hue, var(--dhx-gantt-base-colors-error) 100%, #000000 16.6%);--dhx-gantt-base-colors-error-lighter: #E3334E33;--dhx-gantt-base-colors-error-lighter: color-mix(in hsl increasing hue, var(--dhx-gantt-base-colors-error) 20%, rgba(0, 0, 0, 0) 100%);--dhx-gantt-base-colors-error-text: var(--dhx-gantt-base-colors-text-on-fill);--dhx-gantt-base-colors-success: #1BC297;--dhx-gantt-container-background: var(--dhx-gantt-base-colors-background);--dhx-gantt-container-color: var(--dhx-gantt-base-colors-text-base);--dhx-gantt-offtime-background: var(--dhx-gantt-base-colors-background-alt);--dhx-gantt-scale-background: var(--dhx-gantt-container-background);--dhx-gantt-scale-border-vertical: 1px solid var(--dhx-gantt-base-colors-border-light);--dhx-gantt-scale-border-horizontal: 1px solid var(--dhx-gantt-base-colors-border);--dhx-gantt-scale-color: var(--dhx-gantt-base-colors-text-light);--dhx-gantt-grid-body-background: transparent;--dhx-gantt-grid-scale-background: var(--dhx-gantt-scale-background);--dhx-gantt-grid-scale-color: var(--dhx-gantt-scale-color);--dhx-gantt-grid-scale-border-vertical: var(--dhx-gantt-scale-border-vertical);--dhx-gantt-timeline-scale-background: var(--dhx-gantt-scale-background);--dhx-gantt-timeline-scale-color: var(--dhx-gantt-scale-color);--dhx-gantt-timeline-scale-border-vertical: var(--dhx-gantt-scale-border-vertical);--dhx-gantt-grid-cell-border: 1px solid transparent;--dhx-gantt-grid-row-border: var(--dhx-gantt-scale-border-horizontal);--dhx-gantt-base-transition: .2s ease;--dhx-gantt-box-shadow-s: 0px 4px 24px 0px rgba(44, 47, 60, .08);--dhx-gantt-box-shadow-m: 0px 4px 24px 0px rgba(44, 47, 60, .36);--dhx-gantt-box-shadow-l: 0px 4px 24px 0px rgba(44, 47, 60, .56);--dhx-gantt-icon-size: 1.5em;--dhx-gantt-base-module: 4px;--dhx-gantt-base-padding: 4px;--dhx-gantt-border-radius: var(--dhx-gantt-base-module);--dhx-gantt-transition: all .3s;--dhx-gantt-default-border: 1px solid var(--dhx-gantt-base-colors-border);--dhx-gantt-header-border: var(--dhx-gantt-default-border);--dhx-gantt-task-blue: var(--dhx-gantt-base-colors-primary);--dhx-gantt-task-green: #20B56D;--dhx-gantt-task-violet: #D071EF;--dhx-gantt-task-yellow: linear-gradient(180deg, #FFB725 0%, #FFBB25 31.25%, #FAEA27 100%);--dhx-gantt-baseline-background-0: #00B4FF;--dhx-gantt-baseline-background-1: #DF6DE3;--dhx-gantt-baseline-background-2: #FF957D;--dhx-gantt-baseline-background-3: #25C79D;--dhx-gantt-baseline-background-4: #FF6FB0;--dhx-gantt-baseline-background-5: #FFC470;--dhx-gantt-baseline-background-6: #FDE720;--dhx-gantt-baseline-background-7: #47AFD0;--dhx-gantt-baseline-background-8: #DA9DFF;--dhx-gantt-baseline-background-9: #BEE964;--dhx-gantt-task-font-size: var(--dhx-gantt-regular-font-size);--dhx-gantt-task-line-height: var(--dhx-gantt-regular-line-height);--dhx-gantt-task-font-weight: var(--dhx-gantt-regular-font-weight);--dhx-gantt-task-background-primary: var(--dhx-gantt-base-colors-primary);--dhx-gantt-task-border-radius: var(--dhx-gantt-border-radius);--dhx-gantt-task-background: var(--dhx-gantt-task-blue);--dhx-gantt-task-border: none;--dhx-gantt-task-color: var(--dhx-gantt-base-colors-text-on-fill);--dhx-gantt-project-color: var(--dhx-gantt-task-color);--dhx-gantt-task-line-text: var(--dhx-gantt-container-color);--dhx-gantt-task-row-border: 1px solid var(--dhx-gantt-base-colors-border);--dhx-gantt-task-row-background: var(--dhx-gantt-container-background);--dhx-gantt-task-row-background--odd: var(--dhx-gantt-container-background);--dhx-gantt-task-progress-color: rgba(0, 0, 0, .15);--dhx-gantt-project-progress-color: var(--dhx-gantt-task-progress-color);--dhx-gantt-project-background: var(--dhx-gantt-task-green);--dhx-gantt-milestone-background: var(--dhx-gantt-task-violet);--dhx-gantt-task-marker-color: var(--dhx-gantt-task-background);--dhx-gantt-popup-background: var(--dhx-gantt-container-background);--dhx-gantt-popup-color: var(--dhx-gantt-container-color);--dhx-gantt-popup-border: none;--dhx-gantt-popup-border-radius: var(--dhx-gantt-border-radius);--dhx-gantt-tooltip-background: var(--dhx-gantt-base-colors-text-base);--dhx-gantt-tooltip-color: var(--dhx-gantt-container-background);--dhx-gantt-tooltip-border: none;--dhx-gantt-tooltip-border-radius: var(--dhx-gantt-popup-border-radius);--dhx-gantt-link-background: var(--dhx-gantt-base-colors-icons);--dhx-gantt-link-background-hover: var(--dhx-gantt-base-colors-text-light);--dhx-gantt-link-critical-background: var(--dhx-gantt-base-colors-error);--dhx-gantt-link-handle-offset: 8px;--dhx-gantt-link-handle-size: 10px;--dhx-gantt-link-handle-border: var(--dhx-gantt-base-colors-icons);--dhx-gantt-link-handle-border-hover: var(--dhx-gantt-base-colors-border);--dhx-gantt-link-handle-background: var(--dhx-gantt-base-colors-border);--dhx-gantt-link-handle-background-hover: var(--dhx-gantt-base-colors-text-light);--dhx-gantt-progress-handle-border: var(--dhx-gantt-base-colors-border);--dhx-gantt-progress-handle-background: var(--dhx-gantt-base-colors-icons);--dhx-gantt-progress-handle-background-hover: var(--dhx-gantt-base-colors-icons-hover);--dhx-gantt-control-height: 32px;--dhx-gantt-checkbox-height: 20px;--dhx-gantt-lightbox_font-family: var(--dhx-gantt-font-family);--dhx-gantt-lightbox-font-size: var(--dhx-gantt-important-font-size);--dhx-gantt-lightbox-font-weight: var(--dhx-gantt-important-font-weight);--dhx-gantt-lightbox-background: var(--dhx-gantt-popup-background);--dhx-gantt-lightbox-border: var(--dhx-gantt-popup-border);--dhx-gantt-lightbox-control-border: var(--dhx-gantt-default-border);--dhx-gantt-lightbox-color: var(--dhx-gantt-popup-color);--dhx-gantt-lightbox-padding: 12px;--dhx-gantt-lightbox-title-background: var(--dhx-gantt-base-colors-select);--dhx-gantt-lightbox-title-color: var(--dhx-gantt-lightbox-color);--dhx-gantt-lightbox-title-font-size: var(--dhx-gantt-heading-font-size);--dhx-gantt-lightbox-max-width: 622px;--dhx-gantt-lightbox-wide-max-width: 738px;--dhx-gantt-lightbox-width: 560px;--dhx-gantt-btn-order: row-reverse;--dhx-gantt-btn-background: var(--dhx-gantt-base-colors-primary);--dhx-gantt-btn-color: var(--dhx-gantt-base-colors-text-on-fill);--dhx-gantt-btn-border-color: var(--dhx-gantt-base-colors-primary);--dhx-gantt-btn-color-hover: var(--dhx-gantt-base-colors-text-on-fill);--dhx-gantt-btn-background-hover: var(--dhx-gantt-base-colors-primary-hover);--dhx-gantt-btn-border-hover: var(--dhx-gantt-base-colors-primary-hover);--dhx-gantt-btn-color-active: var(--dhx-gantt-base-colors-text-on-fill);--dhx-gantt-btn-background-active: var(--dhx-gantt-base-colors-primary-active);--dhx-gantt-btn-border-active: var(--dhx-gantt-base-colors-primary-active);--dhx-gantt-btn-background-disabled: var(--dhx-gantt-base-colors-disabled);--dhx-gantt-btn-color-disabled: var(--dhx-gantt-base-colors-icons);--dhx-gantt-btn-border-color-disabled: var(--dhx-gantt-base-colors-disabled);--dhx-gantt-btn-outline-background: transparent;--dhx-gantt-btn-outline-color: var(--dhx-gantt-base-colors-primary);--dhx-gantt-btn-outline-border-color: var(--dhx-gantt-base-colors-primary);--dhx-gantt-btn-outline-background-hover: var(--dhx-gantt-base-colors-primary-lighter);--dhx-gantt-btn-outline-color-hover: var(--dhx-gantt-base-colors-primary-hover);--dhx-gantt-btn-outline-border-hover: var(--dhx-gantt-base-colors-primary-hover);--dhx-gantt-btn-outline-background-active: var(--dhx-gantt-base-colors-primary-active);--dhx-gantt-btn-outline-color-active: var(--dhx-gantt-base-colors-text-on-fill);--dhx-gantt-btn-outline-border-active: var(--dhx-gantt-base-colors-primary-active);--dhx-gantt-btn-outline-background-disabled: transparent;--dhx-gantt-btn-outline-color-disabled: var(--dhx-gantt-base-colors-icons);--dhx-gantt-btn-outline-border-color-disabled: var(--dhx-gantt-base-colors-icons);--dhx-gantt-btn-text-transform: none;--dhx-gantt-info-background: var(--dhx-gantt-popup-background);--dhx-gantt-info-color: var(--dhx-gantt-popup-color);--dhx-gantt-info-border: var(--dhx-gantt-popup-border);--dhx-gantt-info-shadow: var(--dhx-gantt-box-shadow-m);--dhx-gantt-modal-background: var(--dhx-gantt-popup-background);--dhx-gantt-modal-color: var(--dhx-gantt-popup-color);--dhx-gantt-modal-border: var(--dhx-gantt-popup-border);--dhx-gantt-modal-padding: 16px;--dhx-gantt-modal-width: 320px;--dhx-gantt-modal-border-radius: var(--dhx-gantt-popup-border-radius);--dhx-gantt-undo-delete-background: var(--dhx-gantt-base-colors-text-base);--dhx-gantt-undo-delete-color: var(--dhx-gantt-task-color)}:root[data-gantt-theme=dark]{--dhx-gantt-theme: dark;--dhx-gantt-base-colors-disabled: #3d3d3d;--dhx-gantt-base-colors-text-light: #AAA;--dhx-gantt-base-colors-text-base: rgba(255, 255, 255, .9);--dhx-gantt-base-colors-background: #141414;--dhx-gantt-base-colors-background-alt: #383838;--dhx-gantt-base-colors-border: #4B4B4B;--dhx-gantt-base-colors-border-light: #4B4B4B;--dhx-gantt-navline-font-color: var(--dhx-gantt-base-colors-text-base);--dhx-gantt-base-colors-primary: #3B72F8;--dhx-gantt-base-colors-error: #EB284F;--dhx-gantt-base-colors-select: #2A2A2A;--dhx-gantt-base-colors-hover-color: #2A2A2A;--dhx-gantt-base-colors-icons: #AAAAAA;--dhx-gantt-scale-color: var(--dhx-gantt-base-colors-text-light);--dhx-gantt-popup-background: #1B1B1C;--dhx-gantt-popup-border: 1px solid #4B4B4B;--dhx-gantt-btn-font-weight: 600;--dhx-gantt-undo-delete-background: var(--dhx-gantt-popup-background);--dhx-gantt-link-handle-border: var(--dhx-gantt-base-colors-border);--dhx-gantt-link-handle-background: var(--dhx-gantt-base-colors-background)}:root[data-gantt-theme=meadow]{--dhx-gantt-theme: meadow;--dhx-gantt-font-family: Segoe UI,Arial,san-serif;--dhx-gantt-base-colors-primary: #0288D1;--dhx-gantt-base-colors-select: #ffebbc;--dhx-gantt-task-background: var(--dhx-gantt-base-colors-primary);--dhx-gantt-base-colors-border: #cecece;--dhx-gantt-task-text-font-size: 14px;--dhx-gantt-task-text-font-weight: 500;--dhx-gantt-heading-font-size: 22px;--dhx-gantt-heading-font-weight: 300;--dhx-gantt-caption-font-size: 14px;--dhx-gantt-caption-font-weight: 400;--dhx-gantt-scale-color: #767676;--dhx-gantt-container-color: #3f3f3f;--dhx-gantt-border-radius: 0;--dhx-gantt-box-shadow-s: 0 3px 5px 0 rgba(0, 0, 0, .1);--dhx-gantt-box-shadow-m: 0px 4px 24px 0px rgba(44, 47, 60, .36);--dhx-gantt-box-shadow-l: 0px 4px 24px 0px rgba(44, 47, 60, .56);--dhx-gantt-scale-background: #f4f2ea;--dhx-gantt-scale-color: #42464b;--dhx-gantt-task-color: #1e2022;--dhx-gantt-project-background: #c7d8f7;--dhx-gantt-milestone-background: #DB7DC5;--dhx-gantt-task-background: #e1ffd4;--dhx-gantt-task-border: 1px solid #3588c5;--dhx-gantt-task-progress-color: #a7d991;--dhx-gantt-project-progress-color: #9ab9f1;--dhx-gantt-link-background: #ffb96d;--dhx-gantt-lightbox-title-background: #f4f2ea;--dhx-gantt-popup-background: #fcfaf3;--dhx-gantt-popup-color: var(--dhx-gantt-container-color);--dhx-gantt-popup-border: 1px solid #cac8bd}:root[data-gantt-theme=skyblue]{--dhx-gantt-theme: skyblue;--dhx-gantt-font-family: Segoe UI,Arial,san-serif;--dhx-gantt-base-colors-primary: #0288D1;--dhx-gantt-task-background: var(--dhx-gantt-base-colors-primary);--dhx-gantt-base-colors-border: #cecece;--dhx-gantt-task-text-font-size: 14px;--dhx-gantt-task-text-font-weight: 500;--dhx-gantt-heading-font-size: 22px;--dhx-gantt-heading-font-weight: 300;--dhx-gantt-caption-font-size: 14px;--dhx-gantt-caption-font-weight: 400;--dhx-gantt-scale-color: #767676;--dhx-gantt-border-radius: 0;--dhx-gantt-box-shadow-s: 0 3px 5px 0 rgba(0, 0, 0, .1);--dhx-gantt-box-shadow-m: 0px 4px 24px 0px rgba(44, 47, 60, .36);--dhx-gantt-box-shadow-l: 0px 4px 24px 0px rgba(44, 47, 60, .56);--dhx-gantt-scale-background: #dfedff;--dhx-gantt-scale-color: #42464b;--dhx-gantt-task-color: #1e2022;--dhx-gantt-project-background: #eff6fb;--dhx-gantt-task-background: #eff6fb;--dhx-gantt-milestone-background: #DB7DC5;--dhx-gantt-task-border: 1px solid #3588c5;--dhx-gantt-task-progress-color: linear-gradient(0deg, #abcee8 0, #5aa0d3 36%, #bfdaee);--dhx-gantt-link-background: #4a8f43;--dhx-gantt-lightbox-title-background: #eff6fb}:root[data-gantt-theme=skyblue] .gantt_grid_scale,:root[data-gantt-theme=skyblue] .gantt_task_scale,:root[data-gantt-theme=skyblue] .gantt_task_vscroll{box-shadow:inset 0 1px 1px #fff;background-image:linear-gradient(to bottom,#e4f0ff,#dfedff,#d5e8ff)}:root[data-gantt-theme=broadway]{--dhx-gantt-theme: broadway;--dhx-gantt-font-family: Segoe UI,Arial,san-serif;--dhx-gantt-base-colors-primary: #0288D1;--dhx-gantt-base-colors-select: #fff3a1;--dhx-gantt-task-background: var(--dhx-gantt-base-colors-primary);--dhx-gantt-base-colors-border: #cecece;--dhx-gantt-halfhour-border: 1px solid #e8e8e8;--dhx-gantt-task-title-font-size: 12px;--dhx-gantt-task-text-font-size: 14px;--dhx-gantt-task-text-font-weight: 500;--dhx-gantt-heading-font-size: 22px;--dhx-gantt-heading-font-weight: 300;--dhx-gantt-caption-font-size: 14px;--dhx-gantt-caption-font-weight: 400;--dhx-gantt-scale-color: #767676;--dhx-gantt-border-radius: 0;--dhx-gantt-box-shadow-s: 0 3px 5px 0 rgba(0, 0, 0, .1);--dhx-gantt-box-shadow-m: 0px 4px 24px 0px rgba(44, 47, 60, .36);--dhx-gantt-box-shadow-l: 0px 4px 24px 0px rgba(44, 47, 60, .56);--dhx-gantt-grid-scale-background: #4f4f4f;--dhx-gantt-grid-scale-border-vertical: 1px solid #c1c1c1;--dhx-gantt-grid-scale-color: #e1e1e1;--dhx-gantt-timeline-scale-background: #dbdbdb;--dhx-gantt-timeline-scale-border-vertical: 1px solid #ebebeb;--dhx-gantt-timeline-scale-color: #494949;--dhx-gantt-grid-body-background: #dbdbdb;--dhx-gantt-lightbox-title-background: #4f4f4f;--dhx-gantt-lightbox-title-color: #e1e1e1;--dhx-gantt-task-color: #FFF;--dhx-gantt-link-background: #ffb96d;--dhx-gantt-project-background: #65c16f;--dhx-gantt-project-progress-color: #46ad51;--dhx-gantt-task-progress-color: #04a4f0;--dhx-gantt-task-background: #17b2fb;--dhx-gantt-milestone-background: #DB7DC5}:root[data-gantt-theme=broadway] .gantt_grid_data{--dhx-gantt-task-row-background: var(--dhx-gantt-grid-body-background);--dhx-gantt-task-row-background--odd: var(--dhx-gantt-grid-body-background)}:root[data-gantt-theme=material]{--dhx-gantt-theme: material;--dhx-gantt-font-family: Roboto, Inter, Helvetica, Arial, sans-serif;--dhx-gantt-base-colors-primary: #448aff;--dhx-gantt-task-background: var(--dhx-gantt-base-colors-primary);--dhx-gantt-project-background: #1de9b6;--dhx-gantt-milestone-background: #ffc107;--dhx-gantt-task-progress-color: rgba(0, 0, 0, .2);--dhx-gantt-project-color: rgba(0, 0, 0, .6);--dhx-gantt-base-colors-border: #e0e0e0;--dhx-gantt-task-title-font-size: calc(var(--dhx-gantt-font-size) - 2px);--dhx-gantt-task-text-font-size: var(--dhx-gantt-font-size);--dhx-gantt-task-text-font-weight: 500;--dhx-gantt-heading-font-size: 20px;--dhx-gantt-caption-font-size: var(--dhx-gantt-font-size);--dhx-gantt-caption-font-weight: 500;--dhx-gantt-btn-font-weight: 500;--dhx-gantt-heading-font-weight: 500;--dhx-gantt-hours-font-size: calc(var(--dhx-gantt-font-size) - 2px);--dhx-gantt-base-colors-text-base: rgba(0, 0, 0, .75);--dhx-gantt-base-transition: .15s ease;--dhx-gantt-header-border: 1px solid transparent;--dhx-gantt-scale-color: rgba(0, 0, 0, .54);--dhx-gantt-base-colors-select: rgba(0, 199, 181, .2);--dhx-gantt-base-colors-hover-color: var(--dhx-gantt-base-colors-select);--dhx-gantt-border-radius: 0;--dhx-gantt-task-border-radius: 18px;--dhx-gantt-btn-text-transform: uppercase;--dhx-gantt-btn-padding: 1px 20px 0;--dhx-gantt-link-handle-size: 16px;--dhx-gantt-progress-handle-background: #FFF;--dhx-gantt-progress-handle-border: var(--dhx-gantt-base-colors-border);--dhx-gantt-box-shadow-s: 0 3px 5px 0 rgba(0, 0, 0, .1);--dhx-gantt-box-shadow-m: 0px 4px 24px 0px rgba(44, 47, 60, .36);--dhx-gantt-box-shadow-l: 0px 4px 24px 0px rgba(44, 47, 60, .56);--dhx-gantt-lightbox-title-background: var(--dhx-gantt-container-background);--dhx-gantt-lightbox-title-color: var(--dhx-gantt-base-colors-text-base);--dhx-gantt-lightbox-title-font-size: calc(var(--dhx-gantt-font-size) + 2px);--dhx-gantt-lightbox-padding: 30px;--dhx-gantt-lightbox-width: 610px;--dhx-gantt-lightbox-wide-max-width: 640px;--dhx-gantt-btn-order: row;--dhx-gantt-btn-outline-border-color: transparent;--dhx-gantt-btn-outline-border-hover: transparent;--dhx-gantt-btn-outline-border-active: transparent;--dhx-gantt-btn-outline-border-color-disabled: transparent}:root[data-gantt-theme=material] .dhx_cal_ltitle{font-weight:400;text-transform:uppercase;padding:18px var(--dhx-gantt-lightbox-padding) 8px;border-bottom-color:transparent}:root[data-gantt-theme=material] .gantt_grid .gantt_grid_scale .gantt_grid_head_cell,:root[data-gantt-theme=material] .gantt_task .gantt_task_scale .gantt_scale_cell{font-weight:500;text-transform:uppercase}:root[data-gantt-theme=material] .dhx_cal_ltitle_controls{--dhx-gantt-base-colors-icons: var(--dhx-gantt-lightbox-title-color)}:root[data-gantt-theme=material] .gantt_cal_lsection{margin-top:12px;margin-bottom:4px}:root[data-gantt-theme=material] .gantt_cal_ltitle{padding:18px var(--dhx-gantt-lightbox-padding);border-bottom-color:transparent}:root[data-gantt-theme=material] .gantt_cal_lcontrols{padding-bottom:40px;padding-top:30px}:root[data-gantt-theme=material] .gantt_add,:root[data-gantt-theme=material] .gantt_grid_head_add{--dhx-gantt-base-colors-icons: #70d0c2;--dhx-gantt-base-colors-icons-active: color-mix(in hsl increasing hue, var(--dhx-gantt-base-colors-icons) 100%, #000000 12.6%);--dhx-gantt-base-colors-icons-hover: color-mix(in hsl increasing hue, var(--dhx-gantt-base-colors-icons) 100%, #000000 28.5%)}:root[data-gantt-theme=material] .gantt_grid_data .gantt_row,:root[data-gantt-theme=material] .gantt_grid_data .gantt_row.odd{transition:background var(--dhx-gantt-base-transition)}:root[data-gantt-theme=material] .gantt_grid_head_cell{transition:border-color ground var(--dhx-gantt-base-transition);border-right:1px solid transparent}:root[data-gantt-theme=material] .gantt_grid_scale:hover .gantt_grid_head_cell{border-right:var(--dhx-gantt-grid-scale-border-vertical)}:root[data-gantt-theme=material] .gantt_grid_column_resize_wrap .gantt_grid_column_resize{transition:background var(--dhx-gantt-base-transition);background-color:transparent}:root[data-gantt-theme=material] .gantt_grid_column_resize_wrap:hover .gantt_grid_column_resize{background-color:var(--dhx-gantt-base-colors-border)}:root[data-gantt-theme=material] div.gantt_grid_scale:after,:root[data-gantt-theme=material] div.gantt_scale_line:last-child:after{content:"";width:100%;display:block;height:1px;background-color:transparent;position:absolute;box-shadow:0 1px 2px #0003,0 2px 3px #0000001a;z-index:1}:root[data-gantt-theme=material] div.gantt_scale_line:last-child:after{bottom:-1px}:root[data-gantt-theme=material] .gantt_link_control{--dhx-gantt-link-handle-border: var(--dhx-gantt-task-background);--dhx-gantt-link-handle-background: #FFF;--dhx-gantt-link-handle-border-hover: var(--dhx-gantt-task-background);--dhx-gantt-link-handle-background-hover: #FFF}:root[data-gantt-theme=material] .gantt_task_line.gantt_milestone{margin-top:-1px;--dhx-gantt-task-border-radius: 2px}:root[data-gantt-theme=contrast-white]{--dhx-gantt-theme: contrast-white;--dhx-gantt-base-colors-disabled: #C2C2C2;--dhx-gantt-base-colors-text-light: #303030;--dhx-gantt-base-colors-text-base: #303030;--dhx-gantt-base-colors-background: #FFFFFF;--dhx-gantt-base-colors-background-alt: #929292;--dhx-gantt-base-colors-border: #4D595B;--dhx-gantt-base-colors-border-light: #4D595B;--dhx-gantt-base-colors-text-on-fill: #FFF;--dhx-gantt-base-colors-primary: #0A47CD;--dhx-gantt-base-colors-text-on-fill: rgba(255, 255, 255, .9);--dhx-gantt-task-background: #0A47CD;--dhx-gantt-task-border: 1px solid rgba(0, 0, 0, .1);--dhx-gantt-base-colors-warning: #FCBA2E;--dhx-gantt-base-colors-success: #77D257;--dhx-gantt-base-colors-error: #ee3d31;--dhx-gantt-base-colors-error-text: #141414;--dhx-gantt-btn-color: #FFFFFF;--dhx-gantt-btn-color-hover: #FFFFFF;--dhx-gantt-btn-color-active: #FFFFFF;--dhx-gantt-base-colors-select: #E7E5E5;--dhx-gantt-base-colors-hover-color: #E7E5E5;--dhx-gantt-base-colors-icons: #303030;--dhx-gantt-scale-color: var(--dhx-gantt-base-colors-text-light);--dhx-gantt-popup-background: #FFF;--dhx-gantt-popup-border: 1px solid #4D595B;--dhx-gantt-font-size: 16px;--dhx-gantt-heading-font-size: 24px;--dhx-gantt-important-font-size: 16px;--dhx-gantt-regular-font-size: 16px;--dhx-gantt-caption-font-size: 16px;--dhx-gantt-btn-outline-color-hover: #212121;--dhx-gantt-btn-outline-color-active: #FFFFFF}:root[data-gantt-theme=contrast-black]{--dhx-gantt-theme: contrast-black;--dhx-gantt-base-colors-disabled: #3d3d3d;--dhx-gantt-base-colors-text-light: #cfcfcf;--dhx-gantt-base-colors-text-base: #FFFFFF;--dhx-gantt-base-colors-background: #141414;--dhx-gantt-base-colors-background-alt: #4f4f4f;--dhx-gantt-base-colors-border: rgba(255, 255, 255, .8);--dhx-gantt-base-colors-border-light: rgba(255, 255, 255, .8);--dhx-gantt-base-colors-text-on-fill: #141414;--dhx-gantt-base-colors-primary: #A395FF;--dhx-gantt-task-background: var(--dhx-gantt-base-colors-primary);--dhx-gantt-project-background: #77D257;--dhx-gantt-milestone-background: #FCBA2E;--dhx-gantt-task-background: #A395FF;--dhx-gantt-task-border: 1px solid rgba(0, 0, 0, .1);--dhx-gantt-base-colors-warning: #694E02;--dhx-gantt-base-colors-success: #115700;--dhx-gantt-base-colors-error: #FFA7A0;--dhx-gantt-base-colors-error-text: #141414;--dhx-gantt-base-colors-select: #2A2A2A;--dhx-gantt-base-colors-hover-color: #2A2A2A;--dhx-gantt-base-colors-icons: #AAAAAA;--dhx-gantt-scale-color: var(--dhx-gantt-base-colors-text-light);--dhx-gantt-popup-background: #1B1B1C;--dhx-gantt-undo-delete-background: var(--dhx-gantt-popup-background);--dhx-gantt-undo-delete-color: var(--dhx-gantt-base-colors-text-base);--dhx-gantt-popup-border: 1px solid #4B4B4B;--dhx-gantt-font-size: 16px;--dhx-gantt-heading-font-size: 24px;--dhx-gantt-important-font-size: 16px;--dhx-gantt-regular-font-size: 16px;--dhx-gantt-caption-font-size: 16px;--dhx-gantt-btn-outline-color-hover: var(--dhx-gantt-base-colors-text-light);--dhx-gantt-btn-outline-color-active: var(--dhx-gantt-base-colors-text-light)}.dhx_gantt_button--mixin{background:var(--dhx-gantt-btn-background);color:var(--dhx-gantt-btn-color);border:1px solid var(--dhx-gantt-btn-border-color);border-radius:var(--dhx-gantt-border-radius);height:var(--dhx-gantt-control-height);padding:var(--dhx-gantt-btn-padding, 0 20px);display:flex;justify-content:center;align-items:center;box-sizing:border-box;gap:4px;flex-shrink:0;font-weight:500;font-size:var(--dhx-gantt-font-size);font-family:var(--dhx-gantt-font-family);font-weight:var(--dhx-gantt-btn-font-weight, normal);line-height:142%;text-transform:var(--dhx-gantt-btn-text-transform);cursor:pointer;--dhx-gantt-icon-size: 18px}.dhx_gantt_button--mixin:hover{background:var(--dhx-gantt-btn-background-hover);color:var(--dhx-gantt-btn-color-hover);border-color:var(--dhx-gantt-btn-border-hover)}.dhx_gantt_button--mixin:active{background:var(--dhx-gantt-btn-background-active);color:var(--dhx-gantt-btn-color-active);border-color:var(--dhx-gantt-btn-border-active)}.dhx_gantt_button--mixin:disabled{background:var(--dhx-gantt-btn-background-disabled);color:var(--dhx-gantt-btn-color-disabled);border-color:var(--dhx-gantt-btn-border-disabled)}.dhx_gantt_button_outline--mixin{--dhx-gantt-icon-size: 18px;--dhx-gantt-base-colors-icons: var(--dhx-gantt-btn-color);--dhx-gantt-btn-background: var(--dhx-gantt-btn-outline-background);--dhx-gantt-btn-color: var(--dhx-gantt-btn-outline-color);--dhx-gantt-btn-border-color: var(--dhx-gantt-btn-outline-border-color);--dhx-gantt-btn-background-hover: var(--dhx-gantt-btn-outline-background-hover);--dhx-gantt-btn-color-hover: var(--dhx-gantt-btn-outline-color-hover);--dhx-gantt-btn-border-hover: var(--dhx-gantt-btn-outline-border-hover);--dhx-gantt-btn-background-active: var(--dhx-gantt-btn-outline-background-active);--dhx-gantt-btn-color-active: var(--dhx-gantt-btn-outline-color-active);--dhx-gantt-btn-border-active: var(--dhx-gantt-btn-outline-border-active);--dhx-gantt-btn-background-disabled: var(--dhx-gantt-btn-outline-background-disabled);--dhx-gantt-btn-color-disabled: var(--dhx-gantt-btn-outline-color-disabled);--dhx-gantt-btn-border-color-disabled: var(--dhx-gantt-btn-outline-border-color-disabled)}.dhx_gantt_button_danger--mixin{--dhx-gantt-icon-size: 18px;--dhx-gantt-btn-background: var(--dhx-gantt-base-colors-error);--dhx-gantt-btn-color: var(--dhx-gantt-base-colors-error-text);--dhx-gantt-btn-border-color: var(--dhx-gantt-base-colors-error);--dhx-gantt-btn-background-hover: var(--dhx-gantt-base-colors-error-hover);--dhx-gantt-btn-border-hover: var(--dhx-gantt-base-colors-error-hover);--dhx-gantt-btn-background-active: var(--dhx-gantt-base-colors-error-active);--dhx-gantt-btn-border-active: var(--dhx-gantt-base-colors-error-active)}.dhx_gantt_button_danger_outline--mixin{--dhx-gantt-icon-size: 18px;--dhx-gantt-base-colors-icons: var(--dhx-gantt-btn-color);--dhx-gantt-btn-background: transparent;--dhx-gantt-btn-color: var(--dhx-gantt-base-colors-error);--dhx-gantt-btn-border-color: var(--dhx-gantt-base-colors-error);--dhx-gantt-btn-background-hover: var(--dhx-gantt-base-colors-error-lighter);--dhx-gantt-btn-color-hover: var(--dhx-gantt-base-colors-error-hover);--dhx-gantt-btn-border-hover: var(--dhx-gantt-base-colors-error-hover);--dhx-gantt-btn-background-active: var(--dhx-gantt-base-colors-error-active);--dhx-gantt-btn-color-active: var(--dhx-gantt-base-colors-error-active);--dhx-gantt-btn-border-active: var(--dhx-gantt-base-colors-error-active);--dhx-gantt-btn-background-disabled: transparent;--dhx-gantt-btn-color-disabled: var(--dhx-gantt-base-colors-icons);--dhx-gantt-btn-border-color-disabled: var(--dhx-gantt-base-colors-icons)}.dhx_gantt_button_danger_link--mixin{--dhx-gantt-icon-size: 18px;padding:6px 0;--dhx-gantt-base-colors-icons: var(--dhx-gantt-base-colors-error);--dhx-gantt-btn-background: transparent;--dhx-gantt-btn-color: var(--dhx-gantt-base-colors-error);--dhx-gantt-btn-border-color: transparent;--dhx-gantt-btn-background-hover: transparent;--dhx-gantt-btn-color-hover: var(--dhx-gantt-base-colors-error-hover);--dhx-gantt-btn-border-hover: transparent;--dhx-gantt-btn-background-active: transparent;--dhx-gantt-btn-color-active: var(--dhx-gantt-base-colors-error-active);--dhx-gantt-btn-border-active: transparent;--dhx-gantt-btn-background-disabled: transparent;--dhx-gantt-btn-color-disabled: var(--dhx-gantt-base-colors-icons);--dhx-gantt-btn-border-color-disabled: transparent}.dhx_gantt_button_link--mixin{padding:6px 0;--dhx-gantt-icon-size: 18px;--dhx-gantt-btn-background: transparent;--dhx-gantt-btn-color: var(--dhx-gantt-base-colors-primary);--dhx-gantt-btn-border-color: transparent;--dhx-gantt-btn-background-hover: transparent;--dhx-gantt-btn-color-hover: var(--dhx-gantt-base-colors-primary-hover);--dhx-gantt-btn-border-hover: transparent;--dhx-gantt-btn-background-active: transparent;--dhx-gantt-btn-color-active: var(--dhx-gantt-base-colors-primary-active);--dhx-gantt-btn-border-active: transparent;--dhx-gantt-btn-background-disabled: transparent;--dhx-gantt-btn-color-disabled: var(--dhx-gantt-base-colors-icons);--dhx-gantt-btn-border-color-disabled: transparent}.dhx_gantt_button_icon--mixin{min-width:32px;height:32px;border-radius:50%;padding:6px 0;--dhx-gantt-icon-size: 18px;--dhx-gantt-btn-background: transparent;--dhx-gantt-btn-color: var(--dhx-gantt-base-colors-primary);--dhx-gantt-btn-border-color: transparent;--dhx-gantt-btn-background-hover: transparent;--dhx-gantt-btn-color-hover: var(--dhx-gantt-base-colors-primary-hover);--dhx-gantt-btn-border-hover: transparent;--dhx-gantt-btn-background-active: transparent;--dhx-gantt-btn-color-active: var(--dhx-gantt-base-colors-primary-active);--dhx-gantt-btn-border-active: transparent;--dhx-gantt-btn-background-disabled: transparent;--dhx-gantt-btn-color-disabled: var(--dhx-gantt-base-colors-icons);--dhx-gantt-btn-border-color-disabled: transparent}.dhx_gantt_button_icon--mixin:hover{--dhx-gantt-base-colors-icons: var(--dhx-gantt-base-colors-icons-hover)}.dhx_gantt_button_icon--mixin:active{--dhx-gantt-base-colors-icons: var(--dhx-gantt-base-colors-icons-active)}.dhx_gantt_button_icon--mixin:disabled{--dhx-gantt-base-colors-icons: var(--dhx-gantt-btn-color-disabled)}.dhx_gantt_btn,.dhx_gantt_btn_danger,.dhx_gantt_btn_outline,.dhx_gantt_btn_danger_outline,.dhx_gantt_btn_danger_link,.gantt_qi_big_icon,.gantt_btn_set{background:var(--dhx-gantt-btn-background);color:var(--dhx-gantt-btn-color);border:1px solid var(--dhx-gantt-btn-border-color);border-radius:var(--dhx-gantt-border-radius);height:var(--dhx-gantt-control-height);padding:var(--dhx-gantt-btn-padding, 0 20px);display:flex;justify-content:center;align-items:center;box-sizing:border-box;gap:4px;flex-shrink:0;font-weight:500;font-size:var(--dhx-gantt-font-size);font-family:var(--dhx-gantt-font-family);font-weight:var(--dhx-gantt-btn-font-weight, normal);line-height:142%;text-transform:var(--dhx-gantt-btn-text-transform);cursor:pointer;--dhx-gantt-icon-size: 18px}.dhx_gantt_btn:hover,.dhx_gantt_btn_danger:hover,.dhx_gantt_btn_outline:hover,.dhx_gantt_btn_danger_outline:hover,.dhx_gantt_btn_danger_link:hover,.gantt_qi_big_icon:hover,.gantt_btn_set:hover{background:var(--dhx-gantt-btn-background-hover);color:var(--dhx-gantt-btn-color-hover);border-color:var(--dhx-gantt-btn-border-hover)}.dhx_gantt_btn:active,.dhx_gantt_btn_danger:active,.dhx_gantt_btn_outline:active,.dhx_gantt_btn_danger_outline:active,.dhx_gantt_btn_danger_link:active,.gantt_qi_big_icon:active,.gantt_btn_set:active{background:var(--dhx-gantt-btn-background-active);color:var(--dhx-gantt-btn-color-active);border-color:var(--dhx-gantt-btn-border-active)}.dhx_gantt_btn:disabled,.dhx_gantt_btn_danger:disabled,.dhx_gantt_btn_outline:disabled,.dhx_gantt_btn_danger_outline:disabled,.dhx_gantt_btn_danger_link:disabled,.gantt_qi_big_icon:disabled,.gantt_btn_set:disabled{background:var(--dhx-gantt-btn-background-disabled);color:var(--dhx-gantt-btn-color-disabled);border-color:var(--dhx-gantt-btn-border-disabled)}.gantt_popup_button{background:var(--dhx-gantt-btn-background);color:var(--dhx-gantt-btn-color);border:1px solid var(--dhx-gantt-btn-border-color);border-radius:var(--dhx-gantt-border-radius);height:var(--dhx-gantt-control-height);padding:var(--dhx-gantt-btn-padding, 0 20px);display:flex;justify-content:center;align-items:center;box-sizing:border-box;gap:4px;flex-shrink:0;font-weight:500;font-size:var(--dhx-gantt-font-size);font-family:var(--dhx-gantt-font-family);font-weight:var(--dhx-gantt-btn-font-weight, normal);line-height:142%;text-transform:var(--dhx-gantt-btn-text-transform);cursor:pointer;--dhx-gantt-icon-size: 18px}.gantt_popup_button:hover{background:var(--dhx-gantt-btn-background-hover);color:var(--dhx-gantt-btn-color-hover);border-color:var(--dhx-gantt-btn-border-hover)}.gantt_popup_button:active{background:var(--dhx-gantt-btn-background-active);color:var(--dhx-gantt-btn-color-active);border-color:var(--dhx-gantt-btn-border-active)}.gantt_popup_button:disabled{background:var(--dhx-gantt-btn-background-disabled);color:var(--dhx-gantt-btn-color-disabled);border-color:var(--dhx-gantt-btn-border-disabled)}.gantt_popup_button:not(.gantt_ok_button){--dhx-gantt-icon-size: 18px;--dhx-gantt-base-colors-icons: var(--dhx-gantt-btn-color);--dhx-gantt-btn-background: var(--dhx-gantt-btn-outline-background);--dhx-gantt-btn-color: var(--dhx-gantt-btn-outline-color);--dhx-gantt-btn-border-color: var(--dhx-gantt-btn-outline-border-color);--dhx-gantt-btn-background-hover: var(--dhx-gantt-btn-outline-background-hover);--dhx-gantt-btn-color-hover: var(--dhx-gantt-btn-outline-color-hover);--dhx-gantt-btn-border-hover: var(--dhx-gantt-btn-outline-border-hover);--dhx-gantt-btn-background-active: var(--dhx-gantt-btn-outline-background-active);--dhx-gantt-btn-color-active: var(--dhx-gantt-btn-outline-color-active);--dhx-gantt-btn-border-active: var(--dhx-gantt-btn-outline-border-active);--dhx-gantt-btn-background-disabled: var(--dhx-gantt-btn-outline-background-disabled);--dhx-gantt-btn-color-disabled: var(--dhx-gantt-btn-outline-color-disabled);--dhx-gantt-btn-border-color-disabled: var(--dhx-gantt-btn-outline-border-color-disabled)}.gantt_ok_button{--dhx-gantt-icon-size: 18px;--dhx-gantt-btn-background: var(--dhx-gantt-base-colors-error);--dhx-gantt-btn-color: var(--dhx-gantt-base-colors-error-text);--dhx-gantt-btn-border-color: var(--dhx-gantt-base-colors-error);--dhx-gantt-btn-background-hover: var(--dhx-gantt-base-colors-error-hover);--dhx-gantt-btn-border-hover: var(--dhx-gantt-base-colors-error-hover);--dhx-gantt-btn-background-active: var(--dhx-gantt-base-colors-error-active);--dhx-gantt-btn-border-active: var(--dhx-gantt-base-colors-error-active)}.dhx_gantt_btn_outline,.dhx_gantt_btn_danger_outline{--dhx-gantt-icon-size: 18px;--dhx-gantt-base-colors-icons: var(--dhx-gantt-btn-color);--dhx-gantt-btn-background: var(--dhx-gantt-btn-outline-background);--dhx-gantt-btn-color: var(--dhx-gantt-btn-outline-color);--dhx-gantt-btn-border-color: var(--dhx-gantt-btn-outline-border-color);--dhx-gantt-btn-background-hover: var(--dhx-gantt-btn-outline-background-hover);--dhx-gantt-btn-color-hover: var(--dhx-gantt-btn-outline-color-hover);--dhx-gantt-btn-border-hover: var(--dhx-gantt-btn-outline-border-hover);--dhx-gantt-btn-background-active: var(--dhx-gantt-btn-outline-background-active);--dhx-gantt-btn-color-active: var(--dhx-gantt-btn-outline-color-active);--dhx-gantt-btn-border-active: var(--dhx-gantt-btn-outline-border-active);--dhx-gantt-btn-background-disabled: var(--dhx-gantt-btn-outline-background-disabled);--dhx-gantt-btn-color-disabled: var(--dhx-gantt-btn-outline-color-disabled);--dhx-gantt-btn-border-color-disabled: var(--dhx-gantt-btn-outline-border-color-disabled)}.dhx_gantt_button_danger,.dhx_gantt_button_danger_outline{--dhx-gantt-icon-size: 18px;--dhx-gantt-btn-background: var(--dhx-gantt-base-colors-error);--dhx-gantt-btn-color: var(--dhx-gantt-base-colors-error-text);--dhx-gantt-btn-border-color: var(--dhx-gantt-base-colors-error);--dhx-gantt-btn-background-hover: var(--dhx-gantt-base-colors-error-hover);--dhx-gantt-btn-border-hover: var(--dhx-gantt-base-colors-error-hover);--dhx-gantt-btn-background-active: var(--dhx-gantt-base-colors-error-active);--dhx-gantt-btn-border-active: var(--dhx-gantt-base-colors-error-active)}.dhx_gantt_button_link,.gantt_qi_big_icon{padding:6px 0;--dhx-gantt-icon-size: 18px;--dhx-gantt-btn-background: transparent;--dhx-gantt-btn-color: var(--dhx-gantt-base-colors-primary);--dhx-gantt-btn-border-color: transparent;--dhx-gantt-btn-background-hover: transparent;--dhx-gantt-btn-color-hover: var(--dhx-gantt-base-colors-primary-hover);--dhx-gantt-btn-border-hover: transparent;--dhx-gantt-btn-background-active: transparent;--dhx-gantt-btn-color-active: var(--dhx-gantt-base-colors-primary-active);--dhx-gantt-btn-border-active: transparent;--dhx-gantt-btn-background-disabled: transparent;--dhx-gantt-btn-color-disabled: var(--dhx-gantt-base-colors-icons);--dhx-gantt-btn-border-color-disabled: transparent}@font-face{font-family:dhx-gantt-icons;src:url(data:font/woff;base64,d09GRgABAAAAAAc4AAsAAAAADHgAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAADsAAABUIIslek9TLzIAAAFEAAAAQQAAAGA9+EtyY21hcAAAAYgAAACQAAACQhPM9m5nbHlmAAACGAAAAm8AAANwLSc+hmhlYWQAAASIAAAALgAAADZYjaBKaGhlYQAABLgAAAAbAAAAJAJRAT1obXR4AAAE1AAAABcAAABEEgYAAGxvY2EAAATsAAAAJAAAACQGPgcwbWF4cAAABRAAAAAfAAAAIAEfADxuYW1lAAAFMAAAAT4AAAJqJkdDzHBvc3QAAAZwAAAAxgAAAgGDb/LgeJxjYGRgYOBiMGCwY2BycfMJYeDLSSzJY5BiYGGAAJA8MpsxJzM9kYEDxgPKsYBpDiBmg4gCACY7BUgAeJxjYGHkZ5zAwMrAwPCc4RKQ1ILSExj4GHwZGJgYWJkZsIKANNcUhgMfGT8KMOoAudKM7gzcQJoRRRETADUhCewAAAB4nO2R2Q0DIQwFh132vigkRaSgfKXStEIFGz9eyoil8QjLIGQDA9AHjyBDepNQvKKaWr1nbfXMs/Vk1Wu578hJOc655S56c7w4MjGzxL2NnYOTixINI//YW/78TkUzNG2qnUHujbZTs9Gc62C0uToa5MkgzwZ5Mcir0UbrZpB3o9/VwyCfBvkyyMVQvigJKT14nG2SPWzTQBSA37k4rm3ZFzt2jKlbgS/KVWpJJTuuaVDjCpoIFCSKFIkNCTUSC3MlhLJ0QpWgnbIwdkRVmFiAsStTYWRhpIroAEUFFZ7dRLTA3ene6b3v/dy9AwLpOMI5DhCHduxIPHY23GVzddVsHPUamQQYcd8zjkUpJfFtN7MvB39x+/AFVOS4xCVHcmIn5p/NZsNsNs1G02x+HB1wIS0A/PoGPwmFHCjoFYVRmsAx+KP19RtUUZLaZO3mE+X4QIExZL8SgcxmrH6GDg1mPNzcvKOq6sF+c+ni0kpPPd5TyezxXpbjkBSx/mEOhn5YmM3frq1d12R5IZqIrj2WD2U4yYH1nMoxpA3OjNDobW2t/C/HWHb3AZFABg1s9LOKcRjMLxLmhDaLOZOYHUYtqnQU2nM7nXtaXZvpJyolutpzu681zXUBhnFeZj0x4ALGCYpWzi9X5/899BRKLYpvdFp00s2irTNiGJcwwuAcULAwriOxKPYpceL56hwpU2KH8Sv6TN/NiV5tUhRLYrJzdWeXPtX3xcmaJ2qoCVAz6vN76Kcvi/29m9T7STLSv0EL6hPCu0mCppF+ANtpFfh/wkG/v+H+0Q+y/8Jslj11aIeDltvCtZFurRH3iZzP+jFFcpTkKmSRVOvE+SDlctLzcVPTzPEXYj4vPhAFXXmn6IKIN03HD+xlHjjMwBx6+xWhWheCKcHShYSUuVQhzNcFa0oIgzqJqmUJvxTWEnYLpQlKJ0rlE3G7oMhWfrroVlihwCquX7ukdz3vSrtdQitnHqUe48j2LVW2NB2Z4HKp4C/4xelb7fseFvIbSFeZnQB4nGNgZGBgAOLHyUwC8fw2Xxm4GXWAIgw1qhsaEPT/r4zKYHEOBiaQKAABDwkjAAB4nGNgZGBg1GFggJD//zMqMzAyoAJBADfFApAAeJxjYGBgYNRBw4xoNA7M8AuCAVayBBUAAAAAAAAUACgAQgBYAHQAigCmAMoA9gEcASgBNAFAAVQBcAG4eJxjYGRgYBBkMGBgYQABJiDmAkIGhv9gPgMADyEBXAB4nIWRPU7DQBSEx/lDJBIgIVFG24CQkJ0fUaWhSzqKFOkdZ+04snctexMlDSfgJJyAE3AETsIBGC9buSD7JO/3Zt7sKwzgBl/wUB8P1/ZbnxYu2P1xm3TnuEO+d9zFAM+Oe9RfHPfxhFfHA9zixBe8ziWVId4dt3CFD8dt6p+OO+Rvx11u/XHcw9DrO+5j5T06HuDBe9tsj34SKmP8NNKqWspkn4VlQ220K1lWqVZiEowbzkIqWYZGbsT6JKpDMjUmFnGpczHXysgs06Io9U5GJtgaU8xGo9jpQaRzbLDFET4ShFAwLB8pImh2FZaQdPbI6JZnZv93V3yp5J3aXmCCAOMzmQUzyuZCOpLTAmv+H0HvwMzUJmL2MWc0ctLcZuvpjKWpFNbbUYmoB9xYpwrMMGLFjfnAbs9/AdxXcxgAAHichZDbTsMwEEQ9baEXrr2pIPUJAb9lRfG2teR4I3tN+HyqFF5WAfbxzOisNGZkLjc2w7fECGNMcIVrTDHDHAvc4BZ3uMcDHrHEyjy706c9VlHE+pqjrVLizjru4m4wKe1G8TpwpjcNOWZJlY9iAx3kLBQh9/pPK3Pw7v33UvLH04/rj4+XWi/bqpajQEJ7TVmy/aAkvq7CWoUHTs2TYg3F0o+k5+uD/r+eqfGxZO1uQ8kviiUu0ZH73nvQJb6hZMwXQc6zQAAA) format("woff"),url(data:font/woff2;base64,d09GMgABAAAAAAVgAAsAAAAADHgAAAUSAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHFQGYACEQgqGcIV9ATYCJANECyQABCAFhGoHhAEbGwsjEXaDUZpA9o+E7LTkMj3uJ6P42UJ6Z4Ln+XfLzk2CvYeOpONCV4Ua1JQhX1URmFVluib+pVo1AmBTZxn2J/LjFhx7e7s/rSHL0LOlnKzQ/7+fq5uXLMxKJUVK+qL33Y+qJLHEIRInHVGNYiGPUMhUL60DAmPTWQn6KmyefREEUFxCDCPes3+S4LTR82ZQgoUYLzCvLNMmTxyN1wvDqqgseBHcTTeVkOzCBfzJl0DL+M13BRkABi4TcajBExLjeP2wHA5LFCiVXmh9zYgzQG++CUQPLELmVMdNw5zmRTFRqjiLrubcFgKHw7kch2XIHvZsIBiYWLi8f/M8ePGh0PgJECREGMSNIH70n+eH4bAUwBgNANAEAC0A0AUAugFADwDoBQB9AKACADUA6AcAAwBgEAAMAYBhNMRBZLhBDVAJ/A9yMUJZZhGRcQZmwWEUB8vn83ssYg2SleX1iRO7tMs0LX8o0smyHI3TnEy1tjlKki1OW1PKaVlMbmpLNvuq1hjRopqcKjTsMEebynCoqqXNKcTmczJsZWrDWZXupLe2i6hmjXJsVaDQ4mxNr9q3JbO6fXKawqQSZ0tB05DW9tV2LDM4iXacIcOcYUMdrVQRhtIu6013lU7vK0jueyAjsrr9wUInzy3PZu9YfWfHc1ufefj2Vbc99LTTmrGbMs+qLc+/vH/VI6+8oLd+9pasviO537M6Cr35dHGmRzwyRhSLxOPcc+miPk5ZNfnn+0giEU9ECmpAQ0//coJFsevWlK+5rlfv4MabQzczNdF1Z9XOroMHqXQ2mj0c/S/Ky9dcuaB0wZXdu/mXbDq5KZ3ouqtqV9dBlefsG9MHdo1T/+tMZtO45eOGv/hx7OPW4seKSY9VBwrkIL6+5s555u0D27cFg2//646/fPNH8UD88vjP+/dff32xKqlHD/zAstSB//l/82PFjw0T+/Urzl8H32THjRw57pYJ8yKfqE/VJ5F5LKvNj2V/bfylI9YQ6/il8ddsbOCjtbdsuvzccrv4y5rOl0Vrvyyu2e2tsb9b1q8sWXb1qCR5rMitEvIZyY21p2b7D5pDkDvBOQkZpuNiSDThpNhVcQfEAz7eJVhqJUvcNzxmyS9PKwIc4F4oygL8KkUknJXoW/t9+GqsER4ZuuG4V0sUYFn946ugd6upTcOL4cYLNGGGU+VyUvtO5p8mpqJl0ZuM2wN7KgxEtCiXfHGWNACFAnKIhDDv7jZBCDWuCAYeQnPZnCo2aktfb3WhucLqJkQXq6KVgZtr8lmMiVg+hAq2GVaDIFmrSQXPqy39t1YXNsesbipEWRUpafpImgu/ZIV2W257FMn9SJi+wc6hZ0Vrma/+gZMnVHVRKZ/iBAjcC2g17CotthExyjBFdSQUCIHUxHSGUQonMh3K0ri3VIwUM+22HNujSI4fCdM34J059NysAxV1/4GTT7yjqCmomqtPBLs49wI6ZtiHMWkxSePGGFXUZYqKYzemoRykTDGZ1POdYZQC1yFnOlBavZmmpNixEh/5ocCfyj6IiCGmWOISt3jEK77P6Gp+CUhQQhKWiORxd520raat1vbMtLa6GBxvlBPN06Xr4hgowac/M2ES7j1KG8AY3tEkAvqjgQcTBa+/7Ez21ukZ0GfCRv5duaohgMCjwnckqV2AxY99uCiZzhDH2zgtAs5nqM+7jeyue72MVL7XpDegKczprSLTjBr0pW5bT2nxETjLAAA=) format("woff2")}.dhx_gantt_icon:before{font-family:dhx-gantt-icons!important;font-style:normal;font-weight:400!important;font-variant:normal;text-transform:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:flex;justify-content:center;align-items:center;color:var(--dhx-gantt-base-colors-icons);font-size:var(--dhx-gantt-icon-size, 1.5em)}.dhx_gantt_icon.dhx_gantt_icon_arrow_down:before{content:"\\f101"}.dhx_gantt_icon.dhx_gantt_icon_arrow_up:before{content:"\\f102"}.dhx_gantt_icon.dhx_gantt_icon_close:before{content:"\\f103"}.dhx_gantt_icon.dhx_gantt_icon_constraint_left_dotted:before{content:"\\f104"}.dhx_gantt_icon.dhx_gantt_icon_constraint_left_solid:before{content:"\\f105"}.dhx_gantt_icon.dhx_gantt_icon_constraint_right_dotted:before{content:"\\f106"}.dhx_gantt_icon.dhx_gantt_icon_constraint_right_solid:before{content:"\\f107"}.dhx_gantt_icon.dhx_gantt_icon_delete:before{content:"\\f108"}.dhx_gantt_icon.dhx_gantt_icon_dots_vertical:before{content:"\\f109"}.dhx_gantt_icon.dhx_gantt_icon_edit:before{content:"\\f10a"}.dhx_gantt_icon.dhx_gantt_icon_menu_down:before{content:"\\f10b"}.dhx_gantt_icon.dhx_gantt_icon_menu_right:before{content:"\\f10c"}.dhx_gantt_icon.dhx_gantt_icon_minus:before{content:"\\f10d"}.dhx_gantt_icon.dhx_gantt_icon_plus:before{content:"\\f10e"}.dhx_gantt_icon.dhx_gantt_icon_rounded_arrow_right:before{content:"\\f10f"}.dhx_gantt_icon.dhx_gantt_icon_timer:before{content:"\\f110";max-width:100%;max-height:100%;font-size:1em}.gantt_container{background:var(--dhx-gantt-container-background);color:var(--dhx-gantt-container-color);font-family:var(--dhx-gantt-font-family);font-size:var(--dhx-gantt-font-size);border:1px solid var(--dhx-gantt-base-colors-border);position:relative;white-space:nowrap;overflow-x:hidden;overflow-y:hidden}.gantt_touch_active{overscroll-behavior:none}.gantt_task_scroll{overflow-x:scroll}.gantt_task,.gantt_grid{position:relative;overflow-x:hidden;overflow-y:hidden;display:inline-block;vertical-align:top}.gantt_grid_scale,.gantt_task_scale{font-family:var(--dhx-gantt-font-family);font-size:var(--dhx-gantt-font-size);border-bottom:var(--dhx-gantt-scale-border-horizontal);box-sizing:border-box}.gantt_grid_scale{background:var(--dhx-gantt-grid-scale-background);color:var(--dhx-gantt-grid-scale-color)}.gantt_task_scale{background:var(--dhx-gantt-timeline-scale-background);color:var(--dhx-gantt-timeline-scale-color)}.gantt_task_vscroll{background:var(--dhx-gantt-container-background)}.gantt_scale_line{box-sizing:border-box;border-top:var(--dhx-gantt-scale-border-horizontal)}.gantt_scale_line:first-child{border-top:none}.gantt_grid_head_cell{display:inline-block;vertical-align:top;border-right:var(--dhx-gantt-grid-scale-border-vertical);text-align:center;position:relative;cursor:default;height:100%;box-sizing:border-box;overflow:hidden}.gantt_scale_line{clear:both}.gantt_grid_data{width:100%;overflow:hidden;position:relative;background:var(--dhx-gantt-grid-body-background)}.gantt_row{position:relative;-webkit-user-select:none;user-select:none}.gantt_add,.gantt_grid_head_add{width:100%;height:100%;cursor:pointer;position:relative;opacity:.6}.gantt_add:before,.gantt_grid_head_add:before{font-family:dhx-gantt-icons!important;font-style:normal;font-weight:400!important;font-variant:normal;text-transform:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:flex;justify-content:center;align-items:center;color:var(--dhx-gantt-base-colors-icons);font-size:var(--dhx-gantt-icon-size, 1.5em)}.gantt_add:before,.gantt_grid_head_add:before{content:"\\f10e"}.gantt_grid_head_cell.gantt_grid_head_add{opacity:.6;top:0}.gantt_grid_head_cell.gantt_grid_head_add:hover{opacity:1}.gantt_grid_data .gantt_row:hover,.gantt_grid_data .gantt_row.odd:hover{background-color:var(--dhx-gantt-base-colors-hover-color)}.gantt_grid_data .gantt_row:hover .gantt_add{opacity:1}.gantt_task_row,.gantt_row{border-bottom:var(--dhx-gantt-task-row-border);background:var(--dhx-gantt-task-row-background)}.gantt_row.odd,.gantt_task_row.odd{background:var(--dhx-gantt-task-row-background--odd)}.gantt_row,.gantt_cell,.gantt_task_row,.gantt_task_cell,.gantt_grid_head_cell,.gantt_scale_cell{box-sizing:border-box}.gantt_grid_head_cell,.gantt_scale_cell{line-height:inherit}.gantt_grid_scale .gantt_grid_column_resize_wrap{cursor:col-resize;position:absolute;width:13px;margin-left:-7px}.gantt_grid_column_resize_wrap .gantt_grid_column_resize{background-color:var(--dhx-gantt-base-colors-border);height:100%;width:1px;margin:0 auto}.gantt_task_grid_row_resize_wrap{cursor:row-resize;position:absolute;height:13px;margin-top:-7px;left:0;width:100%}.gantt_task_grid_row_resize_wrap .gantt_task_grid_row_resize{background-color:var(--dhx-gantt-base-colors-border-light);top:6px;height:1px;width:100%;margin:0 auto;position:relative}.gantt_drag_marker{pointer-events:none}.gantt_drag_marker.gantt_grid_resize_area,.gantt_drag_marker.gantt_row_grid_resize_area{background-color:#e7e7e780;height:100%;width:100%}.gantt_drag_marker.gantt_grid_resize_area{border-left:var(--dhx-gantt-scale-border-vertical);border-right:var(--dhx-gantt-scale-border-vertical)}.gantt_drag_marker.gantt_row_grid_resize_area{border-top:var(--dhx-gantt-scale-border-horizontal);border-bottom:var(--dhx-gantt-scale-border-horizontal)}.gantt_row{display:flex}.gantt_row>div{flex-shrink:0;flex-grow:0}.gantt_cell{vertical-align:top;border-right:var(--dhx-gantt-grid-cell-border);padding-left:6px;padding-right:6px;height:100%;overflow:hidden;white-space:nowrap}.gantt_cell_tree{display:flex;gap:4px;flex-wrap:nowrap}.gantt_grid_scale .gantt_last_cell,.gantt_grid_data .gantt_last_cell,.gantt_task .gantt_task_scale .gantt_scale_cell.gantt_last_cell,.gantt_task_bg .gantt_last_cell{border-right-width:0px}.gantt_task .gantt_task_scale .gantt_scale_cell.gantt_last_cell{border-right-width:1px}.gantt_task_bg{overflow:hidden}.gantt_scale_cell{position:relative;display:inline-block;white-space:nowrap;overflow:hidden;border-right:var(--dhx-gantt-grid-scale-border-vertical);text-align:center;height:100%}.gantt_task_cell{display:inline-block;height:100%;border-right:var(--dhx-gantt-timeline-scale-border-vertical)}.gantt_layout_cell.gantt_ver_scroll{width:0px;background-color:transparent;height:1px;overflow-x:hidden;overflow-y:scroll;position:absolute;right:0;z-index:1}.gantt_ver_scroll>div{width:1px;height:1px}.gantt_hor_scroll{height:0px;background-color:transparent;width:100%;clear:both;overflow-x:scroll;overflow-y:hidden}.gantt_layout_cell .gantt_hor_scroll{position:absolute}.gantt_hor_scroll>div{width:5000px;height:1px}.gantt_tree_indent,.gantt_tree_icon{flex-grow:0;flex-shrink:0}.gantt_tree_indent{width:15px;height:100%}.gantt_tree_content,.gantt_tree_icon{vertical-align:top}.gantt_tree_icon{width:28px;height:100%;background-repeat:no-repeat;background-position:center center}.gantt_tree_content{height:100%;white-space:nowrap;min-width:0;overflow:hidden;width:auto;text-overflow:ellipsis}.gantt_tree_icon.gantt_open,.gantt_tree_icon.gantt_close{width:20px;cursor:pointer}.gantt_tree_icon.gantt_open:before,.gantt_tree_icon.gantt_close:before{font-family:dhx-gantt-icons!important;font-style:normal;font-weight:400!important;font-variant:normal;text-transform:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:flex;justify-content:center;align-items:center;color:var(--dhx-gantt-base-colors-icons);font-size:var(--dhx-gantt-icon-size, 1.5em)}.gantt_tree_icon.gantt_open:before{content:"\\f10c"}.gantt_tree_icon.gantt_close:before{content:"\\f10b"}.gantt_tree_icon.gantt_blank{width:18px}.gantt_tree_icon.gantt_folder_open,.gantt_tree_icon.gantt_folder_closed,.gantt_tree_icon.gantt_file{display:none}.gantt_grid_head_cell .gantt_sort{position:absolute;right:5px;top:0;width:7px;height:13px}.gantt_grid_head_cell .gantt_sort.gantt_asc:before{font-family:dhx-gantt-icons!important;font-style:normal;font-weight:400!important;font-variant:normal;text-transform:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:flex;justify-content:center;align-items:center;color:var(--dhx-gantt-base-colors-icons);font-size:var(--dhx-gantt-icon-size, 1.5em)}.gantt_grid_head_cell .gantt_sort.gantt_asc:before{content:"\\f101"}.gantt_grid_head_cell .gantt_sort.gantt_desc:before{font-family:dhx-gantt-icons!important;font-style:normal;font-weight:400!important;font-variant:normal;text-transform:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:flex;justify-content:center;align-items:center;color:var(--dhx-gantt-base-colors-icons);font-size:var(--dhx-gantt-icon-size, 1.5em)}.gantt_grid_head_cell .gantt_sort.gantt_desc:before{content:"\\f102"}.gantt_inserted,.gantt_updated{font-weight:700}.gantt_deleted{text-decoration:line-through}.gantt_invalid{background-color:#ffe0e0}.gantt_error{color:var(--dhx-gantt-base-colors-error)}.gantt_status{right:1px;padding:5px 10px;background:#9b9b9b1a;position:absolute;top:1px;transition:opacity .2s;opacity:0}.gantt_status.gantt_status_visible{opacity:1}#gantt_ajax_dots span{transition:opacity .2s;background-repeat:no-repeat;opacity:0}#gantt_ajax_dots span.gantt_dot_visible{opacity:1}.gantt_column_drag_marker{border:var(--dhx-gantt-grid-scale-border-vertical);opacity:.8;pointer-events:none}.gantt_grid_head_cell_dragged{border:var(--dhx-gantt-grid-scale-border-vertical);opacity:.3}.gantt_grid_target_marker{position:absolute;top:0;width:2px;height:100%;background-color:var(--dhx-gantt-base-colors-primary);transform:translate(-1px)}.gantt_grid_target_marker:before,.gantt_grid_target_marker:after{display:block;content:"";position:absolute;left:-5px;width:0px;height:0px;border:6px solid transparent}.gantt_grid_target_marker:before{border-top-color:var(--dhx-gantt-base-colors-primary)}.gantt_grid_target_marker:after{bottom:0;border-bottom-color:var(--dhx-gantt-base-colors-primary)}.gantt_message_area{position:fixed;right:5px;width:320px;z-index:1000}.gantt-info{min-width:120px;padding:12px;font-family:var(--dhx-gantt-font-family);font-size:var(--dhx-gantt-regular-font-size);font-weight:var(--dhx-gantt-regular-font-weight);line-height:var(--dhx-gantt-regular-line-height);z-index:14;overflow:hidden;margin:5px 5px 10px;transition:all .5s ease;background:var(--dhx-gantt-info-background);color:var(--dhx-gantt-info-color);border:var(--dhx-gantt-info-border);box-shadow:var(--dhx-gantt-info-shadow)}.gantt-info.hidden{height:0px;padding:0;border-width:0px;margin:0;overflow:hidden}.gantt_modal_box{overflow:hidden;position:fixed;min-width:300px;width:var(--dhx-gantt-modal-width);background:var(--dhx-gantt-modal-background);box-shadow:var(--dhx-gantt-box-shadow-l);border:var(--dhx-gantt-modal-border);z-index:18;border-radius:var(--dhx-gantt-modal-border-radius);font-family:var(--dhx-gantt-font-family);font-size:var(--dhx-gantt-font-size);color:var(--dhx-gantt-popup-color);line-height:150%}.gantt_popup_title{border-top-left-radius:var(--dhx-gantt-modal-border-radius);border-top-right-radius:var(--dhx-gantt-modal-border-radius);text-transform:uppercase;font-weight:var(--dhx-gantt-heading-font-weight);padding:calc(var(--dhx-gantt-modal-padding)/2) var(--dhx-gantt-modal-padding);display:flex;justify-content:center;align-items:center}.gantt_popup_text{padding:var(--dhx-gantt-modal-padding);display:flex;justify-content:center;align-items:center}.gantt_popup_controls{display:flex;flex-direction:var(--dhx-gantt-btn-order);padding:calc(var(--dhx-gantt-modal-padding)/2) var(--dhx-gantt-modal-padding);align-items:center;gap:12px}.gantt-info,.gantt_popup_button,.gantt_button{-webkit-user-select:none;user-select:none;cursor:pointer}.gantt_popup_text{overflow:hidden}div.dhx_modal_cover{background:#44494e;opacity:.2;position:fixed;z-index:17;left:0;top:0;width:100%;height:100%;border:none}.gantt_popup_controls{border-radius:var(--dhx-gantt-border-radius)}.gantt_message_area .gantt-error{--dhx-gantt-info-background: var(--dhx-gantt-base-colors-error);--dhx-gantt-info-color: var(--dhx-gantt-base-colors-text-on-fill)}.gantt_message_area .gantt-warning{--dhx-gantt-info-background: var(--dhx-gantt-base-colors-warning);--dhx-gantt-info-color: var(--dhx-gantt-base-colors-text-on-fill)}.gantt_grid div,.gantt_data_area div{-ms-touch-action:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.gantt_data_area{position:relative;overflow-x:hidden;overflow-y:hidden;-webkit-user-select:none;user-select:none}.gantt_links_area{position:absolute;left:0;top:0}.gantt_task_content,.gantt_task_progress,.gantt_side_content{line-height:inherit;overflow:hidden;height:100%}.gantt_task_content{font-size:var(--dhx-gantt-task-font-size);color:var(--dhx-gantt-task-color);width:100%;padding-top:1px;top:0;cursor:pointer;position:absolute;white-space:nowrap;text-align:center}.gantt_task_progress{text-align:center;z-index:0;background:var(--dhx-gantt-task-progress-color)}.gantt_task_progress_wrapper{border-radius:inherit;position:relative;width:100%;height:100%;overflow:hidden}.gantt_task_line{border-radius:var(--dhx-gantt-task-border-radius);position:absolute;box-sizing:border-box;background:var(--dhx-gantt-task-background);border:var(--dhx-gantt-task-border);-webkit-user-select:none;user-select:none}.gantt_task_line.gantt_drag_move div{cursor:move}.gantt_touch_move,.gantt_touch_progress,.gantt_touch_resize{transform:scale(1.02,1.1);transform-origin:50%}.gantt_touch_progress .gantt_task_progress_drag,.gantt_touch_resize .gantt_task_drag{transform:scaleY(1.3);transform-origin:50%}.gantt_side_content{position:absolute;white-space:nowrap;color:var(--dhx-gantt-base-colors-text-light);top:0;font-size:calc(var(--dhx-gantt-task-font-size) - 1px)}.gantt_side_content.gantt_left{right:100%;padding-right:var(--dhx-gantt-base-padding)}.gantt_side_content.gantt_right{left:100%;padding-left:var(--dhx-gantt-base-padding)}.gantt_side_content.gantt_link_crossing{margin-top:-6px}.gantt_task_link .gantt_line_wrapper,.gantt_link_arrow,.gantt_link_corner{position:absolute;cursor:pointer}.gantt_line_wrapper div{background-color:var(--dhx-gantt-link-background)}.gantt_link_corner{box-sizing:content-box!important;border-color:var(--dhx-gantt-link-background);background-color:transparent}.gantt_task_link:hover{--dhx-gantt-link-background: var(--dhx-gantt-link-background-hover)}.gantt_task_link:hover>div{z-index:1}.gantt_task_link div.gantt_link_arrow{color:var(--dhx-gantt-link-background);line-height:normal}.gantt_task_link div.gantt_link_arrow:before{font-family:dhx-gantt-icons!important;font-style:normal;font-weight:400!important;font-variant:normal;text-transform:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:flex;justify-content:center;align-items:center;color:var(--dhx-gantt-base-colors-icons);font-size:var(--dhx-gantt-icon-size, 1.5em)}.gantt_task_link div.gantt_link_arrow:before{content:"\\f10f"}.gantt_link_control{position:absolute;width:calc(var(--dhx-gantt-link-handle-offset) + var(--dhx-gantt-link-handle-size));top:50%;display:flex;align-items:center;transition:all var(--dhx-gantt-base-transition)}.gantt_link_control div{display:none;cursor:pointer;box-sizing:border-box;position:relative;border:2px solid var(--dhx-gantt-link-handle-border);border-radius:50%;height:var(--dhx-gantt-link-handle-size);width:var(--dhx-gantt-link-handle-size);background:var(--dhx-gantt-link-handle-background)}.gantt_link_control div:hover{--dhx-gantt-link-handle-background: var(--dhx-gantt-link-handle-background-hover);--dhx-gantt-link-handle-border: var(--dhx-gantt-link-handle-border-hover)}.gantt_link_control.task_left{transform:translate(-100%,-50%);left:0;justify-content:flex-start}.gantt_link_control.task_right{transform:translate(100%,-50%);right:0;justify-content:flex-end}.gantt_task_line.gantt_link_source .gantt_link_control div,.gantt_task_line.gantt_selected .gantt_link_control div,.gantt_task_line:hover .gantt_link_control div,.gantt_task_line.gantt_drag_move .gantt_link_control div,.gantt_task_line.gantt_drag_resize .gantt_link_control div,.gantt_task_line.gantt_link_source .gantt_task_drag,.gantt_task_line.gantt_selected .gantt_task_drag,.gantt_task_line:hover .gantt_task_drag,.gantt_task_line.gantt_drag_move .gantt_task_drag,.gantt_task_line.gantt_drag_resize .gantt_task_drag{display:block}.gantt_task_line.gantt_selected .gantt_task_progress_drag,.gantt_task_line:hover .gantt_task_progress_drag,.gantt_task_line.gantt_drag_progress .gantt_task_progress_drag{display:flex}.gantt_link_target .gantt_link_control div{display:block}.gantt_link_source,.gantt_link_target{box-shadow:0 0 3px var(--dhx-gantt-base-colors-primary)}.gantt_link_target.link_start_allow,.gantt_link_target.link_finish_allow{box-shadow:0 0 3px var(--dhx-gantt-base-colors-success)}.gantt_link_target.link_start_deny,.gantt_link_target.link_finish_deny{box-shadow:0 0 3px var(--dhx-gantt-base-colors-error)}.gantt_link_from_start .gantt_link_control.task_start_date div,.gantt_link_from_end .gantt_link_control.task_end_date div,.link_start_allow .gantt_link_control.task_start_date div,.link_finish_allow .gantt_link_control.task_end_date div{--dhx-gantt-link-handle-border: var(--dhx-gantt-link-handle-border-hover);--dhx-gantt-link-handle-background: var(--dhx-gantt-base-colors-primary)}.link_start_deny .gantt_link_control.task_start_date div,.link_finish_deny .gantt_link_control.task_end_date div{--dhx-gantt-link-handle-border: var(--dhx-gantt-link-handle-border-hover);--dhx-gantt-link-handle-background: var(--dhx-gantt-base-colors-error)}.gantt_link_arrow_left{transform:rotate(180deg)}.gantt_task_drag,.gantt_task_progress_drag{cursor:ew-resize;display:none;position:absolute}.gantt_task_drag.task_right{cursor:e-resize}.gantt_task_drag.task_left{cursor:w-resize}.gantt_task_drag{min-height:16px;height:50%;width:8px;z-index:1;top:-1px}.gantt_task_drag.task_left{left:-7px}.gantt_task_drag.task_right{right:-7px}.gantt_task_progress_drag{height:70%;min-height:12px;bottom:-3px;transform:translate(-50%);z-index:1;align-items:flex-end}.gantt_task_progress_drag:hover{--dhx-gantt-base-colors-icons: var(--dhx-gantt-base-colors-icons-hover)}.gantt_link_tooltip{box-shadow:3px 3px 3px #0003;background-color:var(--dhx-gantt-popup-background);border-left:1px solid var(--dhx-gantt-base-colors-border);border-top:1px solid var(--dhx-gantt-base-colors-border);font-family:var(--dhx-gantt-font-family);font-size:var(--dhx-gantt-regular-font-size);color:var(--dhx-gantt-popup-color);padding:var(--dhx-gantt-base-padding);line-height:var(--dhx-gantt-regular-line-height)}.gantt_link_direction{height:0px;border:none;border-bottom:2px dashed var(--dhx-gantt-base-colors-primary);transform-origin:0% 0%;z-index:2;margin-left:1px;position:absolute}.gantt_grid_data .gantt_row.gantt_selected,.gantt_grid_data .gantt_row.odd.gantt_selected{background-color:var(--dhx-gantt-base-colors-select)}.gantt_row_project{font-weight:500}.gantt_task_row.odd.gantt_selected,.gantt_task_row.gantt_selected{background-color:var(--dhx-gantt-base-colors-select)}.gantt_task_line.gantt_selected{box-shadow:var(--dhx-gantt-box-shadow-s)}.gantt_cal_quick_info.gantt_project,.gantt_task_line.gantt_project{--dhx-gantt-task-color: var(--dhx-gantt-project-color);--dhx-gantt-task-background: var(--dhx-gantt-project-background);--dhx-gantt-task-progress-color: var(--dhx-gantt-project-progress-color)}.gantt_task_line.gantt_project.gantt_task_line_planned{--dhx-gantt-task-background: var(--dhx-gantt-base-colors-text-light)}.gantt_task_line_planned{--dhx-gantt-scheduled-summary-bracket-size: 8px}.gantt_task_line_planned:before,.gantt_task_line_planned:after{content:"";position:absolute;top:0;width:0;height:0;border-style:solid;border-color:transparent}.gantt_task_line_planned:before{border-width:var(--dhx-gantt-scheduled-summary-bracket-size) var(--dhx-gantt-scheduled-summary-bracket-size) 0 0;border-right-color:var(--dhx-gantt-task-background);transform:rotate(180deg)}.gantt_task_line_planned:after{border-width:0 var(--dhx-gantt-scheduled-summary-bracket-size) var(--dhx-gantt-scheduled-summary-bracket-size) 0;border-right-color:var(--dhx-gantt-task-background);right:0}.gantt_task_line_actual{opacity:.3;--dhx-gantt-task-border-radius: 2px}.gantt_task_line.gantt_project.gantt_project_scheduling_conflict .gantt_task_line_actual{--dhx-gantt-task-background: var(--dhx-gantt-base-colors-error)}.gantt_task_line.gantt_project.gantt_selected{box-shadow:var(--dhx-gantt-box-shadow-s)}.gantt_task_line.gantt_milestone{--dhx-gantt-task-background: var(--dhx-gantt-milestone-background);visibility:hidden;border:none;box-sizing:content-box}.gantt_task_line.gantt_milestone div{visibility:visible}.gantt_task_line.gantt_milestone .gantt_task_content{background:inherit;border:inherit;border-width:1px;border-radius:inherit;box-sizing:border-box;transform:rotate(45deg)}.gantt_critical_task{--dhx-gantt-task-background: var(--dhx-gantt-link-critical-background)}.gantt_critical_task .gantt_task_progress{--dhx-gantt-task-progress: rgba(0, 0, 0, .4)}.gantt_critical_link{--dhx-gantt-link-background: var(--dhx-gantt-link-critical-background)}.gantt_link_arrow{--dhx-gantt-base-colors-icons: var(--dhx-gantt-link-background)}.gantt_row:focus,.gantt_cell:focus,.gantt_btn_set:focus,.gantt_qi_big_icon:focus,.gantt_popup_button:focus,.gantt_grid_head_cell:focus{box-shadow:inset 0 0 1px 1px var(--dhx-gantt-base-colors-primary)}.gantt_split_parent,.gantt_split_subproject{opacity:.1;pointer-events:none}.gantt_rollup_child .gantt_link_control,.gantt_rollup_child:hover .gantt_link_control{display:none}.gantt_unselectable,.gantt_unselectable div{-webkit-user-select:none;user-select:none}.gantt_common_input{border-radius:2px;background-color:var(--dhx-gantt-lightbox-background);color:var(--dhx-gantt-lightbox-color);border:var(--dhx-gantt-lightbox-control-border);font-size:var(--dhx-gantt-lightbox-font-sizeeduler);padding:6px 8px;box-sizing:border-box;margin-top:0;margin-bottom:0}.gantt_common_input:focus,.gantt_common_input:focus-visible{border-color:var(--dhx-gantt-base-colors-primary);outline:none}.gantt_common_input:disabled{background-color:var(--dhx-gantt-base-colors-disabled);color:var(--dhx-gantt-base-colors-icons)}.gantt_one_line_input{height:var(--dhx-gantt-control-height)}.gantt_cal_cover,.gantt_cal_cover *{box-sizing:border-box}.gantt_cal_light{margin-top:auto;margin-bottom:auto;min-width:var(--dhx-gantt-lightbox-width);width:max-content;max-width:var(--dhx-gantt-lightbox-max-width);height:auto;-webkit-tap-highlight-color:transparent;background-color:var(--dhx-gantt-lightbox-background);color:var(--dhx-gantt-lightbox-color);position:absolute;z-index:15;font-family:var(--dhx-gantt-lightbox_font-family);font-size:var(--dhx-gantt-lightbox-font-size);font-weight:var(--dhx-gantt-lightbox-font-weight);line-height:142%;border:var(--dhx-gantt-lightbox-border);border-radius:var(--dhx-gantt-popup-border-radius)}.gantt_cal_light.gantt_cal_light_wide{--dhx-gantt-lightbox-width: var(--dhx-gantt-lightbox-wide-max-width);--dhx-gantt-lightbox-max-width: var(--dhx-gantt-lightbox-wide-max-width)}.gantt_cal_light textarea,.gantt_cal_light input,.gantt_cal_light select{border-radius:2px;background-color:var(--dhx-gantt-lightbox-background);color:var(--dhx-gantt-lightbox-color);border:var(--dhx-gantt-lightbox-control-border);font-size:var(--dhx-gantt-lightbox-font-sizeeduler);padding:6px 8px;box-sizing:border-box;margin-top:0;margin-bottom:0}.gantt_cal_light textarea:focus,.gantt_cal_light input:focus,.gantt_cal_light select:focus,.gantt_cal_light textarea:focus-visible,.gantt_cal_light input:focus-visible,.gantt_cal_light select:focus-visible{border-color:var(--dhx-gantt-base-colors-primary);outline:none}.gantt_cal_light textarea:disabled,.gantt_cal_light input:disabled,.gantt_cal_light select:disabled{background-color:var(--dhx-gantt-base-colors-disabled);color:var(--dhx-gantt-base-colors-icons)}.gantt_cal_light input,.gantt_cal_light select{height:var(--dhx-gantt-control-height)}.gantt_cal_light input[type=select],.gantt_cal_light input[type=checkbox]{height:var(--dhx-gantt-checkbox-height)}.gantt_cal_light .gantt_time{display:none}.gantt_cal_ltitle{font-size:var(--dhx-gantt-lightbox-title-font-size);font-weight:var(--dhx-gantt-heading-font-weight);line-height:142%;background:var(--dhx-gantt-lightbox-title-background);color:var(--dhx-gantt-lightbox-title-color);border-bottom:var(--dhx-gantt-default-border);padding:calc(var(--dhx-gantt-base-padding) * 3) var(--dhx-gantt-lightbox-padding);overflow:hidden;white-space:nowrap;display:flex;flex-direction:row;justify-content:space-between;gap:calc(var(--dhx-gantt-base-padding) * 2);border-top-right-radius:var(--dhx-gantt-popup-border-radius);border-top-left-radius:var(--dhx-gantt-popup-border-radius)}.gantt_cal_ltitle .gantt_mark{display:none}.gantt_cal_ltitle .gantt_cal_ltitle_descr{overflow:hidden;text-overflow:ellipsis}.gantt_cal_ltitle .gantt_cal_ltitle_controls{cursor:pointer;--dhx-gantt-icon-size: 18px}.gantt_cal_light_rtl{direction:rtl}.gantt_cal_light_wide.gantt_cal_light_rtl .gantt_custom_button{right:auto;left:calc(var(--dhx-gantt-base-padding) * 2)}.gantt_section_constraint [data-constraint-time-select]{margin-left:20px}.gantt_cal_larea{border:none;padding:0 var(--dhx-gantt-lightbox-padding) 4px;overflow:hidden;height:auto;gap:calc(var(--dhx-gantt-base-padding) * 2)}.gantt_cal_cover{width:100%;height:100%;position:fixed;z-index:16;top:0;left:0;background-color:#0000004d;display:flex;justify-content:center;align-items:center;overflow:auto}.gantt_lightbox_time_select{min-width:80px}.gantt_lightbox_day_select{min-width:60px}.gantt_lightbox_month_select{min-width:110px}.gantt_lightbox_year_select{min-width:77px}.gantt_cal_light_full{width:auto}.gantt_cal_light_wide .gantt_cal_larea{display:flex;flex-direction:column;padding-top:12px;gap:12px}.gantt_cal_light_wide .gantt_wrap_section{display:flex;flex:0;position:relative}.gantt_cal_light_wide .gantt_cal_lsection{width:120px;justify-content:flex-start;align-items:flex-start;flex-shrink:0;margin-top:0;margin-bottom:0;padding:4px 8px}.gantt_cal_light_wide .gantt_custom_button{position:absolute;left:auto;right:calc(var(--dhx-gantt-base-padding) * 2)}.gantt_cal_light_wide .gantt_cal_ltext{flex:1}.gantt_cal_light_wide .gantt_section_time{justify-content:flex-start}.gantt_cal_light_wide .gantt_fullday{margin-left:unset}.gantt_duration{display:flex;justify-content:flex-start;align-items:center;gap:4px}.gantt_duration .gantt_duration_end_date{color:var(--dhx-gantt-base-colors-text-light);min-width:130px}.gantt_duration .gantt_duration_value,.gantt_duration .gantt_duration_dec,.gantt_duration .gantt_duration_inc{border-radius:2px;background-color:var(--dhx-gantt-lightbox-background);color:var(--dhx-gantt-lightbox-color);border:var(--dhx-gantt-lightbox-control-border);font-size:var(--dhx-gantt-lightbox-font-sizeeduler);padding:6px 8px;box-sizing:border-box;margin-top:0;margin-bottom:0;text-align:center}.gantt_duration .gantt_duration_value:focus,.gantt_duration .gantt_duration_dec:focus,.gantt_duration .gantt_duration_inc:focus,.gantt_duration .gantt_duration_value:focus-visible,.gantt_duration .gantt_duration_dec:focus-visible,.gantt_duration .gantt_duration_inc:focus-visible{border-color:var(--dhx-gantt-base-colors-primary);outline:none}.gantt_duration .gantt_duration_value:disabled,.gantt_duration .gantt_duration_dec:disabled,.gantt_duration .gantt_duration_inc:disabled{background-color:var(--dhx-gantt-base-colors-disabled);color:var(--dhx-gantt-base-colors-icons)}.gantt_duration_inputs{display:flex}.gantt_duration .gantt_duration_value{width:40px;padding:3px 4px;border-left-width:0;border-right-width:0;border-radius:0}.gantt_duration .gantt_duration_value.gantt_duration_value_formatted{width:70px}.gantt_duration .gantt_duration_dec,.gantt_duration .gantt_duration_inc{width:26px;padding:1px 4px;color:var(--dhx-gantt-base-colors-primary);font-size:18px;border-radius:var(--dhx-gantt-border-radius);cursor:pointer}.gantt_duration .gantt_duration_dec{border-top-right-radius:0;border-bottom-right-radius:0}.gantt_duration .gantt_duration_inc{border-top-left-radius:0;border-bottom-left-radius:0}.gantt_duration .gantt_duration_inc{margin-right:4px}.gantt_resources{max-height:150px;height:auto;overflow-y:auto}.gantt_resource_row{display:block;padding:10px 0;border-bottom:1px solid var(--dhx-gantt-base-colors-border-light);cursor:pointer}.gantt_resource_row input[type=checkbox]:not(:checked),.gantt_resource_row input[type=checkbox]:not(:checked)~div{opacity:.5}.gantt_resource_toggle{vertical-align:middle}.gantt_section_resources{overflow:hidden;display:flex;flex-direction:column;width:100%}.gantt_resources_filter{display:flex;flex-grow:0;align-items:center}.gantt_resources_filter label{display:inline-flex;gap:2px;align-items:center}.gantt_resources_filter .gantt_resources_filter_input{padding:1px 6px;box-sizing:border-box}.gantt_resources_filter .switch_unsetted{vertical-align:middle}.gantt_resource_cell{display:inline-block}.gantt_resource_cell.gantt_resource_cell_checkbox{width:24px;max-width:24px;min-width:24px;vertical-align:middle}.gantt_resource_cell.gantt_resource_cell_label{width:40%;max-width:40%;vertical-align:middle}.gantt_resource_cell.gantt_resource_cell_value{width:30%;max-width:30%;vertical-align:middle}.gantt_resource_cell.gantt_resource_cell_value input,.gantt_resource_cell.gantt_resource_cell_value select{width:80%;vertical-align:middle;padding:1px 2px;box-sizing:border-box}.gantt_resource_cell.gantt_resource_cell_unit{width:10%;max-width:10%;vertical-align:middle}.gantt_resource_early_value{opacity:.8;font-size:.9em}.gantt_cal_lcontrols{display:flex;flex-direction:var(--dhx-gantt-btn-order);gap:calc(var(--dhx-gantt-base-padding)*2);padding:12px var(--dhx-gantt-lightbox-padding)}.gantt_cal_lcontrols .gantt_btn_set{display:flex;flex-direction:row;gap:var(--dhx-gantt-base-padding)}.gantt_cal_lcontrols .gantt_btn_set.gantt_delete_btn_set{--dhx-gantt-icon-size: 18px;padding:6px 0;--dhx-gantt-base-colors-icons: var(--dhx-gantt-base-colors-error);--dhx-gantt-btn-background: transparent;--dhx-gantt-btn-color: var(--dhx-gantt-base-colors-error);--dhx-gantt-btn-border-color: transparent;--dhx-gantt-btn-background-hover: transparent;--dhx-gantt-btn-color-hover: var(--dhx-gantt-base-colors-error-hover);--dhx-gantt-btn-border-hover: transparent;--dhx-gantt-btn-background-active: transparent;--dhx-gantt-btn-color-active: var(--dhx-gantt-base-colors-error-active);--dhx-gantt-btn-border-active: transparent;--dhx-gantt-btn-background-disabled: transparent;--dhx-gantt-btn-color-disabled: var(--dhx-gantt-base-colors-icons);--dhx-gantt-btn-border-color-disabled: transparent}.gantt_cal_lcontrols .gantt_btn_set:not(.gantt_save_btn_set,.gantt_delete_btn_set){--dhx-gantt-icon-size: 18px;--dhx-gantt-base-colors-icons: var(--dhx-gantt-btn-color);--dhx-gantt-btn-background: var(--dhx-gantt-btn-outline-background);--dhx-gantt-btn-color: var(--dhx-gantt-btn-outline-color);--dhx-gantt-btn-border-color: var(--dhx-gantt-btn-outline-border-color);--dhx-gantt-btn-background-hover: var(--dhx-gantt-btn-outline-background-hover);--dhx-gantt-btn-color-hover: var(--dhx-gantt-btn-outline-color-hover);--dhx-gantt-btn-border-hover: var(--dhx-gantt-btn-outline-border-hover);--dhx-gantt-btn-background-active: var(--dhx-gantt-btn-outline-background-active);--dhx-gantt-btn-color-active: var(--dhx-gantt-btn-outline-color-active);--dhx-gantt-btn-border-active: var(--dhx-gantt-btn-outline-border-active);--dhx-gantt-btn-background-disabled: var(--dhx-gantt-btn-outline-background-disabled);--dhx-gantt-btn-color-disabled: var(--dhx-gantt-btn-outline-color-disabled);--dhx-gantt-btn-border-color-disabled: var(--dhx-gantt-btn-outline-border-color-disabled)}.gantt_cal_lcontrols .gantt_btn_set .gantt_btn_inner{display:none}.gantt_cal_lcontrols .gantt_btn_set .gantt_delete_btn:before{font-family:dhx-gantt-icons!important;font-style:normal;font-weight:400!important;font-variant:normal;text-transform:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:flex;justify-content:center;align-items:center;color:var(--dhx-gantt-base-colors-icons);font-size:var(--dhx-gantt-icon-size, 1.5em)}.gantt_cal_lcontrols .gantt_btn_set .gantt_delete_btn:before{content:"\\f108"}.gantt_cal_lcontrols .gantt_cal_lcontrols_push_right{margin-left:auto}.gantt_cal_ltext textarea{width:100%;height:100%;resize:none;font-family:var(--dhx-gantt-lightbox_font-family);font-size:var(--dhx-gantt-lightbox-font-size);font-weight:var(--dhx-gantt-lightbox-font-weight);line-height:142%}.gantt_section_time_spacer,.gantt_lightbox_minical_spacer{visibility:hidden;height:0;flex-basis:100%}.gantt_section_time{--dhx-gantt-lightbox-time-font-size: var(--dhx-gantt-important-font-size);--dhx-gantt-lightbox-time-font-weight: var(--dhx-gantt-important-font-weight);font-size:var(--dhx-gantt-lightbox-time-font-size);font-weight:var(--dhx-gantt-lightbox-time-font-weight);line-height:142%;display:flex;flex-wrap:wrap;align-items:center;gap:calc(var(--dhx-gantt-base-padding) * 2);row-gap:var(--dhx-gantt-base-padding)}.gantt_section_time .gantt_section_time_icon{width:calc(var(--dhx-gantt-base-module) * 2);height:calc(var(--dhx-gantt-base-module) * 2);border-radius:2px;background:var(--dhx-gantt-base-colors-primary)}.gantt_section_duration{gap:16px}.gantt_fullday{margin-left:auto}.gantt_cal_light_rtl .gantt_fullday{margin-left:unset;margin-right:auto}.gantt_cal_lsection label{font-weight:var(--dhx-gantt-heading-font-weight);display:flex;align-items:center;gap:4px;width:100%}.gantt_cal_lsection{display:flex;margin-top:12px;margin-bottom:4px}.gantt_cal_lsection .gantt_custom_button{background:var(--dhx-gantt-btn-background);color:var(--dhx-gantt-btn-color);border:1px solid var(--dhx-gantt-btn-border-color);border-radius:var(--dhx-gantt-border-radius);height:var(--dhx-gantt-control-height);padding:var(--dhx-gantt-btn-padding, 0 20px);display:flex;justify-content:center;align-items:center;box-sizing:border-box;gap:4px;flex-shrink:0;font-weight:500;font-size:var(--dhx-gantt-font-size);font-family:var(--dhx-gantt-font-family);font-weight:var(--dhx-gantt-btn-font-weight, normal);line-height:142%;text-transform:var(--dhx-gantt-btn-text-transform);cursor:pointer;--dhx-gantt-icon-size: 18px;--dhx-gantt-base-colors-icons: var(--dhx-gantt-btn-color);--dhx-gantt-btn-background: var(--dhx-gantt-btn-outline-background);--dhx-gantt-btn-color: var(--dhx-gantt-btn-outline-color);--dhx-gantt-btn-border-color: var(--dhx-gantt-btn-outline-border-color);--dhx-gantt-btn-background-hover: var(--dhx-gantt-btn-outline-background-hover);--dhx-gantt-btn-color-hover: var(--dhx-gantt-btn-outline-color-hover);--dhx-gantt-btn-border-hover: var(--dhx-gantt-btn-outline-border-hover);--dhx-gantt-btn-background-active: var(--dhx-gantt-btn-outline-background-active);--dhx-gantt-btn-color-active: var(--dhx-gantt-btn-outline-color-active);--dhx-gantt-btn-border-active: var(--dhx-gantt-btn-outline-border-active);--dhx-gantt-btn-background-disabled: var(--dhx-gantt-btn-outline-background-disabled);--dhx-gantt-btn-color-disabled: var(--dhx-gantt-btn-outline-color-disabled);--dhx-gantt-btn-border-color-disabled: var(--dhx-gantt-btn-outline-border-color-disabled);order:1;margin-left:auto;margin-right:unset}.gantt_cal_lsection .gantt_custom_button:hover{background:var(--dhx-gantt-btn-background-hover);color:var(--dhx-gantt-btn-color-hover);border-color:var(--dhx-gantt-btn-border-hover)}.gantt_cal_lsection .gantt_custom_button:active{background:var(--dhx-gantt-btn-background-active);color:var(--dhx-gantt-btn-color-active);border-color:var(--dhx-gantt-btn-border-active)}.gantt_cal_lsection .gantt_custom_button:disabled{background:var(--dhx-gantt-btn-background-disabled);color:var(--dhx-gantt-btn-color-disabled);border-color:var(--dhx-gantt-btn-border-disabled)}.gantt_cal_light_rtl .gantt_custom_button{margin-left:unset;margin-right:auto}.gantt_cal_checkbox{display:flex;gap:var(--dhx-gantt-base-padding)}.gantt_cal_wide_checkbox{padding:4px 0}.gantt_cal_radio input{margin:var(--dhx-gantt-base-padding)}.gantt_cal_radio_item{display:flex;gap:var(--dhx-gantt-base-padding);align-items:center}.gantt_cal_radio{display:flex;gap:4px}.gantt_cal_radio_vertical{flex-direction:column;overflow:auto;--dhx-gantt-control-height: 20px}.gantt_cal_lcheckbox,.gantt_cal_lradio{display:flex;flex-wrap:wrap;gap:8px}.gantt_cal_lcheckbox label,.gantt_cal_lradio label{display:flex;align-items:center;gap:4px}.gantt_cal_template{position:relative;padding-top:4px;padding-bottom:4px}.gantt_cal_light .gantt_readonly{color:var(--dhx-gantt-base-colors-readonly)}.gantt_cal_quick_info{--dhx-gantt-quick-info-font-size: var(--dhx-gantt-font-size);position:absolute;z-index:8;font-size:var(--dhx-gantt-quick-info-font-size);background:var(--dhx-gantt-popup-background);color:var(--dhx-gantt-popup-color);border:var(--dhx-gantt-popup-border);padding:calc(var(--dhx-gantt-base-padding)*2) calc(var(--dhx-gantt-base-padding)*3);border-radius:var(--dhx-gantt-border-radius);width:300px;display:flex;flex-direction:column;box-shadow:var(--dhx-gantt-box-shadow-s);transition:left .5s ease,right .5s ease}.gantt_cal_qi_tcontrols{display:flex;justify-content:flex-end;height:8px}.gantt_cal_qi_tcontrols .gantt_cal_qi_close_btn{min-width:32px;height:32px;border-radius:50%;--dhx-gantt-icon-size: 18px;--dhx-gantt-btn-background: transparent;--dhx-gantt-btn-color: var(--dhx-gantt-base-colors-primary);--dhx-gantt-btn-border-color: transparent;--dhx-gantt-btn-background-hover: transparent;--dhx-gantt-btn-color-hover: var(--dhx-gantt-base-colors-primary-hover);--dhx-gantt-btn-border-hover: transparent;--dhx-gantt-btn-background-active: transparent;--dhx-gantt-btn-color-active: var(--dhx-gantt-base-colors-primary-active);--dhx-gantt-btn-border-active: transparent;--dhx-gantt-btn-background-disabled: transparent;--dhx-gantt-btn-color-disabled: var(--dhx-gantt-base-colors-icons);--dhx-gantt-btn-border-color-disabled: transparent;width:unset;min-width:unset;padding:2px;font-size:18px;cursor:pointer;height:20px;position:relative;z-index:1}.gantt_cal_qi_tcontrols .gantt_cal_qi_close_btn:hover{--dhx-gantt-base-colors-icons: var(--dhx-gantt-base-colors-icons-hover)}.gantt_cal_qi_tcontrols .gantt_cal_qi_close_btn:active{--dhx-gantt-base-colors-icons: var(--dhx-gantt-base-colors-icons-active)}.gantt_cal_qi_tcontrols .gantt_cal_qi_close_btn:disabled{--dhx-gantt-base-colors-icons: var(--dhx-gantt-btn-color-disabled)}.gantt_cal_qi_title,.gantt_cal_qi_controls,.gantt_cal_qi_content{padding:0 calc(var(--dhx-gantt-base-padding) * 3)}.gantt_cal_qi_title{display:flex;flex-direction:column;gap:12px;padding-right:14px}.gantt_cal_qi_tcontent{font-size:var(--dhx-gantt-heading-font-size);font-weight:var(--dhx-gantt-heading-font-weight);line-height:150%;position:relative;display:flex;flex-direction:row;justify-content:flex-start;align-items:center;gap:8px;overflow:hidden;flex-grow:0;text-overflow:ellipsis;white-space:nowrap}.gantt_cal_qi_tcontent>span{text-overflow:ellipsis;overflow:hidden}.gantt_cal_qi_tcontent:before{display:var(--dhx-gantt-quick-info-dot-display, block);content:"";flex-shrink:0;width:8px;height:8px;border-radius:2px;background:var(--dhx-gantt-task-background)}.gantt_cal_qi_tdate{font-size:var(--dhx-gantt-important-font-size);font-weight:var(--dhx-gantt-important-font-weight);line-height:var(--dhx-gantt-important-line-height)}.gantt_cal_qi_content{padding-top:16px;padding-bottom:8px}.gantt_cal_qi_controls{display:flex;flex-direction:row;justify-content:flex-start;align-items:center;padding-top:8px;gap:12px;color:var(--dhx-gantt-base-colors-primary)}.gantt_cal_qi_controls>div:first-child{margin-left:-3px}.gantt_menu_icon{width:20px;height:20px;display:flex;align-items:center;justify-content:center;--dhx-gantt-base-colors-icons: var(--dhx-gantt-btn-color)}.dhx_gantt_icon.dhx_gantt_icon_edit,.dhx_menu_icon.dhx_gantt_icon_edit{--dhx-gantt-icon-size: var(--dhx-gantt-font-size)}.gantt_cal_quick_info.gantt_qi_hidden{display:none}.gantt_tooltip{padding:8px 30px 8px 8px;position:absolute;z-index:50;white-space:nowrap;box-shadow:var(--dhx-gantt-box-shadow-m);background:var(--dhx-gantt-tooltip-background);color:var(--dhx-gantt-tooltip-color);border:var(--dhx-gantt-tooltip-border);font-family:var(--dhx-gantt-font-family);font-size:var(--dhx-gantt-regular-font-size);line-height:var(--dhx-gantt-regular-line-height);font-weight:var(--dhx-gantt-regular-font-weight);border-radius:var(--dhx-gantt-tooltip-border-radius);display:flex;flex-direction:column;align-items:flex-start;gap:4px}.gantt_resource_marker{position:absolute;text-align:center;font-size:var(--dhx-gantt-font-size);color:#fff}.gantt_resource_marker_ok{background:var(--dhx-gantt-base-colors-success)}.gantt_resource_marker_overtime{background:var(--dhx-gantt-base-colors-error)}.gantt_histogram_label{width:100%;height:100%;position:absolute;z-index:1;font-weight:700;font-size:var(--dhx-gantt-font-size)}.gantt_histogram_fill{background-color:#537cfa4d;background-color:color-mix(in srgb,var(--dhx-gantt-base-colors-primary),transparent 60%);width:100%;position:absolute;bottom:0}.gantt_histogram_hor_bar{height:1px;position:absolute;background:var(--dhx-gantt-base-colors-primary);margin-top:-1px;margin-left:-1px}.gantt_histogram_vert_bar{width:1px;position:absolute;background:var(--dhx-gantt-base-colors-primary);margin-left:-1px}.gantt_histogram_cell{position:absolute;text-align:center;font-size:var(--dhx-gantt-font-size)}.gantt_marker{height:100%;width:1px;top:0;position:absolute;text-align:center;background-color:var(--dhx-gantt-base-colors-error)}.gantt_marker .gantt_marker_content{padding:2px;background:inherit;color:var(--dhx-gantt-base-colors-white);position:absolute;font-size:var(--dhx-gantt-caption-font-size);line-height:var(--dhx-gantt-caption-line-height);font-weight:var(--dhx-gantt-caption-line-weight)}.gantt_marker_area{position:absolute;top:0;left:0}.gantt_grid_editor_placeholder{position:absolute}.gantt_grid_editor_placeholder>div,.gantt_grid_editor_placeholder input,.gantt_grid_editor_placeholder select{width:100%;height:100%;box-sizing:border-box}.gantt_row_placeholder div{opacity:.5}.gantt_row_placeholder .gantt_file,.gantt_row_placeholder .gantt_add{display:none}.gantt_drag_marker.gantt_grid_dnd_marker{background-color:transparent;transition:all .1s ease}.gantt_grid_dnd_marker_line{height:4px;width:100%;background-color:var(--dhx-gantt-base-colors-primary)}.gantt_grid_dnd_marker_line:before{background:var(--dhx-gantt-base-colors-white);width:12px;height:12px;box-sizing:border-box;border:3px solid var(--dhx-gantt-base-colors-primary);border-radius:6px;content:"";line-height:1px;display:block;position:absolute;margin-left:-11px;margin-top:-4px;pointer-events:none}.gantt_grid_dnd_marker_folder{height:100%;width:100%;position:absolute;pointer-events:none;box-sizing:border-box;box-shadow:0 0 0 2px var(--dhx-gantt-base-colors-primary) inset;background:transparent}.gantt_overlay_area{position:absolute;height:inherit;width:inherit;top:0;left:0;display:none}.gantt_overlay{position:absolute;left:0;top:0;height:inherit;width:inherit}.gantt_click_drag_rect{position:absolute;left:0;top:0;outline:1px solid var(--dhx-gantt-base-colors-primary);background-color:var(--dhx-gantt-base-colors-primary-lighter)}.gantt_timeline_move_available,.gantt_timeline_move_available *{cursor:move}.gantt_constraint_marker{position:absolute;pointer-events:none;--dhx-gantt-base-colors-icons: var(--dhx-gantt-base-colors-text-light)}.gantt_constraint_marker.gantt_constraint_marker_snlt,.gantt_constraint_marker.gantt_constraint_marker_fnlt,.gantt_constraint_marker.gantt_constraint_marker_mfo{transform:rotate(180deg)}.gantt_constraint_marker svg{display:block;max-height:100%;max-width:100%}.gantt_rtl .gantt_constraint_marker.gantt_constraint_marker_snlt,.gantt_rtl .gantt_constraint_marker.gantt_constraint_marker_fnlt,.gantt_rtl .gantt_constraint_marker.gantt_constraint_marker_mfo{transform:rotate(0)}.gantt_rtl .gantt_constraint_marker.gantt_constraint_marker_snet,.gantt_rtl .gantt_constraint_marker.gantt_constraint_marker_fnet,.gantt_rtl .gantt_constraint_marker.gantt_constraint_marker_mso{transform:rotate(180deg)}.gantt_rtl .gantt_grid{text-align:right}.gantt_rtl .gantt_row,.gantt_rtl .gantt_cell{flex-direction:row-reverse}.gantt_layout_content{width:100%;overflow:auto;box-sizing:border-box}.gantt_layout_cell{position:relative;box-sizing:border-box}.gantt_layout_cell>.gantt_layout_header{background:#33aae8;color:#fff;font-size:17px;padding:5px 10px;box-sizing:border-box}.gantt_layout_header.collapsed_x{background:#a9a9a9}.gantt_layout_header.collapsed_x .gantt_header_arrow:before{content:"\\21e7"}.gantt_layout_header.collapsed_y{background:#a9a9a9}.gantt_layout_header.collapsed_y .gantt_header_arrow:before{content:"\\21e9"}.gantt_layout_header{cursor:pointer}.gantt_layout_header .gantt_header_arrow{float:right;text-align:right}.gantt_layout_header .gantt_header_arrow:before{content:"\\21e6"}.gantt_layout_header.vertical .gantt_header_arrow:before{content:"\\21e7"}.gantt_layout_outer_scroll_vertical .gantt_layout_content{overflow-y:hidden}.gantt_layout_outer_scroll_horizontal .gantt_layout_content{overflow-x:hidden}.gantt_layout_x>.gantt_layout_cell{display:inline-block;vertical-align:top}.gantt_layout_x{white-space:nowrap}.gantt_resizing{opacity:.7;background:#f2f2f2}.gantt_layout_cell_border_right.gantt_resizer{overflow:visible;border-right:0}.gantt_resizer{cursor:e-resize;position:relative}.gantt_resizer_y{cursor:n-resize}.gantt_resizer_stick{background:#33aae8;z-index:9999;position:absolute;top:0;width:100%}.gantt_resizer_x .gantt_resizer_x{position:absolute;width:12px;height:100%;margin-left:-2px;top:0;left:0;z-index:1}.gantt_resizer_y .gantt_resizer_y{position:absolute;height:12px;width:100%;top:-2px;left:0;z-index:1}.gantt_resizer_error{background:#cd5c5c!important}.gantt_layout_cell_border_left{border-left:var(--dhx-gantt-default-border)}.gantt_layout_cell_border_right{border-right:var(--dhx-gantt-default-border)}.gantt_layout_cell_border_top{border-top:var(--dhx-gantt-default-border)}.gantt_layout_cell_border_bottom{border-bottom:var(--dhx-gantt-default-border)}.gantt_layout_cell_border_transparent{border-color:transparent}.gantt_window{position:absolute;top:50%;left:50%;z-index:999999999;background:#fff}.gantt_window_content{position:relative}.gantt_window_content_header{background:#39c;color:#fff;height:33px;padding:10px 10px 0;border-bottom:solid 2px #ffffff;position:relative}.gantt_window_content_header_text{padding-left:10%}.gantt_window_content_header_buttons{position:absolute;top:10px;right:10px}.gantt_window_content_header_buttons:hover{color:#000;cursor:pointer}.gantt_window_content_resizer{position:absolute;width:15px;height:15px;bottom:0;line-height:15px;right:-1px;text-align:center;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAMAAAAMCGV4AAAABlBMVEUAAAAAAAClZ7nPAAAAAXRSTlMAQObYZgAAABZJREFUeAFjIAUwUshlpJDLSIhLGAAACQ4AFk79JaMAAAAASUVORK5CYII=);cursor:nw-resize;z-index:999}.gantt_window_content_frame{position:absolute;top:0;left:0;width:100%;height:100%;background:#0000001a;z-index:9999}.gantt_window_drag{cursor:pointer!important}.gantt_window_resizing{overflow:visible}.gantt_window_resizing_body{overflow:hidden!important}.gantt_window_modal{background:#0000001a;z-index:9999;top:0;left:0;width:100%;height:100%;position:fixed}.gantt_container,.gantt_cal_light,.gantt_message_area,.gantt_modal_box,.gantt_cal_quick_info,.gantt_tooltip{text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:var(--dhx-gantt-font-family)}.gantt_container,.gantt_container *{box-sizing:border-box}.gantt_noselect{-webkit-user-select:none;user-select:none}.gantt_noselect .gantt_grid_data .gantt_row:hover,.gantt_noselect .gantt_grid_data .gantt_row.odd:hover{background-color:unset}.gantt_drag_marker{position:absolute;top:-1000px;left:-1000px;font-family:var(--dhx-gantt-font-family);font-size:var(--dhx-gantt-font-size);z-index:1;white-space:nowrap;background:var(--dhx-gantt-base-colors-select)}.gantt_drag_marker .gantt_tree_indent,.gantt_drag_marker .gantt_tree_icon.gantt_blank,.gantt_drag_marker .gantt_tree_icon.gantt_open,.gantt_drag_marker .gantt_tree_icon.gantt_close{display:none}.gantt_empty_state_wrapper{position:relative}.gantt_empty_state{height:100%;max-width:500px;box-sizing:border-box;white-space:pre-line;overflow-wrap:break-word;display:flex;flex-direction:column;justify-content:flex-start;margin:0 auto}.gantt_empty_state_image{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAWYAAADjCAYAAAC2LL7JAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAOxAAADsQBlSsOGwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAACAASURBVHic7L15vGVFfS2+vrX3OXfqvj1BQzMLIoNEQdQXhSg4ECeCE63SAooEYhxinjGTL0mb/HjPl2cSE2MUVMQBIQ1PQEQRiTjE5BlxRhNnZGqg6bnvcM7Zu9bvj6rau/Z0hnvPvef27bP6c/vsoXbt2kOtvepb3/oWMMQQQwwxxBBDDDHEEEMMMcQQQwwxxBBDDDHEEEMMMcQQQwwxxBBDDDHEEEMMMcQQQwwxxBBDDLG4kEEXYIilgTdeyzUtwZEBcQSAgyA4iMDBANZDsFKISQITIMYhWJ07fALAFICWAPu0YFaIGQqmBGgS2CPADDS2CvAAFB6MBQ/pKTxw9Rtk76Jf7BBDLHEMifkAwuu38OB6CydphRMAPEEEJ4B4HICjCKwcSKGIfQLcT8GDAvyExI8I/FcY4Z4PXiSPDqRMQwwxYAyJeZni0k/yiCDE6SROB/EUAqcJcOigy9Uj7gdwtwi+CY1/r6/BN973ImkMulBDDLHQGBLzMsGl1/MkIc4U4AwAZwI4ZsBFWgjMgPh/BL4UKNz6wVfLPYMu0BBDLASGxLyf4ne3cEUrxnMEeAGFLwBx1KDLtPiQn4vgFgGuvfLV8r1Bl2aIIfqFITHvR9j0SU6OKfyWEpxP4rkiGBl0mZYKSHxPBB8NA3zsnzbKvkGXZ4gh5oMhMS9xbL6L4QOP4MVCvBaC3wQxOugyLXHsFOADrQDv/+hG2TbowgwxxFwwJOYlisv+LzcwwiYQvwPgyEGXZ3+DAFMg/m5ngPfcsFFmBl2eIYboBUNiXmK47Ho+hVq/Q0TOIxAMujz7O4R4gNR/fvhPg+s2bxY96PIMMUQ3GBLzEsFvb+GzqfmHAjx30GVZjiDl20GAt1+5Uf590GUZYohOGBLzgHHp9TxJBFeAfOGgy7LcIQApvC6cUH/wgZfIzkGXZ4ghqjAk5gHhkut4WCD4cwKvFUANujwHEkhsVQpvv+pVcvOgyzLEEGUYEvNig5RLr8clIrgCMqBh0EM4fEZivOWqC+SxQRdkiCF8DIl5EfE71/GYGPxHCM4edFmGsCC2CeRNV71Gbht0UYYYwmFIzIuEy67n+RT8I8mJQZdliCyM7VmubjQe+dNPXHTo1KDLsxA4fwvrK2McVAuwOooxIsAKpRACWEUg0DpeJUEQgqhRxwX3QpFglyiQwG60sLs2ip1KsPvRCLtu2CjxAC5pWWNIzAuMy65kDWtwBck3DrosQ7QHiZ9Cy+s+fIF8f9Bl6Ra/u4UrWhGORg1HMdbHQLAexCEiWEfKOhGsA3AIFjB6IIF9AmwDcB/IByDqV1C4T2vcjxC/+sjLcR9EuFDnX44YEvMC4g1buFbI6wH8+qDLMkTXaCjK/7jqVbhqqZDJRVumD69j7AQAjwf10YA6CuTRAI6CYO2gy9cRxBSAHwrkHo34HkFwjx7DD68+bxiLuwpDYl4gXHIdD1OKNwM4cdBlGaJ3CHmbVupNH9koOxbrnJd9ghtQx4lacCKIkwCeBPP+rFqsMiwiYgL3APw6RH2t3sK/fWDT0IXRYUjMC4DLrudxWniz4ECM+LaMIPKQIi6/8lXy1X5me9ZdDI/fjhO0jp+sKE+mqCcJeTJQmBnmgAEFGsCPBHInND77oVfh7qXSYhkEhsTcZ7z+Oh6pFL+4HwalH6IcGuA/qF3qiqsul1avB7/lHzgyfTBOVgGeTOonE/JkgZwMcBiMqh2IrRC5TQS3/vRH+PqXN0s06CItJobE3Ee87iaurrV4O4ETBl2WIfoLAb6j0bzsIxtHf1aV5qzNDI87EScqFT8VCE4HeKp9F2qLWNTlB+IRgNeGWn3ig6+RewddnMXAkJj7hLf8A0dmDuWNBM8cdFmGWBiYiHX84w+/KvwkAFz6f3kEo/ipgJwO4emgPBmC8UGXcxlDC+Qr0PpjP/uv4LblrKKHxNwnXPrPrSsANXSJOwBAyHcBHibA+kGX5YCFyL0Q/d7dDK6/YaM0B12cfmNIzH3ApTfwLJA3Yng/hxhisfEQIO+LDsbHrzlbZgddmH5hSCTzxOtu4uow4lcIHL6oJ2b3HdbEAdu5vawhvVRfWeZVndgqkP/vw+djy3Lw5ljmT2vhcekN8XtAuXjRTtiBkEtJuAcSH2I/QgnZdiTr5U7QkG8BrXd+eGP9W4MuyXyw3J/SguJ1N/L4gPqrIMIFP1kbcs2QcWW64eQdywsVkWI94m1L0suboGMKrpqYUFe870XSGHRh5oJl/XQWGpfcEH1MIAsf4L6CbBNCLuwvkjDnopqHQntxMIdaKKXEqvKJbPYVJ1je5AxAfsw4evPVr65/b9Al6RXL/cksGN5wfeMUCcJ/WdCTVJCpLiXklIypMwq65BkPGXf/RMmj9Oypovz9yk9jtxyQBN0SUf/nQ6/AP+xPtudl/UQWEpfeyL8medGCnaCElMsVMu2mDDFLdl8ur6HNef9EjkBT1eyZL5QhHxFV2NdWQS9vcoaAd8401O9e+1rZM+iydIPl/TQWCBd+nBP1Uf1dLFQoxa5IWdtVS74eGadE3C0xD4l6aSJXPTsQs1m3ywlBuzQqk8eBSM4Efx7Wgouuepn8fNBl6YTl/SQWCJfcEG0C5D0LknkVKVNntyT8rKVAxnZZk/BJN0PQetgZuF9BpaaJrH1ZoNy6T8xuWSkmu2x686PsWnvyX3YgdmqoC67ZKN8ddFHaYZk/hYXBG26MrgHknL5n3JGUHeHCErJvwiCgHUEz3e7lqe0xfl7dlGGIRUQlMabblSVbP70xXYghZFVO0GpIzg5T1Pr1V2+s/eugC1KFZf8E+o2zNjM87on6HiyEGSNHiqWkrClIyNcqYrplnapircXfn+SXP8+QiJc2fJLMmyF8hRwEGdOFSJDsT8jZdQIq4ZCcMS1Ql3z4fPnaoAtShmV/9/uNS7fwdC36M33PuAMpa2dDplPDWUIGCebIWDtSJj1SdmfwOwv18D1YopBEHTsbsfuxRCtivC18ElbKvCwSmPVkX2pnzpPzAUjMgGAWUK+6+pVy96CLksfCD4xYZmCg/1vfxziTmU9kQspi1zRFxBiWCW28fkgQMQSEdoRMTVqThqaWnQ0dPjKr63ubDJsaqklIXOo+t5+j6oqWRWMg2xegCNQU9EggejxAvH48bB48qloBQAQKoBhblwiUgIbCA3uPdKKoSUAU7IunwQI580Ag5xGB/sjrbuJ517xsaYUTXfZ3vt+45MbW3wBqY18z9dRyqmytKkZqvkiUsibI2NiMtU6InDpGrLXcuy8eu3cKY00amdV2cMlSN2UU3lCZ+1vL5L/ctiWONgQpIggAHjkhs8dNqOl6qLSoIFXBSkGJIkQgQYC8aaOtcl7+xGxA3isMzlvMacQ64QC58/3DJTdGN0Lk6X3LsGDC0LZ3z66RYojYkDJ1bH8tKVNDMwa1lh2zuvaDnXrlDBlkXZ3bsc8SYqaMs0G+ad3ncxU8Blm9b6Dobli1CFBTok+cVPsOH1cNUYrK2plFBRBHzsojZ6WgkkEXrtMQkJLBKQcA7jrqB+r1mzfLknBXGpoyeoXgKFmgqqutrdjVRWqKkEzNF8a8obUWY7YwKpk6lvumOPKfe/RKTZ22VbtAZpTgIJCMg/CVGlCmbNNOrzmeKzGzl1yzeKcUZO/fAKuqVITEAJBraQmaMdUPdnFyR0PPnLI62CsKlMD2FYOGcAkacgbEGL5SOzaN+eKAoeIsznrgFH05gA8MuiDAUDH3hM13Mbxve/wz9uu++aP1ch4T1NrzvoiTjj6tY6OUdQRqs37/dDz6w92c9I93uZacqqQci0zOYv8rGZyWJikxWfTrba0YX1Mg7MxYnnzn6SKgVK2aAmQJO2d+IHHYqMz82hq1V0RBBQEhyilnQBRV4NzrnKq25Fw2AGUJquauPh9tv2olyUUioXrlR14p35ljsfqGpXfHlzAu/PjDE7WJg3/YtwwzikcXfY6dXVnHWVJmDMaxkDG2z+ra3Tu5RtO50ZncgPyYlGpGWZR4zckAtHLVmyHiSkLOq+oeULhEVhJ0urvEvKGTnQuOIvl4J3VkSRYHjygj/09cEew5eqWaUaKMO50oiAqhVEBjZnaeGpa8HZQsbWKuKI90EXGvEwj5ydFr5UWbzx7stFVDU0YPGBs9JGxhYdr+ab8URWsCJI1d2fomO/MFY2gdC6kZa8r3d3GVTsaUZGNkFBcH0AloCQCAVchWmDGniD1Tp+cTli9k6eK8yubnJR7hSlqkDEkrGHL2zR0LceuMG06ugK5okhm5Sb/QBARG/f54b7xyXV03V9RVZL3mKBJBaw2RAKIUCUKEiHXqseE+Psq/QWoJkTP9B2ahxIgbt8cnafbiYcLj793BywD807zLOQ8sobu99PGGLVzLQPfP59ENnfbVMulc3wwhW+8L0pgvdBwL4xhkjF/s4cRPp7Ay9WcGkLMxs+R8PRRw7tdWIGS7WUpI15Fx1dvY6/YylF1K1eXRW8hxY3ZYu9s3X4JudyF584ojGaZHEuk2sUOwbfL1o5x90mrZrZQ1ZaiQEigoCQAVUpRTzWLtywIR4ZL20KiKGeI6MpNoeuVhUDvnj9koUs//+EZ5cF7lnAeGirkHSDRVYzDaxxz9UX30SNnale3oPmNjjo1K0maZOpJfTQcTBVLOj/IDFteGXELIpWaKMoIGitv6ZWfOq+OqbfTPIWmnoFXTIpI+rmRktMzTDt3xC2FXvX4I95ytchc6YrYmMFEUETw6I6NT49HUeE0i0RpKaREGpCKEWpRWpFLW9ixIRxOKvRVV9qXFhnd+IhM9j/bDJOlLRQDQlqcT5W96OjufihgNguitAP6oL0WfA4bE3CMW0rpo63uy7AaKUGtSE9SxkDG1jmXbbFxraKUyduWqodcFl7wFgE/ITs1p08HHvJnC97rwibANIZcHhp9jOe15k/tU8MhI0xRRPCbxbEm29eMtKZKyeMvIPWN3G6lhAhcxNqG4RfDwVDRyzApESpGaGkJCVAyRAAxCiE5Vs9hOQXM9nmoesClDJI0PYm6z9sokEKjkes2rKHStCw2m10Hdbafgyy6+afaqj71sdCCR6IbE3APUyok4bvXTxqxspx+SFwqAUcywwoCgMR0aSaSNqua2RjCS5kPXxCXz7nJlJg3vPPNGGSE7+7GvKNOLKyfjTKu5hATIQrpiQTIHlCfzNmeOEM9MkahkL31eaTPdmFw9c5lzPgSda/GI2FOaN0OsuStNaV3fRIg4zjTbH5vlyNGj0ZRWFBUEJAlBQAkEoiMopUjbGmBMiFhzhv+gBjxqn4jNghmuaIjWEbGYAATGsqxsayZ5j+juXW/+2aKUxhsB/MECXE5HDIm5B8Qz0FLro+D06x4M4SbDrmHiW9B++Gl690yFhMZUrMKMcoKtmk4p2KHXpZ4FvRSsCr5Jwpn2kCNkyaljd1yOjItEnCfhbuzPnYk4k565nczVVUfUVSQt3rbAmjlcCBPJXW/XBF1iWymYL8zzZ7IOqwIl4W0B7LBsk+dUhFDHEYwJLBQJFJWuCXREWNUMiewNUKCLTieSktmAFLMqvBtWd7h4IBTAuvyppDMzSL//5vVkwT+7q8tRL7rsVr77qnPlsT5cSk8YEnMPiGvQ0k/BTJ0NNJT5BWhd40yHX2Rc5HSEOI5kNqoHiVbyKynoBSWqMGXM9xIyJgnA2V5ZRqQVpgq/mqSd7O43b8coO3/Vznzaig+Tu4aCCcMnUUl+Soe159PBEblkTSUu8473vUSee8ScDDLyA1PRtrioRZT5KFNTrJIEAEQRpdGYVmFY05QYijVopaF0CAk0NLVAhM6coVSQPgPbITgoxex7fGY+4GboIkQpiGiKElAHAqWglPk8iQQgBaKU/WJ5niYxujFp1Jqt1isBfLCvF9UFhsTcA8ZqkNlmf3vSihrJDr2mFrF0YGPRJOoZ0Ii0bbNlkChV5r0zcosV6JCgTCX7/S3K7ssrXk8lp5XLTyPZtGWKuV2ZO+wulN9HzkUuq47p3VIUVbR/DgEQ2GWrVk2sKWavrRfzRsYcRWPLJk1rihpJPBVqAEJGkTN4mHgq3n1tRLEEpOgwoG7FooKQlFiUDmi8NRRoh2zHOoKIiECYXPgScJczH36VxPoQpQgtoCiAARCA0BqU0OwTDfNS0nqamI9lOoK084MQyPkgr8Qizxc4JOYe0GpggtJ1teoKxWmfbN3V1pRhXOUYa9cJGIvWNgy+U2XM5WfoPCXnsvP0CoFnmvDMFqb1iyK5It2PvNpxv1JMn10oXe2OsP0kjuBy+5grN5AStVO+OZJOorMl6jiXnwAIxDwDbe9TxrzRjXrOK2enjI1a1nZZrJvl49aNYOOpBwUnHzYuK0fDzHGOhNaE8TqlQFGKSchQe+1m3VePdrslI0lv5ODhvUetmNy2rxV9677G1PcfbM4ICBWE1HEEYQixVhkvoCILrbHOOOLiW3Hyx4D+DSzrAkNi7gE6bEyIDvpGzAQtD1j7MlykOIo1JhuVDNvZA0KLBhhLkRHy5EtAhMVYy3MofkLKvkq2xKQkS37i/QFZheyrY8lty5zPK2MZoeevpaqu5S813zxxZcjzYPKh8Ena/TqCdoe0IWiFavXclpzdx9VBw7WkXOxt4+eu8dwnTMofPO+IoKbcB8MSbc6GNBqKBGZEoKTEDPi2VzdPYOmXbwC8XH7KtAkzGgpWjowEx64bGTnhkMbUjd/ds0trQgU1gjFAAYUUaEAC84mU0qtrX46odQ4WmZh7G0x+gIORmljcE/pKz9oCXQUHwLKa3VYZt9nHij8AyRtMV+ndpnS7n8wsSqIWzYZUofmpnD023eTS+eSB9pWobdlLkMlPsufM5Cv5xNl09K4TuWTu/J4JQCDW37iYT2XZXQuIZtm0lUzslKNXhwkpp1MhODOHT+6WyHUsYPLxh/sA0NqrtdZCTbGtNMkUJinH4v3R/8vfnkxnKPGkw0Ymznjc6ARj7UbGwo0FsHZ3WM+m8nrTDiJn93bA/DFUzL1AZCX7GFiCtqFIL9P013biaNPbmLyC9CZitZnkzRRJbh3m+Gtr3nAqGQCEiemCYuWiG16dM1sUmvq+DTqvjhOB5hMbUUnCnRROXhFXoeRDklXFuYQZ8cns8Y40fQXt50ekw7i9gmVfo7x69kjVEpD46awp42VPPkSFlpSReUtM/ubDmGYsYiU7tbXLuu3+pdrnmyvPQGLO+R/KwjtukyTpiDOOW7Hiaz+f3iexkBTAOG6DihTRAANYp+Yey4HjNn2Ok9e+SPbM/WJ6w5CYewAD2SC6f51/ZfxgtuvExGl2aiFBMc1XEXFd9CBQEh/DwXVYMGvO6GhvTkwXLhvJbvejwpWZLfImiwIh59KU3YT8trzSble5yvYlxIVy04N/XELSlqB8MnZ252SbZAha7H3L3OOEnCU5TuwHOb03eXL2D7YfX63TdNQ4cUO+AecpXHhlsOVz62b0YvlAC9NJNgASLkPVe5rjawEgSnHliASrR0XtbugYoimaRKAhUPQGNabmjO4vU0Zb0akAvjr3i+kNQ2LuBTEPg+qfYs4KvLQSJXyQ1FdTV+heLm/ota3pVlD5ZOAtez3KHef3KyNlR6R+z7xHuoWOPe/4YgefZI/Pnzu/3Ml1rlu4mpgnYd/u6zdbMiTtyNdLVEbQ7mBL0IXGlesktS6XleSc8cZIy2nfA1qilfG6QkZdo+S4pEg6uS66D4glZ7NO6y5X/oFYKhOSuUaVWTH3zHjCmfs4WoPsmo2pdEAoDRpSNm6Eou1sLn5m3SGmOgVDYl6aEMFhVbpmLiABaBvtwFZI0waz9UhrO4WbHZpNO6sfsxyRIefSk2Quorr87Ui5jFB9Ui5N025f7rzwjmlTcbKBdSqvJAuf3/KX7zfbnfL1FbVP0pn0OYJ2JhgXs4LpvWFGccN84OzzFnrkTMuahf5aT+4ZMYisDdlPW7GNxsIqCTkbk4W42LAi1n4NuCZR5pvYt7d+fkhfeXOv3ChF07AhtDYjA2JqBFpTApJaA0Fg3b61MXGAJQOb2kEf1f+rqcaQmHsABYv6cAAblzkpQGcv/3b1p615vJKUc0TZSSUXCNku5Am5SzIuBMyfi3Lzi+p/vxJuZXniDKPndvkE7Tdv/Dws4Qpy6jnJyxxTUM6ZD0NODYMg49Rf2VfXSfk8abwAIICHWpQyKRBAsCFcBBq3HxazqEWgyLSJiSQYuQYQmA/R/Cw0csx8ju4VQ2LuEudvYZ2IHt+e3XpDWUbmnUqNG0nLltqIKa2F0IkES/MwZug5Vca5knKedMvMFu0IOZ8eHYhYCom7Q4Z3WeBP8cz0mYBLiQnDU9F5goakeZapZ8/23Imck/P7BFN6PW3UclJW5nYxk6W7hGTdKX0AQGwVtJ9Dao++c1oH79wW1ypKh/etD5tPH+vv3HlFUnWkTKQBjgjGsdEvSlGDxueHGoqKiTTRBJT0VJMFOLgPl9E1hsTcJSbqOAFAiH4PMPFVTp4wBEhH/cGSIlDt9uObNLos5nxIuVIllyjgNoRcOXtJCXHPCQUitYspKyVEWUrS/gF5gnYEnBzkyp2xj3RFzoVt/kcESEi+iE7Pun07yhBb9oujCezTIpPJtL4pz+6K259tp9ZS9tB+1IDaUBOuUb2rByOQVWFjMiVW8gBBQtPMbgiSMexEtPRFggjYm4LmorrKDom5S5DNU9KXoH/IjFAWGBOwILU1GwoWSFpLM+9TxxL1x3wRKMEhKwIZrakScvXTd1DJ3m/vcZrnx9DTLY1HZ0wI1ew5nDJGkaSrCBreYiafEvXsElibaGezBrLPIWk2+XBfBxQfMStXCoWWTJ+D2f7NWai/2xXXdmnB9YcGzcnsnOvYF7fvCpwqsbjd14L8ziNxva7AN6xS0caVEgftMikrNbVHzlml7D0bWvFE11FqSZjmem0y14naJQQY3UyqzbI4s2gPiblLiMiZ8x7WnAM1bQ+9hvac6s1yGkFMe8t0aZPXo6Jyou1mgy5IefVYgM3POTjceMqkmhzptSotPTw2E+OaH+2L//e3dsaN2IlBn6j92spqghakZNmLeu6GnMWzOYsAJVzQ3ZvI3HLy9bHfoNRsQggeiCjv24XwK9MM3DF/uzMONx+kWn6uUx1Ovldn5w3TAK7YrmsNAo0Y8t4dunbzXoRvWxu0njHa2xzk9Nz8xLsuE8pUTIwQIhmYAphps9wHU2kXPwNeWNouzgsI3tVLSeeHITF3gctu5Xgzjp9qO3/7BiYkmI4eMwNmzeecpscZLmiLc8Y0JJpENMpB6Lr1Ow4gcYttSPnO1x9dO/GgkfkaE5YMDhoL8Aenrwp+/bAReeltD0fNiDa2hU2QhMsEMh187RR0opLh3dfUhFFFzibnMhMGkOkQXAD3CJG0726KwEd3I9yyF2E+Rtfnpxg8fwLxGWPQv2iJfHuW6uuzbPuF/sI0gxjAk0dEnzoK/em9CL7bYMYOcW8L8rZH4voZ46J/b3XQOrrWfd2SCnNiGttDiHT0ko1voKEkTIMyibAXrwwCrc2bF0ctA0Ni7gqNKDpTBPUSo+684FdXwKzkwpNnWqygEU9JU9zZlAvvtHspS1wQ3InFNLvF/mbMD3Z583MOCpcTKfs4c8OoetOvTQbv/d6uODEdEGmEOCAl6eRBOYJGStD+PveTuWP+ffcIvOBt4R1rTSDGI8y+FCbYBrwMcsd38Wra/CUXVu2ShzHyq6jaPHHFDl2bEOK+VneN/583KT9vMgSAyQBs6Orjvj5N9ctmXL/5iGC2m7wBeN84DRMR39uXDryC9UU1Zg1mjoR438RuIMB096nnj2GsjC4gIi+ngAvx58QxUdwn/ja4wPn2OO+tSqtpGUH76gEZZZyJ8ZDzMw6UYOMpq5b1+/GaJ6wwQz7E/rlZlZJfSQfVuHXPhl7dEerlo/zt3rJ7Bhlfce/Ywjky1oEc8s+9inHo2ZRTXnpSvb05YXtE6ZaU89gTQxodCPCFK1TUW67mjU+yNS0QJvXDKJxinYJX33qtp0q2zuHy54yhYu6ASz47e6yO9dMWJncijRrmL+d/88tzFO4l5ooyUoYA61cEslg25dvundZRNy3ZSmpoxxlpvmceOqrWjabXdOyqmuRd09ytoMuWSMnZmxXEH1qdmjeqTBte2ygZ5WG3V9qc03QCOwlBW3KeK4hLVkl0+zSDuXDvsXXRzx4TfceUDh6Mes9gZQBeMMkOfh55VJ2mrJ64bapivTsQfKi3Ms4PQ2LugCgONrnZ1vqdN0s41pxJwUTHMqHxhbCey2ZkoImUZWFszRmTRSnHOaaxHJHa16TQ/BYIavP0gOgFv/vlR6NdDZ1VlUDut0N58rtL7sHtLz609oxDgyRl3anZsrjLfjbiLdAjVe9EQkuuLj/ftIFMJtn9jpxRQs6Q3LpLX359nZA+Zu+BE9gQgi+akPiWKfT8Jf679aq5IQTPngjiix6KRzofkcWrV6popZI51y2/BeC8SL3BsbaZqZy1ip4FqSd3OU38ZK5lnAuGxNwGr7t19nhqnos++y47iGStwIAydjPxYmNAZXyYM6yRyjxryegQ0Mi+iZnOPmesUO4cXtN5sSBCiHPDc9sA5Nk2XyTfHFPIM11MgvcoX9a6dIoZw74/qIQ5Be1iXdDud+ld/mXDq33lnNlmyVml2xNvDHcON/2R0Pya0WwC1Zt9FDAEJokJzP+omOWnj6n4lindMzHv0ZANAPfMsVssmM97JsLUPcmfaNXeYecmJ3Q+zImLnHjL3Z1Kvjf3gvaOITG3AbX6ffsIF4SYDa24mJCmMpq+cjd7ttg01lPDrbuXrJhfIhtyp4FTohm7sh8lDj4pY7GJOTuBa2af2yyFbd1nL5WH7X7D0R1V3t9+e1f8rm/ujDKC2a24e+XIGSWBiYBys0ZmGUlLJi+oE3tz8pFWctsRbAAAIABJREFUPd8DAJgF8Nc7gtpzxhmfOWZcd0SE/9EQ9Vfbdb33HIE3P6Lrp9VFfzPnddEtPrgzrs3ESt60RloAsC2ifHwPwlv36fDvDwkaTx4psX+3U9hmpDgFQts7S4Gi0EXDdi++sKyqlEGAph4Jvz+X65srhsRcgYs/E70C4FOxACYMB9NadWIXpq67P3jrSEWWiMDv5O76m+ErUV+Nir8NKdEsIi8XPgRlHwr/N5+wI+b5CL2BHokHndueqOdUhXZNzs6WnEpqj5yZHlrWsdjzAyI+sScMb5+R4PYZCU6oQ1+6EtGaEHzHNo7MzvEW7Y4pX55p7z7XCR/bo0ORgA1N+fQ+HbrOwvfs1LWPbQhmqxmfSV2wvbiZjnS37JSyXYa9yV2bMjTx9U/8pkzN5xp7xZCYS3DJZ2ePjbR+28JzU75zD95y2XZ427upScyQXsGE4auxfO//ovpjONZDquoLZDx3xdyG2bs/PLFppK6wperZXktHcnadgBXknDyD5FFL8pzSJ989mz4ci3xqSpL6/uMm1Du2GzO7P/H7cXXRW1tU0wsmR0yH38GB8BfNVGVfs7sYe+PHDarP7GX40pWS89rI2/nz+/y64/7E+0VuuT0Ckdu6SthHDIk5hws+yzVxHP1vEdaxgGoZQOqamodm0ji2cwICkELoBMCV0Nua7wxM1J4zFSBLugkpc978NWdYE3Ny7sIADiC1p+eP7ZC3f8PmM9FxJrhRan/O5JiL8GaSlvQJZCzdjoi9fe7YxNPR/orO7iu5eBEhyXzJ8E97VFjmtuaT8uWrpXXJJKIHtcKrHojHOnlprAuE60JwrRJOkbKtBXksZp5FMxhXwn8+TM0eFAjfu5O1T5UQso8rd+va8ydUPFFmvsjcAls7rK+c6SW3Q4I0YeOopxPMsDsbs4j86uhvhV/rnLK/GBKzh0tu2bYyYuvvqXAkFpiUgcSEbJYBwIuP4WYoozGaUUBoaxZj9mX0Xi/73qU91WlKb5Qh3I//YmZMGItryhBl1WNeHZeV0aFXRV/ROfW97c3Mc56oCR4/WStjvFThZswO/ovSpXLOEordlm01JCYN/7rd16vkAyri28SyuCcS3jVbMl1JDseFIES4IQDGlLBVMjDk5BHoF0wE0VnjiA/JhPc0Sac05d9nRH1pSod3zTDQueKsVsDawPgaH9tFeNDtEeUjuxi+ZS2SYeF+h2/qlZEOtRaQFEnHA5jk/jLYZecfBR9YzBF/DkNitrjsVh40y/hvhTwei0DKBraTD4BYFznz2glIZXr5Rawrlms/Q5LWmT0SVb0Y/kASR3y5aaEKJozF7PRzcGaVMhOGeGk8lE6AWgb3iaqIi/Dszz3c9NOdcciouu0312dVXEKWrnwes1rTRk/kXBje6Z+I2Y+AM2ck1g7JPrdOly/CD+7tLirE3+9ibQcFd88w2JMj5aNrot+0RrWePY62PscTSvi8CcTPm1DxL5pU79/J2r96NuiHIsoVj7F+ch36o3t0W7XssGWvrr18MogOzxF5NgBTZhsFyipnN/RaKFSJHcp1CLYF8dWPnVe7q5sy9htDYgZw8edmj5uNo/8DcMMiMTIAQHu2ZMLMXpz+09CFbS6dYeW2Zc0pTQLZUWwoU2Re+kUkaBcXJClDCRnn4zR32aGeHmN6TovnDpCaG8utA8kHK5n0tCT2RXKPc9v8jNM5+PLKWbKmJv8456XhztjjY/llBPw86u6gByPIu0u8M547LvFfHKwavQ7OP7Yu+m8OkcaWPQjfuyOuO0a/dZ8Ob+0hn5qAOzXk8Jzhzgph+7/5VJs6A1tHaC3Npv+Pnl2Z0FBtbybvi2v1K3ooZl9xwBPzhbfOnqtj9d8FHMEC+StXwYkwt2KUF1NhJW4/zfgD295tH8SICZFAzIFWdUlyUp/80rRIFKsIZlqL13r713MPreebvAX04TtxyGiQyWUmsmrW6cl2/UG25dGOnKuVs9tS4nmZZOGbNLxy+CyU5JV+pMTFGa64f8eFwF+uIt+3D9gW9/61fe2kar15rbTmc/s3TiI6qhbwHY/GI80ea9gZYxL/8UGquT5Ir7BMKaf7kAn7mXzXhIl3hpeuPA/wsWCk/vsfP2fxZsXO44Al5ovu5DqZab6dkGfbTYtKyu6MmT4feIaJpM+HGftz0pLOFNezKec7klxefudJpiksXqVP39rtDXLrvogbVoQLLp2PnFj4c5Thh7tbGirpIoJt6RbfA1F0M14kg0gcOfsDRhw522eXDChxG7UlZ/eQ3UQ0/tUTSAaVuC+qKFB5FgT3MS3Ae8QeeT19BPzkmG6+f68Kb52SsNsX/exxid+8Fi2pbEp0j18fQ/yOdap5xWPd+UvXBfiTdar5ohUlfYl+ZSnam51goe3ZpLUemSfCJI8KYuYuifRbrz5XFnUIdh4HHDGfdRfDo/Y1z+Vs8zKIrMQgCNnC7/xz6+aP3rJdB1ITQ+aFordka7yzQzqbqO91kTNxFFSY6ykBcOV3d8ebz1y3bN+RD/5kKvbvjRvcU0CmNcEsOWfkahvl7GzLQNaEURh16K8jfT55n+42KFOUE0L8yeq49YNmoH7Z6twReHgIvutgaUiS3/y/neetlNb3ZqE+u093fKdaBJ42rqLSD2XOmAFbRiZmDKQBjcRWC6uevRZqwVpHcG9Avu2al43dO6cL7COWdfSwPC6+pXXGUXubnwTl7aJlZcbNcRB/9P7y2/xllGxHyT6gSLwl2yo7/HJmjr/71s7o1p9P9RhgZv/AlT+dim68fzqGIBs1rqpG5DooCzOI+8vup8JklNx/VZ0m86HM7PeWOyFHaVsjkW5IGQDeuFqaIyV5zBdvWiPNsS5iYxDAl/exsyjI15GyelW27Nc58xerlvyPa84d/WmPl7QgWLZqyMeFn22cIpA3knySfaMHppJ9JM1aABAze1RivhRJh+cC1gPOVex8Tt7l2B791BOjjVou/GZJIAZwwW1bW5tOmtQXnLQyOH5NXcZLPMk6XWU3mxYD+yKNH+5u8ZpfzkSfe3BG+4NGqs0DKN47pveYmS+i9xycBQNITRni7XPP3o3wKLMWSH4111lbWlD/1fYzJb7VUF2R8nF10c9foXJdhv2pMutC8JUrEX1iNzp6ZHy7QbWxdE9WKaflE9NXKna6H7ED/5LwuuLZmCVnyuD7PvaykW/N8bL6jmVNzJs+33ya0ngtiNPsC70kCNnBr2TOrJGaLFAYmu2G/2toO1VDfjAJgMScgWIlLlPLHZQZAVz7X3vja3+8N84obHH5IbdNsucqKMo078TTIn9+oKQ8bUizE8qeujtv5iG0abHnt/vknPe2cBnb7Ojus7M3F0waflmQpqEU703+I9EGswR2aWCaQByL+tdZ6Wro9PMn2o4RmTdeMCHRJ3azIzF/Y0YH73pUjUwE4LgAKxT4kpWI1gZijcelj8X5K2fiMSPr05zxYxbwix9/yciN/bzG+WLZEfPmzZvVz576zl8PhBcyxsl285IiZIc07GfasZ6MBvSErim8cQey1j6itGfaKWTxjaYGfvKq5rC/rvLKGwVySLnSS+NWHblI7vhUsXjHeGSVkFBexTLJ25SvePXIJc3AdzLJ1OjMTS6HXx4f9oE5b5o0X0e8+WOyaQQwpK6QVc1utJ/pbUyX/b8yQvfWZwhsfExUOnov7DpI0bPGEGduUhkDzgPHj4jeEAq3tpk1BQCmNOS2qaw9ek0Q8NyViABYtVyw4SU3TZDEzU+6bdKgNIakCT4WxvX39u/q+oNlQ8yXXXl3bfbIU5/3C+rXKPCopaiQ80jd4bLrvqilc4gX9wrSmzGbsK1pSQ6AJT0XThLIkqHbIJkd1Yos2S6ZXylNLx4pl+STIWW3LXcDSrfb31w0vHQ5V7/9OuregMyUUenuAvFXNPYzE6T6yJs1vI+qM2Ekz84f3ZcnU/dx8lUzcqrZlaMLkmxC0OqcrIARAY5LZjTpMyN7OKEu8daoCxtyDhQNSRxLsuVL5vyz7nKwSjk1ZXgq2c4QFGt599Xnyd55X1Cfsd8T8/lbOFYfa754RtRGxHr9oMvTC+jUMQBq8we7Tet0P2kFlfebyQcorz95ZczcstvnkwmQkkAy0k2KdTRZ905Cn/yRkop3TObjkOTjE3mFSsuQsn+OkutOkCdsS3xepNVEhMIvQ1Vuntmi5PwpOeeYl/6qZJpEhTz97P3jWLJtHnhcDfr0OvSdsxLsilOqX+v5C2e+HX2WOAcH2as4OADPGlfRv80yeLDVJoRo7v4k2sN7XzRtFFnaemW9D+lNkA0CMeTL1/5W7Zv9uqZ+Yr8l5ktu2bayqVa9UlT0MlBWJupxfwKZDL4jKG4WbvOyabHSzk2OnaQpXKTp2ACEkri/itdedqIuTV+ukCvVsrfBU/QFMhPvz99XUMq+Qm+jkgUeIZcoaLvcbgSXzpCed15/UEmyP5+5X5YckWY+aJJlLqbpHRGnqjl3DW5dwQbG99NI9l4mDSPrWZzpEWbXhK0EeP/BurEmAJ85q9R/34ZRt2+1yudiTtFuUMdcsCbIvsbvXh/MPmlU4vtbVC9/IB5vf3TBfJGYNQT0B5ZkVTPSOQ8JRiMj4Yf6eU39xH5HzJfcsm1lK1z1ipbmK0QwkTiT74fwS+7LFH/iC8JTziDd4NK0OW6P9HnAKYMCscIjuHyl9/Yro/4yZFlG2gXCzuXt/Ul+mztXnpT9/crb7l2H6sGnV3lOxdqzACX5lhF0GRJizMe+sHAmDboBJEny5NdxeEY1+x2ICZl7x+bLUPZMUZK2HQjEpvXCvLljr+txFmTIuN8VbHcuFkdkLXKdzC/V5TCFJszUUvCmlyLtNgDuVzG+7epzBjuIpB32G2I+fwvHxsZbG1vCVwCYsHEf9ktCTlBW0awiTe3NdiIGM+EEs4q1cKyj5pJ8rWZ29mdHlG7eOyBLhPnfKrXs4m8oTxFDMj66CSnn868i5eS+pNurg+Z3YudU3Sovv8zoPcAQdFK385DUvcqN8NMeAft/ChCKUeqJkrZE7IrqC76MvcD+KvGDpdllAWKY/gX3giB3bJe1QQO4bJsaPa2O+KuN7Dx/22MryAsvWX+r2rZcx98fP8rRZ47p6D9mOg8+8ZFX8kYZa/u+m/in4tuXrbdGa7qxpLww8ljyxExSLv584wVE8/Uk19mtgy1U30AUZ8QGip7wZX+5fFzFzMVaBiypJQotsyOXVlIi9ZKVLufWVZkCl3z6bkk5e/5iZ2JJ+SqRKkD/PrmPRZagWZ6nK1POhJGoY5u1U8DpOgomCsftKVnb722SV/6Z2HkgC52A3Vx7NbZGkK1Rsf7PaMoDLagj6tBd3uA54RdR1o68M6bctq+zC12tYFIpmjXS+hR4y4DrWBClv3H9a9Y9OLeSLw6WNDFfdEvztAtva/wOoI4zW/rdBTFYGGux7YliMtkmCGXbXgKtEzd5O5eyINZwo1FINwQbjlDLKneb5aptJQRepZZVmVdHgVTL0rQn5VJCLlPMVV1FxkTvqUmPpK3aLQQmquKiEjIFUOQF2/GnRMwA4W5Vs5TklV9uty2HlUK8ehzcqQVTBGag+atIyWNx56O/MoNgUw0l0Zj7g181qe5tdh51vCoQvmk1misCcKUSrgyET6insZHzphaB7TSHkFCkKLplMwegAiFEM/rSwlxZ/7Akifl1N3F1XG++mcCzzWSly0YiZ5B3YMjuRMakYdK7Tp8kUENZJXYRELPfsa6IuFgGf//TDhlRF584GeTzyIfkLBJ7SZ5Kitsy6xUkWZq2DUoaF+VpzC09ZFQVc/TvT/Ldyyvd/H7vXKUde7n0+e1V20pRtEsrAK9bQboPyYowbnxmWgd/vauzP/NdUwg3TaJV+Mj3Cf8y3R3v/NoI4pdOqpzZmRBxHQPZ8qUzgSOJk4+s6xwEaN77s698oz9XsnBYcsR88W2tZ0VsvkUgq7BMCTmDZHbl9F1z5rCkX8+JPgKgzjGBHyi/oimeJE3+K2kLS5Zk837LAI5bVZeLTlyx5N6ZRUFiyvCUr0+qmd/2qjmxLPkHuY5D5BQ5bLqyj1UZibfBqXV2Fcv1+w0G/z4jwTPcQJP52k087NOQT+3uLkD+qaOqPE5LiY1elAmDa3VMYvMTF8vINosYxz/++h+dNz3vC1lgLJlK9obbubYRN98aI36maXEeAJzs2ZKTuFiZ8PgmKL62v34wfZcDgEwFTcYQeio7TVNMn6CdKksU46LPsLOEwGwLJDFLMJ2XMaOCXaMm/6yYcHEmH//XnYuEm+cv89czT5pzH1ODPrIGfX+rsxnhfTs58vQxmQ7SC+r1pKX4yC7W8rOjVOE3xhmXnde9/5LZZ01/uXpi6k/quE7inj5cxoJjSUSXu+CzU6c32fwghM9AdpTOAfMnmT9xJmVv5JJkj3HI2JcBjw18z+UiurVjLpCdcb9E3gZddY+87YlrX+L9ItlDuvlIdnpWXWJbDBnpUvD8rEn1N9sxkpy28I72/ve1GR1ct6e7eMwA8IEdrG/XxXO3O8bUHaENfm3rj6TH6sZ93Z5/kBisYibl4tvjV8c6vhCEkmXWudcJQvclB5g2wARUBBUE3nx/VBARmLDuudrpXKiYs1R3Y6MsrfxFM4bBkviOLz5ci8GZHzKdeSW2Zj9dmQ2ZufzchsScgdxBKDcndFNb7Gv12WkV/OOeoLavhy69G/fq2jF1Fb9qUuYyujuDnzap/vxRjnacqcbDl6cZfvv+eOL310njJSvztmaD0oEvVASUaZAGQlOfAFCoWs2H53gJi4qBEfNlt3J8+vPNt8eCZ0K5rpcDC5n5rX1zhJimbFK/ARtVjm5sn+3dcM3bEpj8PGXtVciCD6ynutuRdwkvv/ee3dEtv5qJ/SHT4ogs77Ps96tlfJq9Y1wZRKXmmMxgmT5IeNt3mlhcCQA69eKwt9XZ+LfORswQanIMSoi2zTK6OKZqX/Jb8Ywq0IJg826RbzXQtVL18Z7tenRrS6m3HiSNuX6W75pi+BfbODozBz+PPRryrm0cfSzW8rrVqpnZWRHEiGKcMdKocqSN3shWHTNzvIxFxUCI+aJbZ46aCVp/AWADDgRjcgXKzL5+vxLgRJdpSwhdWAUtCYEI0sEIyoYBlbwNzldlyJ6wUKDcvg4mjfunYn5nR1MnqlKAJIhSvhmf8V9O14vhQQVQcZHk+2VWIVJydjc6TrcBpiVMf93dgyrVbJ0Zs6P+7AHuOOed4aOMuP19Vei0z+apQGxtze9rdu0eXf9RQ4LfXyuNk0al64kTdsSUK3dy5Oa9rM2nd0IB+G8jEhc4OPehFCXphD90keXsxGG0jYc9M/vFxA+LTswX3DF7PCP+FaEnF/vcSw/5wSX5jh7k1v1pTixcyMgydCDVee2rSJ+q7qw5pBgHw6r0vK+yIBk1KH7afpFyUjTDXgJLzqlVCcWIcY6IUVSzfp4VKllB7HBwmw+9cwMJsVfm6//2iADApSs0/3JPiRtgDsfUoS+ZRPObsxLcmhvs8Z0Gg9dt5fhZ4xK9cIW0njEuUdms2QRwT4PBv+xDeNM+XZsuUcnnT6rmySPUV+1CfWu7gEUWL16hWuUfhHynJDv+qTBY0FjT/cKiEvPFtzeeGEXcTMg4DkDTRR6FoGKuFU1PvEGScCCmR9BYNE0ns6nlySi2Qs2mv+SZNXLKOaNU3bpTs5ZHKkSXibzkhUgqqOO8eq44J7LHJYITqDz3vODI2T4EM92fpB852xIpvKRmftT0V6dpkY4RKpgkknzch8cel3VgEzs0XIHKmVbSJoYLAZs0I7q8Lc8cAU8fof5Wo32g/DevRuNZ4yo6ZyVaX5tB6Eedgy3yl6YZfmma4YgSHl+DXhuA6xQ4TcGjMdV9LartbQaxHFET/YfrpGHea+IvH+NoVVoAGFfg766Vhr/N7wB0CyoJTiS0oatovbjdWC2ze7S+CsCSHvUHLCIxX3hb86mx5p+KSB1DUjYQV0NtXEJRdkAfRMR08iWh5Vz72VTKfNvayzOdwSRJUnn+9LegdEvSdMyn03HttrllyS0vBCmXnS9Ru45JPdXsj/bLMGxqxmirosv25dNU7qxe7QW/Nxm3Xr8tCNoN/LunIcGzxhHd24LaF+u2zN/QlHsycTa6q9LbY8jWWOSwEPqHzc5q+ZLVqnFwKL1bQqx3Rhqj2awHMrYewI96zm+RsSjEfNEXW2cyxtsFDDEk5QSZ1r0lCebISdI/Oy1OGirU2jnNiFMAbW9tJcG2qe1zJYKC0pXcPrG7M1+G5DdJ3W8TRhkSrwpPoVd1yFVtczskZ2cuPV/V8RVpCjvmhmNr1OdNsPXpKaml26DPnkDrml0ciSG4Zjfrd04z3BZBRQt042c0ZeMD8cSaAPTNGC+fVM2zxiX60A498oMmA8Co602rg2a797ow5x9cyE8pBC8SAeMgOHpBLqzPWHBi3vT55tN0S7+d6H22guUOTRsNHxpa07RrtQap01iFmiDNfk2CWpvjympuZYVug27Sdqmae1Ld+W1lankx0I5888tVx7bdZxaUSDY2dKcytCuv/9sNbNrLJ+PWnTMSrg3ASyfZfM4EolAUjwjAv9qBUU3ggS4Gn8wXs5qy1bM9v3CFtP74IJlVAJ45rqKvz+jwk7tQv3CVNGulg5r8i8/2CGpbV4SmvogmIBrUGtSEBOrXFuzC+ogFJcuLb288Mdb6jyAIZKiUC/BH3roPf6qYneXCdDAbxUyY5pl3QOG20jbjgKxfs/8C+y+7Sjf7v6WoalF2odTb7asyhSwqOdtblpCkU71Mlwt+ye66meRR3hnL7K8b1VeZxusEltzvPKrRqkD0DYdyemVA+pMLvHiFtMYC4Z9v41izx+wPDsCnjUn0byU26W5w9rhqvWu9zPhfgzPGVHTGGObUSZcMJBHa2bI1IMoONCGVUse9+padF+/dd/9Nt2160s65nGMxsGDEvOlzPKLF2f8hIjUMSbkS3hgTN3tkWg81xc3y67lhZacwMd1/ltVtxchTdsI43kbnYlfFD2Xqrd1TrFJ87UwAiaK0v4LEC62rie36hRxvJssJJ7qbbu3JeY6s4NTKNARcXOfSdN3+zeEyVyntviIQUckkV4+vU8dzyPN9G4Kp4+rQ355lcPlDnOj1+HtbOiCCni4n6WFRSJxtKabv1fr32wanoh33Y37t51DC2ktXrXn8Cy74fPNzrbB20w3Pl929lnuhsSDEfP5dXIFG650CNYYhKVciMRaLQESB0JDUmAw7j5SVzonrQmJM69zs9YLjszhgsLfCAt2O/FtRE9kXVbXbXdHSwgQCnLo6VIePhVLzvTYWE86vGcgRoPvmMb3f/uwxGnCuFXsaGt/d0dTbZizFdfGMykzVi4H8KNuP7EJ9Lg6+Nfs61uZY7l+2oO7Yp2svWFE+sq8MHae5EkXX+ed3Akq6HQKMQPjSkbj5wtfe3vxiA7VP3/AC2TG3q+g/+k7M529hUJuZ/ROIbOh33ssO2kosN/sqbBO38Gddp/z1DNrJ1JIas8CV/+pnrKu//Vs7m/fPljlYZ09+zvqR4D1PXFk/cixYZCZeGMQEPvWLqegdd+9szjR7cCbo5kPbFt0c7PRxdtu9LVFfmEJXEd/y+L2HOf7MMUR3zcy9D+kjuzhyzgq0+mLcTj6Wtp749UibwBumrhlPKAIjAF8ygtnnb/r8zOeUGr3xE78pU/0oynzQd0P/yGTrIig5OW2CD//m9sfiOoztjEhdgLLVscdYI11TYW+cecyKUD579sGjR47nyDaXzTnrR4JPnb56ZLmQMmDU/4XHTYRbzjp4pPOQDnj3ZHC34Ma9UusUw6JWQfwPtKi27NH1bRUDRZQAazpYKu5tQv2si4EmDtkIiwZi3f1N29BN+9d9fdMidYq8VOvZD17w+emXX3Z359lUFhJ9VcybPj/1NCr9EjmAh1n3AkpaHd0yxesUdAHx3TahG2Ngup0X0w7bI46eCOW2Zx80+uKvPjZ7/0yx2isB3nPKZH35UHIWzzpkJHjl4ybCLT+bWtiRZvk40d0ckumFEFy4io2dWuTOKdbKcjipjvjKw4Op7zQQ/Mc0w29PM/zPJioHq4wo4TkT0jp1lPFvjKtWQ0M2PhivKIuV8fi6xG8/SGZPqHc/1DtzLQI6s5dSdp4/1/kXeBHp7J849zl3bDHDCYG8dmp74wWbPjd74/H/MXLn5s1z8KOeJ/qmmC/8AtdDwreYMA52BtHhX9s/Y+dT3rJQkv2AUFGgzDbYNNqkSq0VeZVcoZpzNjeks7zm/iT9S2xz9q+svZzP0zv/UROh3Pasg0aPHA+R7LPpTl1dl+WklMtw3tHjqmjnzN/T5J7lfrP3y+QoTO2nvYmfjF3Ws5ULhIcE4P88CDNXHoKpE+vZaB41EH+2Xs2MK+EZYxL9/jo1+2frVdtAQIeH0H+xXmbOm1TNtSG4oQ79lnVq1k+zOgD/6CA186kj1L6njUl/Pl50tnOhUGXrGgNzr2nqXLJc/bcOSi7/2TOa777gjtnj+1K+HtAfxUxK/IXZN0PUcKh1L3BMJ9ll5zKXviNiWVNc08ve5HLbcmphdnybszWXmRrboucDEhw1Ecptv7F27CVf3zFz30za779hpD0p370nir+2o6mn9CK9T2Wdf257+pOkEwCPXxGqlxw2GqwMy3sqDx8Luhc+7a6yr5+vlKDzc+adOirxxw/H1K17UXv/To7uiCGvX6Nmn5BTs5MdTBNlrhnnT0rzS/uk9t0ZHb5oMmi+ZQ1m14QVIqJ9+b3F7PGmx8aZMPKmQCTR5ry61vH8BI4VyP/c9IXmV0dma9dcfZ7s7b3MvaMvxPza2xvnapGTwYrWSBf+jfpAnB1Dx6JhOyW0FkKDcSw6jgRxLDpqidaR6CgSHbdE65boOBLqSJIolYo+ExvvgcQ+4v3M4vrMAAAgAElEQVQKu+RX9xxynEJ/X35H+/f7qIlQPnvm2rGXfH37zH2zMQFBUNE6nIrJy3+0t/G5bY0upg3tE4ik0yghZs10OwV01hi33XYwvbOu5KqnrR553qGjhaZ9Nzbmwl2oupWiaKIKuvXMzooD7fbkotxvdcEEwHmT0nzehLS+MMXab03akXde9is79GWMBwUTMATAu9er6X2xyBFuQtW5fHL9oicmHJippWA/NqS5X0TaUU5tbp8w0/nXDeyMVc+eHW08+TV3tD5x3TnhV3vuz+kR8ybmi/6Fh8etmVfn7TW0ZEw3k0BmZ0mLeL4F2Q9hfOGMNwbtC5SYj5PaDwg0hBqAJqgphZF/HjOXrTti7uUud/naHTEeqNPW1pVxQxYgAEZV8URHjYfy2TPWWXKu7mq6/Id7G597dDZOAhstFlixDPsOl+0AsWM25qavb5/9l+euHztldS3zNRsPFU5bV1PJ++4uOyF88/PzXS3uSloTJdalttvL4BN1ulw+EQW9NJKo6IkAfPmklA6HHg/AEETVsO1JVV641QG4OpgHoXkNk0qXOZFkYIkSUIn0ZmNuj1XC+M2bbo+erUf4T9edLY/N8Uo6Yp7ETImas78NhRAAM2QM0B8BRersU+yyo2JZI45NS4EE4th+4GPoOAZ0bIZjx2ZdxxqMCTKG1nFKti66GZDe06ROlt3jCoLO1s+u8bYnTtbe9sTJrnqwE3L+tx2lNspv7o7i2x6ZjSXPKwsNZ67w//NVps+NQEHmNmLif92zu3ntmQdlIqUdPxmqL7/40LFOp7/wjkdmb/rp3vYTjxLIROSrujFl4lkkcz8JQDlS8p63iNUHys+9+EIIgKsPC/btrmjTPK7e3+avU8PZEiDxhfcJVlzfCALtohoAIAjSDqPNXdwcCiSnoDn7nk13tD507Tm1r88pjw6YDzHLaz6371kShCcBYkjZ3iAhQG3NF3StFvv2xzmCXiQT4lIEGZuPmAbA2H7OYpDaEDRjUNt1apPeiGZkmdTlh2qTRZ5cHNwIwHb7iPJRgnPAUeOh3PbMdWNX/nKqMKDga4810jlpBQvgzFmCsvvSRj2XHgvgS4805h+A3T9X8mjtglOLdDvKbo73PuS9NJKAUGK8Fxy5KWXPIrksJauwc6d74nifOux6RrVqFuUGkZASCCVQlCDUSoVEGFBE2TRB6fG9lULGAP3WTXc0T63Vah+55myZ7XxU95grMcv5W344oZTaxEinKtkE3BGnlLWO7V3UicrQjGWoli0SGzMA3TKGtzgSrbVQR8LI2pd1JIyaxubcaomOW+a+atoYwExjHidmC8B3pzNuHigh7SqJbAyuqfSpaJ/OAYePBfK0tfUCs0xrmrG0jkOcZ+oCqmbxTApwvap5S0HZcu5mNGONmMaPed6o+ohmmhH+X1lBkRBx1w/O/0jn34tBdwHlDPbK2ZDtNYo4TyX7QdGAmeuPtg9HbLxtBSgaFa77clHPipr6uIu+yPd+/PnSt4le50LMAgDhxNHna3IV3RgHrUE7HF0zFluxqXVkScSRdO5+MF7Aare0QR2bt0kD1C3jKxVr0ToSUENHTbMcRaLjyBAzI+i4JS5gBmkD5Zs1JB1ERBp+UgAww9IpJE0rtJ0jvjxKAsETzE/2OgdoAm/97s7mnkjzvA2jmffv5BWhSsqZqOYebSudkHMby1guHCMnGz3V6Q/JTtIi2X/iyprqn/NfqT0CaXxuBYhGI2b25iQmi5wdKHHPc1/nrFoGYM0XqZJ227JlGjycyiVoTRnZcs2SEQKhhEpLYL0xAlCUMm9WYCvFPNRyHgQP02y+61W373vvP79gxff6kWevxCwAcP6WrQchVM8hY8OyZuwMGJupjwSgjiNhHMv42oOiMzcEG556cHD44ROyZkVNxkJV7Zx+IEHrNLynW9ZaG5uy1mjFEeIoQqsVSxS1ELVaaLVaaEUt/PaXR8KpyH0KaWNsWGNatv5ZgyKzNkpX6ZIZS6zNTpCqE+W2m7wentW48kd7AOTMnJlfwfnHTGBNURBDE/jTH+7mHY81as8/pGh6feH6kfBJa2rBI02mQtkrX19BU6CYYDOibsSIGpGOU7c4APbZZKqw3w/opb38CSsKdvZHZ2Je/3M7wMRmfNrBI+o3Sjw4koxoWzcJt7oHQBgfZhrRI4KfPTajj1k3KtAULyyemfsRALT9SCfPSmx2kgzKEKW8r615L9Im/tIg4zxS27Itp30ZZyLdemy6NSvhqDZeLEJn3lBCQikm71XvHX8doEeDIPjDC+6c/einnjd653xzm5MpI1gx8VLoOBRqkhRoTa1jgaZRyHEsWsdyzimHr3vlccFp60Zl1XwLuhyhrSAj02UtZr5OLUYsxoEgIBBB0DLDTaBo4qgqpELOVEtm+MI3Q1dqXU9zFZLkLAk/3tnEj3c3k41SMcnqczaMFYhZE3jnPbtx80MzogRQJeassUDw9ydNyuX37MHe2JJzogD7SM6WdO01SxiKGlcII6X0vhabM1EcA+aD54hSMtMtpkoUAC44Zjy88LgVhbq0dTrmn317VwMEGBOAxu/92upagZjNhzVpmrsgVlk7s5vlRlvFHOCWHz4WP+cJawLlXOmMDchJeUCpxG1NoKgUWLiPyews5hih8jrH+txa6RJ+gKs2aTxSNvblu+/f+xAkjJWoZACPkkCLUoQoWN1i0velxyQHMyf3Ja/9YvOwTz6v9on5qPJeiFkA4GWffvhgCJ5lOqoo0BqxIWXoqKlAIhwZ1ZeetvqEc44Mn7QAWmeIKnhE7N7CbBg6y9BemnbHd9zXLr0HTeCdP9iFmx7q3D9y2mQNn37Kanzo/hn82+4W9kQ6VedW6szrjXKkbO3JCe8rAkrU2hpGZ6Jaa28zbmmtszZnTy3XROHElUHwumNXhK84ajxsVyT6bnI9w124uckiAioFxMSPts3qD/+/rdFv//qGUBI/Z8meyytY/jH5yhkQSFCilKWwsODI3yZVRnC+65xS/OWOxs6b/3PnfQxqZKAoKiCDgFolnzVQFBTSYVcLdwHxC159RxxeD34Uc/R37lkxj9THzwUkEK1J0+wW6BiMI2EUgbolb3zGoSefdUR4ylwKNEQPaEeI+X2Z9dxOXzW1O64TYaO4XxN45/d34aYHZ1J1DWBfq7rj5YjRAO86fkXl/kVAzf7NC7tbujDQohLM/eZvajIBqzJfFSUAQ1z/vW3Rz7ZN601PWR+efOiESjypM/Zmsf/Mdl9tGtLzTFvwvDGUWx8Eqs/q3OdIYMdMa/ruB/Ztvf3Hux9iUIuDIKRSNUIpmisRKoC+h4l4LYkFLP1zL/jCbONTv4lr53J8t8QsAHDW+++aYIgzjCuBCeIOxkIdQccRwBZefNrR6559+JCUFx15gqza10b1UnyFLQlhp7ztFLf5TTtgvAwTMvBI+f7plPht8nt2t9DURL2rEGz7J76xrWlc6PxnUkkIRr4nI9Dzph6PsE0noDNthLj7gSl9932/bIIxJmtJI930D8fGHn1i7f7/HKtxFkFIFdZ0ENS0KIEEda2sKxkkpAqEEoQmKoAKPZtssMBU5qH0nZDUtc++S7OximKIVkFIhDWqMKQKQkIEKggoKqAKAhPLPFDprC39czDqhBe+5s7Z7dc9b/T2Xg/sSTGvP/YpZ4BSJ2MYu3JLtCahNRi3ZMUhRzRefmx42mLHOD+g4Q/BLuxDd/vKVDLQnemiQjFrAn/63Z24+QGrlP0IaCLY2yI+ft80Lj2m50kv9gvsbGh+8Ed7WjqOPfMJwBK/M+PRZfeTdtg34cZpZVQ0YVQztUBZU7WZ45jQCntaGogJKhCakNh8a/foOIpi3VI1pSXWOgipEYZUBBShlVKEUlQS0AhyIagIBSgoq9QXCaXT/Cm48EoSBBQRiAooyvxCBRQVkqKgVEAqIUXB+DUHaX9qsPBqOQu+5oI79j38qXNWfLeXo3qzMYucLSRJbfyRNQHdgo6bohnhuUeEh68dGXb0LTqs2jWVNvvWOY+NUnNFt/biKhLPHONUtjnVn35nB26+fyZrF/aLJsB7f7IXh44EeMmGzIC5/R7bZmNe8KVHZ7dNl0zW1K3rbOFISU1BBKACCrVYNwpQOcup88BxmQSEKKpwJFa1OJYw1CoIqcKQEta0hMooTalpUSFVGBAqMKdSAa0bnVkeJJxit+YV5cqjQvPxkMAofVHGVi4BVKDMgBNFiLXVpKMEF009CiS8/DW37vmz686d7HoId9fE/IobHz1OEYczjs2laeMep+NYEBO6Gcvp69RRcyr6EP1DR4LNmikyOyk5f+Y25gy47db84RHvu763C9/c3kitkwmR2zxt3pEG/uD7u3DDg3Wcc8go1jlPDvEOKm/Vzv3eVG5jMY0Rr4zMEM10f64/1a00I+I7O1rxx3+yN9rd1CS9qEhONbcrm6+M3YoWpNGVYJQjYsswAY2tWYtp3sfGDTyw51PuoQkkDCkBqIIaVVDTKgwJFVKpkAqGkEVC2/QPjGIOajTmZwEGTcxAauKQwJRLzIcDUFCBIqAgEhAQQ9Q06URbUl50tezACRmpXQbwfxWUUwW6Jub62MhTrccydBwLSWhEJnZD3ALZwuErZV2vRd7W2o2btv97r4ctC9AM2jCtUPtLTejYDL2ObYwMHZl4GXErRhxFiFsRtrWejkYUpNHkko61ZACUWVLWJkfYkU82ncD65NnC5P2Z8+nEcgKQ+Dd7rkrpQBQRfOnhGYyoEPWgZsg5P4LPkZUt1ze2N/GNHc1Mnkk53LXliboTeSc32f6XIVJvmzMfJPvT7aCZKuqRvc2G+SYl18Iki/yEqo6AM4Oo8ufOl9Flx2J53XldXJTkQdCY+bUAShn1LIkV1U75rc1EsoAh1gAaQahVGFJqNa2CukYQ0qjmuoaElMAqZhE6NSpWlQ8cgTOnpAQtlpihxJZbGU8TFWSGQ0kgTFl5Mcb6F3DCa+6YfdZ15+Ar3STumphjJU8RgmJdf6hNiEpoTdCEqFxRk44BW/J4pLkLf//gZ3o9bHnA3cvMPGU0Pq/u1wUvijUYaSAyv4+2ngAd1VMRpgwpixQJTJSbd0eyAzZy/sduf6KAlWT3SSLA0rzgkbm3vqo2hnpQSxV1QsQ5W4gfYCe3LXH3c1woQOKQ7ZttEjWJ7DrK1rMk3Y6UASAARKmAOo5FqGHsuy6dZLL11XNRLaM9cko9uVe+inbmKv9LlHyghMmXU5GIzaATUWI78gIdBBKLKCgJtJJQq0BpUcqo5iA0xByGxufXKebkfRiMYi72A9prDLzyiCBwNnCRVFG7tEoGpJSzEJFXXnYrv3nVuTLdKW1XxPzy2x46SikczJiAsvNeIBYQpI7FRDvTrMn8XYyGmCP8JrZn7zWC1dvpeVUkJOhn4swZvrmjjPik6pfIkieyxNc1OcOUxbYIMgQNP98cOVbeHL8c7p7kypYjZad+BWI+ooJMGkIjia/hn6pMLbdjBvsRSsqRQJANEi1Ig4LBKGdFZKI4Oo8DN/rPEpYKQi1BRAkUEQRaAqUlCLUEIRGElKCmjUmgpqFs558KLLErSLAETBkOyVRSHhmbLYkvdmJTLoQZHYhatuCKvWPT5wC4uVPKroh5JJg4yXSIasRaC+JYCBOQyAXcifWBG/NiyaGgvnLLVdvQOa0Tc/DJ3rc1A1kCAzyi987RkZyz2zMEnbku76DcN6bsnhQI2Ve0JaSckjhBCoSxAIppPvTImXbS8xLbsp9vFUrTuA+qW3UfNm+/EiDSaQvI3RvlPUZRgCiowKri0KnjkBLUjDqGGDussopZAiBYYsTsCQn7BTIrOUKm3ZYt9CBJ2YLqnPO33P+FGzYe2XZ6rq6ImVRPkIzuMi+KaBI6MvGD4/lHPRxijsgQHoo21zIiTpadinbbTIKkEzAhR3tg3lyQIW3Pr9knOdh9fgE7kXOeeHMEnR7SXjGTrNhfoZDdPUj20UtL0M2QAeSOtyTuJsktaVFU9f3RzvBY/DAgNSm5yF9061YpJ3Mm/P/tfXmwLcdZ3+/7umfOvffdt+k97RLyIslosS3b8oJsCR7FloAJkChVuIBymYKq2MGBIoSwVEUBEgJxwpJKVSBATFwxEHlDyMgWpizbYTMyQlib4UmyNutJz3rr3c9Mf/mjl+npM3OWe89d3rvzezVvZnp6unvmnvnNN7/++mt/H1zd3oomwBISG4IygDbEyhBpAyEhZYcsE7MBMYitxezczFxxvG1SRhvSGM0UTbIdrORajh1AyhYz+sDhNwHDtebRxCxCdO/S1WIK52pi7BBwKQko/fMoMB0xby+kIkdPuImcUZFmTLju9PVYzWlZiMooV4D+YrDcQlNSfRvRNgEQA8xd0nx9Pm/MtRIT0GD2wWISizl5gQyScrQtviIDCEfnlXCTMzaQe0LibYgt7LQtCbNX10z23jqCDi8tgSVW31wQiI2VJVgEDLsoCNw+KdgOQ79muyZFYmem2dyplMYFtxHsQDD96oydBmLcio0S8+33LV4swB4bKNdUBoTrArEBuGxQ9w47CG2E22RRI0kfZTXXyvUWsCXpYBlzD8jn7DFHzCPJGQBWj6Ombacvh9hipvDfENJLyS5aN5KgP9ZAygL4ASJUs5bJzQBqqhdVUock+03NbG9bvPbXW2+vsJVXqhnEIiInPyRZwozs/h+Tnz3aejOQkPUFFnL7LIBfbz8EGPMlsfMIOcJV77j71MEPfseBk20ZRhKzKuhSgz4iMwJGCqq+oUpEYbc6bBf8k1/zLa6zcG2wSUSmjRZvm9Wc+jXHpBGR8wCpoiq35qkB1HXTQErNFvJAmyDxJTbck4b9AdJrsJIR7bu1cZcI3wknDO8nKLF1W7N0EYyZ5kZ5mKRd9TLq7Yr+SCGwUoOk40OGElt3OS6FFAmYBMouVlMmm04EKLaj6YjdUGarMe8Ui3l8bHdk/3aIgGSGbwTwubY8I4mZBZfa7x1rDdgHioWEYD/fANi5ws+xP9x5ipR0JpAo6nkarOagDUfF1CSNqtxAVLGXhkdMzj5P6LhKSL2NoJvaPs49qaVFdYVrHjwmIjB+Mrza+cb99qXy444ljNiqTkk/bcswa7nGyXEbq3aGkZ8iIETWbWVBi7WC2VrN1l52FrRdg9iFeraxjEHkyuJ6mR2mAH4FNkLMpZKLxQ0oAtlnjAhSSEmllFbSILtMs9kd1oGUrBr14SFWc0K8/rwjl+/D9193GK/Y30POXDtWQ5SmiMHUMF32sAQCYA4CPOJn2WYhj8BqKTi6UOD/Pr2Eh073BwkZGCDVyo2tXlaI0QyqlxMTsV/FpNxIzlIvf8BajuqPt2sfqhL+H7w9AoGx7xBIeF6tPQUbRRgCJoiwiIlnkybXuO75njauHHZwtMUMvb+UNWfzMGD69ltVnL1MIiiNjWLVYfsRdMVUH3bHhxE36vskgv9y28vw7tdcvAUN99hcV/jXH8xx+5VzeN+jZ/Dbjy9UB2rkiYqU7XY1t3JMmHDWsk8LsoJUq9T6bcJIa9mXl7wkCBKkI19hKk35EJ/+YkRgZRgbIYmc7uyv0nZhitjpGWwqhfM7TAtEdNGw4yMVcqFyb/VqjtfxlA7pL6rDtqGJCJK0ug+uT4z3bdK7brhoi0l5a0AA/vV1+3DrhT33c5bq2p13Q00nDz9193uP/Ztr7nQYJOWY8E1iGTdhxN+k2VrGkHJNQ4bUBG96noc9892y0UWk7L3z09IavWukxWwM7bG/QfFWhP0IdhMBiEj4LBpVVhOunr0MH73+Z9dz6jkPP88fROzIdqnP+VeWpV2KEkVRoOj3UfQLFEUf//Yrl2GpD+8WA6AiChsjw3fQUZCgAMC7rwX/3yTuRTxk+9/cfMUW35GtAwH4wVfO43MvrFSKQZsrnTUuracCYOOaAKEDk8Ls2iNIua2PPOa/liVY5t75KXWdM8HlpfE5dA+ouAfW/2zsO8j/jHxNftv2Awyo2h2mg8Xlhb0AGqf1Ge2VQTxTkpsHjA1gWOzDbufUgptfq+0HMQoznOHa2cvWc+o5j7bJWEtHzEVRoCwdKRcF+qpvl34fM5yhID/1avW1Wu27jjtPzEBwWfOoBmeEz96wv7/HuGrfaFlhuRCsmfH/9K3ycNzpOIWAOTkTZkZMW/2aA7lzhojan34AxtYrHCkL3ACHQUu5Tqj+pKq8ZtaM8o9jLfvtWufniL+BnalEquc2embDLNquc5DsJKbw8YxBlV90h+lhVlonpR5JzCJ2mlDfQU4S/NgdB9hvv50RJqQDgOpBTV3T2rTmsC/wGuWcble5nl8s8Gt/cxKfenoJp/0UUdEgkYrfq7TGqHGh3mh/9Tgwe2G9jXDWacyzY3D34Z7Ct18+i/e8ai/2ZYPXM6cj1z53+WEdk53bN7Eft3FuGAJYiYOcvek9laQ67l+UcJOuJiAie1YcYyRam7is6O8k6cvA5oaLRFXVIz7dtc6pyd77Oow5DBqz7z+CPafmHtNhWuipdgtk9Mg/hve88J/EIgwYggiRCEGMZezuD7fT4B/kdO2O1Tw0Ene3tufwidN9fO/dz+HEiqkI17uJRf1jlKTFL4YwpD+QdVS//6xPSDgmUKqRVDu+ulLidx9fwH3HVvDBWy/EoV7Dy6bJEq1ukCNbExQiUNUcm81t2ofEdaPFhBkEguGNDdVG1jIqC725jX5bgCjOr6Xm+hvXuZ4Hj4sBrwz7XFfbzivDndc935uA1aVite3YGBYzxOpjridXjN02Tsj26RN8zgKAPPDvgYVnALM20XnnE8RUxpXddh8gxsZlltK4tQ/7GYX/PPteoOxVJABED7Xbd/7BElulTaE+B7YJyHsAXj7Q5p+490t46aT1Zhg2vFpqlnNSjydwbz2HPABMUSeh9IUC+PCGY9twX17o4xf+7hR+5Y0XDBz7tTemIcSltikA+kZmxUhjllpabA0PkKfFNQcbTPdxJAyp542HX7e2B6gsbN95WVvcc83uOSYCyLiXJLkXpBtEQzt6JN05iT29E63hP0cSMwGGmATCkNKQ1ZT9XFpcaVOTYuUl0JvfB+QHJj71fAEZ93CIhG0yBlSWdl0Udrso7NLvhwVnZoE1CecDqLbjfd+558nNd+7B7kvcEejJkwHkg/ryl06s4cGTM0BvtvqynpSck21x+zV5I1jHkWWcGN+hnHEgwCefXcKZmw4MSBrfdsVYIcQnnk1+IsSkHParTsZGqSU+L0WTz3FNR451Zh9Tw03D5BcANrgRCcADQYM6bBhr7z/y8saOP2Aci1lxYQS5f9DE9SHYyQ79pw+LrLPzr8Mmw4/gQ0PoTWBQ0gg69OCf88lTa/GnMwY0bG+VN8oaqMoPR9Asb4TTI6uwpe0BKUknzS8FeGqhwKsP5sPv1zZAEEsWtuHSKGFI/V4hOp7cHO8kx07iEBIrOVqFQpwDM6pn2DprwMsbtigRsgPPG8m+w7pBwAvDjo+2mE1Z2A4/qSaRAIDgiE6V402HnYfoeW3tCERCzqABYgOAvTknRDAmOfvkkA5UoUb9j8rnlUCydS1ZEkJOmHjkr08aOwB3BsaQMEKe2mmDVy1AGiPFpgtsh59YvcxOcxHxsy3d2l6+e9+q5tRWV4d1Q5heHHZ8tMVMMIPO5ul2m9DVYWdABiWBmnXsEL11m/D6S2axN2ecXfP2WBs5AyEwUTCZE+u59sYAwls/eDqg0pKRknTSxjZJI8py1bzGVfObq0isGwkpt/pTo7KWkcbuGFq4v+nx3y19ln15cRojtr07TA8M8+yw42PEYw5KJgBUk4ZaK1qMc1mvood32HGI5IdqqLZDRNZV9Dmg6c85qwk//qZDuOP/HR9hOaMi/qHWs8/nGhKsPd8uClVITdbwVVbHh4FI8FOvbe7LeONHnvUV1MuKiPKF5XKhKPq2Rv+2EAx29klCqqkcYZJ0h8UVE42qTs6J8ldlm8FrrvT92pGKlim4ygmJGCMgtoNNGP6b148XG6i9WnWYCgrRTw47PpqYic6A+BCRgdhOP7t2822Rd0jfoQ7oH3jmOM4WOyNW9HUH9iLjyvIwrsPPDyyB2ChmYeSfnx27KFCWfuRfH0VRYKHsYdmEJwqAf6iTfYcgETAAL1vUorrBdcrZY6stt+z7btyPpcLgP3/+JSwXEs6pOv98yNHBdADVPlW7ANDzEzHXZv+ISDqVVzxZoyqrCfszxr97wyEcuay5k+/0apmQsgzUc3JFTNE3bKMrVpU6GS80wAwj5WCISr0en4aElJMXxGBUueEgJH0+SadfPJgkdAKGDkDX4Rc6B/1Akw5TAaGUC3tPD8syhlcGnYqUR/cTdOaROJ3KrafS6CnjXZ99EEVRbHczLC6/AlDRLfcuSxJte1dEMXa6rtrSB4rCLkszQOnlgujpr+mUCcMQAjFW5IlqKmKKliF9ZD9800F8z6v24d6nFvDcQlFxBcVrqqfFiP3q3eY+Hc1NQQMbDWW0HwIARcDlezTedskM5lu05TKQYAPpRfwZWbrivw4IkOpvJzCx/j0JKTd19qV/v1o5sbUcNzhuQHRzBG6WaANynXs23KcdhoBa4CIXzDeq0e2nlXXYAEjkiTtvoKF+wqPDfpKcNj7wBgwMDPzgIb/tUzvscASmiSSNFr35+GKBpb7BXAupHZ5VeMfX7t+CRm8enl3oD/jfS0qmPjHuFI3uV91KRp1EQ7pEw7ITUhYMLkl5NV05am4TLQ8etZ8f9jm1BSrXGDuOx8CAnNOFgKLRPT7Vb3eYDoyRR0flGS1llOXpMAzbfWLaKbKN+5nuMHn5xINA7xCw5/wNwLMhNJGzPxCRc78UfOix0/iBVx/cnnZuAe7+8iKAhIxr6/hLJF7bY75bLLZ8wxRMNVL3Xw/RtrdsKRnqTYgGgyQSRjrhQIxU706zWrvYeWXATS/lSiUfOqRYvfsAACAASURBVB/Bgnb9gH6Itns7dJgGtNDDI/OMysDgUyWzkAv2QmTHdMZBUNY9yGQz8NLfQv7ivaA3/Bxw/Y9sd2t2JiJjqtZh59L88Z/69DF848vmccXezY2RvB147OQafvOhMy4sMVrkH0SWbUWqIaxF+OgXpxRFHYOxRYwqT5o+MOS6jZQn4MUBfRmoiDsOOub7hsISa89OV2YXxIg7jXlKeO73vnFuqA8zMI7G3MMxWqmGKQBBhnTvYIj3iZy4iY/9D4wUCyfFV78A9M9A/vJHgac+BuBnplv+eQNHNAOublXn2/NnC9zy/sfx6996Gd5+zV4MiblyzqBvBHc9sYj/eP8JLMVuf+mvN7KCvTdZ1dkYBSpypFqRoQyScsu2kcgT1dfT1NknDe2zDam3N0lK2mpfI1IFM/J9Q1Zfrvsy+7dBZzFPFyz0hXHyjSTmY/25Fw/z6UKMzRuG0btRQYYgcMGMJmkg3fTTwMoJTGIJjAVTAk/eCahZ0BXfBrTOQ7vLEUkaw8j52TN9fM+HnsLBWYVXHOxV/Xrx8OqQhupcoOF42iFY7V+cK2iiwfNjDJDOJNdqO/uePltgsV82/+wG5Aq3Ej/Cyk1066UCR2GEJLZiExHHRC+OlAcs5cR6HkrKadO90RT9DcMRpzOTVIHHCEJsB/4ZYpscjQJ0ncR2JCAojorUYb0QGJ6deWCcrCOJ+b4jVNz+yRNfFZFLagGMjO+IiIMaTYDZS+wybXz1fuDit4Fu/S1g/6uAL35q+nWcLxiTnAHg5HKJL6wsJUGHqE7IjemI0v12naAJhCtmNLKmcKDRaupIZYY4TSIjUaLF35t0OyHedukiIuRYRolIuersG0HKw+7LgAXtn1OpP8MUpZMPZOQDFxmAuTq3w4YgBg/9n7fQmXHyjjUUSlB+hZgvFhdkSkpD5N6mVl92csZOwNd8B+iaH8DmPc3nGSYgZ5szGoQSE5P3WY71UIkIWqrsKWuIH9UPRJ4irkzE5yVa+MTXGe1Iw7GYjON0P/VU3BbfEe5PGUtPniIpA/UOP5/UpC8DzifZPrOANf6rZxhCbF1HiJWArcVM7PMTaKc83+cwdK7/bOy842Qygq8Q6CYBQ4Rh7F9ORNgt5D/wth+9NIxjh5HYCDkHdx1XRtwplsZsSAlakvywJO23A0nHbaztJ4jJuu3XmKanZBznice8eS8yIhETV9VmJUf72ARSbkEYqG2J2ME9q6SslOGjFRmAtH2WISyGGOyeaWuB2XTrotF1/m0Qxz5468wT42Yei5ipv/IsZvYIuR+ndVRH9QYmSPVr63BOYig5I7KGfXZxyVRZkzFrxtazICJvDBC9zTPw7V0j6XBqHNC/8RqGXV8DCafnNQ7qcG+YmHRFbChMaTgvIdbNI+U4Y/zGaro5Bgg6MlnrOH6OYYJV7b6AAfY6dLj6DusEQ+6bJP9YxPzgvR99+jXf/o4+iclDUPygMwvge5c7nNtoJWeXHqxkhM/5AWmjJWrcSIIOMXRiq3iwI7Gm+27oOtNrjtIbrOpAmj6h5iqX7rtLigeEtJDyeN4XoxCE+TDLSp2gXRv9hLAslTwTa83E9lkWcm1lmw5U6w6TQ3Dia4/seXCSU8Yi5qP/7b3Fjf/ke5+iElc7P5swFY2P47pTNah3XfcynFrbGUOy33LZhchVNZJOolmy7fRFduYSU5YQY2DKwsbKKEuYokBZ9GGKEmXRxwdOZFgtKkszhJGSyHMx8mCcyNsp7sADomD47mDcQUc+KU2nep60Iy/pAFShQw2okUvCL7X6J0VMwslmIxn7tSe1qMECJ96FfN7Tw37ym5is41OjLwMZ+LLYjH4RN7O3HYsthqyaYUhEUfCVc9NNOYWDIHYmdREQiZvIZEc+3+cCTFl+5g6a7M02dhxEtWKeEM2vtGGzWQA/VojsECjZIRpzgt94/dXb3YRWjJolO54huygK9F0Ao36/j0/mCguoBywaCGjUsB4bKTkjIucB7wmEY5RaxG0EXTu3LpMMSB01TmywKofxWdNlt92KJks6tWSDvMLuXRcPkyYxcd4acaMmdwxYyusxSENEzoaARYB9Jqu/nxv5Vw0kIWEbTx0kBBZ7TWzTSQmctkzgKqpeh4kgoJMv0Z6xfJdjjE3MSwtnnpy7YL8QA0GHggHFWnOHHQsimoycE2liYPi2LXSA5OraMyJpIu4QTM9NWDm2khFtj0Ook6DRYk6INawFqM0FX9YaabxInFrJ/vxUT47TN1slILaeFpBIZ0boH6p7Z9jFa8physjOYl4XjMin7vsGmviTfWxi/offfe+zN/7I76wZg54Y46QpYy29MCoqfaI6TBM1azRK27TAfrVPfwqdcc0xl6NzIi24kaARlRvr0DFxh59SA1HHGPVzG0nmMkiiSI7VyFNCe0wt36DGXLe6UyvZbayblOMLr31SwEDAsVeNq4fcKEDjImMI2VALxgCkBMHjJHzdGJD3aTbdcz0pSOjFV3/mfQ9+eB3njk3MR++5p7zh3WtHifT1YES+y4LOYt441kOwm0rKMQJBR52CcSefbcwgwQ0j6La4y7HOmhK1zxNvjH35STlJci0htZjDqDz/crH9BD5UJ4Vhz0m5kawxFeliI4itYv/cOs8MbzFXz3XUZ8SV5bzFLT7nwcrcc8cdd6zrLz3RXDu0vPSw7Nl/nZ+RleA0Kq81d5gKUsuYiEKa36at/jqJyRkYz3qOThkg6MjybCRpYJCoQzvcxriXP/SXmRB2re1Srf2mEYDFhZajRN5ARbxuu/binCYpNwUNC9oyBu4NMQxEib/BpLQhygzAAiYhygyJ22anN8P1JAGgzo95MjA98ge3zv39ek+fiJgf/cT/+vvr/ul7C0PIxPXiGj/D7jn8Qn1i+Rg+d+qhLa9XTNRhF3cCGoEprUxkytJ6YpQlTGHsbCb9Akt4NU4XM63eGIFnUot6Ghb2sI5B1I+F/OE8n6WBVQnQpMHEtbSBulsP1qGJXVkJOcYYkDGaLWsxJaw7Gay8DISXkVB1bvDUkOplNHUredRsIsTVjICOrHNllm1ADBFmNv75Fa0MnGeGEESxXSOymAXApLFwdjWY+0V/5p6NFDERMX/pd3559Zrv/BdPEHAtXFQ5GxcF57TF/Ftf+QR+8egfbH3FUYdQpTlK9elcuv0SVggsXFphgKV3AWsvr5dRI4IhdU4DXv+NybbmuREdr50zuI5JWrMCgQcJuImDR1jMF2TzmOOe3Wm67CFEDFQvNetqQTJArGmUueS86O24uaQsAGphOSPdRwTMWMtQFES5ECsDO57PPb8Q+LjMkLBPXpp0b5fBbt4ObaCy+MzHjtCpjZQx8bTBa2eOPdLbd9G11cy68dJh40i1gGg/tkjVcQAvbz83LSZkoemQc0xqTfKGlyUErR2EQeaoDSppanskewy0YQg7m7iN6Xktl9U48g/1n3cIeC8Ig0sQWcjhvCkScq3gGKnLit1n67soAJDR2oIf+Vcvxz63xJnUZ8UO9jaqC+ie73FABi+9KPf/+UbLmXhO8if++889SkRLxP5ty+5t271Rp4bGz3eqH5t5bPg5Q8snoElKWA8E1SiyoKR4eQYRQdXz1AgvWvtBNqlfdu2c2iIjloZzfHFRHWLs0tSm2nlCUo2a82029euNj08L0cQUUaJdcdx7Wr9GEGEfnf0KMRm2/suGmAyBDUEZhDFi9usX/lkWEVLKkNuPepK6ZchSkrnnviNHNjyibWKL+ehf3dO/euHMw5TnbzJEImxHBpnqh9P51UwFXhZosJ4JQPYEQKsAeggWZZKt1WoO+WIPiA2+V70FHVnInlRrwYhiyy419uJfT7QdyHnELyueiUXQQOxpE5r2m25Dg1zh66jlMYAwJHRYbvBJGHp6o85c/ViEvNc5yQX5mecMKTtbiVIirESUtja/0gLFIkRCWouQFiElxFx5rSst0s1gMgbMIx++df8/TKOkiYkZAE48+tcPHH7NLW8kO/rJj8ru/nCbhVi3JbLPnyqBuT8DFr+xIfM6/hTTnp3EEzRQ8VTN+yJa174GqJHDa/tx2kCl1WFy/xoON+8P1CUJKVtNWeKRdn6OP0iYE3PTEZNyuLwqLSbVOTr7/F5eOkWUG2I2EBG27nJCpIx9dkmg2PmXSGwhB+068T3pkEAgK2s8/4lplTexlAEAn/+FHzperi49V9eWOw1qckSE1NCZVifkeHFSxJ4/A/hsUka96IH0rcCAzADHcZEVW5ML/Kd/Ij8MlBctaffGqONNeZraawSpVAETyR6I2lcK7OiqQWt6UxC+Sl0Dwt+VZPCC7MaV+fNfBAOs7Lmk7Jx/pFjABnA+zX5cAmlI883rlmELadxz19vo7Kg/4bhYFzEDwMnHH/1LI9ZUdvJc90ZdD9pIs0aobscTsj/Ga8D8H7YX2kTUW4kmzXUYSbcStTQTalNdY+dpqCNpR4hjYk17qV1PGadJYxPWuwQCTpcA9wPwtmxIgw1F6nzdDumvPjzPS6eElRFWhlgZERekSEQEyhBYRJG7C1JJ7uxeOf7PhG5pW4zgsTtvmf9iy69uXViXlAEAn7/jBx7/pt/6ixeI+NIdM0P2+QAC7IALqQim0WKGzTP7GFD8CbD4zclneKRHx+Ug2t9KSFpxpAdH12oVsQb9Of6Jpe1veemQJBJ9rT3JSYK6ZkxApdKSwMQ3FJY8wxcOhTu+uUhqCLPUOxkjsqD38MJzV+rnHoHOjGJtiJQQKWGdGeLMkM4MaRbSyhCzsFJCpAXMQkoLO5uNmAXMLZp2ByFanFs88/Fpl7tuYgaAhae+9Pk9V73yOyF2iqlpNaqDBzkPJnGxilGtBQi+MHOftdvL31SdmpJzSMNoBtnMv6QvW+J21Ym4KUC+vQxqbnsr+TYc8y+AtpMkXrsdI/UXBFW6cq3tG8aY5BfVRzFhCgBi2Uunn35F9uTnFVNJzIaYjXIWM7EypJQh0oag3OhdZVy3vYs4515b5GcyQTckuwVS9u/+wLdesjjtcjdEzH/5X99z9LZf+vAJglxkOo15Y2jwRqg/8FRPD3IGAAVgz32AehFY+C4Ac1VZccEpgbQ9alsue0j9upvIjiZ/XzT2RweVJykwJmJJM3Nle8dEGHWyVdgky3LAWKaosc6yJykP0bGHr8ieeYyVNpJpYaUEzGIUiVI2CDMrEsMGWmdilAjB2GtREP9pMKL6DgCE+W8/MiUvjBQbImYsLsrx+z/3mYtf/9Z/1m6CdBiORLYI+/EazlJD1SsQW4OegGceAfQTwPJtwMotCH/egQ9tCVXtTCRE7ZJqL6cxMOCVEcqRhjQgYu20IIvgMkYC9iXT1txM8fpxU8NI5unU05fzlx+aVf0FpbQBK+PWQooNkbWUFbmRf6QMRIRECSsOljKU24LYQPnu5nReVwmITvGBuT/ZrOI3RswAHn3/f3j2wDW/9yTn+c6NSD8C33boZjy38tLWV+w7jTxZCMJABTGWecUIpHQB9Uuxs56UBqa063DcxdaweU6hKO7FicVLcWLxciytHcBafxZ909v6a5wQM5zVY2UMwwgu7HFmswxQSmp+jqqGJBrEIcTxm7KJMDcTBCbTV1IsZ1hZmMep5y/QJ56bodVlYi2sMwNWonRuSOdG6cxAKVG5NqQzA6WFs8ymay1EVl+GsoHxrasdR7q1+1t0fswB9ltL3X3nDbS2WXWsh5gH/kBH7/7ff37td//gywqDtYwxM4V2bSluO3Ajbjtw45bXm84+Em/HM5qks5o0LUVR1I777bgMkTLqZpeBdrS1b2uxsg11DoX5iY8/+NHTzz6+j1VWQudGqcxwpksoLayUAQFkiU1sYOPJwEPfQ570GaR8hyMJiMFKCexgEEMqE1JaSGlDSgl0bkhpI8yiVG4EylrJSglBGWOlfCtreGsZgLjhMUKQuGHrUJLOXzB/9kO3zD69mVVsxGIOXVDH/+Ke05e84W0PLJdyNmM654h5u+GD+MRE6GMt+zCfzAwRCWuPeLssy5DfGANmjkhZGpemcjpUWOoXy6efOboPOispy0rW2nCelQwtlCkDpQ2xFhAJA7CW5xTQMIiEXdlEJGAlTErAbPeVNkplAqWEtDasWEhby5iUEtY2XbESyrSBtl4apFig2FrLmitvDDfvX2hC1/lnIfIPH7plbsOxMEZhw1KGx5d+8xcfPPNLP3l0X6YunFaZuxFxpDVPrDE5A3VLW2uNsizDuZ6cPSHHlveoeQE7DOLMYnEcrA0rt+i8VCovoVhIZYYVG7AGuw5CmhYxx1CV1cxMlkSJrPxAShQrgSIrS2hLyC7dEJEwkxDnhkiElDZw8/0xuWBFxnXcuxUR27kCS5tAzALpOvcheGlx4YWpu8Y1YVxibuyKibZlbW2hzIDfBvB102rcbkPTjCQpKQODlnWadxQpd9by+Dh6+tTjKssLznolZ8pQnhekcsNZZkhZyxSkhNlZs9MmZu99wey2GcTOOidlXwTWYhbltGKllIC0UJYZpZSQ7hloFqWsZU/MohQHn2Urk/Cg77JHpy9DICs9U374Q//4mtWtqG9Si3mAkOPti+fUB9aM3JEzXTGV1p3niIk43U7z+TURQSnVWFZMyKmEYZxV1KRnt2G3E/ZqaRb+5KnTj0DrfaS5JN0rlc5KyuzsH0ppA+10ZUfIsh6NWQ3rPPRkGeUhLcKAYm0sYSshRUKkhbQNUOQlDGEtUFqYyQYnsjq0ne9PaRFhQNsOPwNrLYufEMBX13lcFVmuPvrBN+09uVUVTkLM3mqWlsUQ0bUi8mMA7px2Q3cDUq3Z73tJw1vNxhgopappppLF52+zluM6msh3txOyx6eeOfG5rzz6wF6V9wqV5SXnvVLpvKQst9pynhsrIShrbRIJ8QYt5qaOQFISkoPOrMVKHAylyVrISlnLmUigvTWtRGlL2tBalCNnMOwUWUCYhIW8ZRxry7vcWhZCiUL/4e+/aeaZrax3oxqzIAkRQ0SP98vy1zTzv9pw63YB2uQLoE7QKTmnckZKyr6TMCZmf16TjNGRcR1fOrH4xf/54btfYN0rlcpLlfcK6NxQ3iuV0gZZJirrlV7rZQDYKClHINZVWZHGDADK75MlWCJPyMpGiSMlIICFbdAiYYEiUeTn8ysBYUFJ1vg2QBCYudKciVmC/rwLIQKjOb/rD26deWKr616PlNFoLbulBGA084+vlsh6Cu+eZmN3A5okDe+dkZKuzxN3EHrPDU/IPm+bpdwR8iAeO7H8wK88+OInOM8v5HymIJ0Z6vUKlc+WpHNDWhvVmynJeUVAUfCQmHZMiTDCz1uxpMNfTHk9my1BC2cGDDBrZxWTiGuT8rGW2VvBVsJgsB0bRiyiOKl790oYBEgf+PiH3zrz+DbVP3Y+jtYMS+p+yQDk6XJssbhhb0/98pzCoWk3/HxDSpBtVm6bPDHMJa4j5vGwVMiZTz99+k9/9Xd//wRrXVI+U3KeGZXNFirPSqVnLCHn2pDuGT8oQ1m/4sp1bYpgrWvlkdewGe4lYN3clE9XNj9pFrAW5YiZHHnH59Q6+wCAq76L3S1hSMGU/fGdt8wc3a4WTELMMTkr1MnZE/PA+heeWXrmdax//voD6nWHc7pyVmG/Ipqam975hEnIedIlLr/zyLAwIsVygbPHl9eef/jk2qN3PXn64aN/etellGUlZ7mhfKZUvbxQWWbAudG9uVL1ZkooJTrLS2hLxuzd1zYpCltN1gCCtKGoSidP4NoSr1LayhZe7vBWMjCSlO3+LiVmIytMq3fdecvh57azGZMSc0rOChUxa1SkHC/60E23XnLF13/71wuoB1MSABgxVMU9aogF0wEi9l5F8aHsvYsDRpX+3pkqrz8PgEDIDu9Oym695+evpkhREFAOlqcjV6UMqcxwlpektFF5XrLKhPK8VPlsoXRureUsE1bWFY28puutUaByb1snYrIdgKujrj9H5MwszFyRbULKpG16NYjE5UskjN0a4pOITpq18mMfO3JwQzNcT6UtE+RLydnHNfPk7Ak6Q52sNQB9wQ1fd+jKb/3uI6zUrDEAxDTXbcqOpBNIfE8kIecyJdjqhSci1Eq0Zpe8DFs65IjYkSkJtDJ2kIa2MSSy3Cjf0ef15Dw3Ss+WpEiU7tk4E873t+b3u0mkRrqlY5FYlKrqDqTNAFFWneNIWXl2D5ZyoivvVkuZ+dl9y/N3v/8I7YiYAJMQs1/HxNxEzikp+2N84Gtv2v/yt7/zCOcz81KWBAnW3lQu5rxG8sISd+9MFTM4Iu+Gl1t8i5uO7wp4Aos9KZwXAwOsckO5Nkr3SuLcUJ4Z1tpwb6ZUWWZI9wxr27FGbN3VGKoizWl3/CUkySmJhvoqiQKc1c4ZsJJbCNke24RRizsdIsJa/fUN98z+1R130I4hovUSs1+81qzQTNBxOgPguUuunL32+370rfm+g5cC2D2W2xQgZQOhBoJukjd8lt1KxIOgeHgzkYTRc6xEaRuBjd1oOaVzQ1lmVJ4ZynKjtB9Rlxuv0xJV1vLmW5sJmTrSHdCgUVnYHJ3TKl3YQnYfKUOWxWT3fuSts09td0tSTPLAtoVpTy3ntqXy6shzvvGHfvbV819z7WsAoLKcO4yDZoKupCGTejmVLbLRboMjH+YqAH4YQq21YbZEa93heoZ0ZlSWGcpmjFJawFo4yw1gvSWIWDzJ0WYTWwP5pvDWMQAwGjwsWsLY7Ur5QuTZPXv23vuB19LUZx+ZBtZDzEBFsk2ac0zS3LCE8655x3uuuPjmI7cI69kNXsfuRBNBA5AG/b6bYQYgFROQsyUZdkhzlhlFKoygU5mPXZxb+YK0UG5JmbyEEWvLW0xuMQl7cGJRt3pcpMd3E0TWSpg//8OvO/jQRjtqNxOTWlJtkkZqPbcRMidlYP/XXNu7/l/+/Jt7Bw6/cv2XsTsgbV8W6eisto7VDhWchUsu4A+U9RFWmTZ+cAYpLUprS9aelDVbUt5KazlBSsAeAxpxk2Th8+5C6YIgX6b9e++78wZa2O62jMJ6idlvN5Fz02CUpry1Ml/7M7/+soPX3vQmVnp+8svYXRAzgnibhtF2ZG2RuKPVBmd4eUJrUaSFnE8wZQkpJ9HXtsXybKuzxToGdqmFDABECxrqs3e+efbJ7W7KuFjPw9pEzvF2TMzpdnpOrcz5q1+nX//j/+nVMxccfu3QX1gHi0nIdhfHPAhQDZ1kPmobWyuYtRuYAQYFomZRXrPlylIGttHybIgw2IbdSsgk3DemfEgf2PuFzZwGajOwXitqHHIGohH+SZ6hdd/w7p+Yv/y273kd9fZfS9Ty3dZhEJ2Hy9jgyN8XAOoj49yw5p1KymNgV7q+OYiIIVKP9E+cvf+P3n7Z0na3Zz3YyIPcZPU2WcWjCLm1DTf+9K/uu/zmb35dNrPnaj9zT4cOG0Ozy1kV99hpz1olgePrFuputUJ3OISIniiW+5/fCaP3NoKNWlhtJNtEwk11jVX/G37yN2YPv+Vtr1Kze29gpfZM2MYOHeposHSbXM0C+cZW8i62RHcqRGBIcHTNlA98/NYDWxbMfjMxrU/fYaS7bkJOcfU/+hF1/Xvf8zLKD1wrGV2+3nI6dADqvr4eTWRcHetIeWdBCi7xKK2u/N2dRy7a8Z4Wk2DaxNZW3nr9pVvx5l//4z0XX3f9K1nlrwCriyYov8MuwkSSQ+fve05AmE5LaR47tXbqsfuOvHxHxLaYNjbT4twya/ZbPnlsbnY2u4qYrjJMlxIo26q6O5yf6KzjnQURMUzmKUL56EfecujZ7W7PZuO8kwLuEOG/+avFC7UUlxNllxiSC2FMvt3tOpcgDEPgPopyTRT3WaQvitcE6AMA96VfiohSMEak788jptwU9jfFObEY6omYniK7FqGZzsumwyQwxpwk6KNl78zf/9HN56aHxXpw3hHzAETou/721H61yhcaosMsctCwOkhidsMwcDEiq0SyysQrpeFVYlklY1YNqxUqZVWzXlntm9XewbmVmQKrz5zA6n1HqNiMxtwhwg9/6uTetf0z+5jK/SjlAIEuAcmBzaivw7kJIjoDKZ/ozeLxD77m/OjMmxTnPzG34J2ffnLmdH54H+flPJPeU5RmHsLzRGYeIvMg2jFWNgnEsKxSRKwlq1UyZpWUWS1Ks0qlWmVVrqq1fHUhX1ud33vByrniVP/2+2VuZu3MZQXM5aSyy4Fd8dLsEIGJThrwM2rFfPnO2/Ye3+72bDd2LTGPwg/fL9kzxYlZrbOcVlTOai0nVjkTZX3inIoiV7qaIkuM6SHq5TemZCIwkbLWZ1mUlNntspBCKZhCRCB6TYn0mUyxRlJQlq2qZVNoMsWqWev3Dh5ePVcIdioQobd/4ewhWiuvBKkrFeGwUPc7Pe9AKA3kGBl+WoqVZ+5624Vnt7tJOwndD77DjsY3fPrJmQP5wcuJ5AoofRFE9m53mzqsC0IKL5m+HBOdPf8sP3LsCzff3B992u5ER8wdzim880mZeemlkxcp6l0IU1zEwGGRbnLfHQeBYcKJkvQLJa0cm5k9eGxXffltEB0xdzi3cccdfPvtP3ZgZZkuYoMLQHIABgdoB/UR7AoQnTWC42Tw1TzHcRydP3HnP6dyu5t1rqIj5g7nJW5/WPLVsy8eVDS73xg5CMIhERzkzsd9QzCQPoHOgHEKQi9JsXKqxysn77zlyuXtbtv5hI6YO+wq3P7pF+dXD8/t4VU9T2UxT2zmSyPzxDxPxuwBaNc/EyJioOksjDnLoDMF0Rmsrp7t9eXM+Tb0eadi1/8IO3QIEKHv/zvMnV5enGddzKvC7BFWvVJohsXMMPOMGOoZNjMk5+hAGYNSiFcUzLLALIPzBcLKUpnNLdJSsbS4sLh477dcvLSTp13aDeiIuUOHdeD2hyVfOHtiZqbsz5hsX08U96Rc7DH34GK3VQAAAIhJREFU2PSLTGnSZEiVRJlSpS4NFIEyAWkypSKts8ZJdUdAIH0SiCheI4EAao0UxBTS18qsmb70Res1DdMvYfqc5avLZbmaLa2snOkfXt6swUMdOnTo0KFDhw4dOnTo0KFDhw4dOnTo0KFDhw4dOnTo0KFDhw4dOnTo0KFDhw4dOnTo0OHcxv8HnRxVygJP8F8AAAAASUVORK5CYII=);background-repeat:no-repeat;width:100%;max-width:500px;max-height:500px;margin-left:auto;margin-right:auto;display:block;min-height:0;height:200px;background-size:contain;background-position-x:center;background-position-y:bottom;margin-top:40px}.gantt_empty_state_text{text-align:center}.gantt_empty_state_text_link{color:var(--dhx-gantt-base-colors-primary);background:none;opacity:1;height:unset;cursor:pointer}.gantt_drag_marker .gantt_row.odd{background-color:var(--dhx-gantt-base-colors-select)}.gantt_drag_marker .gantt_row{border-left:var(--dhx-gantt-scale-border-vertical);border-top:var(--dhx-gantt-scale-border-horizontal)}.gantt_drag_marker .gantt_cell{border-color:var(--dhx-gantt-base-colors-border)}.gantt_row.gantt_over,.gantt_task_row.gantt_over{background-color:var(--dhx-gantt-base-colors-primary-active)}.gantt_row.gantt_transparent .gantt_cell{opacity:.7}.gantt_task_row.gantt_transparent{background-color:#537cfa73}.gantt_container_resize_watcher{background:transparent;width:100%;height:100%;position:absolute;top:0;left:0;z-index:-1;pointer-events:none;border:0;box-sizing:border-box;opacity:0}.gantt_task_deadline{position:absolute;z-index:5;--dhx-gantt-base-colors-icons: var(--dhx-gantt-base-colors-error);pointer-events:none}.gantt_task_deadline:before{font-family:dhx-gantt-icons!important;font-style:normal;font-weight:400!important;font-variant:normal;text-transform:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:flex;justify-content:center;align-items:center;color:var(--dhx-gantt-base-colors-icons);font-size:var(--dhx-gantt-icon-size, 1.5em)}.gantt_task_deadline:before{content:"\\f110";max-width:100%;max-height:100%;font-size:1em}.gantt_task_baseline{position:absolute;border-radius:2px;opacity:.9;background:#ffd180;z-index:0;overflow:hidden}.gantt_task_baseline.gantt_milestone_baseline{transform:rotate(45deg)}.gantt_task_baseline.gantt_task_baseline_0{background:var(--dhx-gantt-baseline-background-0)}.gantt_task_baseline.gantt_task_baseline_1{background:var(--dhx-gantt-baseline-background-1)}.gantt_task_baseline.gantt_task_baseline_2{background:var(--dhx-gantt-baseline-background-2)}.gantt_task_baseline.gantt_task_baseline_3{background:var(--dhx-gantt-baseline-background-3)}.gantt_task_baseline.gantt_task_baseline_4{background:var(--dhx-gantt-baseline-background-4)}.gantt_task_baseline.gantt_task_baseline_5{background:var(--dhx-gantt-baseline-background-5)}.gantt_task_baseline.gantt_task_baseline_6{background:var(--dhx-gantt-baseline-background-6)}.gantt_task_baseline.gantt_task_baseline_7{background:var(--dhx-gantt-baseline-background-7)}.gantt_task_baseline.gantt_task_baseline_8{background:var(--dhx-gantt-baseline-background-8)}.gantt_task_baseline.gantt_task_baseline_9{background:var(--dhx-gantt-baseline-background-9)}.gantt_section_baselines{overflow-y:auto;display:flex;flex-direction:column;gap:4px}.gantt_custom_button.gantt_add_baselines{margin-left:0}.gantt-chart{flex:1 1 0;position:relative;height:auto;width:98%;overflow:hidden;margin-left:1%}@media (min-width: 1900px){.gantt-wrapper{display:flex;flex-direction:column;height:82vh;margin-top:54px}.gantt-toolbar{z-index:9999!important;display:flex;position:relative;margin-bottom:1rem;gap:1rem;align-items:center;background:#a8a7a4;border:2px solid #201402;padding:.75rem 1.5rem;box-sizing:border-box;border-radius:6px}}@media (min-width: 1400px){.gantt-wrapper{display:flex;flex-direction:column;height:78vh;margin-top:54px}.gantt-toolbar{z-index:9999!important;display:flex;position:relative;margin-bottom:1rem;gap:1rem;align-items:center;background:#a8a7a4;border:2px solid #201402;padding:.75rem 1.5rem;box-sizing:border-box;border-radius:6px}}@media (min-width: 1300px){.gantt-wrapper{display:flex;flex-direction:column;height:75vh;margin-top:54px}.gantt-toolbar{z-index:9999!important;display:flex;position:relative;margin-bottom:.5rem;gap:1rem;align-items:center;background:#a8a7a4;border:2px solid #201402;padding:.75rem 1.5rem;box-sizing:border-box;border-radius:2px;margin-left:15px;margin-right:15px}}
`],encapsulation:2})};function FB(){return[{key:1,label:"Juan P\xE9rez"},{key:2,label:"Mar\xEDa Garc\xEDa"},{key:3,label:"Carlos L\xF3pez"},{key:4,label:"Ana Torres"},{key:5,label:"Pedro Ram\xEDrez"},{key:6,label:"Laura Mart\xEDnez"},{key:7,label:"Luis Alberto Spinetta"}]}var wb="year",kb="month",Eb="day",Cb="hour",Sb="minute",Tb="second",qD="millisecond",re={parse_duration(e){let n=/([0-9]+)(y|m|d|h|min|s|ms)/gm.exec(e);if(n!==null){if(n[2]==="y")return{duration:parseInt(n[1]),scale:"year"};if(n[2]==="m")return{duration:parseInt(n[1]),scale:"month"};if(n[2]==="d")return{duration:parseInt(n[1]),scale:"day"};if(n[2]==="h")return{duration:parseInt(n[1]),scale:"hour"};if(n[2]==="min")return{duration:parseInt(n[1]),scale:"minute"};if(n[2]==="s")return{duration:parseInt(n[1]),scale:"second"};if(n[2]==="ms")return{duration:parseInt(n[1]),scale:"millisecond"}}},parse(e,n="-",t=/[.:]/){if(e instanceof Date)return e;if(typeof e=="string"){let i,r,o=e.split(" ");i=o[0].split(n).map(a=>parseInt(a,10)),r=o[1]&&o[1].split(t),i[1]=i[1]?i[1]-1:0;let s=i;return r&&r.length&&(r.length===4&&(r[3]="0."+r[3],r[3]=parseFloat(r[3])*1e3),s=s.concat(r)),new Date(...s)}},to_string(e,n=!1){if(!(e instanceof Date))throw new TypeError("Invalid argument type");let t=this.get_date_values(e).map((o,s)=>(s===1&&(o=o+1),s===6?bg(o+"",3,"0"):bg(o+"",2,"0"))),i=`${t[0]}-${t[1]}-${t[2]}`,r=`${t[3]}:${t[4]}:${t[5]}.${t[6]}`;return i+(n?" "+r:"")},format(e,n="YYYY-MM-DD HH:mm:ss.SSS",t="en"){let i=new Intl.DateTimeFormat(t,{month:"long"}),r=new Intl.DateTimeFormat(t,{month:"short"}),o=i.format(e),s=o.charAt(0).toUpperCase()+o.slice(1),a=this.get_date_values(e).map(f=>bg(f,2,0)),l={YYYY:a[0],MM:bg(+a[1]+1,2,0),DD:a[2],HH:a[3],mm:a[4],ss:a[5],SSS:a[6],D:a[2],MMMM:s,MMM:r.format(e)},d=n,u=[];return Object.keys(l).sort((f,g)=>g.length-f.length).forEach(f=>{d.includes(f)&&(d=d.replaceAll(f,`$${u.length}`),u.push(l[f]))}),u.forEach((f,g)=>{d=d.replaceAll(`$${g}`,f)}),d},diff(e,n,t="day"){let i,r,o,s,a,l,d;i=e-n+(n.getTimezoneOffset()-e.getTimezoneOffset())*6e4,r=i/1e3,s=r/60,o=s/60,a=o/24;let u=e.getFullYear()-n.getFullYear(),f=e.getMonth()-n.getMonth();return f+=a%30/30,l=u*12+f,e.getDate()<n.getDate()&&l--,d=l/12,t.endsWith("s")||(t+="s"),Math.round({milliseconds:i,seconds:r,minutes:s,hours:o,days:a,months:l,years:d}[t]*100)/100},today(){let e=this.get_date_values(new Date).slice(0,3);return new Date(...e)},now(){return new Date},add(e,n,t){n=parseInt(n,10);let i=[e.getFullYear()+(t===wb?n:0),e.getMonth()+(t===kb?n:0),e.getDate()+(t===Eb?n:0),e.getHours()+(t===Cb?n:0),e.getMinutes()+(t===Sb?n:0),e.getSeconds()+(t===Tb?n:0),e.getMilliseconds()+(t===qD?n:0)];return new Date(...i)},start_of(e,n){let t={[wb]:6,[kb]:5,[Eb]:4,[Cb]:3,[Sb]:2,[Tb]:1,[qD]:0};function i(o){let s=t[n];return t[o]<=s}let r=[e.getFullYear(),i(wb)?0:e.getMonth(),i(kb)?1:e.getDate(),i(Eb)?0:e.getHours(),i(Cb)?0:e.getMinutes(),i(Sb)?0:e.getSeconds(),i(Tb)?0:e.getMilliseconds()];return new Date(...r)},clone(e){return new Date(...this.get_date_values(e))},get_date_values(e){return[e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()]},convert_scales(e,n){let t={millisecond:11574074074074074e-24,second:11574074074074073e-21,minute:.0006944444444444445,hour:.041666666666666664,day:1,month:30,year:365},{duration:i,scale:r}=this.parse_duration(e);return i*t[r]/t[n]},get_days_in_month(e){let n=[31,28,31,30,31,30,31,31,30,31,30,31],t=e.getMonth();if(t!==1)return n[t];let i=e.getFullYear();return i%4===0&&i%100!=0||i%400===0?29:28},get_days_in_year(e){return e.getFullYear()%4?365:366}};function bg(e,n,t){return e=e+"",n=n>>0,t=String(typeof t<"u"?t:" "),e.length>n?String(e):(n=n-e.length,n>t.length&&(t+=t.repeat(n/t.length)),t.slice(0,n)+String(e))}function Ge(e,n){return typeof e=="string"?(n||document).querySelector(e):e||null}function nt(e,n){let t=document.createElementNS("http://www.w3.org/2000/svg",e);for(let i in n)i==="append_to"?n.append_to.appendChild(t):i==="innerHTML"?t.innerHTML=n.innerHTML:i==="clipPath"?t.setAttribute("clip-path","url(#"+n[i]+")"):t.setAttribute(i,n[i]);return t}function Db(e,n,t,i){let r=$B(e,n,t,i);if(r===e){let o=document.createEvent("HTMLEvents");o.initEvent("click",!0,!0),o.eventName="click",r.dispatchEvent(o)}}function $B(e,n,t,i,r="0.4s",o="0.1s"){let s=e.querySelector("animate");if(s)return Ge.attr(s,{attributeName:n,from:t,to:i,dur:r,begin:"click + "+o}),e;let a=nt("animate",{attributeName:n,from:t,to:i,dur:r,begin:o,calcMode:"spline",values:t+";"+i,keyTimes:"0; 1",keySplines:jB("ease-out")});return e.appendChild(a),e}function jB(e){return{ease:".25 .1 .25 1",linear:"0 0 1 1","ease-in":".42 0 1 1","ease-out":"0 0 .58 1","ease-in-out":".42 0 .58 1"}[e]}Ge.on=(e,n,t,i)=>{i?Ge.delegate(e,n,t,i):(i=t,Ge.bind(e,n,i))};Ge.off=(e,n,t)=>{e.removeEventListener(n,t)};Ge.bind=(e,n,t)=>{n.split(/\s+/).forEach(function(i){e.addEventListener(i,t)})};Ge.delegate=(e,n,t,i)=>{e.addEventListener(n,function(r){let o=r.target.closest(t);o&&(r.delegatedTarget=o,i.call(this,r,o))})};Ge.closest=(e,n)=>n?n.matches(e)?n:Ge.closest(e,n.parentNode):null;Ge.attr=(e,n,t)=>{if(!t&&typeof n=="string")return e.getAttribute(n);if(typeof n=="object"){for(let i in n)Ge.attr(e,i,n[i]);return}e.setAttribute(n,t)};var Mb=class{constructor(n,t,i){this.gantt=n,this.from_task=t,this.to_task=i,this.calculate_path(),this.draw()}calculate_path(){let n=this.from_task.$bar.getX()+this.from_task.$bar.getWidth()/2,t=()=>this.to_task.$bar.getX()<n+this.gantt.options.padding&&n>this.from_task.$bar.getX()+this.gantt.options.padding;for(;t();)n-=10;n-=10;let i=this.gantt.config.header_height+this.gantt.options.bar_height+(this.gantt.options.padding+this.gantt.options.bar_height)*this.from_task.task._index+this.gantt.options.padding/2,r=this.to_task.$bar.getX()-13,o=this.gantt.config.header_height+this.gantt.options.bar_height/2+(this.gantt.options.padding+this.gantt.options.bar_height)*this.to_task.task._index+this.gantt.options.padding/2,s=this.from_task.task._index>this.to_task.task._index,a=this.gantt.options.arrow_curve,l=s?1:0,d=s?-a:a;if(this.to_task.$bar.getX()<=this.from_task.$bar.getX()+this.gantt.options.padding){let u=this.gantt.options.padding/2-a;u<0&&(u=0,a=this.gantt.options.padding/2,d=s?-a:a);let f=this.to_task.$bar.getY()+this.to_task.$bar.getHeight()/2-d,g=this.to_task.$bar.getX()-this.gantt.options.padding;this.path=`
                M ${n} ${i}
                v ${u}
                a ${a} ${a} 0 0 1 ${-a} ${a}
                H ${g}
                a ${a} ${a} 0 0 ${l} ${-a} ${d}
                V ${f}
                a ${a} ${a} 0 0 ${l} ${a} ${d}
                L ${r} ${o}
                m -5 -5
                l 5 5
                l -5 5`}else{r<n+a&&(a=r-n);let u=s?o+a:o-a;this.path=`
              M ${n} ${i}
              V ${u}
              a ${a} ${a} 0 0 ${l} ${a} ${a}
              L ${r} ${o}
              m -5 -5
              l 5 5
              l -5 5`}}draw(){this.element=nt("path",{d:this.path,"data-from":this.from_task.task.id,"data-to":this.to_task.task.id})}update(){this.calculate_path(),this.element.setAttribute("d",this.path)}},Ab=class{constructor(n,t){this.set_defaults(n,t),this.prepare_wrappers(),this.prepare_helpers(),this.refresh()}refresh(){this.bar_group.innerHTML="",this.handle_group.innerHTML="",this.task.custom_class?this.group.classList.add(this.task.custom_class):this.group.classList=["bar-wrapper"],this.prepare_values(),this.draw(),this.bind()}set_defaults(n,t){this.action_completed=!1,this.gantt=n,this.task=t,this.name=this.name||""}prepare_wrappers(){this.group=nt("g",{class:"bar-wrapper"+(this.task.custom_class?" "+this.task.custom_class:""),"data-id":this.task.id}),this.bar_group=nt("g",{class:"bar-group",append_to:this.group}),this.handle_group=nt("g",{class:"handle-group",append_to:this.group})}prepare_values(){this.invalid=this.task.invalid,this.height=this.gantt.options.bar_height,this.image_size=this.height-5,this.task._start=new Date(this.task.start),this.task._end=new Date(this.task.end),this.compute_x(),this.compute_y(),this.compute_duration(),this.corner_radius=this.gantt.options.bar_corner_radius,this.width=this.gantt.config.column_width*this.duration,(!this.task.progress||this.task.progress<0)&&(this.task.progress=0),this.task.progress>100&&(this.task.progress=100)}prepare_helpers(){SVGElement.prototype.getX=function(){return+this.getAttribute("x")},SVGElement.prototype.getY=function(){return+this.getAttribute("y")},SVGElement.prototype.getWidth=function(){return+this.getAttribute("width")},SVGElement.prototype.getHeight=function(){return+this.getAttribute("height")},SVGElement.prototype.getEndX=function(){return this.getX()+this.getWidth()}}prepare_expected_progress_values(){this.compute_expected_progress(),this.expected_progress_width=this.gantt.options.column_width*this.duration*(this.expected_progress/100)||0}draw(){this.draw_bar(),this.draw_progress_bar(),this.gantt.options.show_expected_progress&&(this.prepare_expected_progress_values(),this.draw_expected_progress_bar()),this.draw_label(),this.draw_resize_handles(),this.task.thumbnail&&this.draw_thumbnail()}draw_bar(){this.$bar=nt("rect",{x:this.x,y:this.y,width:this.width,height:this.height,rx:this.corner_radius,ry:this.corner_radius,class:"bar",append_to:this.bar_group}),this.task.color&&(this.$bar.style.fill=this.task.color),Db(this.$bar,"width",0,this.width),this.invalid&&this.$bar.classList.add("bar-invalid")}draw_expected_progress_bar(){this.invalid||(this.$expected_bar_progress=nt("rect",{x:this.x,y:this.y,width:this.expected_progress_width,height:this.height,rx:this.corner_radius,ry:this.corner_radius,class:"bar-expected-progress",append_to:this.bar_group}),Db(this.$expected_bar_progress,"width",0,this.expected_progress_width))}draw_progress_bar(){if(this.invalid)return;this.progress_width=this.calculate_progress_width();let n=this.corner_radius;/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(n=this.corner_radius+2),this.$bar_progress=nt("rect",{x:this.x,y:this.y,width:this.progress_width,height:this.height,rx:n,ry:n,class:"bar-progress",append_to:this.bar_group}),this.task.color_progress&&(this.$bar_progress.style.fill=this.task.color);let t=re.diff(this.task._start,this.gantt.gantt_start,this.gantt.config.unit)/this.gantt.config.step*this.gantt.config.column_width,i=this.gantt.create_el({classes:`date-range-highlight hide highlight-${this.task.id}`,width:this.width,left:t});this.$date_highlight=i,this.gantt.$lower_header.prepend(this.$date_highlight),Db(this.$bar_progress,"width",0,this.progress_width)}calculate_progress_width(){let n=this.$bar.getWidth(),t=this.x+n,i=this.gantt.config.ignored_positions.reduce((l,d)=>l+(d>=this.x&&d<t),0)*this.gantt.config.column_width,r=(n-i)*this.task.progress/100,o=this.x+r,s=this.gantt.config.ignored_positions.reduce((l,d)=>l+(d>=this.x&&d<o),0)*this.gantt.config.column_width;r+=s;let a=this.gantt.get_ignored_region(this.x+r);for(;a.length;)r+=this.gantt.config.column_width,a=this.gantt.get_ignored_region(this.x+r);return this.progress_width=r,r}draw_label(){let n=this.x+this.$bar.getWidth()/2;this.task.thumbnail&&(n=this.x+this.image_size+5),nt("text",{x:n,y:this.y+this.height/2,innerHTML:this.task.name,class:"bar-label",append_to:this.bar_group}),requestAnimationFrame(()=>this.update_label_position())}draw_thumbnail(){let n=10,t=2,i,r;i=nt("defs",{append_to:this.bar_group}),nt("rect",{id:"rect_"+this.task.id,x:this.x+n,y:this.y+t,width:this.image_size,height:this.image_size,rx:"15",class:"img_mask",append_to:i}),r=nt("clipPath",{id:"clip_"+this.task.id,append_to:i}),nt("use",{href:"#rect_"+this.task.id,append_to:r}),nt("image",{x:this.x+n,y:this.y+t,width:this.image_size,height:this.image_size,class:"bar-img",href:this.task.thumbnail,clipPath:"clip_"+this.task.id,append_to:this.bar_group})}draw_resize_handles(){if(this.invalid||this.gantt.options.readonly)return;let n=this.$bar,t=3;if(this.handles=[],this.gantt.options.readonly_dates||(this.handles.push(nt("rect",{x:n.getEndX()-t/2,y:n.getY()+this.height/4,width:t,height:this.height/2,rx:2,ry:2,class:"handle right",append_to:this.handle_group})),this.handles.push(nt("rect",{x:n.getX()-t/2,y:n.getY()+this.height/4,width:t,height:this.height/2,rx:2,ry:2,class:"handle left",append_to:this.handle_group}))),!this.gantt.options.readonly_progress){let i=this.$bar_progress;this.$handle_progress=nt("circle",{cx:i.getEndX(),cy:i.getY()+i.getHeight()/2,r:4.5,class:"handle progress",append_to:this.handle_group}),this.handles.push(this.$handle_progress)}for(let i of this.handles)Ge.on(i,"mouseenter",()=>i.classList.add("active")),Ge.on(i,"mouseleave",()=>i.classList.remove("active"))}bind(){this.invalid||this.setup_click_event()}setup_click_event(){let n=this.task.id;Ge.on(this.group,"mouseover",i=>{this.gantt.trigger_event("hover",[this.task,i.screenX,i.screenY,i])}),this.gantt.options.popup_on==="click"&&Ge.on(this.group,"mouseup",i=>{let r=i.offsetX||i.layerX;if(this.$handle_progress){let o=+this.$handle_progress.getAttribute("cx");if(o>r-1&&o<r+1||this.gantt.bar_being_dragged)return}this.gantt.show_popup({x:i.offsetX||i.layerX,y:i.offsetY||i.layerY,task:this.task,target:this.$bar})});let t;Ge.on(this.group,"mouseenter",i=>{t=setTimeout(()=>{this.gantt.options.popup_on==="hover"&&this.gantt.show_popup({x:i.offsetX||i.layerX,y:i.offsetY||i.layerY,task:this.task,target:this.$bar}),this.gantt.$container.querySelector(`.highlight-${n}`).classList.remove("hide")},200)}),Ge.on(this.group,"mouseleave",()=>{var i,r;clearTimeout(t),this.gantt.options.popup_on==="hover"&&((r=(i=this.gantt.popup)==null?void 0:i.hide)==null||r.call(i)),this.gantt.$container.querySelector(`.highlight-${n}`).classList.add("hide")}),Ge.on(this.group,"click",()=>{this.gantt.trigger_event("click",[this.task])}),Ge.on(this.group,"dblclick",i=>{this.action_completed||(this.group.classList.remove("active"),this.gantt.popup&&this.gantt.popup.parent.classList.remove("hide"),this.gantt.trigger_event("double_click",[this.task]))})}update_bar_position({x:n=null,width:t=null}){let i=this.$bar;if(n){if(!this.task.dependencies.map(r=>this.gantt.get_bar(r).$bar.getX()).reduce((r,o)=>n>=o,n))return;this.update_attr(i,"x",n),this.x=n,this.$date_highlight.style.left=n+"px"}t>0&&(this.update_attr(i,"width",t),this.$date_highlight.style.width=t+"px"),this.update_label_position(),this.update_handle_position(),this.date_changed(),this.compute_duration(),this.gantt.options.show_expected_progress&&this.update_expected_progressbar_position(),this.update_progressbar_position(),this.update_arrow_position()}update_label_position_on_horizontal_scroll({x:n,sx:t}){let i=this.gantt.$container.querySelector(".gantt-container"),r=this.group.querySelector(".bar-label"),o=this.group.querySelector(".bar-img")||"",s=this.bar_group.querySelector(".img_mask")||"",a=this.$bar.getX()+this.$bar.getWidth(),l=r.getX()+n,d=o&&o.getX()+n||0,u=o&&o.getBBox().width+7||7,f=l+r.getBBox().width+7,g=t+i.clientWidth/2;r.classList.contains("big")||(f<a&&n>0&&f<g||l-u>this.$bar.getX()&&n<0&&f>g)&&(r.setAttribute("x",l),o&&(o.setAttribute("x",d),s.setAttribute("x",d)))}date_changed(){let n=!1,{new_start_date:t,new_end_date:i}=this.compute_start_end_date();Number(this.task._start)!==Number(t)&&(n=!0,this.task._start=t),Number(this.task._end)!==Number(i)&&(n=!0,this.task._end=i),n&&this.gantt.trigger_event("date_change",[this.task,t,re.add(i,-1,"second")])}progress_changed(){this.task.progress=this.compute_progress(),this.gantt.trigger_event("progress_change",[this.task,this.task.progress])}set_action_completed(){this.action_completed=!0,setTimeout(()=>this.action_completed=!1,1e3)}compute_start_end_date(){let n=this.$bar,t=n.getX()/this.gantt.config.column_width,i=re.add(this.gantt.gantt_start,t*this.gantt.config.step,this.gantt.config.unit),r=n.getWidth()/this.gantt.config.column_width,o=re.add(i,r*this.gantt.config.step,this.gantt.config.unit);return{new_start_date:i,new_end_date:o}}compute_progress(){this.progress_width=this.$bar_progress.getWidth(),this.x=this.$bar_progress.getBBox().x;let n=this.x+this.progress_width,t=this.progress_width-this.gantt.config.ignored_positions.reduce((r,o)=>r+(o>=this.x&&o<=n),0)*this.gantt.config.column_width;if(t<0)return 0;let i=this.$bar.getWidth()-this.ignored_duration_raw*this.gantt.config.column_width;return parseInt(t/i*100,10)}compute_expected_progress(){this.expected_progress=re.diff(re.today(),this.task._start,"hour")/this.gantt.config.step,this.expected_progress=(this.expected_progress<this.duration?this.expected_progress:this.duration)*100/this.duration}compute_x(){let{column_width:n}=this.gantt.config,t=this.task._start,i=this.gantt.gantt_start,r=re.diff(t,i,this.gantt.config.unit)/this.gantt.config.step*n;this.x=r}compute_y(){this.y=this.gantt.config.header_height+this.gantt.options.padding/2+this.task._index*(this.height+this.gantt.options.padding)}compute_duration(){let n=0,t=0;for(let i=new Date(this.task._start);i<this.task._end;i.setDate(i.getDate()+1))t++,!this.gantt.config.ignored_dates.find(r=>r.getTime()===i.getTime())&&(!this.gantt.config.ignored_function||!this.gantt.config.ignored_function(i))&&n++;this.task.actual_duration=n,this.task.ignored_duration=t-n,this.duration=re.convert_scales(t+"d",this.gantt.config.unit)/this.gantt.config.step,this.actual_duration_raw=re.convert_scales(n+"d",this.gantt.config.unit)/this.gantt.config.step,this.ignored_duration_raw=this.duration-this.actual_duration_raw}update_attr(n,t,i){return i=+i,isNaN(i)||n.setAttribute(t,i),n}update_expected_progressbar_position(){this.invalid||(this.$expected_bar_progress.setAttribute("x",this.$bar.getX()),this.compute_expected_progress(),this.$expected_bar_progress.setAttribute("width",this.gantt.config.column_width*this.actual_duration_raw*(this.expected_progress/100)||0))}update_progressbar_position(){this.invalid||this.gantt.options.readonly||(this.$bar_progress.setAttribute("x",this.$bar.getX()),this.$bar_progress.setAttribute("width",this.calculate_progress_width()))}update_label_position(){let n=this.bar_group.querySelector(".img_mask")||"",t=this.$bar,i=this.group.querySelector(".bar-label"),r=this.group.querySelector(".bar-img"),o=5,s=this.image_size+10,a=i.getBBox().width,l=t.getWidth();a>l?(i.classList.add("big"),r?(r.setAttribute("x",t.getEndX()+o),n.setAttribute("x",t.getEndX()+o),i.setAttribute("x",t.getEndX()+s)):i.setAttribute("x",t.getEndX()+o)):(i.classList.remove("big"),r?(r.setAttribute("x",t.getX()+o),n.setAttribute("x",t.getX()+o),i.setAttribute("x",t.getX()+l/2+s)):i.setAttribute("x",t.getX()+l/2-a/2))}update_handle_position(){if(this.invalid||this.gantt.options.readonly)return;let n=this.$bar;this.handle_group.querySelector(".handle.left").setAttribute("x",n.getX()),this.handle_group.querySelector(".handle.right").setAttribute("x",n.getEndX());let t=this.group.querySelector(".handle.progress");t&&t.setAttribute("cx",this.$bar_progress.getEndX())}update_arrow_position(){this.arrows=this.arrows||[];for(let n of this.arrows)n.update()}},Nb=class{constructor(n,t,i){this.parent=n,this.popup_func=t,this.gantt=i,this.make()}make(){this.parent.innerHTML=`
            <div class="title"></div>
            <div class="subtitle"></div>
            <div class="details"></div>
            <div class="actions"></div>
        `,this.hide(),this.title=this.parent.querySelector(".title"),this.subtitle=this.parent.querySelector(".subtitle"),this.details=this.parent.querySelector(".details"),this.actions=this.parent.querySelector(".actions")}show({x:n,y:t,task:i,target:r}){this.actions.innerHTML="";let o=this.popup_func({task:i,chart:this.gantt,get_title:()=>this.title,set_title:s=>this.title.innerHTML=s,get_subtitle:()=>this.subtitle,set_subtitle:s=>this.subtitle.innerHTML=s,get_details:()=>this.details,set_details:s=>this.details.innerHTML=s,add_action:(s,a)=>{let l=this.gantt.create_el({classes:"action-btn",type:"button",append_to:this.actions});typeof s=="function"&&(s=s(i)),l.innerHTML=s,l.onclick=d=>a(i,this.gantt,d)}});o!==!1&&(o&&(this.parent.innerHTML=o),this.actions.innerHTML===""?this.actions.remove():this.parent.appendChild(this.actions),this.parent.style.left=n+10+"px",this.parent.style.top=t-10+"px",this.parent.classList.remove("hide"))}hide(){this.parent.classList.add("hide")}};function Ib(e){let n=e.getFullYear();return n-n%10+""}function BB(e,n,t){let i=re.add(e,6,"day"),r=i.getMonth()!==e.getMonth()?"D MMM":"D",o=!n||e.getMonth()!==n.getMonth()?"D MMM":"D";return`${re.format(e,o,t)} - ${re.format(i,r,t)}`}var Jr=[{name:"Hour",padding:"7d",step:"1h",date_format:"YYYY-MM-DD HH:",lower_text:"HH",upper_text:(e,n,t)=>!n||e.getDate()!==n.getDate()?re.format(e,"D MMMM",t):"",upper_text_frequency:24},{name:"Quarter Day",padding:"7d",step:"6h",date_format:"YYYY-MM-DD HH:",lower_text:"HH",upper_text:(e,n,t)=>!n||e.getDate()!==n.getDate()?re.format(e,"D MMM",t):"",upper_text_frequency:4},{name:"Half Day",padding:"14d",step:"12h",date_format:"YYYY-MM-DD HH:",lower_text:"HH",upper_text:(e,n,t)=>!n||e.getDate()!==n.getDate()?e.getMonth()!==e.getMonth()?re.format(e,"D MMM",t):re.format(e,"D",t):"",upper_text_frequency:2},{name:"Day",padding:"7d",date_format:"YYYY-MM-DD",step:"1d",lower_text:(e,n,t)=>!n||e.getDate()!==n.getDate()?re.format(e,"D",t):"",upper_text:(e,n,t)=>!n||e.getMonth()!==n.getMonth()?re.format(e,"MMMM",t):"",thick_line:e=>e.getDay()===1},{name:"Week",padding:"1m",step:"7d",date_format:"YYYY-MM-DD",column_width:140,lower_text:BB,upper_text:(e,n,t)=>!n||e.getMonth()!==n.getMonth()?re.format(e,"MMMM",t):"",thick_line:e=>e.getDate()>=1&&e.getDate()<=7,upper_text_frequency:4},{name:"Month",padding:"2m",step:"1m",column_width:120,date_format:"YYYY-MM",lower_text:"MMMM",upper_text:(e,n,t)=>!n||e.getFullYear()!==n.getFullYear()?re.format(e,"YYYY",t):"",thick_line:e=>e.getMonth()%3===0,snap_at:"7d"},{name:"Year",padding:"2y",step:"1y",column_width:120,date_format:"YYYY",upper_text:(e,n,t)=>!n||Ib(e)!==Ib(n)?Ib(e):"",lower_text:"YYYY",snap_at:"30d"}],VB={arrow_curve:5,auto_move_label:!1,bar_corner_radius:3,bar_height:30,container_height:"auto",column_width:null,date_format:"YYYY-MM-DD HH:mm",upper_header_height:45,lower_header_height:30,snap_at:null,infinite_padding:!0,holidays:{"var(--g-weekend-highlight-color)":"weekend"},ignore:[],language:"en",lines:"both",move_dependencies:!0,padding:18,popup:e=>{e.set_title(e.task.name),e.task.description?e.set_subtitle(e.task.description):e.set_subtitle("");let n=re.format(e.task._start,"MMM D",e.chart.options.language),t=re.format(re.add(e.task._end,-1,"second"),"MMM D",e.chart.options.language);e.set_details(`${n} - ${t} (${e.task.actual_duration} days${e.task.ignored_duration?" + "+e.task.ignored_duration+" excluded":""})<br/>Progress: ${Math.floor(e.task.progress*100)/100}%`)},popup_on:"click",readonly_progress:!1,readonly_dates:!1,readonly:!1,scroll_to:"today",show_expected_progress:!1,today_button:!0,view_mode:"Day",view_mode_select:!1,view_modes:Jr},Qc=class{constructor(n,t,i){this.setup_wrapper(n),this.setup_options(i),this.setup_tasks(t),this.change_view_mode(),this.bind_events()}setup_wrapper(n){let t,i;if(typeof n=="string"){let r=document.querySelector(n);if(!r)throw new ReferenceError(`CSS selector "${n}" could not be found in DOM`);n=r}if(n instanceof HTMLElement)i=n,t=n.querySelector("svg");else if(n instanceof SVGElement)t=n;else throw new TypeError("Frappe Gantt only supports usage of a string CSS selector, HTML DOM element or SVG DOM element for the 'element' parameter");t?(this.$svg=t,this.$svg.classList.add("gantt")):this.$svg=nt("svg",{append_to:i,class:"gantt"}),this.$container=this.create_el({classes:"gantt-container",append_to:this.$svg.parentElement}),this.$container.appendChild(this.$svg),this.$popup_wrapper=this.create_el({classes:"popup-wrapper",append_to:this.$container})}setup_options(n){this.original_options=n,this.options=K(K({},VB),n);let t={"grid-height":"container_height","bar-height":"bar_height","lower-header-height":"lower_header_height","upper-header-height":"upper_header_height"};for(let i in t){let r=this.options[t[i]];r!=="auto"&&this.$container.style.setProperty("--gv-"+i,r+"px")}if(this.config={ignored_dates:[],ignored_positions:[],extend_by_units:10},typeof this.options.ignore!="function"){typeof this.options.ignore=="string"&&(this.options.ignore=[this.options.ignord]);for(let i of this.options.ignore){if(typeof i=="function"){this.config.ignored_function=i;continue}typeof i=="string"&&(i==="weekend"?this.config.ignored_function=r=>r.getDay()==6||r.getDay()==0:this.config.ignored_dates.push(new Date(i+" ")))}}else this.config.ignored_function=this.options.ignore}update_options(n){this.setup_options(K(K({},this.original_options),n)),this.change_view_mode(void 0,!0)}setup_tasks(n){this.tasks=n.map((t,i)=>{if(!t.start)return console.error(`task "${t.id}" doesn't have a start date`),!1;if(t._start=re.parse(t.start),t.end===void 0&&t.duration!==void 0&&(t.end=t._start,t.duration.split(" ").forEach(r=>{let{duration:o,scale:s}=re.parse_duration(r);t.end=re.add(t.end,o,s)})),!t.end)return console.error(`task "${t.id}" doesn't have an end date`),!1;if(t._end=re.parse(t.end),re.diff(t._end,t._start,"year")<0)return console.error(`start of task can't be after end of task: in task "${t.id}"`),!1;if(re.diff(t._end,t._start,"year")>10)return console.error(`the duration of task "${t.id}" is too long (above ten years)`),!1;if(t._index=i,re.get_date_values(t._end).slice(3).every(r=>r===0)&&(t._end=re.add(t._end,24,"hour")),typeof t.dependencies=="string"||!t.dependencies){let r=[];t.dependencies&&(r=t.dependencies.split(",").map(o=>o.trim().replaceAll(" ","_")).filter(o=>o)),t.dependencies=r}return t.id?typeof t.id=="string"?t.id=t.id.replaceAll(" ","_"):t.id=`${t.id}`:t.id=zB(t),t}).filter(t=>t),this.setup_dependencies()}setup_dependencies(){this.dependency_map={};for(let n of this.tasks)for(let t of n.dependencies)this.dependency_map[t]=this.dependency_map[t]||[],this.dependency_map[t].push(n.id)}refresh(n){this.setup_tasks(n),this.change_view_mode()}update_task(n,t){let i=this.tasks.find(o=>o.id===n),r=this.bars[i._index];Object.assign(i,t),r.refresh()}change_view_mode(n=this.options.view_mode,t=!1){typeof n=="string"&&(n=this.options.view_modes.find(o=>o.name===n));let i,r;t&&(i=this.$container.scrollLeft,r=this.options.scroll_to,this.options.scroll_to=null),this.options.view_mode=n.name,this.config.view_mode=n,this.update_view_scale(n),this.setup_dates(t),this.render(),t&&(this.$container.scrollLeft=i,this.options.scroll_to=r),this.trigger_event("view_change",[n])}update_view_scale(n){let{duration:t,scale:i}=re.parse_duration(n.step);this.config.step=t,this.config.unit=i,this.config.column_width=this.options.column_width||n.column_width||45,this.$container.style.setProperty("--gv-column-width",this.config.column_width+"px"),this.config.header_height=this.options.lower_header_height+this.options.upper_header_height+10}setup_dates(n=!1){this.setup_gantt_dates(n),this.setup_date_values()}setup_gantt_dates(n){let t,i;this.tasks.length||(t=new Date,i=new Date);for(let r of this.tasks)(!t||r._start<t)&&(t=r._start),(!i||r._end>i)&&(i=r._end);if(t=re.start_of(t,this.config.unit),i=re.start_of(i,this.config.unit),!n)if(this.options.infinite_padding)this.gantt_start=re.add(t,-this.config.extend_by_units*3,this.config.unit),this.gantt_end=re.add(i,this.config.extend_by_units*3,this.config.unit);else{typeof this.config.view_mode.padding=="string"&&(this.config.view_mode.padding=[this.config.view_mode.padding,this.config.view_mode.padding]);let[r,o]=this.config.view_mode.padding.map(re.parse_duration);this.gantt_start=re.add(t,-r.duration,r.scale),this.gantt_end=re.add(i,o.duration,o.scale)}this.config.date_format=this.config.view_mode.date_format||this.options.date_format,this.gantt_start.setHours(0,0,0,0)}setup_date_values(){let n=this.gantt_start;for(this.dates=[n];n<this.gantt_end;)n=re.add(n,this.config.step,this.config.unit),this.dates.push(n)}bind_events(){this.bind_grid_click(),this.bind_holiday_labels(),this.bind_bar_events()}render(){this.clear(),this.setup_layers(),this.make_grid(),this.make_dates(),this.make_grid_extras(),this.make_bars(),this.make_arrows(),this.map_arrows_on_bars(),this.set_dimensions(),this.set_scroll_position(this.options.scroll_to)}setup_layers(){this.layers={};let n=["grid","arrow","progress","bar"];for(let t of n)this.layers[t]=nt("g",{class:t,append_to:this.$svg});this.$extras=this.create_el({classes:"extras",append_to:this.$container}),this.$adjust=this.create_el({classes:"adjust hide",append_to:this.$extras,type:"button"}),this.$adjust.innerHTML="&larr;"}make_grid(){this.make_grid_background(),this.make_grid_rows(),this.make_grid_header(),this.make_side_header()}make_grid_extras(){this.make_grid_highlights(),this.make_grid_ticks()}make_grid_background(){let n=this.dates.length*this.config.column_width,t=Math.max(this.config.header_height+this.options.padding+(this.options.bar_height+this.options.padding)*this.tasks.length-10,this.options.container_height!=="auto"?this.options.container_height:0);nt("rect",{x:0,y:0,width:n,height:t,class:"grid-background",append_to:this.$svg}),Ge.attr(this.$svg,{height:t,width:"100%"}),this.grid_height=t,this.options.container_height==="auto"&&(this.$container.style.height=t+"px")}make_grid_rows(){let n=nt("g",{append_to:this.layers.grid}),t=this.dates.length*this.config.column_width,i=this.options.bar_height+this.options.padding;this.config.header_height;for(let r=this.config.header_height;r<this.grid_height;r+=i)nt("rect",{x:0,y:r,width:t,height:i,class:"grid-row",append_to:n})}make_grid_header(){this.$header=this.create_el({width:this.dates.length*this.config.column_width,classes:"grid-header",append_to:this.$container}),this.$upper_header=this.create_el({classes:"upper-header",append_to:this.$header}),this.$lower_header=this.create_el({classes:"lower-header",append_to:this.$header})}make_side_header(){if(this.$side_header=this.create_el({classes:"side-header"}),this.$upper_header.prepend(this.$side_header),this.options.view_mode_select){let n=document.createElement("select");n.classList.add("viewmode-select");let t=document.createElement("option");t.selected=!0,t.disabled=!0,t.textContent="Mode",n.appendChild(t);for(let i of this.options.view_modes){let r=document.createElement("option");r.value=i.name,r.textContent=i.name,i.name===this.config.view_mode.name&&(r.selected=!0),n.appendChild(r)}n.addEventListener("change",(function(){this.change_view_mode(n.value,!0)}).bind(this)),this.$side_header.appendChild(n)}if(this.options.today_button){let n=document.createElement("button");n.classList.add("today-button"),n.textContent="Today",n.onclick=this.scroll_current.bind(this),this.$side_header.prepend(n),this.$today_button=n}}make_grid_ticks(){if(this.options.lines==="none")return;let n=0,t=this.config.header_height,i=this.grid_height-this.config.header_height,r=nt("g",{class:"lines_layer",append_to:this.layers.grid}),o=this.config.header_height,s=this.dates.length*this.config.column_width,a=this.options.bar_height+this.options.padding;if(this.options.lines!=="vertical")for(let l=this.config.header_height;l<this.grid_height;l+=a)nt("line",{x1:0,y1:o+a,x2:s,y2:o+a,class:"row-line",append_to:r}),o+=a;if(this.options.lines!=="horizontal")for(let l of this.dates){let d="tick";this.config.view_mode.thick_line&&this.config.view_mode.thick_line(l)&&(d+=" thick"),nt("path",{d:`M ${n} ${t} v ${i}`,class:d,append_to:this.layers.grid}),this.view_is("month")?n+=re.get_days_in_month(l)*this.config.column_width/30:this.view_is("year")?n+=re.get_days_in_year(l)*this.config.column_width/365:n+=this.config.column_width}}highlight_holidays(){let n={};if(this.options.holidays)for(let t in this.options.holidays){let i=this.options.holidays[t];i==="weekend"&&(i=o=>o.getDay()===0||o.getDay()===6);let r;if(typeof i=="object"){let o=i.find(s=>typeof s=="function");if(o&&(r=o),this.options.holidays.name){let s=new Date(i.date+" ");i=a=>s.getTime()===a.getTime(),n[s]=i.name}else i=s=>this.options.holidays[t].filter(a=>typeof a!="function").map(a=>{if(a.name){let l=new Date(a.date+" ");return n[l]=a.name,l.getTime()}return new Date(a+" ").getTime()}).includes(s.getTime())}for(let o=new Date(this.gantt_start);o<=this.gantt_end;o.setDate(o.getDate()+1))if(!(this.config.ignored_dates.find(s=>s.getTime()==o.getTime())||this.config.ignored_function&&this.config.ignored_function(o))&&(i(o)||r&&r(o))){let s=re.diff(o,this.gantt_start,this.config.unit)/this.config.step*this.config.column_width,a=this.grid_height-this.config.header_height,l=re.format(o,"YYYY-MM-DD",this.options.language).replace(" ","_");if(n[o]){let d=this.create_el({classes:"holiday-label label_"+l,append_to:this.$extras});d.textContent=n[o]}nt("rect",{x:Math.round(s),y:this.config.header_height,width:this.config.column_width/re.convert_scales(this.config.view_mode.step,"day"),height:a,class:"holiday-highlight "+l,style:`fill: ${t};`,append_to:this.layers.grid})}}}highlight_current(){let n=this.get_closest_date();if(!n)return;let[t,i]=n;i.classList.add("current-date-highlight");let r=re.diff(new Date,this.gantt_start,this.config.unit)/this.config.step*this.config.column_width;this.$current_highlight=this.create_el({top:this.config.header_height,left:r,height:this.grid_height-this.config.header_height,classes:"current-highlight",append_to:this.$container}),this.$current_ball_highlight=this.create_el({top:this.config.header_height-6,left:r-2.5,width:6,height:6,classes:"current-ball-highlight",append_to:this.$header})}make_grid_highlights(){this.highlight_holidays(),this.config.ignored_positions=[];let n=(this.options.bar_height+this.options.padding)*this.tasks.length;this.layers.grid.innerHTML+=`<pattern id="diagonalHatch" patternUnits="userSpaceOnUse" width="4" height="4">
          <path d="M-1,1 l2,-2
                   M0,4 l4,-4
                   M3,5 l2,-2"
                style="stroke:grey; stroke-width:0.3" />
        </pattern>`;for(let t=new Date(this.gantt_start);t<=this.gantt_end;t.setDate(t.getDate()+1)){if(!this.config.ignored_dates.find(r=>r.getTime()==t.getTime())&&(!this.config.ignored_function||!this.config.ignored_function(t)))continue;let i=re.convert_scales(re.diff(t,this.gantt_start)+"d",this.config.unit)/this.config.step;this.config.ignored_positions.push(i*this.config.column_width),nt("rect",{x:i*this.config.column_width,y:this.config.header_height,width:this.config.column_width,height:n,class:"ignored-bar",style:"fill: url(#diagonalHatch);",append_to:this.$svg})}this.highlight_current(this.config.view_mode)}create_el({left:n,top:t,width:i,height:r,id:o,classes:s,append_to:a,type:l}){let d=document.createElement(l||"div");for(let u of s.split(" "))d.classList.add(u);return d.style.top=t+"px",d.style.left=n+"px",o&&(d.id=o),i&&(d.style.width=i+"px"),r&&(d.style.height=r+"px"),a&&a.appendChild(d),d}make_dates(){this.get_dates_to_draw().forEach((n,t)=>{if(n.lower_text){let i=this.create_el({left:n.x,top:n.lower_y,classes:"lower-text date_"+xg(n.formatted_date),append_to:this.$lower_header});i.innerText=n.lower_text}if(n.upper_text){let i=this.create_el({left:n.x,top:n.upper_y,classes:"upper-text",append_to:this.$upper_header});i.innerText=n.upper_text}}),this.upperTexts=Array.from(this.$container.querySelectorAll(".upper-text"))}get_dates_to_draw(){let n=null;return this.dates.map((t,i)=>{let r=this.get_date_info(t,n,i);return n=r,r})}get_date_info(n,t){let i=t?t.date:null;this.config.column_width;let r=t?t.x+t.column_width:0,o=this.config.view_mode.upper_text,s=this.config.view_mode.lower_text;return o?typeof o=="string"&&(this.config.view_mode.upper_text=a=>re.format(a,o,this.options.language)):this.config.view_mode.upper_text=()=>"",s?typeof s=="string"&&(this.config.view_mode.lower_text=a=>re.format(a,s,this.options.language)):this.config.view_mode.lower_text=()=>"",{date:n,formatted_date:xg(re.format(n,this.config.date_format,this.options.language)),column_width:this.config.column_width,x:r,upper_text:this.config.view_mode.upper_text(n,i,this.options.language),lower_text:this.config.view_mode.lower_text(n,i,this.options.language),upper_y:17,lower_y:this.options.upper_header_height+5}}make_bars(){this.bars=this.tasks.map(n=>{let t=new Ab(this,n);return this.layers.bar.appendChild(t.group),t})}make_arrows(){this.arrows=[];for(let n of this.tasks){let t=[];t=n.dependencies.map(i=>{let r=this.get_task(i);if(!r)return;let o=new Mb(this,this.bars[r._index],this.bars[n._index]);return this.layers.arrow.appendChild(o.element),o}).filter(Boolean),this.arrows=this.arrows.concat(t)}}map_arrows_on_bars(){for(let n of this.bars)n.arrows=this.arrows.filter(t=>t.from_task.task.id===n.task.id||t.to_task.task.id===n.task.id)}set_dimensions(){let{width:n}=this.$svg.getBoundingClientRect(),t=this.$svg.querySelector(".grid .grid-row")?this.$svg.querySelector(".grid .grid-row").getAttribute("width"):0;n<t&&this.$svg.setAttribute("width",t)}set_scroll_position(n){if(this.options.infinite_padding&&(!n||n==="start")){let[o,...s]=this.get_start_end_positions();this.$container.scrollLeft=o;return}if(!n||n==="start")n=this.gantt_start;else if(n==="end")n=this.gantt_end;else{if(n==="today")return this.scroll_current();typeof n=="string"&&(n=re.parse(n))}let t=re.diff(n,this.gantt_start,this.config.unit)/this.config.step*this.config.column_width;this.$container.scrollTo({left:t-this.config.column_width/6,behavior:"smooth"}),this.$current&&this.$current.classList.remove("current-upper"),this.current_date=re.add(this.gantt_start,this.$container.scrollLeft/this.config.column_width,this.config.unit);let i=this.config.view_mode.upper_text(this.current_date,null,this.options.language),r=this.upperTexts.find(o=>o.textContent===i);this.current_date=re.add(this.gantt_start,(this.$container.scrollLeft+r.clientWidth)/this.config.column_width,this.config.unit),i=this.config.view_mode.upper_text(this.current_date,null,this.options.language),r=this.upperTexts.find(o=>o.textContent===i),r.classList.add("current-upper"),this.$current=r}scroll_current(){let n=this.get_closest_date();n&&this.set_scroll_position(n[0])}get_closest_date(){let n=new Date;if(n<this.gantt_start||n>this.gantt_end)return null;let t=new Date,i=this.$container.querySelector(".date_"+xg(re.format(t,this.config.date_format,this.options.language))),r=0;for(;!i&&r<this.config.step;)t=re.add(t,-1,this.config.unit),i=this.$container.querySelector(".date_"+xg(re.format(t,this.config.date_format,this.options.language))),r++;return[new Date(re.format(t,this.config.date_format,this.options.language)+" "),i]}bind_grid_click(){Ge.on(this.$container,"click",".grid-row, .grid-header, .ignored-bar, .holiday-highlight",()=>{this.unselect_all(),this.hide_popup()})}bind_holiday_labels(){let n=this.$container.querySelectorAll(".holiday-highlight");for(let t of n){let i=this.$container.querySelector(".label_"+t.classList[1]);if(!i)continue;let r;t.onmouseenter=o=>{r=setTimeout(()=>{i.classList.add("show"),i.style.left=(o.offsetX||o.layerX)+"px",i.style.top=(o.offsetY||o.layerY)+"px"},300)},t.onmouseleave=o=>{clearTimeout(r),i.classList.remove("show")}}}get_start_end_positions(){if(!this.bars.length)return[0,0,0];let{x:n,width:t}=this.bars[0].group.getBBox(),i=n,r=n,o=n+t;return Array.prototype.forEach.call(this.bars,function({group:s},a){let{x:l,width:d}=s.getBBox();l<i&&(i=l),l>r&&(r=l),l+d>o&&(o=l+d)}),[i,r,o]}bind_bar_events(){let n=!1,t=0,i=0,r=!1,o=!1,s=null,a=[];this.bar_being_dragged=null;let l=()=>n||r||o;this.$svg.onclick=u=>{u.target.classList.contains("grid-row")&&this.unselect_all()};let d=0;if(Ge.on(this.$svg,"mousemove",".bar-wrapper, .handle",u=>{this.bar_being_dragged===!1&&Math.abs((u.offsetX||u.layerX)-d)>10&&(this.bar_being_dragged=!0)}),Ge.on(this.$svg,"mousedown",".bar-wrapper, .handle",(u,f)=>{let g=Ge.closest(".bar-wrapper",f);f.classList.contains("left")?(r=!0,f.classList.add("visible")):f.classList.contains("right")?(o=!0,f.classList.add("visible")):f.classList.contains("bar-wrapper")&&(n=!0),this.popup&&this.popup.hide(),t=u.offsetX||u.layerX,u.offsetY||u.layerY,s=g.getAttribute("data-id");let p;this.options.move_dependencies?p=[s,...this.get_all_dependent_tasks(s)]:p=[s],a=p.map(v=>this.get_bar(v)),this.bar_being_dragged=!1,d=t,a.forEach(v=>{let k=v.$bar;k.ox=k.getX(),k.oy=k.getY(),k.owidth=k.getWidth(),k.finaldx=0})}),this.options.infinite_padding){let u=!1;Ge.on(this.$container,"mousewheel",f=>{let g=this.$container.scrollWidth/2;if(!u&&f.currentTarget.scrollLeft<=g){let p=f.currentTarget.scrollLeft;u=!0,this.gantt_start=re.add(this.gantt_start,-this.config.extend_by_units,this.config.unit),this.setup_date_values(),this.render(),f.currentTarget.scrollLeft=p+this.config.column_width*this.config.extend_by_units,setTimeout(()=>u=!1,300)}if(!u&&f.currentTarget.scrollWidth-(f.currentTarget.scrollLeft+f.currentTarget.clientWidth)<=g){let p=f.currentTarget.scrollLeft;u=!0,this.gantt_end=re.add(this.gantt_end,this.config.extend_by_units,this.config.unit),this.setup_date_values(),this.render(),f.currentTarget.scrollLeft=p,setTimeout(()=>u=!1,300)}})}Ge.on(this.$container,"scroll",u=>{let f=[],g=this.bars.map(({group:w})=>w.getAttribute("data-id")),p;i&&(p=u.currentTarget.scrollLeft-i),this.current_date=re.add(this.gantt_start,u.currentTarget.scrollLeft/this.config.column_width*this.config.step,this.config.unit);let v=this.config.view_mode.upper_text(this.current_date,null,this.options.language),k=this.upperTexts.find(w=>w.textContent===v);this.current_date=re.add(this.gantt_start,(u.currentTarget.scrollLeft+k.clientWidth)/this.config.column_width*this.config.step,this.config.unit),v=this.config.view_mode.upper_text(this.current_date,null,this.options.language),k=this.upperTexts.find(w=>w.textContent===v),k!==this.$current&&(this.$current&&this.$current.classList.remove("current-upper"),k.classList.add("current-upper"),this.$current=k),i=u.currentTarget.scrollLeft;let[x,S,_]=this.get_start_end_positions();i>_+100?(this.$adjust.innerHTML="&larr;",this.$adjust.classList.remove("hide"),this.$adjust.onclick=()=>{this.$container.scrollTo({left:S,behavior:"smooth"})}):i+u.currentTarget.offsetWidth<x-100?(this.$adjust.innerHTML="&rarr;",this.$adjust.classList.remove("hide"),this.$adjust.onclick=()=>{this.$container.scrollTo({left:x,behavior:"smooth"})}):this.$adjust.classList.add("hide"),p&&(f=g.map(w=>this.get_bar(w)),this.options.auto_move_label&&f.forEach(w=>{w.update_label_position_on_horizontal_scroll({x:p,sx:u.currentTarget.scrollLeft})}))}),Ge.on(this.$svg,"mousemove",u=>{if(!l())return;let f=(u.offsetX||u.layerX)-t;a.forEach(g=>{let p=g.$bar;p.finaldx=this.get_snap_position(f,p.ox),this.hide_popup(),r?s===g.task.id?g.update_bar_position({x:p.ox+p.finaldx,width:p.owidth-p.finaldx}):g.update_bar_position({x:p.ox+p.finaldx}):o?s===g.task.id&&g.update_bar_position({width:p.owidth+p.finaldx}):n&&!this.options.readonly&&!this.options.readonly_dates&&g.update_bar_position({x:p.ox+p.finaldx})})}),document.addEventListener("mouseup",()=>{var u,f,g;n=!1,r=!1,o=!1,(g=(f=(u=this.$container.querySelector(".visible"))==null?void 0:u.classList)==null?void 0:f.remove)==null||g.call(f,"visible")}),Ge.on(this.$svg,"mouseup",u=>{this.bar_being_dragged=null,a.forEach(f=>{f.$bar.finaldx&&(f.date_changed(),f.compute_progress(),f.set_action_completed())})}),this.bind_bar_progress()}bind_bar_progress(){let n=0,t=null,i=null,r=null,o=null;Ge.on(this.$svg,"mousedown",".handle.progress",(a,l)=>{t=!0,n=a.offsetX||a.layerX,y_on_start=a.offsetY||a.layerY;let d=Ge.closest(".bar-wrapper",l).getAttribute("data-id");i=this.get_bar(d),r=i.$bar_progress,o=i.$bar,r.finaldx=0,r.owidth=r.getWidth(),r.min_dx=-r.owidth,r.max_dx=o.getWidth()-r.getWidth()});let s=this.config.ignored_positions.map(a=>[a,a+this.config.column_width]);Ge.on(this.$svg,"mousemove",a=>{if(!t)return;let l=a.offsetX||a.layerX;if(l>n){let u=s.find(([f,g])=>l>=f&&l<g);for(;u;)l=u[1],u=s.find(([f,g])=>l>=f&&l<g)}else{let u=s.find(([f,g])=>l>f&&l<=g);for(;u;)l=u[0],u=s.find(([f,g])=>l>f&&l<=g)}let d=l-n;d>r.max_dx&&(d=r.max_dx),d<r.min_dx&&(d=r.min_dx),r.setAttribute("width",r.owidth+d),Ge.attr(i.$handle_progress,"cx",r.getEndX()),r.finaldx=d}),Ge.on(this.$svg,"mouseup",()=>{t=!1,r&&r.finaldx&&(r.finaldx=0,i.progress_changed(),i.set_action_completed(),i=null,r=null,o=null)})}get_all_dependent_tasks(n){let t=[],i=[n];for(;i.length;){let r=i.reduce((o,s)=>(o=o.concat(this.dependency_map[s]),o),[]);t=t.concat(r),i=r.filter(o=>!i.includes(o))}return t.filter(Boolean)}get_snap_position(n,t){let i=1,r=this.options.snap_at||this.config.view_mode.snap_at||"1d";if(r!=="unit"){let{duration:u,scale:f}=re.parse_duration(r);i=re.convert_scales(this.config.view_mode.step,f)/u}let o=n%(this.config.column_width/i),s=n-o+(o<this.config.column_width/i*2?0:this.config.column_width/i),a=t+s,l=s>0?1:-1,d=this.get_ignored_region(a,l);for(;d.length;)a+=this.config.column_width*l,d=this.get_ignored_region(a,l),d.length||(a-=this.config.column_width*l);return a-t}get_ignored_region(n,t=1){return t===1?this.config.ignored_positions.filter(i=>n>i&&n<=i+this.config.column_width):this.config.ignored_positions.filter(i=>n>=i&&n<i+this.config.column_width)}unselect_all(){this.popup&&this.popup.parent.classList.add("hide"),this.$container.querySelectorAll(".date-range-highlight").forEach(n=>n.classList.add("hide"))}view_is(n){return typeof n=="string"?this.config.view_mode.name===n:Array.isArray(n)?n.some(view_is):this.config.view_mode.name===n.name}get_task(n){return this.tasks.find(t=>t.id===n)}get_bar(n){return this.bars.find(t=>t.task.id===n)}show_popup(n){this.options.popup!==!1&&(this.popup||(this.popup=new Nb(this.$popup_wrapper,this.options.popup,this)),this.popup.show(n))}hide_popup(){this.popup&&this.popup.hide()}trigger_event(n,t){this.options["on_"+n]&&this.options["on_"+n].apply(this,t)}get_oldest_starting_date(){return this.tasks.length?this.tasks.map(n=>n._start).reduce((n,t)=>t<=n?t:n):new Date}clear(){var n,t,i,r,o,s,a,l,d,u;this.$svg.innerHTML="",(t=(n=this.$header)==null?void 0:n.remove)==null||t.call(n),(r=(i=this.$side_header)==null?void 0:i.remove)==null||r.call(i),(s=(o=this.$current_highlight)==null?void 0:o.remove)==null||s.call(o),(l=(a=this.$extras)==null?void 0:a.remove)==null||l.call(a),(u=(d=this.popup)==null?void 0:d.hide)==null||u.call(d)}};Qc.VIEW_MODE={HOUR:Jr[0],QUARTER_DAY:Jr[1],HALF_DAY:Jr[2],DAY:Jr[3],WEEK:Jr[4],MONTH:Jr[5],YEAR:Jr[6]};function zB(e){return e.name+"_"+Math.random().toString(36).slice(2,12)}function xg(e){return e.replaceAll(" ","_").replaceAll(":","_").replaceAll(".","_")}var wg=class e{constructor(n){this.supabaseService=n}tableName="projects";formatDateString(n){if(!n)return"";if(typeof n=="string")return n.split("T")[0].split(" ")[0];if(n instanceof Date){let t=n.getFullYear(),i=(n.getMonth()+1).toString().padStart(2,"0"),r=n.getDate().toString().padStart(2,"0");return`${t}-${i}-${r}`}return""}getAll(){return B(this,null,function*(){return(yield this.supabaseService.getDataFromTable(this.tableName)).map(t=>({id:t.id,name:t.name,start_date:this.formatDateString(t.start),end_date:this.formatDateString(t.end)}))})}getById(n){return B(this,null,function*(){let i=(yield this.supabaseService.getDataFromTable(this.tableName)).find(r=>r.id===n);return i?{id:i.id,name:i.name,start_date:this.formatDateString(i.start),end_date:this.formatDateString(i.end)}:null})}insert(n){return B(this,null,function*(){let t={name:n.name,start:this.formatDateString(n.start_date||n.start),end:this.formatDateString(n.end_date||n.end)},i=yield this.supabaseService.insertIntoTable(this.tableName,t),r=Array.isArray(i)?i[0]:null;return r?{id:r.id,name:r.name,start_date:this.formatDateString(r.start),end_date:this.formatDateString(r.end)}:null})}update(n){return B(this,null,function*(){if(!n.id)throw new Error("ID requerido para actualizar el proyecto");let t={name:n.name,start:this.formatDateString(n.start_date||n.start),end:this.formatDateString(n.end_date||n.end)},i=yield this.supabaseService.updateTableById(this.tableName,n.id,t);return i?{id:i.id,name:i.name,start_date:this.formatDateString(i.start),end_date:this.formatDateString(i.end)}:null})}remove(n){return B(this,null,function*(){yield this.supabaseService.deleteFromTableById(this.tableName,n)})}static \u0275fac=function(t){return new(t||e)(se(St))};static \u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:"root"})};var kg=class e{constructor(n){this.supabaseService=n}getAll(){return B(this,null,function*(){return(yield this.supabaseService.getDataFromTable("responsible")).map(t=>({id:t.id,nombre:t.nombre,apellido:t.apellido,email:t.email,telefono:t.telefono}))})}static \u0275fac=function(t){return new(t||e)(se(St))};static \u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:"root"})};var WB=["frappe_gantt_here"],ed=(e,n)=>({display:e,background:n});function GB(e,n){if(e&1&&(A(0,"span"),O(1),N()),e&2){let t=ie(3).$implicit;W(),kt("| Inicio: ",t.start)}}function qB(e,n){if(e&1&&(A(0,"span",26),O(1),N()),e&2){let t=ie(3).$implicit;W(),kt("| Fin: ",t.end)}}function ZB(e,n){if(e&1&&(Ws(0),ke(1,GB,2,1,"span",24)(2,qB,2,1,"span",25),Gs()),e&2){let t=ie(2).$implicit;W(),X("ngIf",t.start),W(),X("ngIf",t.end)}}function YB(e,n){if(e&1&&(A(0,"span",22),O(1),A(2,"span",23),ke(3,ZB,3,2,"ng-container",24),N()()),e&2){let t=ie().$implicit;W(),kt(" ",t.nombre," "),W(2),X("ngIf",t.start||t.end)}}function KB(e,n){if(e&1&&(Ws(0),ke(1,YB,4,2,"span",21),Gs()),e&2){let t=n.$implicit,i=ie(2);W(),X("ngIf",t.id===i.selectedProjectId)}}function JB(e,n){if(e&1&&(Ws(0),ke(1,KB,2,1,"ng-container",20),Gs()),e&2){let t=ie();W(),X("ngForOf",t.proyectos)}}function XB(e,n){e&1&&(A(0,"span",27),O(1,"No hay proyecto activo seleccionado"),N())}function QB(e,n){if(e&1&&(A(0,"option",52),O(1),N()),e&2){let t=n.$implicit;X("value",t.id),W(),sr("",t.nombre," ",t.apellido)}}function eV(e,n){if(e&1){let t=wt();A(0,"div",28)(1,"div",29)(2,"div",30)(3,"div",31)(4,"h5",32),O(5,"Agregar nueva tarea"),N(),A(6,"button",33),ae("click",function(){le(t);let r=ie();return ce(r.showModal=!1)}),N()(),A(7,"div",34)(8,"form",35,2),ae("ngSubmit",function(){le(t);let r=ie();return r.onSubmit(),ce(r.showModal=!1)}),A(10,"div",36)(11,"label",37),O(12,"Nombre de la tarea"),N(),A(13,"input",38),He("ngModelChange",function(r){le(t);let o=ie();return We(o.newTask.name,r)||(o.newTask.name=r),ce(r)}),N()(),A(14,"div",36)(15,"label",39),O(16,"Fecha de inicio"),N(),A(17,"input",40),He("ngModelChange",function(r){le(t);let o=ie();return We(o.newTask.start,r)||(o.newTask.start=r),ce(r)}),N()(),A(18,"div",36)(19,"label",41),O(20,"Duraci\xF3n (d\xEDas)"),N(),A(21,"input",42),He("ngModelChange",function(r){le(t);let o=ie();return We(o.newTask.duration,r)||(o.newTask.duration=r),ce(r)}),N()(),A(22,"div",36)(23,"label",43),O(24,"Grado de avance (%)"),N(),A(25,"input",44),He("ngModelChange",function(r){le(t);let o=ie();return We(o.newTask.progress,r)||(o.newTask.progress=r),ce(r)}),N()(),A(26,"div",36)(27,"label",45),O(28,"Responsable"),N(),A(29,"select",46),He("ngModelChange",function(r){le(t);let o=ie();return We(o.newTask.responsible,r)||(o.newTask.responsible=r),ce(r)}),A(30,"option",47),O(31,"Seleccionar responsable..."),N(),ke(32,QB,2,3,"option",48),N()(),A(33,"div",49)(34,"button",50),ae("click",function(){le(t);let r=ie();return ce(r.showModal=!1)}),O(35,"Cancelar"),N(),A(36,"button",51),O(37,"Agregar tarea"),N()()()()()()()}if(e&2){let t=Po(9),i=ie();X("ngStyle",Oo(8,ed,i.showModal?"block":"none",i.showModal?"rgba(0,0,0,0.5)":"transparent")),W(13),ze("ngModel",i.newTask.name),W(4),ze("ngModel",i.newTask.start),W(4),ze("ngModel",i.newTask.duration),W(4),ze("ngModel",i.newTask.progress),W(4),ze("ngModel",i.newTask.responsible),W(3),X("ngForOf",i.responsibles),W(4),X("disabled",!t.form.valid)}}function tV(e,n){if(e&1&&(A(0,"option",52),O(1),N()),e&2){let t=n.$implicit;X("value",t.id),W(),je(t.name)}}function nV(e,n){if(e&1&&(A(0,"option",52),O(1),N()),e&2){let t=n.$implicit;X("value",t.id),W(),sr("",t.nombre," ",t.apellido)}}function iV(e,n){if(e&1){let t=wt();A(0,"div",53)(1,"div",29)(2,"div",30)(3,"div",31)(4,"h5",32),O(5,"Editar tarea"),N(),A(6,"button",33),ae("click",function(){le(t);let r=ie();return ce(r.showEditTaskModal=!1)}),N()(),A(7,"div",34)(8,"form",35,3),ae("ngSubmit",function(){le(t);let r=ie();return r.onEditTask(),ce(r.showEditTaskModal=!1)}),A(10,"div",36)(11,"label",54),O(12,"Seleccionar tarea"),N(),A(13,"select",55),He("ngModelChange",function(r){le(t);let o=ie();return We(o.editTask.id,r)||(o.editTask.id=r),ce(r)}),ae("change",function(){le(t);let r=ie();return ce(r.onSelectEditTask())}),A(14,"option",47),O(15,"Seleccionar tarea..."),N(),ke(16,tV,2,2,"option",48),N()(),A(17,"div",36)(18,"label",56),O(19,"Nombre de la tarea"),N(),A(20,"input",57),He("ngModelChange",function(r){le(t);let o=ie();return We(o.editTask.name,r)||(o.editTask.name=r),ce(r)}),N()(),A(21,"div",36)(22,"label",58),O(23,"Fecha de inicio"),N(),A(24,"input",59),He("ngModelChange",function(r){le(t);let o=ie();return We(o.editTask.start,r)||(o.editTask.start=r),ce(r)}),N()(),A(25,"div",36)(26,"label",60),O(27,"Duraci\xF3n (d\xEDas)"),N(),A(28,"input",61),He("ngModelChange",function(r){le(t);let o=ie();return We(o.editTask.duration,r)||(o.editTask.duration=r),ce(r)}),N()(),A(29,"div",36)(30,"label",62),O(31,"Grado de avance (%)"),N(),A(32,"input",63),He("ngModelChange",function(r){le(t);let o=ie();return We(o.editTask.progress,r)||(o.editTask.progress=r),ce(r)}),N()(),A(33,"div",36)(34,"label",64),O(35,"Responsable"),N(),A(36,"select",65),He("ngModelChange",function(r){le(t);let o=ie();return We(o.editTask.responsible,r)||(o.editTask.responsible=r),ce(r)}),A(37,"option",47),O(38,"Seleccionar responsable..."),N(),ke(39,nV,2,3,"option",48),N()(),A(40,"div",49)(41,"button",66),ae("click",function(){le(t);let r=ie();return ce(r.onDeleteTask())}),O(42,"Eliminar tarea"),N(),A(43,"button",50),ae("click",function(){le(t);let r=ie();return ce(r.showEditTaskModal=!1)}),O(44,"Cancelar"),N(),A(45,"button",51),O(46,"Guardar cambios"),N()()()()()()()}if(e&2){let t=Po(9),i=ie();X("ngStyle",Oo(11,ed,i.showEditTaskModal?"block":"none",i.showEditTaskModal?"rgba(0,0,0,0.5)":"transparent")),W(13),ze("ngModel",i.editTask.id),W(3),X("ngForOf",i.frappeTasks),W(4),ze("ngModel",i.editTask.name),W(4),ze("ngModel",i.editTask.start),W(4),ze("ngModel",i.editTask.duration),W(4),ze("ngModel",i.editTask.progress),W(4),ze("ngModel",i.editTask.responsible),W(3),X("ngForOf",i.responsibles),W(2),X("disabled",!i.editTask.id),W(4),X("disabled",!t.form.valid)}}function rV(e,n){if(e&1){let t=wt();A(0,"div",53)(1,"div",29)(2,"div",30)(3,"div",31)(4,"h5",32),O(5,"Nuevo proyecto"),N(),A(6,"button",33),ae("click",function(){le(t);let r=ie();return ce(r.showNewProjectModal=!1)}),N()(),A(7,"div",34)(8,"form",67,4),ae("ngSubmit",function(){le(t);let r=ie();return r.onCreateProject(),ce(r.showNewProjectModal=!1)}),A(10,"div",36)(11,"label",68),O(12,"Nombre del proyecto"),N(),A(13,"input",69),He("ngModelChange",function(r){le(t);let o=ie();return We(o.newProject.name,r)||(o.newProject.name=r),ce(r)}),N()(),A(14,"div",36)(15,"label",70),O(16,"Fecha de inicio"),N(),A(17,"input",71),He("ngModelChange",function(r){le(t);let o=ie();return We(o.newProject.start,r)||(o.newProject.start=r),ce(r)}),N()(),A(18,"div",36)(19,"label",72),O(20,"Fecha de fin"),N(),A(21,"input",73),He("ngModelChange",function(r){le(t);let o=ie();return We(o.newProject.end,r)||(o.newProject.end=r),ce(r)}),N()(),A(22,"div",49)(23,"button",74),ae("click",function(){le(t);let r=ie();return ce(r.showNewProjectModal=!1)}),O(24,"Cancelar"),N(),A(25,"button",75),O(26," Crear proyecto"),N()()()()()()()}if(e&2){let t=Po(9),i=ie();X("ngStyle",Oo(5,ed,i.showNewProjectModal?"block":"none",i.showNewProjectModal?"rgba(0,0,0,0.5)":"transparent")),W(13),ze("ngModel",i.newProject.name),W(4),ze("ngModel",i.newProject.start),W(4),ze("ngModel",i.newProject.end),W(4),X("disabled",!t.form.valid)}}function oV(e,n){if(e&1&&(A(0,"option",52),O(1),N()),e&2){let t=n.$implicit;X("value",t.id),W(),je(t.nombre)}}function sV(e,n){if(e&1){let t=wt();A(0,"div",53)(1,"div",29)(2,"div",30)(3,"div",31)(4,"h5",32),O(5,"Seleccionar proyecto activo"),N(),A(6,"button",33),ae("click",function(){le(t);let r=ie();return ce(r.showSelectProjectModal=!1)}),N()(),A(7,"div",34)(8,"form",67,5),ae("ngSubmit",function(){le(t);let r=ie();return r.onSelectProject(),ce(r.showSelectProjectModal=!1)}),A(10,"div",36)(11,"label",76),O(12,"Proyecto"),N(),A(13,"select",77),He("ngModelChange",function(r){le(t);let o=ie();return We(o.selectedProjectId,r)||(o.selectedProjectId=r),ce(r)}),ae("change",function(){le(t);let r=ie();return r.onSelectProject(),ce(r.showSelectProjectModal=!1)}),A(14,"option",78),O(15,"Seleccionar proyecto..."),N(),ke(16,oV,2,2,"option",48),N()()()()()()()}if(e&2){let t=ie();X("ngStyle",Oo(3,ed,t.showSelectProjectModal?"block":"none",t.showSelectProjectModal?"rgba(0,0,0,0.5)":"transparent")),W(13),ze("ngModel",t.selectedProjectId),W(3),X("ngForOf",t.proyectos)}}function aV(e,n){if(e&1){let t=wt();A(0,"div",53)(1,"div",29)(2,"div",30)(3,"div",31)(4,"h5",32),O(5,"Editar proyecto"),N(),A(6,"button",33),ae("click",function(){le(t);let r=ie();return ce(r.showEditProjectModal=!1)}),N()(),A(7,"div",34)(8,"form",67,6),ae("ngSubmit",function(){le(t);let r=ie();return r.onEditProject(),ce(r.showEditProjectModal=!1)}),A(10,"div",36)(11,"label",79),O(12,"Nombre del proyecto"),N(),A(13,"input",80),He("ngModelChange",function(r){le(t);let o=ie();return We(o.editProject.nombre,r)||(o.editProject.nombre=r),ce(r)}),N()(),A(14,"div",36)(15,"label",81),O(16,"Nueva fecha de inicio"),N(),A(17,"input",82),He("ngModelChange",function(r){le(t);let o=ie();return We(o.editProject.start,r)||(o.editProject.start=r),ce(r)}),N()(),A(18,"div",36)(19,"label",83),O(20,"Nueva fecha de fin"),N(),A(21,"input",84),He("ngModelChange",function(r){le(t);let o=ie();return We(o.editProject.end,r)||(o.editProject.end=r),ce(r)}),N()(),A(22,"div",49)(23,"button",74),ae("click",function(){le(t);let r=ie();return ce(r.showEditProjectModal=!1)}),O(24,"Cancelar"),N(),A(25,"button",75),O(26,"Modificar proyecto"),N()()()()()()()}if(e&2){let t=Po(9),i=ie();X("ngStyle",Oo(5,ed,i.showEditProjectModal?"block":"none",i.showEditProjectModal?"rgba(0,0,0,0.5)":"transparent")),W(13),ze("ngModel",i.editProject.nombre),W(4),ze("ngModel",i.editProject.start),W(4),ze("ngModel",i.editProject.end),W(4),X("disabled",!t.form.valid)}}var Eg=class e{constructor(n,t,i,r){this.taskService=n;this.linkService=t;this.projectService=i;this.responsibleService=r}ganttContainer;gantt;frappeTasks=[];newTask={name:"",start:"",duration:1,progress:0,responsible:null};showNewProjectModal=!1;newProject={name:"",start:"",end:""};showModal=!1;showEditTaskModal=!1;showEditProjectModal=!1;showSelectProjectModal=!1;editProject={id:"",nombre:"",start:"",end:""};selectedProjectId="";proyectos=[];editTask={id:"",name:"",start:"",duration:1,progress:0,responsible:null};responsibles=[];tiempoUnidades="Month";today_button=!1;ngOnInit(){return B(this,null,function*(){try{this.responsibles=yield this.responsibleService.getAll();let n=yield this.projectService.getAll();this.proyectos=n.map(t=>({id:String(t.id),nombre:t.name,start:t.start_date,end:t.end_date}))}catch(n){console.error("Error al cargar proyectos o responsables:",n)}if(this.selectedProjectId){let n=yield this.taskService.get(),t=yield this.linkService.get();this.frappeTasks=n.filter(i=>String(i.project_id)===String(this.selectedProjectId)).map(i=>{let r=this.responsibles.find(o=>o.id===i.idResponsible);return{id:String(i.id),name:i.text,start:typeof i.start_date=="string"?i.start_date.split(" ")[0]:"",end:this.calculateEndDate(typeof i.start_date=="string"?i.start_date.split(" ")[0]:"",i.duration),progress:(Number(i.progress)||0)*100,dependencies:this.getDependencies(i.id,t),responsible:r?`${r.nombre} ${r.apellido||""}`.trim():""}})}else this.frappeTasks=[];this.renderGantt()})}renderGantt(){this.ganttContainer.nativeElement.innerHTML="",this.gantt=new Qc(this.ganttContainer.nativeElement,this.frappeTasks,{view_mode:this.tiempoUnidades,language:"es",on_click:n=>{},on_date_change:()=>{},on_progress_change:()=>{},on_view_change:()=>{}})}setTimeGantt(){this.renderGantt()}setToday(){console.log('Bot\xF3n "Hoy" pulsado'),this.gantt&&(console.log("Objeto Gantt:",this.gantt),this.gantt.scroll_current())}onDeleteTask(){this.editTask.id&&this.taskService.remove(Number(this.editTask.id)).then(()=>B(this,null,function*(){let n=yield this.taskService.get(),t=yield this.linkService.get();this.frappeTasks=n.filter(i=>String(i.project_id)===String(this.selectedProjectId)).map(i=>{let r=this.responsibles.find(o=>o.id===i.idResponsible);return{id:String(i.id),name:i.text,start:typeof i.start_date=="string"?i.start_date.split(" ")[0]:"",end:this.calculateEndDate(typeof i.start_date=="string"?i.start_date.split(" ")[0]:"",i.duration),progress:(Number(i.progress)||0)*100,dependencies:this.getDependencies(i.id,t),responsible:r?`${r.nombre} ${r.apellido||""}`.trim():""}}),this.renderGantt()})).catch(n=>{console.error("Error al eliminar la tarea:",n),alert("Error al eliminar la tarea. Ver consola para m\xE1s detalles.")}).finally(()=>{this.editTask={id:"",name:"",start:"",duration:1,progress:0,responsible:null},this.showEditTaskModal=!1})}onSelectEditTask(){return B(this,null,function*(){let n=this.frappeTasks.find(t=>String(t.id)===String(this.editTask.id));if(n){if(this.editTask.name=n.name,n&&n.id){let i=(yield this.taskService.get()).find(r=>String(r.id)===String(n.id));if(i&&i.idResponsible?this.editTask.responsible=i.idResponsible:this.editTask.responsible=null,i&&i.start_date){let r=String(i.start_date);r=r.split("T")[0].split(" ")[0],this.editTask.start=/^\d{4}-\d{2}-\d{2}$/.test(r)?r:""}else this.editTask.start=""}else this.editTask.start="",this.editTask.responsible=null;if(n.start&&n.end){let t=String(n.start).split("T")[0].split(" ")[0],i=String(n.end).split("T")[0].split(" ")[0],[r,o,s]=t.split("-").map(Number),[a,l,d]=i.split("-").map(Number),u=Date.UTC(r,o-1,s),f=Date.UTC(a,l-1,d),g=Math.max(1,Math.round((f-u)/(1e3*60*60*24))+1);this.editTask.duration=g}else this.editTask.duration=1;this.editTask.progress=n.progress!=null?Math.round(Number(n.progress)):0}else this.editTask.name="",this.editTask.start="",this.editTask.duration=1,this.editTask.progress=0,this.editTask.responsible=null})}onEditTask(){if(!this.editTask.id)return;let n=this.editTask.start;/^\d{4}-\d{2}-\d{2}/.test(this.editTask.start)&&(n=this.editTask.start.split("T")[0].split(" ")[0]);let t={id:this.editTask.id,text:this.editTask.name,start_date:n,duration:this.editTask.duration,progress:Number(this.editTask.progress)/100,idProject:this.selectedProjectId,idResponsible:this.editTask.responsible!=null?Number(this.editTask.responsible):null};this.taskService.update(t).then(()=>B(this,null,function*(){let i=yield this.taskService.get(),r=yield this.linkService.get();this.frappeTasks=i.filter(o=>String(o.project_id)===String(this.selectedProjectId)).map(o=>{let s=this.responsibles.find(a=>a.id===o.idResponsible);return{id:String(o.id),name:o.text,start:typeof o.start_date=="string"?o.start_date.split(" ")[0]:"",end:this.calculateEndDate(typeof o.start_date=="string"?o.start_date.split(" ")[0]:"",o.duration),progress:(Number(o.progress)||0)*100,dependencies:this.getDependencies(o.id,r),responsible:s?`${s.nombre} ${s.apellido||""}`.trim():""}}),this.renderGantt()})).catch(i=>{console.error("Error al actualizar la tarea:",i),alert("Error al actualizar la tarea. Ver consola para m\xE1s detalles.")}).finally(()=>{this.editTask=ve(K({},this.editTask),{responsible:null})})}onSelectProject(){return B(this,null,function*(){if(!this.selectedProjectId){this.selectedProjectId="",this.frappeTasks=[],this.renderGantt();return}try{let n=yield this.taskService.get(),t=yield this.linkService.get();this.frappeTasks=n.filter(i=>String(i.project_id)===String(this.selectedProjectId)).map(i=>({id:String(i.id),name:i.text,start:typeof i.start_date=="string"?i.start_date.split(" ")[0]:"",end:this.calculateEndDate(typeof i.start_date=="string"?i.start_date.split(" ")[0]:"",i.duration),progress:(Number(i.progress)||0)*100,dependencies:this.getDependencies(i.id,t)}))}catch(n){console.error("Error al cargar tareas del proyecto:",n),this.frappeTasks=[]}this.renderGantt()})}onEditProject(){return B(this,null,function*(){if(!this.editProject.id||!this.editProject.start||!this.editProject.end)return;let n=this.editProject.start,t=this.editProject.end;/^\d{4}-\d{2}-\d{2}/.test(this.editProject.start)&&(n=this.editProject.start.split("T")[0].split(" ")[0]),/^\d{4}-\d{2}-\d{2}/.test(this.editProject.end)&&(t=this.editProject.end.split("T")[0].split(" ")[0]);let i=this.proyectos.findIndex(r=>r.id===this.editProject.id);if(i!==-1){let r={id:Number(this.editProject.id),name:this.editProject.nombre,start_date:n,end_date:t};try{let o=yield this.projectService.update(r);o&&(this.proyectos[i]={id:String(o.id),nombre:o.name,start:o.start_date,end:o.end_date})}catch(o){console.error("Error al actualizar el proyecto:",o),alert("Error al actualizar el proyecto. Ver consola para m\xE1s detalles.")}}this.editProject={id:"",nombre:"",start:"",end:""}})}onCreateProject(){return B(this,null,function*(){if(!this.newProject.name||!this.newProject.start||!this.newProject.end)return;let n=this.newProject.start,t=this.newProject.end;/^\d{4}-\d{2}-\d{2}/.test(this.newProject.start)&&(n=this.newProject.start.split("T")[0].split(" ")[0]),/^\d{4}-\d{2}-\d{2}/.test(this.newProject.end)&&(t=this.newProject.end.split("T")[0].split(" ")[0]);let i={name:this.newProject.name,start_date:n,end_date:t};try{let r=yield this.projectService.insert(i);r&&this.proyectos.push({id:String(r.id),nombre:r.name})}catch(r){console.error("Error al guardar el proyecto:",r)}this.newProject={name:"",start:"",end:""}})}addTask(n,t,i,r){return B(this,null,function*(){if(!this.selectedProjectId){alert("Debe seleccionar un proyecto activo antes de agregar tareas.");return}let o=t;/^\d{4}-\d{2}-\d{2}/.test(t)&&(o=t.split("T")[0].split(" ")[0]);let s={text:n,start_date:o,duration:i,progress:Number(r)/100,parent:0,priority:null,type:null,project_id:this.selectedProjectId,idResponsible:this.newTask.responsible!=null?Number(this.newTask.responsible):null};try{yield this.taskService.insert(s);let a=yield this.taskService.get(),l=yield this.linkService.get();this.frappeTasks=a.filter(d=>String(d.project_id)===String(this.selectedProjectId)).map(d=>{let u=this.responsibles.find(f=>f.id===d.idResponsible);return{id:String(d.id),name:d.text,start:typeof d.start_date=="string"?d.start_date.split(" ")[0]:"",end:this.calculateEndDate(typeof d.start_date=="string"?d.start_date.split(" ")[0]:"",d.duration),progress:(Number(d.progress)||0)*100,dependencies:this.getDependencies(d.id,l),responsible:u?`${u.nombre} ${u.apellido||""}`.trim():""}}),this.renderGantt()}catch(a){console.error("Error al guardar la tarea:",a),alert("Error al guardar la tarea. Ver consola para m\xE1s detalles.")}})}onSubmit(){if(!this.selectedProjectId){alert("Debe seleccionar un proyecto activo antes de agregar tareas.");return}if(!this.newTask.name||!this.newTask.start||!this.newTask.duration||this.newTask.responsible==null){alert("Por favor, complete todos los campos de la tarea, incluyendo el responsable.");return}this.addTask(this.newTask.name,this.newTask.start,Number(this.newTask.duration),Number(this.newTask.progress)),this.newTask={name:"",start:"",duration:1,progress:0,responsible:null}}calculateEndDate(n,t){if(!n||!/^\d{4}-\d{2}-\d{2}/.test(n)||!t)return"";let[i,r,o]=n.split("-").map(Number),s=new Date(Date.UTC(i,r-1,o));s.setUTCDate(s.getUTCDate()+Number(t)-1);let a=s.getUTCFullYear(),l=String(s.getUTCMonth()+1).padStart(2,"0"),d=String(s.getUTCDate()).padStart(2,"0");return`${a}-${l}-${d}`}getDependencies(n,t){return t.filter(i=>i.target===n).map(i=>String(i.source)).join(",")}onOpenEditProjectModal(){let n=this.proyectos.find(t=>t.id===this.selectedProjectId);n?this.editProject={id:n.id,nombre:n.nombre,start:typeof n.start=="string"?n.start.split("T")[0].split(" ")[0]:"",end:typeof n.end=="string"?n.end.split("T")[0].split(" ")[0]:""}:this.editProject={id:"",nombre:"",start:"",end:""},this.showEditProjectModal=!0}static \u0275fac=function(t){return new(t||e)(ee(Bi),ee(Vi),ee(wg),ee(kg))};static \u0275cmp=we({type:e,selectors:[["app-frappegantt"]],viewQuery:function(t,i){if(t&1&&Ml(WB,7),t&2){let r;Ao(r=No())&&(i.ganttContainer=r.first)}},features:[on([Bi,Vi])],decls:35,vars:14,consts:[["noProjectSelected",""],["frappe_gantt_here",""],["taskForm","ngForm"],["editTaskForm","ngForm"],["newProjectForm","ngForm"],["selectProjectForm","ngForm"],["editProjectForm","ngForm"],[1,"row","my-5",2,"max-width","100vw","margin-left","auto","margin-right","auto"],[1,"col","d-flex","flex-column","gap-1","toolbarMh"],[1,"d-flex","align-items-center","gap-2","justify-content-between"],[1,"d-flex","align-items-center","gap-2"],["type","button",1,"btn","btn-primary","btn-sm",3,"click"],[4,"ngIf","ngIfElse"],["type","button",1,"btn","btn-primary","btn-sm",3,"click","disabled"],[1,"d-flex","align-items-center","mt-1","justify-content-start"],["type","button",1,"btn","btn-primary","btn-sm","ms-2",3,"click","disabled"],["class","modal fade show","tabindex","-1","style","position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; z-index: 1050;",3,"ngStyle",4,"ngIf"],["class","modal fade show","tabindex","-1","style","position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; z-index: 1060;",3,"ngStyle",4,"ngIf"],[1,"gantt-container"],[1,"gantt-chart"],[4,"ngFor","ngForOf"],["class","ms-2 text-success fw-bold",4,"ngIf"],[1,"ms-2","text-success","fw-bold"],[1,"ms-3","text-secondary","fw-normal",2,"font-size","0.95em"],[4,"ngIf"],["class","ms-2",4,"ngIf"],[1,"ms-2"],[1,"ms-2","text-danger","fw-bold"],["tabindex","-1",1,"modal","fade","show",2,"position","fixed","top","0","left","0","width","100vw","height","100vh","z-index","1050",3,"ngStyle"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"btn-close",3,"click"],[1,"modal-body"],[1,"gantt-form",3,"ngSubmit"],[1,"mb-3"],["for","taskName",1,"form-label"],["id","taskName","type","text","name","name","placeholder","Nombre de la tarea","required","",1,"form-control","form-control-sm",3,"ngModelChange","ngModel"],["for","taskStart",1,"form-label"],["id","taskStart","type","date","name","start","required","",1,"form-control","form-control-sm",3,"ngModelChange","ngModel"],["for","taskDuration",1,"form-label"],["id","taskDuration","type","number","name","duration","min","1","required","",1,"form-control","form-control-sm",3,"ngModelChange","ngModel"],["for","taskProgress",1,"form-label"],["id","taskProgress","type","number","name","progress","min","0","max","100","step","1","required","",1,"form-control","form-control-sm",3,"ngModelChange","ngModel"],["for","taskResponsible",1,"form-label"],["id","taskResponsible","name","responsible",1,"form-select","form-select-sm",3,"ngModelChange","ngModel"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"value"],["tabindex","-1",1,"modal","fade","show",2,"position","fixed","top","0","left","0","width","100vw","height","100vh","z-index","1060",3,"ngStyle"],["for","selectEditTask",1,"form-label"],["id","selectEditTask","name","id","required","",1,"form-select","form-select-sm",3,"ngModelChange","change","ngModel"],["for","editTaskName",1,"form-label"],["id","editTaskName","type","text","name","name","required","",1,"form-control","form-control-sm",3,"ngModelChange","ngModel"],["for","editTaskStart",1,"form-label"],["id","editTaskStart","type","date","name","start","required","",1,"form-control","form-control-sm",3,"ngModelChange","ngModel"],["for","editTaskDuration",1,"form-label"],["id","editTaskDuration","type","number","name","duration","min","1","required","",1,"form-control","form-control-sm",3,"ngModelChange","ngModel"],["for","editTaskProgress",1,"form-label"],["id","editTaskProgress","type","number","name","progress","min","0","max","100","required","",1,"form-control","form-control-sm",3,"ngModelChange","ngModel"],["for","editTaskResponsible",1,"form-label"],["id","editTaskResponsible","name","responsible",1,"form-select","form-select-sm",3,"ngModelChange","ngModel"],["type","button",1,"btn","btn-danger","me-auto",3,"click","disabled"],[3,"ngSubmit"],["for","proyectName",1,"form-label"],["id","proyectName","type","text","name","name","required","","placeholder","Nuevo proyecto...",1,"form-control","form-control-sm",3,"ngModelChange","ngModel"],["for","startingDate",1,"form-label"],["id","startingDate","type","date","name","start","required","","placeholder","Fecha de inicio...",1,"form-control","form-control-sm",3,"ngModelChange","ngModel"],["for","endingDate",1,"form-label"],["id","endingDate","type","date","name","end","required","","placeholder","Fecha de fin...",1,"form-control","form-control-sm",3,"ngModelChange","ngModel"],["type","button",1,"btn","btn-secondary","btn-sm",3,"click"],["type","submit",1,"btn","btn-primary","btn-sm",3,"disabled"],["for","selectActiveProject",1,"form-label"],["id","selectActiveProject","name","selectedProjectId","required","",1,"form-select","form-select-sm",3,"ngModelChange","change","ngModel"],["value","","selected",""],["for","editProjectName",1,"form-label"],["id","editProjectName","type","text","name","nombre","required","","placeholder","Nombre del proyecto...",1,"form-control","form-control-sm",3,"ngModelChange","ngModel"],["for","editNewStartingDate",1,"form-label"],["id","editNewStartingDate","type","date","name","start","required","",1,"form-control","form-control-sm",3,"ngModelChange","ngModel"],["for","editEndingDate",1,"form-label"],["id","editEndingDate","type","date","name","end","required","",1,"form-control","form-control-sm",3,"ngModelChange","ngModel"]],template:function(t,i){if(t&1){let r=wt();A(0,"div",7)(1,"div",8)(2,"div",9)(3,"div",10)(4,"button",11),ae("click",function(){return le(r),ce(i.showSelectProjectModal=!0)}),O(5,"Seleccionar proyecto"),N(),ke(6,JB,2,1,"ng-container",12)(7,XB,2,0,"ng-template",null,0,G_),N(),A(9,"div",10)(10,"button",11),ae("click",function(){return le(r),ce(i.showNewProjectModal=!0)}),O(11,"Nuevo proyecto"),N(),A(12,"button",13),ae("click",function(){return le(r),ce(i.onOpenEditProjectModal())}),O(13,"Editar proyecto"),N()()(),A(14,"div",14)(15,"button",13),ae("click",function(){return le(r),ce(i.showModal=!0)}),O(16," Agregar nueva tarea "),N(),A(17,"button",15),ae("click",function(){return le(r),ce(i.showEditTaskModal=!0)}),O(18," Editar tarea "),N(),A(19,"button",15),ae("click",function(){return le(r),i.tiempoUnidades="Day",ce(i.setTimeGantt())}),O(20," D\xEDas "),N(),A(21,"button",15),ae("click",function(){return le(r),i.tiempoUnidades="Week",ce(i.setTimeGantt())}),O(22," Semanas "),N(),A(23,"button",15),ae("click",function(){return le(r),i.tiempoUnidades="Month",ce(i.setTimeGantt())}),O(24," Meses "),N(),A(25,"button",15),ae("click",function(){return le(r),ce(i.setToday())}),O(26," Hoy "),N()()()(),ke(27,eV,38,11,"div",16)(28,iV,47,14,"div",17),A(29,"div",18),Fe(30,"div",19,1),N(),ke(32,rV,27,8,"div",17)(33,sV,17,6,"div",17)(34,aV,27,8,"div",17)}if(t&2){let r=Po(8);W(6),X("ngIf",i.selectedProjectId)("ngIfElse",r),W(6),X("disabled",!i.selectedProjectId),W(3),X("disabled",!i.selectedProjectId),W(2),X("disabled",!i.selectedProjectId),W(2),X("disabled",!i.selectedProjectId),W(2),X("disabled",!i.selectedProjectId),W(2),X("disabled",!i.selectedProjectId),W(2),X("disabled",!i.selectedProjectId),W(2),X("ngIf",i.showModal),W(),X("ngIf",i.showEditTaskModal),W(4),X("ngIf",i.showNewProjectModal),W(),X("ngIf",i.showSelectProjectModal),W(),X("ngIf",i.showEditProjectModal)}},dependencies:[Ni,Wr,bf,xf,Vn,bc,ga,Ai,Ur,hr,oy,ry,li,ur,ft,uv,Bn],styles:["@media (min-width: 1300px){.toolbarMh[_ngcontent-%COMP%]{margin-top:10px}}@media (min-width: 1400px){.toolbarMh[_ngcontent-%COMP%]{margin-top:10px}.gantt-container[_ngcontent-%COMP%]{margin-top:55px}}@media (min-width: 1800px){.toolbarMh[_ngcontent-%COMP%]{margin-top:20px}.gantt-container[_ngcontent-%COMP%]{margin-top:65px}}.gantt-container[_ngcontent-%COMP%]{line-height:14.5px;position:relative;overflow:auto;font-size:12px;height:auto;width:100%;border-radius:8px;bottom:7vh}.gantt-container[_ngcontent-%COMP%]   .popup-wrapper[_ngcontent-%COMP%]{position:absolute;top:0;left:0;background:#fff;box-shadow:0 10px 24px -3px #0003;padding:10px;border-radius:5px;width:max-content;z-index:1000}.gantt-container[_ngcontent-%COMP%]   .popup-wrapper[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin-bottom:2px;color:var(--g-text-dark);font-size:.85rem;font-weight:650;line-height:15px}.gantt-container[_ngcontent-%COMP%]   .popup-wrapper[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{color:var(--g-text-dark);font-size:.8rem;margin-bottom:5px}.gantt-container[_ngcontent-%COMP%]   .popup-wrapper[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]{color:var(--g-text-muted);font-size:.7rem}.gantt-container[_ngcontent-%COMP%]   .popup-wrapper[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{margin-top:10px;margin-left:3px}.gantt-container[_ngcontent-%COMP%]   .popup-wrapper[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{border:none;padding:5px 8px;background-color:var(--g-popup-actions);border-right:1px solid var(--g-text-light)}.gantt-container[_ngcontent-%COMP%]   .popup-wrapper[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:hover{background-color:brightness(97%)}.gantt-container[_ngcontent-%COMP%]   .popup-wrapper[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:first-child{border-top-left-radius:4px;border-bottom-left-radius:4px}.gantt-container[_ngcontent-%COMP%]   .popup-wrapper[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:last-child{border-right:none;border-top-right-radius:4px;border-bottom-right-radius:4px}.gantt-container[_ngcontent-%COMP%]   .grid-header[_ngcontent-%COMP%]{height:calc(var(--gv-lower-header-height) + var(--gv-upper-header-height) + 10px);background-color:var(--g-header-background);position:sticky;top:0;left:0;border-bottom:1px solid var(--g-row-border-color);z-index:1000}.gantt-container[_ngcontent-%COMP%]   .lower-text[_ngcontent-%COMP%], .gantt-container[_ngcontent-%COMP%]   .upper-text[_ngcontent-%COMP%]{text-anchor:middle}.gantt-container[_ngcontent-%COMP%]   .upper-header[_ngcontent-%COMP%]{height:var(--gv-upper-header-height)}.gantt-container[_ngcontent-%COMP%]   .lower-header[_ngcontent-%COMP%]{height:var(--gv-lower-header-height)}.gantt-container[_ngcontent-%COMP%]   .lower-text[_ngcontent-%COMP%]{font-size:12px;position:absolute;width:calc(var(--gv-column-width) * .8);height:calc(var(--gv-lower-header-height) * .8);margin:0 calc(var(--gv-column-width) * .1);align-content:center;text-align:center;color:var(--g-text-muted)}.gantt-container[_ngcontent-%COMP%]   .upper-text[_ngcontent-%COMP%]{position:absolute;width:fit-content;font-weight:500;font-size:14px;color:var(--g-text-dark);height:calc(var(--gv-lower-header-height) * .66)}.gantt-container[_ngcontent-%COMP%]   .current-upper[_ngcontent-%COMP%]{position:sticky;left:0!important;padding-left:17px;background:#fff}.gantt-container[_ngcontent-%COMP%]   .side-header[_ngcontent-%COMP%]{position:sticky;top:0;right:0;float:right;z-index:1000;line-height:20px;font-weight:400;width:max-content;margin-left:auto;padding-right:10px;padding-top:10px;background:var(--g-header-background);display:flex}.gantt-container[_ngcontent-%COMP%]   .side-header[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{transition-property:background-color;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s;background-color:var(--g-actions-background);border-radius:.5rem;border:none;padding:5px 8px;color:var(--g-text-dark);font-size:14px;letter-spacing:.02em;font-weight:420;box-sizing:content-box;margin-right:5px}.gantt-container[_ngcontent-%COMP%]   .side-header[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]:last-child{margin-right:0}.gantt-container[_ngcontent-%COMP%]   .side-header[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]:hover{filter:brightness(97.5%)}.gantt-container[_ngcontent-%COMP%]   .side-header[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:60px;padding-top:2px;padding-bottom:2px}.gantt-container[_ngcontent-%COMP%]   .side-header[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none}.gantt-container[_ngcontent-%COMP%]   .date-range-highlight[_ngcontent-%COMP%]{background-color:var(--g-progress-color);border-radius:12px;height:calc(var(--gv-lower-header-height) - 6px);top:calc(var(--gv-upper-header-height) + 5px);position:absolute}.gantt-container[_ngcontent-%COMP%]   .current-highlight[_ngcontent-%COMP%]{position:absolute;background:var(--g-today-highlight);width:1px;z-index:999}.gantt-container[_ngcontent-%COMP%]   .current-ball-highlight[_ngcontent-%COMP%]{position:absolute;background:var(--g-today-highlight);z-index:1001;border-radius:50%}.gantt-container[_ngcontent-%COMP%]   .current-date-highlight[_ngcontent-%COMP%]{background:var(--g-today-highlight);color:var(--g-text-light);border-radius:5px}.gantt-container[_ngcontent-%COMP%]   .holiday-label[_ngcontent-%COMP%]{position:absolute;top:0;left:0;opacity:0;z-index:1000;background:--g-weekend-label-color;border-radius:5px;padding:2px 5px}.gantt-container[_ngcontent-%COMP%]   .holiday-label.show[_ngcontent-%COMP%]{opacity:100}.gantt-container[_ngcontent-%COMP%]   .extras[_ngcontent-%COMP%]{position:sticky;left:0}.gantt-container[_ngcontent-%COMP%]   .extras[_ngcontent-%COMP%]   .adjust[_ngcontent-%COMP%]{position:absolute;left:8px;top:calc(var(--gv-grid-height) - 60px);background-color:#000000b3;color:#fff;border:none;padding:8px;border-radius:3px}.gantt-container[_ngcontent-%COMP%]   .hide[_ngcontent-%COMP%]{display:none}.gantt[_ngcontent-%COMP%]{user-select:none;-webkit-user-select:none;position:relative;width:100%;height:auto}.gantt[_ngcontent-%COMP%]   .grid-background[_ngcontent-%COMP%]{fill:none}.gantt[_ngcontent-%COMP%]   .grid-row[_ngcontent-%COMP%]{fill:var(--g-row-color)}.gantt[_ngcontent-%COMP%]   .row-line[_ngcontent-%COMP%]{stroke:var(--g-border-color)}.gantt[_ngcontent-%COMP%]   .tick[_ngcontent-%COMP%]{stroke:var(--g-tick-color);stroke-width:.4}.gantt[_ngcontent-%COMP%]   .tick.thick[_ngcontent-%COMP%]{stroke:var(--g-tick-color-thick);stroke-width:.7}.gantt[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]{fill:none;stroke:var(--g-arrow-color);stroke-width:1.5}.gantt[_ngcontent-%COMP%]   .bar-wrapper[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]{fill:var(--g-bar-color);stroke:var(--g-bar-border);stroke-width:0;transition:stroke-width .3s ease}.gantt[_ngcontent-%COMP%]   .bar-progress[_ngcontent-%COMP%]{fill:var(--g-progress-color);border-radius:4px}.gantt[_ngcontent-%COMP%]   .bar-expected-progress[_ngcontent-%COMP%]{fill:var(--g-expected-progress)}.gantt[_ngcontent-%COMP%]   .bar-invalid[_ngcontent-%COMP%]{fill:transparent;stroke:var(--g-bar-border);stroke-width:1;stroke-dasharray:5}.gantt[_ngcontent-%COMP%]   .bar-invalid[_ngcontent-%COMP%] ~ .bar-label[_ngcontent-%COMP%]{fill:var(--g-text-light)}.gantt[_ngcontent-%COMP%]   .bar-label[_ngcontent-%COMP%]{fill:var(--g-text-dark);dominant-baseline:central;font-family:Helvetica;font-size:13px;font-weight:400}.gantt[_ngcontent-%COMP%]   .bar-label.big[_ngcontent-%COMP%]{fill:var(--g-text-dark);text-anchor:start}.gantt[_ngcontent-%COMP%]   .handle[_ngcontent-%COMP%]{fill:var(--g-handle-color);opacity:0;transition:opacity .3s ease}.gantt[_ngcontent-%COMP%]   .handle.active[_ngcontent-%COMP%], .gantt[_ngcontent-%COMP%]   .handle.visible[_ngcontent-%COMP%]{cursor:ew-resize;opacity:1}.gantt[_ngcontent-%COMP%]   .handle.progress[_ngcontent-%COMP%]{fill:var(--g-text-muted)}.gantt[_ngcontent-%COMP%]   .bar-wrapper[_ngcontent-%COMP%]{cursor:pointer}.gantt[_ngcontent-%COMP%]   .bar-wrapper[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]{outline:1px solid var(--g-row-border-color);border-radius:3px}.gantt[_ngcontent-%COMP%]   .bar-wrapper[_ngcontent-%COMP%]:hover   .bar[_ngcontent-%COMP%]{transition:transform .3s ease}.gantt[_ngcontent-%COMP%]   .bar-wrapper[_ngcontent-%COMP%]:hover   .date-range-highlight[_ngcontent-%COMP%]{display:block}.gantt-toolbar[_ngcontent-%COMP%]{z-index:9999!important;display:flex;position:relative;margin-bottom:.5rem;gap:1rem;align-items:center;background:#a8a7a4;border:2px solid #201402;padding:.75rem 1.5rem;box-sizing:border-box;border-radius:2px;margin-left:15px;margin-right:15px}"]})};var ZD=[{path:"",component:rf},{path:"features",component:of},{path:"testimonials",component:sf},{path:"pricing",component:af},{path:"contact",component:lf},{path:"privacidad",component:cf},{path:"terminos",component:df},{path:"admin",component:Kf,canActivate:[ng]},{path:"mapa",component:Qf},{path:"llm",component:tg},{path:"login",component:ig},{path:"ia",component:og},{path:"chat",component:ag},{path:"gantt",component:yg},{path:"frappe",component:Eg},{path:"**",redirectTo:""}];var YD={providers:[Y_({eventCoalescing:!0}),Yv(ZD),Mh()]};function lV(e,n){if(e&1){let t=wt();A(0,"li")(1,"a",4),ae("click",function(){le(t);let r=ie();return ce(r.onLogout())}),O(2,"Logout"),N()()}}function cV(e,n){e&1&&Fe(0,"div",8)}function dV(e,n){if(e&1){let t=wt();A(0,"div",9)(1,"div",10)(2,"div",11)(3,"div",12)(4,"h5",13),O(5),N(),A(6,"button",14),ae("click",function(){le(t);let r=ie();return ce(r.showAuth=!1)}),N()(),A(7,"div",15)(8,"app-auth",16),ae("authSuccess",function(){le(t);let r=ie();return ce(r.onAuthSuccess())}),N()()()()()}if(e&2){let t=ie();W(5),je(t.isLogin?"Iniciar sesi\xF3n":"Crear cuenta"),W(3),X("isLogin",t.isLogin)}}var Cg=class e{constructor(n){this.supabaseService=n}showAuth=!1;isLogin=!0;onSignIn(){this.isLogin=!0,this.showAuth=!0}onSignUp(){this.isLogin=!1,this.showAuth=!0}onLogout(){return B(this,null,function*(){yield this.supabaseService.signOut(),window.location.reload()})}onAuthSuccess(){this.showAuth=!1}static \u0275fac=function(t){return new(t||e)(ee(St))};static \u0275cmp=we({type:e,selectors:[["app-user-menu"]],decls:15,vars:5,consts:[[1,"dropdown"],["type","button","id","userMenuButton","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-outline-secondary","btn-sm","dropdown-toggle"],[1,"fas","fa-user","me-1"],["aria-labelledby","userMenuButton",1,"dropdown-menu"],["href","#",1,"dropdown-item",3,"click"],[4,"ngIf"],["class","modal-backdrop show","style","z-index: 1050;",4,"ngIf"],["class","modal d-block","tabindex","-1","style","z-index: 1060;",4,"ngIf"],[1,"modal-backdrop","show",2,"z-index","1050"],["tabindex","-1",1,"modal","d-block",2,"z-index","1060"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"btn-close",3,"click"],[1,"modal-body"],[3,"authSuccess","isLogin"]],template:function(t,i){t&1&&(A(0,"div",0)(1,"button",1),Fe(2,"i",2),O(3," Usuario "),N(),A(4,"ul",3)(5,"li")(6,"a",4),ae("click",function(){return i.onSignIn()}),O(7,"Sign In"),N()(),A(8,"li")(9,"a",4),ae("click",function(){return i.onSignUp()}),O(10,"Sign Up"),N()(),ke(11,lV,3,0,"li",5),Al(12,"async"),N()(),ke(13,cV,1,0,"div",6)(14,dV,9,2,"div",7)),t&2&&(W(11),X("ngIf",Nl(12,3,i.supabaseService.user$)),W(2),X("ngIf",i.showAuth),W(),X("ngIf",i.showAuth))},dependencies:[rt,ft,Ol,qr],encapsulation:2})};function uV(e,n){e&1&&(A(0,"li",7)(1,"a",22)(2,"span",9),O(3,"Admin"),N()()())}function hV(e,n){if(e&1){let t=wt();A(0,"div",23)(1,"div",24)(2,"h5",25),O(3,"En construcci\xF3n..."),N(),A(4,"button",26),ae("click",function(){le(t);let r=ie();return ce(r.mostrarCard=!1)}),O(5,"Cerrar"),N()()()}}var Sg=class e{constructor(n){this.supabaseService=n}appName=Ft.appName;data;mostrarCard=!1;ngOnInit(){}mostrarCardOn(){this.mostrarCard=!0}mostrarCardOff(){this.mostrarCard=!1}static \u0275fac=function(t){return new(t||e)(ee(St))};static \u0275cmp=we({type:e,selectors:[["app-header"]],decls:54,vars:5,consts:[[1,"navbar","navbar-expand-md","navbar-light","bg-light","fixed-top"],[1,"container"],["routerLink","/",1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNav",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto"],[1,"nav-item"],["data-bs-toggle","collapse","data-bs-target","#navbarNav","routerLink","/features","routerLinkActive","active",1,"nav-link"],[1,"menu-item-bg"],["data-bs-toggle","collapse","data-bs-target","#navbarNav","routerLink","/testimonials","routerLinkActive","active",1,"nav-link"],["data-bs-toggle","collapse","data-bs-target","#navbarNav","routerLink","/pricing","routerLinkActive","active",1,"nav-link"],["data-bs-toggle","collapse","data-bs-target","#navbarNav","routerLink","/contact","routerLinkActive","active",1,"nav-link"],["class","nav-item",4,"ngIf"],["data-bs-toggle","collapse","data-bs-target","#navbarNav","routerLink","/mapa","routerLinkActive","active",1,"nav-link"],["data-bs-toggle","collapse","data-bs-target","#navbarNav","routerLink","/llm","routerLinkActive","active",1,"nav-link"],["data-bs-toggle","collapse","data-bs-target","#navbarNav","routerLink","/ia","routerLinkActive","active",1,"nav-link"],["data-bs-toggle","collapse","data-bs-target","#navbarNav","routerLink","/chat","routerLinkActive","active",1,"nav-link"],["data-bs-toggle","collapse","data-bs-target","#navbarNav","routerLink","/gantt","routerLinkActive","active",1,"nav-link"],["data-bs-toggle","collapse","data-bs-target","#navbarNav","routerLink","/frappe","routerLinkActive","active",1,"nav-link"],[1,"btn","btn-primary","btn-sm","me-2",3,"click"],["class","card mostrar-card-z mx-auto mt-3","style","max-width: 22rem; position: fixed; left: 0; right: 0; top: 80px; z-index: 9999;",4,"ngIf"],["data-bs-toggle","collapse","data-bs-target","#navbarNav","routerLink","/admin","routerLinkActive","active",1,"nav-link"],[1,"card","mostrar-card-z","mx-auto","mt-3",2,"max-width","22rem","position","fixed","left","0","right","0","top","80px","z-index","9999"],[1,"card-body","text-center"],[1,"card-title"],[1,"btn","btn-secondary","btn-sm","mt-2",3,"click"]],template:function(t,i){t&1&&(A(0,"header",0)(1,"div",1)(2,"a",2),O(3),N(),A(4,"button",3),Fe(5,"span",4),N(),A(6,"div",5)(7,"ul",6)(8,"li",7)(9,"a",8)(10,"span",9),O(11,"Caract."),N()()(),A(12,"li",7)(13,"a",10)(14,"span",9),O(15,"Testimonios"),N()()(),A(16,"li",7)(17,"a",11)(18,"span",9),O(19,"Precios"),N()()(),A(20,"li",7)(21,"a",12)(22,"span",9),O(23,"Contacto"),N()()(),ke(24,uV,4,0,"li",13),Al(25,"async"),A(26,"li",7)(27,"a",14)(28,"span",9),O(29,"Mapeo"),N()()(),A(30,"li",7)(31,"a",15)(32,"span",9),O(33,"LLM"),N()()(),A(34,"li",7)(35,"a",16)(36,"span",9),O(37,"LLM MCP"),N()()(),A(38,"li",7)(39,"a",17)(40,"span",9),O(41,"LLM7.io"),N()()(),A(42,"li",7)(43,"a",18)(44,"span",9),O(45,"Gantt"),N()()(),A(46,"li",7)(47,"a",19)(48,"span",9),O(49,"Frappe"),N()()()(),A(50,"button",20),ae("click",function(){return i.mostrarCard=!0}),O(51,"Comenzar ahora"),N(),Fe(52,"app-user-menu"),N()()(),ke(53,hV,6,0,"div",21)),t&2&&(W(3),je(i.appName),W(21),X("ngIf",Nl(25,3,i.supabaseService.user$)),W(29),X("ngIf",i.mostrarCard))},dependencies:[Mi,Zv,Wl,rt,ft,Ol,Cg],styles:["header[_ngcontent-%COMP%]{width:100%;height:7vh;background-color:#333;color:#fff;display:flex;align-items:center;justify-content:space-between;padding:0 2vw;box-sizing:border-box}@media (max-width: 767.98px){.navbar-collapse.show[_ngcontent-%COMP%]{margin-top:5px}.navbar-collapse.show[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]{max-width:95%;margin:0 auto}.navbar-collapse.show[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{display:block;margin:0 auto 2px;min-width:600px;float:none;clear:both}.navbar-collapse.show[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   .menu-item-bg[_ngcontent-%COMP%]{background-color:#ffffffe6;padding:1px 10px;display:inline-block;min-width:150px;margin:0 auto}}"]})};var Tg=class e{currentYear=new Date().getFullYear();appName=Ft.appName;static \u0275fac=function(t){return new(t||e)};static \u0275cmp=we({type:e,selectors:[["app-footer"]],decls:40,vars:3,consts:[[1,"sticky"],[1,"container"],[1,"row","justify-content-md-between"],[1,"col-3"],[1,"text-muted"],[1,"list-unstyled"],["routerLink","/features","routerLinkActive","active",1,"nav-link","link-primary"],["routerLink","/testimonials","routerLinkActive","active",1,"nav-link","link-primary"],["routerLink","/pricing","routerLinkActive","active",1,"nav-link","link-primary"],["routerLink","/privacidad","routerLinkActive","active",1,"nav-link","link-primary"],["routerLink","/terminos","routerLinkActive","active",1,"nav-link","link-primary"],[1,"d-flex"],["href","#",1,"me-3","text-muted"],[1,"fab","fa-facebook-f"],[1,"fab","fa-twitter"],[1,"fab","fa-instagram"],[1,"fab","fa-linkedin-in"],[1,"row","text-center"],[1,"text-muted",2,"font-size","14px"]],template:function(t,i){t&1&&(A(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"p"),O(5),N(),A(6,"p",4),O(7,"Impulsando el \xE9xito en el sector inmobiliario con tecnolog\xEDa y experiencia."),N()(),A(8,"div",3)(9,"ul",5)(10,"li")(11,"a",6),O(12,"Caracter\xEDsticas"),N()(),A(13,"li")(14,"a",7),O(15,"Testimonios"),N()(),A(16,"li")(17,"a",8),O(18,"Precios"),N()()()(),A(19,"div",3)(20,"ul",5)(21,"li")(22,"a",9),O(23,"Pol\xEDtica de privacidad"),N()(),A(24,"li")(25,"a",10),O(26,"T\xE9rminos de servicio"),N()()()(),A(27,"div",3)(28,"div",11)(29,"a",12),Fe(30,"i",13),N(),A(31,"a",12),Fe(32,"i",14),N(),A(33,"a",12),Fe(34,"i",15),N(),A(35,"a",12),Fe(36,"i",16),N()()()()()(),A(37,"div",17)(38,"small",18),O(39),N()()),t&2&&(W(5),je(i.appName),W(34),sr("\xA9 ",i.currentYear," ",i.appName,". Todos los derechos reservados."))},dependencies:[Mi],styles:[".sticky[_ngcontent-%COMP%]{position:relative;padding-top:.5vh;font-size:smaller;height:85px}@media (min-width: 1900px){.sticky[_ngcontent-%COMP%]{position:relative;font-size:smaller}}@media (min-width: 1440px) and (max-width: 1440px){.sticky[_ngcontent-%COMP%]{position:relative;font-size:smaller}}@media (min-width: 1366px) and (max-width: 1366px){.sticky[_ngcontent-%COMP%]{position:relative;font-size:smaller}}@media (max-width: 767px){.sticky[_ngcontent-%COMP%]{position:relative;font-size:smaller}}"]})};function fV(e,n){e&1&&(A(0,"div",1),Fe(1,"app-footer"),N())}var Dg=class e{constructor(n){this.router=n;this.router.events.subscribe(t=>{t instanceof kn&&(this.showFooter=!t.urlAfterRedirects.startsWith("/frappe"))})}title="martilleros";showFooter=!0;static \u0275fac=function(t){return new(t||e)(ee(Ii))};static \u0275cmp=we({type:e,selectors:[["app-root"]],decls:4,vars:1,consts:[["style","max-height: 14vh; overflow: hidden;",4,"ngIf"],[2,"max-height","14vh","overflow","hidden"]],template:function(t,i){t&1&&(Fe(0,"app-header"),A(1,"main"),Fe(2,"router-outlet"),N(),ke(3,fV,2,0,"div",0)),t&2&&(W(3),X("ngIf",i.showFooter))},dependencies:[cc,Sg,Tg,rt,ft],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;min-height:100vh}app-header[_ngcontent-%COMP%]{flex:0 0 auto}main[_ngcontent-%COMP%]{flex:1 0 auto;overflow-y:auto}app-footer[_ngcontent-%COMP%]{flex:0 0 auto}"]})};yv(Dg,YD).catch(e=>console.error(e));
